/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
import{h as t,i as r,g as s}from"./chunks/colorUtils.js";import{c as i}from"./chunks/mathUtils.js";import{i as n}from"./chunks/maybe.js";import{n as a}from"./chunks/ensureType.js";import"./chunks/vec3.js";import"./chunks/common.js";import"./chunks/object.js";import"./core/lang.js";import"./chunks/Logger.js";import"./config.js";import"./chunks/string.js";function o(t){return i(a(t),0,255)}function h(t,r,s){return t=Number(t),isNaN(t)?s:t<r?r:t>s?s:t}class e{constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}static blendColors(t,r,s,i=new e){return i.r=Math.round(t.r+(r.r-t.r)*s),i.g=Math.round(t.g+(r.g-t.g)*s),i.b=Math.round(t.b+(r.b-t.b)*s),i.a=t.a+(r.a-t.a)*s,i._sanitize()}static fromRgb(r,s){const i=r.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(i){const r=i[2].split(/\s*,\s*/),n=i[1];if("rgb"===n&&3===r.length||"rgba"===n&&4===r.length){const t=r[0];if("%"===t.charAt(t.length-1)){const t=r.map((t=>2.56*parseFloat(t)));return 4===r.length&&(t[3]=parseFloat(r[3])),e.fromArray(t,s)}return e.fromArray(r.map((t=>parseFloat(t))),s)}if("hsl"===n&&3===r.length||"hsla"===n&&4===r.length)return e.fromArray(t(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100,parseFloat(r[3])),s)}return null}static fromHex(t,r=new e){if(4!==t.length&&7!==t.length||"#"!==t[0])return null;const s=4===t.length?4:8,i=(1<<s)-1;let n=Number("0x"+t.substr(1));return isNaN(n)?null:(["b","g","r"].forEach((t=>{const a=n&i;n>>=s,r[t]=4===s?17*a:a})),r.a=1,r)}static fromArray(t,r=new e){return r._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(r.a)&&(r.a=1),r._sanitize()}static fromString(t,i){const n=r(t)?s(t):null;return n&&e.fromArray(n,i)||e.fromRgb(t,i)||e.fromHex(t,i)}static fromJSON(t){return t&&new e([t[0],t[1],t[2],t[3]/255])}static toUnitRGB(t){return n(t)?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return n(t)?[t.r/255,t.g/255,t.b/255,null!=t.a?t.a:1]:null}get isBright(){return.299*this.r+.587*this.g+.114*this.b>=127}setColor(t){return"string"==typeof t?e.fromString(t,this):Array.isArray(t)?e.fromArray(t,this):(this._set(t.r??0,t.g??0,t.b??0,t.a??1),t instanceof e||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(){const t=this.r.toString(16),r=this.g.toString(16),s=this.b.toString(16);return`#${t.length<2?"0"+t:t}${r.length<2?"0"+r:r}${s.length<2?"0"+s:s}`}toCss(t=!1){const r=this.r+", "+this.g+", "+this.b;return t?`rgba(${r}, ${this.a})`:`rgb(${r})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=e.AlphaMode.ALWAYS){const r=o(this.r),s=o(this.g),i=o(this.b);return t===e.AlphaMode.ALWAYS||1!==this.a?[r,s,i,o(255*this.a)]:[r,s,i]}clone(){return new e(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(t){return n(t)&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a}_sanitize(){return this.r=Math.round(h(this.r,0,255)),this.g=Math.round(h(this.g,0,255)),this.b=Math.round(h(this.b,0,255)),this.a=h(this.a,0,1),this}_set(t,r,s,i){this.r=t,this.g=r,this.b=s,this.a=i}}e.prototype.declaredClass="esri.Color",function(t){var r;(r=t.AlphaMode||(t.AlphaMode={}))[r.ALWAYS=0]="ALWAYS",r[r.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(e||(e={}));const u=e;export{u as default};
