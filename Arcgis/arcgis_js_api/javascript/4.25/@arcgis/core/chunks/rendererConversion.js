/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
import"./object.js";import r from"../core/Error.js";import{a as e,i as n}from"./maybe.js";import{t as s,d as t}from"./symbolConversion.js";function o(r){return e(r)||"simple"===r.type||"unique-value"===r.type||"class-breaks"===r.type||"dictionary"===r.type||"heatmap"===r.type}function u(u,l){if(e(u))return null;if(!o(u))return new r("renderer-conversion-3d:unsupported-renderer",`Unsupported renderer of type '${u.type||u.declaredClass}'`,{renderer:u});switch(u.type){case"simple":return function(r){return a(r,s(r.symbol).error)}(u);case"unique-value":return function(r,e){const o={...t,...e},u=r.uniqueValueInfos?.map((r=>s(r.symbol,o).error)).filter(n),l=s(r.defaultSymbol,o);return l.error&&u?.unshift(l.error),a(r,u)}(u,l);case"class-breaks":return function(r){const e=r.classBreakInfos.map((r=>s(r.symbol).error)).filter(n),t=s(r.defaultSymbol);return t.error&&e.unshift(t.error),a(r,e)}(u);case"dictionary":case"heatmap":return null}return null}function a(e,n){if(!n)return null;let s;if(s=Array.isArray(n)?n:[n],s.length>0){const n=s.map((r=>r.details.symbol.type||r.details.symbol.declaredClass)).filter((r=>!!r));n.sort();const t=[];return n.forEach(((r,e)=>{0!==e&&r===n[e-1]||t.push(r)})),new r("renderer-conversion-3d:unsupported-symbols",`Renderer contains symbols (${t.join(", ")}) which are not supported in 3D`,{renderer:e,symbolErrors:s})}return null}export{o as i,u as v};
