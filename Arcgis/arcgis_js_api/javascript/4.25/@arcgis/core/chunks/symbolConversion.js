/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
import{isSymbol3D as o}from"../symbols.js";import e from"../core/Error.js";import m from"../symbols/WebStyleSymbol.js";import r from"../symbols/PointSymbol3D.js";import s from"../symbols/SimpleLineSymbol.js";import l from"../symbols/LineSymbol3D.js";import i from"../symbols/SimpleMarkerSymbol.js";import t from"../symbols/PictureMarkerSymbol.js";import n from"../symbols/SimpleFillSymbol.js";import y from"../symbols/MeshSymbol3D.js";import b from"../symbols/PolygonSymbol3D.js";import f from"../symbols/TextSymbol.js";import p from"../symbols/LabelSymbol3D.js";const a={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function S(S,c=a){if(!S)return{symbol:null};const{retainId:u=a.retainId,ignoreDrivers:d=a.ignoreDrivers,hasLabelingContext:j=a.hasLabelingContext,retainCIM:g=a.retainCIM}=c;let D=null;if(o(S)||S instanceof m)D=S.clone();else if("cim"===S.type){const o=S.data?.symbol?.type;if("CIMPointSymbol"!==o)return{error:new e("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${o||"unknown"}' is unsupported in 3D`,{symbol:S})};D=g?S.clone():r.fromCIMSymbol(S)}else if(S instanceof s)D=l.fromSimpleLineSymbol(S);else if(S instanceof i)D=r.fromSimpleMarkerSymbol(S);else if(S instanceof t)D=r.fromPictureMarkerSymbol(S);else if(S instanceof n)D=c.geometryType&&"mesh"===c.geometryType?y.fromSimpleFillSymbol(S):b.fromSimpleFillSymbol(S);else{if(!(S instanceof f))return{error:new e("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${S.type||S.declaredClass}' is unsupported in 3D`,{symbol:S})};D=j?p.fromTextSymbol(S):r.fromTextSymbol(S)}if(u&&D&&"cim"!==D.type&&(D.id=S.id),d&&o(D))for(let o=0;o<D.symbolLayers.length;++o)D.symbolLayers.getItemAt(o)._ignoreDrivers=!0;return{symbol:D}}export{a as d,S as t};
