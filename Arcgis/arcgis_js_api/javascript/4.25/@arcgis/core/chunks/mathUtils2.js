/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
import{g as t}from"./mathUtils.js";import{n,m as s,h as a,d as r,s as o,l as c,g as i,a as u,z as f,b as h}from"./vec3.js";function e(t){const n=t[0]*t[0]+t[4]*t[4]+t[8]*t[8],s=t[1]*t[1]+t[5]*t[5]+t[9]*t[9],a=t[2]*t[2]+t[6]*t[6]+t[10]*t[10];return Math.sqrt(Math.max(n,s,a))}function M(t,n){const s=Math.sqrt(n[0]*n[0]+n[4]*n[4]+n[8]*n[8]),a=Math.sqrt(n[1]*n[1]+n[5]*n[5]+n[9]*n[9]),r=Math.sqrt(n[2]*n[2]+n[6]*n[6]+n[10]*n[10]);return o(t,s,a,r),t}function m(t,a,r){r=r||t;const c=s(t,a);o(r,t[0]-c*a[0],t[1]-c*a[1],t[2]-c*a[2]),n(r,r)}function b(t,s,r){Math.abs(t[0])>Math.abs(t[1])?o(s,0,1,0):o(s,1,0,0),a(r,t,s),n(s,s),a(s,r,t),n(r,r)}function g(t,n){return(t%n+n)%n}function l(t,n,s,a,r,o){const c=t+(n-t)*r;return c+(s+(a-s)*r-c)*o}function p(t,n,a,o=r()){const h=c(t),e=c(n),M=s(t,n)/(h*e);if(M<.9999999999999999){const s=Math.acos(M),r=((1-a)*h+a*e)/Math.sin(s),c=r/h*Math.sin((1-a)*s),f=r/e*Math.sin(a*s);return i(k,t,c),i(w,n,f),u(o,k,w)}return f(o,t,n,a)}function q(t,a,o,e=r(),M=r()){const m=c(t),b=c(a),g=s(t,a)/(m*b);if(g<.9999999999999999){const n=Math.acos(g),s=Math.sin(n),r=Math.sin(o*n),c=Math.sin((1-o)*n),f=(1-o)*m+o*b;{const n=f/s,o=n/b*r;i(k,t,n/m*c),i(w,a,o),u(e,k,w)}{const h=1/m*(-Math.cos((1-o)*n)*n*f+c*(-m+b));i(k,t,h);const e=1/b*(Math.cos(o*n)*n*f+r*(-m+b));i(w,a,e),u(M,k,w),i(M,M,1/s)}return M}return f(e,t,a,o),h(M,a,t),n(M,M),M}function d(r,o,c){r=n(k,r),o=n(w,o);const i=t(s(r,o));if(c){const t=a(U,r,o);if(s(t,c)<0)return-i}return i}function j(t){const n=t.length;return s=>{if(s<=t[0][0])return t[0][1];if(s>=t[n-1][0])return t[n-1][1];let a=1;for(;s>t[a][0];)a++;const r=t[a-1][0],o=t[a][0],c=(o-s)/(o-r);return c*t[a-1][1]+(1-c)*t[a][1]}}function x(t,r,o,c){h(v,r,t),h(z,o,t),a(c,v,z),n(c,c),c[3]=-s(t,c)}const v=r(),z=r(),U=r(),k=r(),w=r();export{p as a,e as b,j as c,d,l as e,M as f,g,m,x as p,q as s,b as t};
