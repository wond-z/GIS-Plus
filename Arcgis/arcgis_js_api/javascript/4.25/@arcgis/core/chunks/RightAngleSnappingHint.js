/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
import"./object.js";import"./Logger.js";import{i as t,a as e}from"./maybe.js";import{G as n,d as s}from"./vec3.js";import{f as r,a as i,h as o}from"./elevationInfoUtils.js";var a;function c(t,e){const n=t.length===e.length&&t[0]===e[0]&&t[1]===e[1];switch(t.length){case 2:return n;case 3:return n&&t[2]===e[2];case 4:return n&&t[2]===e[2]&&t[3]===e[3]}return!1}function u(t,e){const n=t.x-e.x,s=t.y-e.y;return n*n+s*s}function h(t,e){return Math.sqrt(u(t,e))}function f(t,e,s){const r=s.toXYZ(t,l);e.sort(((t,e)=>{const i=s.toXYZ(t.targetPoint,E),o=n(i,r),a=s.toXYZ(e.targetPoint,E);return o-n(a,r)}))}!function(t){t[t.FEATURE=1]="FEATURE",t[t.SELF=2]="SELF",t[t.ALL=3]="ALL"}(a||(a={}));const l=s(),E=s();var p;function d(e,n){return{point:e.coordinateHelper.vectorToPoint(e.point).toJSON(),distance:e.distance,types:e.types,query:t(n)?n.toJSON():{where:"1=1"}}}function x(t,n,s,o){const{coordinateHelper:a,elevationInfo:c}=s;if(!a.hasZ()||e(n)||"3d"!==n.type||e(t)||r(c,o))return t;const u=i(n,t,a.spatialReference,c,o),h=a.clone(t);return h[2]=u,h}function L(t,e,n,s=o){return{left:x(t.leftVertex.pos,e,n,s),right:x(t.rightVertex.pos,e,n,s)}}function R(t){return t.createQuery()}!function(t){t[t.TARGET=0]="TARGET",t[t.REFERENCE=1]="REFERENCE",t[t.REFERENCE_EXTENSION=2]="REFERENCE_EXTENSION"}(p||(p={}));class g{constructor(t,e){this.elevationInfo=t,this.domain=e}}class S extends g{constructor(t,e,n=a.ALL){super(e,n),this.intersectionPoint=t}equals(t){return t instanceof S&&c(this.intersectionPoint,t.intersectionPoint)}}class m extends g{constructor(t,e,n,s,r=a.ALL,i=!0,o=!0){super(s,r),this.type=t,this.lineStart=e,this.lineEnd=n,this.fadeLeft=i,this.fadeRight=o}equals(t){return t instanceof m&&this.type===t.type&&c(this.lineStart,t.lineStart)&&c(this.lineEnd,t.lineEnd)&&this.fadeLeft===t.fadeLeft&&this.fadeRight===t.fadeRight}}class y extends g{constructor(t,e,n,s=a.ALL){super(n,s),this.lineStart=t,this.lineEnd=e}equals(t){return t instanceof y&&c(this.lineStart,t.lineStart)&&c(this.lineEnd,t.lineEnd)}}class V extends g{constructor(t,e,n,s,r=a.ALL){super(s,r),this.previousVertex=t,this.centerVertex=e,this.nextVertex=n}equals(t){return t instanceof V&&c(this.previousVertex,t.previousVertex)&&c(this.centerVertex,t.centerVertex)&&c(this.nextVertex,t.nextVertex)}}export{S as I,m as L,y as P,V as R,g as S,a,p as b,x as c,h as d,u as e,L as f,d as g,R as m,c as o,f as s};
