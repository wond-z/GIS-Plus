/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
import{a as e}from"./maybe.js";import{O as r}from"../core/Accessor.js";function n(e,r,n){const i=r.flatten((({sublayers:e})=>e)).length;return i!==e.length||!!e.some((e=>e.originIdOf("minScale")>n||e.originIdOf("maxScale")>n||e.originIdOf("renderer")>n||e.originIdOf("labelingInfo")>n||e.originIdOf("opacity")>n||e.originIdOf("labelsVisible")>n||e.originIdOf("source")>n))||!o(e,r)}function i(n,i,t){return!!n.some((n=>{const i=n.source;return!(!i||"map-layer"===i.type&&i.mapLayerId===n.id&&(e(i.gdbVersion)||i.gdbVersion===t))||n.originIdOf("renderer")>r.SERVICE||n.originIdOf("labelingInfo")>r.SERVICE||n.originIdOf("opacity")>r.SERVICE||n.originIdOf("labelsVisible")>r.SERVICE}))||!o(n,i)}function o(r,n){if(!r||!r.length||e(n))return!0;const i=n.slice().reverse().flatten((({sublayers:e})=>e&&e.toArray().reverse())).map((e=>e.id)).toArray();if(r.length>i.length)return!1;let o=0;const t=i.length;for(const{id:e}of r){for(;o<t&&i[o]!==e;)o++;if(o>=t)return!1}return!0}function t(e){return!!e&&e.some((e=>null!=e.minScale||e.layerDefinition&&null!=e.layerDefinition.minScale))}export{i as a,t as i,n as s};
