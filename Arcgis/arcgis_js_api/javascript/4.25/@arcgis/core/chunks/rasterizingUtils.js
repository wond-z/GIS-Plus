/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
import{p as o}from"./floatRGBA.js";import{j as t}from"./mathUtils.js";function a(o,a,r){const e=t(Math.ceil(r)),i=(o=>"vertical"===o||"horizontal"===o||"cross"===o||"esriSFSCross"===o||"esriSFSVertical"===o||"esriSFSHorizontal"===o)(a)?8*e:16*e,s=2*e;o.width=i,o.height=i;const n=o.getContext("2d");n.strokeStyle="#FFFFFF",n.lineWidth=e,n.beginPath(),"vertical"!==a&&"cross"!==a&&"esriSFSCross"!==a&&"esriSFSVertical"!==a||(n.moveTo(i/2,-s),n.lineTo(i/2,i+s)),"horizontal"!==a&&"cross"!==a&&"esriSFSCross"!==a&&"esriSFSHorizontal"!==a||(n.moveTo(-s,i/2),n.lineTo(i+s,i/2)),"forward-diagonal"!==a&&"diagonal-cross"!==a&&"esriSFSDiagonalCross"!==a&&"esriSFSForwardDiagonal"!==a||(n.moveTo(-s,-s),n.lineTo(i+s,i+s),n.moveTo(i-s,-s),n.lineTo(i+s,s),n.moveTo(-s,i-s),n.lineTo(s,i+s)),"backward-diagonal"!==a&&"diagonal-cross"!==a&&"esriSFSBackwardDiagonal"!==a&&"esriSFSDiagonalCross"!==a||(n.moveTo(i+s,-s),n.lineTo(-s,i+s),n.moveTo(s,-s),n.lineTo(-s,s),n.moveTo(i+s,i-s),n.lineTo(i-s,i+s)),n.stroke();const l=n.getImageData(0,0,o.width,o.height),h=new Uint8Array(l.data);let c;for(let o=0;o<h.length;o+=4)c=h[o+3]/255,h[o]=h[o]*c,h[o+1]=h[o+1]*c,h[o+2]=h[o+2]*c;return[h,o.width,o.height]}function r(t,a){const r="Butt"===a,e="Square"===a,i=!r&&!e;t.length%2==1&&(t=[...t,...t]);const s=15.5;let n=0;for(const o of t)n+=o;const l=Math.round(n*s),h=new Float32Array(31*l),c=7.75;let m=0,S=0,F=.5,g=!0;for(const o of t){for(m=S,S+=o*s;F<=S;){let o=.5;for(;o<31;){const t=(o-.5)*l+F-.5,a=i?(o-s)*(o-s):Math.abs(o-s);h[t]=g?r?Math.max(Math.max(m+c-F,a),Math.max(F-S+c,a)):a:i?Math.min((F-m)*(F-m)+a,(F-S)*(F-S)+a):e?Math.min(Math.max(F-m,a),Math.max(S-F,a)):Math.min(Math.max(F-m+c,a),Math.max(S+c-F,a)),o++}F++}g=!g}const T=h.length,d=new Uint8Array(4*T);for(let t=0;t<T;++t){const a=(i?Math.sqrt(h[t]):h[t])/s;o(a,d,4*t)}return[d,l,31]}export{r as a,a as r};
