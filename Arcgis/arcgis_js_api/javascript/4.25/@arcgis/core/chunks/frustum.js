/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
import{O as T,c as _,b as O,f as R,d as n,a as r}from"./ray.js";import{m as t,c as A}from"./mat4.js";import{a as E,g as F,l as a,d as o,s}from"./vec3.js";import{t as c}from"./mathUtils.js";import{f as M}from"./vec4f64.js";import{c as N,a as f,d as e,e as u,s as i,g as B}from"./plane.js";function G(T){return T?{ray:_(T.ray),c0:T.c0,c1:T.c1}:{ray:_(),c0:0,c1:Number.MAX_VALUE}}function H(T,_=G()){return O(T,_.ray),_.c0=0,_.c1=Number.MAX_VALUE,_}function I(T,_){return P(T,T.c0,_)}function L(T,_){return P(T,T.c1,_)}function P(T,_,O){return E(O,T.ray.origin,F(O,T.ray.direction,_))}function m(T){return T?[N(T[0]),N(T[1]),N(T[2]),N(T[3]),N(T[4]),N(T[5])]:[N(),N(),N(),N(),N(),N()]}function U(){return[o(),o(),o(),o(),o(),o(),o(),o()]}function l(T,_){for(let O=0;O<k.NUM;O++)f(T[O],_[O])}function g(T,_,O,R=C){const E=t(n.get(),_,T);A(E,E);for(let T=0;T<x.NUM;++T){const _=c(r.get(),q[T],E);s(R[T],_[0]/_[3],_[1]/_[3],_[2]/_[3])}p(O,R)}function p(T,_){e(_[V.FAR_BOTTOM_LEFT],_[V.NEAR_BOTTOM_LEFT],_[V.NEAR_TOP_LEFT],T[w.LEFT]),e(_[V.NEAR_BOTTOM_RIGHT],_[V.FAR_BOTTOM_RIGHT],_[V.FAR_TOP_RIGHT],T[w.RIGHT]),e(_[V.FAR_BOTTOM_LEFT],_[V.FAR_BOTTOM_RIGHT],_[V.NEAR_BOTTOM_RIGHT],T[w.BOTTOM]),e(_[V.NEAR_TOP_LEFT],_[V.NEAR_TOP_RIGHT],_[V.FAR_TOP_RIGHT],T[w.TOP]),e(_[V.NEAR_BOTTOM_LEFT],_[V.NEAR_BOTTOM_RIGHT],_[V.NEAR_TOP_RIGHT],T[w.NEAR]),e(_[V.FAR_BOTTOM_RIGHT],_[V.FAR_BOTTOM_LEFT],_[V.FAR_TOP_LEFT],T[w.FAR])}function y(T,_){for(let O=0;O<k.NUM;O++){const R=T[O];if(R[0]*_[0]+R[1]*_[1]+R[2]*_[2]+R[3]>=_[3])return!1}return!0}function j(T,_){return h(T,H(_,z.get()))}function b(T,_){for(let O=0;O<k.NUM;O++){const R=T[O];if(!u(R,_))return!1}return!0}function d(T,_,O){return h(T,function(T,_,O=G()){const n=a(T.vector);return R(T.origin,_,O.ray),O.c0=0,O.c1=n,O}(_,O,z.get()))}function v(T,_){for(let O=0;O<k.NUM;O++)if(i(T[O],_)>0)return!1;return!0}function h(T,_){for(let O=0;O<k.NUM;O++)if(!B(T[O],_))return!1;return!0}var w,V;new T((()=>G())),function(T){T[T.LEFT=0]="LEFT",T[T.RIGHT=1]="RIGHT",T[T.BOTTOM=2]="BOTTOM",T[T.TOP=3]="TOP",T[T.NEAR=4]="NEAR",T[T.FAR=5]="FAR"}(w||(w={})),function(T){T[T.NEAR_BOTTOM_LEFT=0]="NEAR_BOTTOM_LEFT",T[T.NEAR_BOTTOM_RIGHT=1]="NEAR_BOTTOM_RIGHT",T[T.NEAR_TOP_RIGHT=2]="NEAR_TOP_RIGHT",T[T.NEAR_TOP_LEFT=3]="NEAR_TOP_LEFT",T[T.FAR_BOTTOM_LEFT=4]="FAR_BOTTOM_LEFT",T[T.FAR_BOTTOM_RIGHT=5]="FAR_BOTTOM_RIGHT",T[T.FAR_TOP_RIGHT=6]="FAR_TOP_RIGHT",T[T.FAR_TOP_LEFT=7]="FAR_TOP_LEFT"}(V||(V={}));const X={bottom:[V.FAR_BOTTOM_RIGHT,V.NEAR_BOTTOM_RIGHT,V.NEAR_BOTTOM_LEFT,V.FAR_BOTTOM_LEFT],near:[V.NEAR_BOTTOM_LEFT,V.NEAR_BOTTOM_RIGHT,V.NEAR_TOP_RIGHT,V.NEAR_TOP_LEFT],far:[V.FAR_BOTTOM_RIGHT,V.FAR_BOTTOM_LEFT,V.FAR_TOP_LEFT,V.FAR_TOP_RIGHT],right:[V.NEAR_BOTTOM_RIGHT,V.FAR_BOTTOM_RIGHT,V.FAR_TOP_RIGHT,V.NEAR_TOP_RIGHT],left:[V.FAR_BOTTOM_LEFT,V.NEAR_BOTTOM_LEFT,V.NEAR_TOP_LEFT,V.FAR_TOP_LEFT],top:[V.FAR_TOP_LEFT,V.NEAR_TOP_LEFT,V.NEAR_TOP_RIGHT,V.FAR_TOP_RIGHT]};var k,x;!function(T){T[T.NUM=6]="NUM"}(k||(k={})),function(T){T[T.NUM=8]="NUM"}(x||(x={}));const q=[M(-1,-1,-1,1),M(1,-1,-1,1),M(1,1,-1,1),M(-1,1,-1,1),M(-1,-1,1,1),M(1,-1,1,1),M(1,1,1,1),M(-1,1,1,1)],z=new T(G),C=U();export{k as N,w as P,b as a,L as b,G as c,m as d,l as e,H as f,I as g,g as h,y as i,V as j,U as k,p as l,j as m,d as n,v as o,X as p};
