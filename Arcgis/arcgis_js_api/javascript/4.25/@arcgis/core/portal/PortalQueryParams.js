/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
import{_ as t}from"../chunks/tslib.es6.js";import r from"../core/Accessor.js";import{J as s}from"../chunks/jsonMap.js";import{clone as e}from"../core/lang.js";import{i as o}from"../chunks/maybe.js";import{property as i}from"../core/accessorSupport/decorators/property.js";import"../chunks/ensureType.js";import{subclass as n}from"../core/accessorSupport/decorators/subclass.js";import m from"../geometry/Extent.js";import p from"../geometry/SpatialReference.js";import{project as a}from"../geometry/support/webMercatorUtils.js";import"../core/Handles.js";import"../chunks/get.js";import"../chunks/utils.js";import"../chunks/handleUtils.js";import"../chunks/metadata.js";import"../chunks/object.js";import"../chunks/Logger.js";import"../config.js";import"../chunks/string.js";import"../chunks/ArrayPool.js";import"../chunks/tracking.js";import"../chunks/watch.js";import"../core/scheduling.js";import"../chunks/nextTick.js";import"../core/promiseUtils.js";import"../core/Error.js";import"../geometry/Geometry.js";import"../core/JSONSupport.js";import"../chunks/reader.js";import"../chunks/writer.js";import"../geometry/Point.js";import"../core/accessorSupport/decorators/cast.js";import"../chunks/Ellipsoid.js";var c;const u=new s({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let l=c=class extends r{constructor(t){super(t),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(t){"asc"!==t&&"desc"!==t||this._set("sortOrder",t)}clone(){return new c({categories:this.categories?e(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(t,r){let s,e;if(this.categories&&(s=this.categories.map((t=>Array.isArray(t)?JSON.stringify(t):t))),this.extent){const t=a(this.extent,p.WGS84);o(t)&&(e=`${t.xmin},${t.ymin},${t.xmax},${t.ymax}`)}let i=this.query;!this.disableExtraQuery&&t.extraQuery&&(i="("+i+")"+t.extraQuery);const n={categories:s,bbox:e,q:i,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(n.sortField=this.sortField.split(",").map((t=>u.toJSON(t.trim()))).join(","),n.sortOrder=this.sortOrder),{query:{...r,...n}}}};t([i()],l.prototype,"categories",void 0),t([i()],l.prototype,"disableExtraQuery",void 0),t([i({type:m})],l.prototype,"extent",void 0),t([i()],l.prototype,"filter",void 0),t([i()],l.prototype,"num",void 0),t([i()],l.prototype,"query",void 0),t([i()],l.prototype,"sortField",void 0),t([i()],l.prototype,"sortOrder",null),t([i()],l.prototype,"start",void 0),l=c=t([n("esri.portal.PortalQueryParams")],l);const h=l;export{h as default};
