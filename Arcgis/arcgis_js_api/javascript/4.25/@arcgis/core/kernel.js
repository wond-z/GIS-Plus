/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
import{h as e}from"./chunks/object.js";import{getInterceptor as t,addQueryParameter as r}from"./core/urlUtils.js";import"./core/lang.js";import"./chunks/maybe.js";import"./config.js";import"./core/Error.js";import"./chunks/Logger.js";import"./chunks/string.js";const s="20221118",n="0e42cfb107b6254427b6d5409055401113afd21d",a="4.25",o={async request(e,r){const{default:s}=await import("./request.js").then((e=>e.r)),n=e.options,a=n.responseType;n.signal=r?.signal,n.responseType="native"===a||"native-request-init"===a?"native-request-init":a&&["blob","json","text"].includes(a)&&t(e.url)?.after?a:"array-buffer";const o=await s(e.url,n),i={data:o.data,ssl:o.ssl};switch(o.requestOptions?.responseType){case"native-request-init":return delete i.data.signal,i;case"blob":i.data=await i.data.arrayBuffer();break;case"json":i.data=(new TextEncoder).encode(JSON.stringify(i.data)).buffer;break;case"text":i.data=(new TextEncoder).encode(i.data).buffer}return{result:i,transferList:[i.data]}}};let i;function c(e){i=e}function u(e){const t=i&&i.findCredential(e);return t&&t.token?r(e,"token",t.token):e}e("host-webworker")||(console.debug(`Using ArcGIS API for JavaScript 4.25 [Date: 20221118, Revision: ${n.slice(0,8)}]`),console.warn("Only use ES modules from ArcGIS CDN for testing: https://arcg.is/1ii1Gb0"));export{u as addTokenParameter,s as buildDate,i as id,n as revision,c as setId,a as version,o as workerMessages};
