"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[6458],{69586:(e,a,t)=>{t.d(a,{a:()=>l,c:()=>s});var r=t(32101),n=t(49900);function s(e){return{origin:"portal-item",url:(0,r.mN)(e.itemUrl),portal:e.portal||n.Z.getDefault(),portalItem:e,readResourcePaths:[]}}function l(e){return{origin:"portal-item",messages:[],writtenProperties:[],url:e.itemUrl?(0,r.mN)(e.itemUrl):null,portal:e.portal||n.Z.getDefault(),portalItem:e}}},8642:(e,a,t)=>{t.r(a),t.d(a,{a:()=>M,b:()=>b,g:()=>L,l:()=>g,p:()=>h,r:()=>d});var r=t(60991),n=t(41617),s=t(21132),l=t(49900),i=t(56420),o=t(69586),c=t(60111),u=t(71831),y=t(82058);async function d(e){const{data:a}=await(0,y.default)(e,{responseType:"json",query:{f:"json"}});return a}function p(e,a,t){let l=t.layers||[];const o=t.tables||[];if("Feature Collection"===e.portalItem.type&&(l.forEach((e=>{"Table"===e?.layerDefinition?.type&&o.push(e)})),l=l.filter((e=>"Table"!==e?.layerDefinition?.type))),"coverage"in t){const a=function(e){const{coverage:a}=e;if(!a)return null;const t=new URL(a);if(a.toLowerCase().includes("item.html")){const e=t.searchParams.get("id"),a=t.origin;return n.Z.fromPortalItem({portalItem:new i.default({id:e,url:a})})}if((0,s.b)(a))return n.Z.fromArcGISServerUrl({url:a});throw new r.Z("portal:oriented-imagery-layer-coverage","the provided coverage url couldn't be loaded as a layer")}(t);e.add(a)}l.reverse().forEach((r=>{const n=f(e,a(r),t,r);e.add(n)})),o.reverse().forEach((r=>{const n=f(e,a(r),t,r);e.tables.add(n)}))}function f(e,a,t,r){const n=new a({portalItem:e.portalItem.clone(),layerId:r.id});if("subtype-group"!==n.type&&(n.sublayerTitleMode="service-name"),"Feature Collection"===e.portalItem.type){const a={origin:"portal-item",portal:e.portalItem.portal||l.Z.getDefault()};n.read(r,a);const s=t.showLegend;null!=s&&n.read({showLegend:s},a)}return n}function m(e,a){if(!1===e.supportsData)return Promise.resolve(void 0);const t=e.instance;return t.portalItem.fetchData("json",a).catch((()=>null)).then((e=>{if(function(e){return"stream"!==e.type&&"oriented-imagery"!==e.type&&"layerId"in e}(t)){let a,r=!0;if(e&&L(e)>0){if(null==t.layerId){const a=M(e);t.layerId="subtype-group"===t.type?a?.[0]:b(e)}a=function(e,a){const{layerId:t}=a,r=e.layers?.find((e=>e.id===t))||e.tables?.find((e=>e.id===t));return r&&function(e,a){return!("feature"===a.type&&"layerType"in e&&"SubtypeGroupLayer"===e.layerType||"subtype-group"===a.type&&!("layerType"in e))}(r,a)?r:null}(e,t),a&&(1===L(e)&&(r=!1),null!=e.showLegend&&(a.showLegend=e.showLegend))}return r&&"service-name"!==t.sublayerTitleMode&&(t.sublayerTitleMode="item-title-and-service-name"),a}return e}))}async function h(e,a){if(null==e?.layers||null==e?.tables){const t=await d(a);(e=e||{}).layers=e.layers||t?.layers,e.tables=e.tables||t?.tables}return e}function b(e){const a=e.layers;if(a&&a.length)return a[0].id;const t=e.tables;return t&&t.length?t[0].id:null}function L(e){return(e?.layers?.length??0)+(e?.tables?.length??0)}function M(e){const a=[];return e?.layers?.forEach((e=>{"SubtypeGroupLayer"===e.layerType&&a.push(e.id)})),a}const g=Object.freeze(Object.defineProperty({__proto__:null,load:async function(e,a){const t=e.instance.portalItem;if(t&&t.id)return await t.load(a),function(e){const a=e.instance.portalItem;if(!e.supportedTypes.includes(a.type))throw new r.Z("portal:invalid-layer-item-type","Invalid layer item type '${type}', expected '${expectedType}'",{type:a.type,expectedType:e.supportedTypes.join(", ")})}(e),async function(e,a){const t=e.instance,n=t.portalItem,{url:s,title:l}=n,i=(0,o.c)(n);if("group"===t.type)return t.read({title:l},i),function(e,a){let t;const n=e.portalItem.type,s=a.layerModuleTypeMap,l=(0,c.h)(e.portalItem,"Oriented Imagery Layer")??!1;switch(n){case"Feature Service":t=l?s.OrientedImageryLayer:s.FeatureLayer;break;case"Stream Service":t=s.StreamLayer;break;case"Scene Service":t=s.SceneLayer;break;case"Feature Collection":t=s.FeatureLayer;break;default:throw new r.Z("portal:unsupported-item-type-as-group",`The item type '${n}' is not supported as a 'IGroupLayer'`)}let i;return t().then((e=>(i=e,m(a)))).then((async a=>{let t=()=>i;if("Feature Service"===n){if(M(a=await h(a,e.portalItem.url)).length){const e=s.SubtypeGroupLayer,a=await e();t=e=>"SubtypeGroupLayer"===e.layerType?a:i}return p(e,t,a)}return L(a)>0?p(e,t,a):function(e,a){return e.portalItem.url?d(e.portalItem.url).then((t=>{function r(e){return{id:e.id,name:e.name}}t&&p(e,a,{layers:t.layers?.map(r),tables:t.tables?.map(r)})})):Promise.resolve()}(e,t)}))}(t,e);s&&t.read({url:s},i);const y=await m(e,a);return y&&t.read(y,i),t.resourceReferences={portalItem:n,paths:i.readResourcePaths},"subtype-group"!==t.type&&t.read({title:l},i),(0,u.l)(t,i)}(e,a)},preprocessFSItemData:h,getFirstLayerOrTableId:b,getNumLayersAndTables:L,getSubtypeGroupLayerIds:M},Symbol.toStringTag,{value:"Module"}))},67902:(e,a,t)=>{t.d(a,{l:()=>r});const r={BingMapsLayer:async()=>(await Promise.all([t.e(6027),t.e(7963)]).then(t.bind(t,37963))).default,BuildingSceneLayer:async()=>(await Promise.all([t.e(6027),t.e(1623),t.e(3992),t.e(6748),t.e(5959),t.e(5253),t.e(208),t.e(8081),t.e(6985),t.e(9132),t.e(9632),t.e(9506),t.e(2311),t.e(8835),t.e(3439)]).then(t.bind(t,3439))).default,CSVLayer:async()=>(await Promise.all([t.e(6027),t.e(3992),t.e(6748),t.e(5959),t.e(5253),t.e(208),t.e(8081),t.e(6985),t.e(9132),t.e(9632),t.e(9506),t.e(3525)]).then(t.bind(t,44004))).default,DimensionLayer:async()=>(await Promise.all([t.e(1623),t.e(4114),t.e(210)]).then(t.bind(t,90210))).default,ElevationLayer:async()=>(await Promise.all([t.e(9411),t.e(2204)]).then(t.bind(t,72204))).default,FeatureLayer:async()=>(await Promise.all([t.e(6027),t.e(3992),t.e(6748),t.e(5959),t.e(5253),t.e(208),t.e(8081),t.e(6985),t.e(9132),t.e(9632),t.e(9506),t.e(5154)]).then(t.bind(t,9506))).default,GroupLayer:async()=>(await Promise.all([t.e(6027),t.e(294)]).then(t.bind(t,60294))).default,GeoRSSLayer:async()=>(await Promise.all([t.e(6027),t.e(3992),t.e(2197)]).then(t.bind(t,92197))).default,GeoJSONLayer:async()=>(await Promise.all([t.e(6027),t.e(3992),t.e(6748),t.e(5959),t.e(5253),t.e(208),t.e(8081),t.e(6985),t.e(9132),t.e(9039)]).then(t.bind(t,99039))).default,ImageryLayer:async()=>(await Promise.all([t.e(6027),t.e(3992),t.e(6748),t.e(5959),t.e(5253),t.e(8081),t.e(9214),t.e(2425),t.e(7721),t.e(9675)]).then(t.bind(t,59675))).default,ImageryTileLayer:async()=>(await Promise.all([t.e(6027),t.e(1623),t.e(3992),t.e(6748),t.e(5959),t.e(5253),t.e(9411),t.e(2425),t.e(7721),t.e(1962),t.e(2552)]).then(t.bind(t,32552))).default,IntegratedMeshLayer:async()=>(await Promise.all([t.e(1623),t.e(2311),t.e(156)]).then(t.bind(t,60156))).default,KMLLayer:async()=>(await Promise.all([t.e(6027),t.e(3992),t.e(6748),t.e(5959),t.e(5253),t.e(208),t.e(1903)]).then(t.bind(t,21903))).default,LineOfSightLayer:async()=>(await Promise.all([t.e(1623),t.e(4114),t.e(6749)]).then(t.bind(t,16749))).default,MapImageLayer:async()=>(await Promise.all([t.e(6027),t.e(3992),t.e(6748),t.e(5959),t.e(5253),t.e(208),t.e(8081),t.e(6985),t.e(7050),t.e(605)]).then(t.bind(t,60605))).default,MapNotesLayer:async()=>(await Promise.all([t.e(6027),t.e(1623),t.e(3992),t.e(6748),t.e(5959),t.e(5253),t.e(208),t.e(8081),t.e(6985),t.e(9132),t.e(9632),t.e(9506),t.e(7841)]).then(t.bind(t,41135))).default,OGCFeatureLayer:async()=>(await Promise.all([t.e(6027),t.e(3992),t.e(6748),t.e(5959),t.e(5253),t.e(208),t.e(8081),t.e(6985),t.e(9132),t.e(3958)]).then(t.bind(t,63958))).default,OpenStreetMapLayer:async()=>(await Promise.all([t.e(6027),t.e(3799),t.e(6043)]).then(t.bind(t,16043))).default,OrientedImageryLayer:async()=>(await Promise.all([t.e(6027),t.e(3992),t.e(6748),t.e(5959),t.e(5253),t.e(208),t.e(8081),t.e(6985),t.e(9132),t.e(9632),t.e(9506),t.e(7031)]).then(t.bind(t,80733))).default,PointCloudLayer:async()=>(await Promise.all([t.e(6748),t.e(2311),t.e(5032)]).then(t.bind(t,25032))).default,RouteLayer:async()=>(await Promise.all([t.e(6027),t.e(1623),t.e(3992),t.e(6748),t.e(5959),t.e(5253),t.e(208),t.e(8507)]).then(t.bind(t,28507))).default,SceneLayer:async()=>(await Promise.all([t.e(6027),t.e(1623),t.e(3992),t.e(6748),t.e(5959),t.e(5253),t.e(208),t.e(8081),t.e(6985),t.e(9132),t.e(9632),t.e(9506),t.e(2311),t.e(8835),t.e(4580)]).then(t.bind(t,84580))).default,StreamLayer:async()=>(await Promise.all([t.e(6027),t.e(3992),t.e(6748),t.e(5959),t.e(5253),t.e(208),t.e(8081),t.e(6985),t.e(9132),t.e(8324)]).then(t.bind(t,58324))).default,SubtypeGroupLayer:async()=>(await Promise.all([t.e(6027),t.e(3992),t.e(6748),t.e(5959),t.e(5253),t.e(208),t.e(8081),t.e(6985),t.e(9632),t.e(1951)]).then(t.bind(t,51951))).default,TileLayer:async()=>(await Promise.all([t.e(6027),t.e(3992),t.e(6748),t.e(5959),t.e(5253),t.e(208),t.e(8081),t.e(6985),t.e(9411),t.e(7050),t.e(3304)]).then(t.bind(t,90611))).default,UnknownLayer:async()=>(await t.e(3117).then(t.bind(t,63117))).default,UnsupportedLayer:async()=>(await t.e(8243).then(t.bind(t,88243))).default,VectorTileLayer:async()=>(await Promise.all([t.e(6027),t.e(9411),t.e(2348),t.e(6611),t.e(6491)]).then(t.bind(t,46491))).default,VoxelLayer:async()=>(await Promise.all([t.e(2311),t.e(8528)]).then(t.bind(t,18528))).default,WebTileLayer:async()=>(await Promise.all([t.e(6027),t.e(3799)]).then(t.bind(t,3799)).then((e=>e.a))).default,WFSLayer:async()=>(await Promise.all([t.e(6027),t.e(1623),t.e(3992),t.e(6748),t.e(5959),t.e(5253),t.e(208),t.e(8081),t.e(6985),t.e(9132),t.e(4797)]).then(t.bind(t,44797))).default,WMSLayer:async()=>(await Promise.all([t.e(6027),t.e(3992),t.e(6748),t.e(3561)]).then(t.bind(t,73561))).default,WMTSLayer:async()=>(await Promise.all([t.e(6027),t.e(3799),t.e(2790)]).then(t.bind(t,82790))).default}},65775:(e,a,t)=>{t.d(a,{B:()=>f,a:()=>p,b:()=>m,c:()=>i,d:()=>h,e:()=>b,f:()=>d,g:()=>u,i:()=>s,k:()=>c,l:()=>L,m:()=>o,s:()=>n,t:()=>l,z:()=>y});var r=t(29794);function n(e,a,t,r,n,s,l,i,o,c,u,y,d,p,f,m,h){return e[0]=a,e[1]=t,e[2]=r,e[3]=n,e[4]=s,e[5]=l,e[6]=i,e[7]=o,e[8]=c,e[9]=u,e[10]=y,e[11]=d,e[12]=p,e[13]=f,e[14]=m,e[15]=h,e}function s(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function l(e,a){if(e===a){const t=a[1],r=a[2],n=a[3],s=a[6],l=a[7],i=a[11];e[1]=a[4],e[2]=a[8],e[3]=a[12],e[4]=t,e[6]=a[9],e[7]=a[13],e[8]=r,e[9]=s,e[11]=a[14],e[12]=n,e[13]=l,e[14]=i}else e[0]=a[0],e[1]=a[4],e[2]=a[8],e[3]=a[12],e[4]=a[1],e[5]=a[5],e[6]=a[9],e[7]=a[13],e[8]=a[2],e[9]=a[6],e[10]=a[10],e[11]=a[14],e[12]=a[3],e[13]=a[7],e[14]=a[11],e[15]=a[15];return e}function i(e,a){const t=a[0],r=a[1],n=a[2],s=a[3],l=a[4],i=a[5],o=a[6],c=a[7],u=a[8],y=a[9],d=a[10],p=a[11],f=a[12],m=a[13],h=a[14],b=a[15],L=t*i-r*l,M=t*o-n*l,g=t*c-s*l,w=r*o-n*i,S=r*c-s*i,I=n*c-s*o,P=u*m-y*f,v=u*h-d*f,T=u*b-p*f,N=y*h-d*m,G=y*b-p*m,x=d*b-p*h;let F=L*x-M*G+g*N+w*T-S*v+I*P;return F?(F=1/F,e[0]=(i*x-o*G+c*N)*F,e[1]=(n*G-r*x-s*N)*F,e[2]=(m*I-h*S+b*w)*F,e[3]=(d*S-y*I-p*w)*F,e[4]=(o*T-l*x-c*v)*F,e[5]=(t*x-n*T+s*v)*F,e[6]=(h*g-f*I-b*M)*F,e[7]=(u*I-d*g+p*M)*F,e[8]=(l*G-i*T+c*P)*F,e[9]=(r*T-t*G-s*P)*F,e[10]=(f*S-m*g+b*L)*F,e[11]=(y*g-u*S-p*L)*F,e[12]=(i*v-l*N-o*P)*F,e[13]=(t*N-r*v+n*P)*F,e[14]=(m*M-f*w-h*L)*F,e[15]=(u*w-y*M+d*L)*F,e):null}function o(e,a,t){const r=a[0],n=a[1],s=a[2],l=a[3],i=a[4],o=a[5],c=a[6],u=a[7],y=a[8],d=a[9],p=a[10],f=a[11],m=a[12],h=a[13],b=a[14],L=a[15];let M=t[0],g=t[1],w=t[2],S=t[3];return e[0]=M*r+g*i+w*y+S*m,e[1]=M*n+g*o+w*d+S*h,e[2]=M*s+g*c+w*p+S*b,e[3]=M*l+g*u+w*f+S*L,M=t[4],g=t[5],w=t[6],S=t[7],e[4]=M*r+g*i+w*y+S*m,e[5]=M*n+g*o+w*d+S*h,e[6]=M*s+g*c+w*p+S*b,e[7]=M*l+g*u+w*f+S*L,M=t[8],g=t[9],w=t[10],S=t[11],e[8]=M*r+g*i+w*y+S*m,e[9]=M*n+g*o+w*d+S*h,e[10]=M*s+g*c+w*p+S*b,e[11]=M*l+g*u+w*f+S*L,M=t[12],g=t[13],w=t[14],S=t[15],e[12]=M*r+g*i+w*y+S*m,e[13]=M*n+g*o+w*d+S*h,e[14]=M*s+g*c+w*p+S*b,e[15]=M*l+g*u+w*f+S*L,e}function c(e,a,t){const r=t[0],n=t[1],s=t[2];if(a===e)e[12]=a[0]*r+a[4]*n+a[8]*s+a[12],e[13]=a[1]*r+a[5]*n+a[9]*s+a[13],e[14]=a[2]*r+a[6]*n+a[10]*s+a[14],e[15]=a[3]*r+a[7]*n+a[11]*s+a[15];else{const t=a[0],l=a[1],i=a[2],o=a[3],c=a[4],u=a[5],y=a[6],d=a[7],p=a[8],f=a[9],m=a[10],h=a[11];e[0]=t,e[1]=l,e[2]=i,e[3]=o,e[4]=c,e[5]=u,e[6]=y,e[7]=d,e[8]=p,e[9]=f,e[10]=m,e[11]=h,e[12]=t*r+c*n+p*s+a[12],e[13]=l*r+u*n+f*s+a[13],e[14]=i*r+y*n+m*s+a[14],e[15]=o*r+d*n+h*s+a[15]}return e}function u(e,a,t){const r=t[0],n=t[1],s=t[2];return e[0]=a[0]*r,e[1]=a[1]*r,e[2]=a[2]*r,e[3]=a[3]*r,e[4]=a[4]*n,e[5]=a[5]*n,e[6]=a[6]*n,e[7]=a[7]*n,e[8]=a[8]*s,e[9]=a[9]*s,e[10]=a[10]*s,e[11]=a[11]*s,e[12]=a[12],e[13]=a[13],e[14]=a[14],e[15]=a[15],e}function y(e,a,t,n){let s,l,i,o,c,u,y,d,p,f,m,h,b,L,M,g,w,S,I,P,v,T,N,G,x=n[0],F=n[1],C=n[2],O=Math.sqrt(x*x+F*F+C*C);return O<(0,r.g)()?null:(O=1/O,x*=O,F*=O,C*=O,s=Math.sin(t),l=Math.cos(t),i=1-l,o=a[0],c=a[1],u=a[2],y=a[3],d=a[4],p=a[5],f=a[6],m=a[7],h=a[8],b=a[9],L=a[10],M=a[11],g=x*x*i+l,w=F*x*i+C*s,S=C*x*i-F*s,I=x*F*i-C*s,P=F*F*i+l,v=C*F*i+x*s,T=x*C*i+F*s,N=F*C*i-x*s,G=C*C*i+l,e[0]=o*g+d*w+h*S,e[1]=c*g+p*w+b*S,e[2]=u*g+f*w+L*S,e[3]=y*g+m*w+M*S,e[4]=o*I+d*P+h*v,e[5]=c*I+p*P+b*v,e[6]=u*I+f*P+L*v,e[7]=y*I+m*P+M*v,e[8]=o*T+d*N+h*G,e[9]=c*T+p*N+b*G,e[10]=u*T+f*N+L*G,e[11]=y*T+m*N+M*G,a!==e&&(e[12]=a[12],e[13]=a[13],e[14]=a[14],e[15]=a[15]),e)}function d(e,a){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=a[0],e[13]=a[1],e[14]=a[2],e[15]=1,e}function p(e,a,t){if(0===a)return s(e);let n,l,i,o=t[0],c=t[1],u=t[2],y=Math.sqrt(o*o+c*c+u*u);return y<(0,r.g)()?null:(y=1/y,o*=y,c*=y,u*=y,n=Math.sin(a),l=Math.cos(a),i=1-l,e[0]=o*o*i+l,e[1]=c*o*i+u*n,e[2]=u*o*i-c*n,e[3]=0,e[4]=o*c*i-u*n,e[5]=c*c*i+l,e[6]=u*c*i+o*n,e[7]=0,e[8]=o*u*i+c*n,e[9]=c*u*i-o*n,e[10]=u*u*i+l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function f(e,a){const t=Math.sin(a),r=Math.cos(a);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=t,e[7]=0,e[8]=0,e[9]=-t,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function m(e,a,t,r){const n=a[0],s=a[1],l=a[2],i=a[3],o=n+n,c=s+s,u=l+l,y=n*o,d=n*c,p=n*u,f=s*c,m=s*u,h=l*u,b=i*o,L=i*c,M=i*u,g=r[0],w=r[1],S=r[2];return e[0]=(1-(f+h))*g,e[1]=(d+M)*g,e[2]=(p-L)*g,e[3]=0,e[4]=(d-M)*w,e[5]=(1-(y+h))*w,e[6]=(m+b)*w,e[7]=0,e[8]=(p+L)*S,e[9]=(m-b)*S,e[10]=(1-(y+f))*S,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function h(e,a){return e[0]===a[0]&&e[1]===a[1]&&e[2]===a[2]&&e[3]===a[3]&&e[4]===a[4]&&e[5]===a[5]&&e[6]===a[6]&&e[7]===a[7]&&e[8]===a[8]&&e[9]===a[9]&&e[10]===a[10]&&e[11]===a[11]&&e[12]===a[12]&&e[13]===a[13]&&e[14]===a[14]&&e[15]===a[15]}function b(e,a){if(e===a)return!0;const t=e[0],n=e[1],s=e[2],l=e[3],i=e[4],o=e[5],c=e[6],u=e[7],y=e[8],d=e[9],p=e[10],f=e[11],m=e[12],h=e[13],b=e[14],L=e[15],M=a[0],g=a[1],w=a[2],S=a[3],I=a[4],P=a[5],v=a[6],T=a[7],N=a[8],G=a[9],x=a[10],F=a[11],C=a[12],O=a[13],A=a[14],D=a[15],k=(0,r.g)();return Math.abs(t-M)<=k*Math.max(1,Math.abs(t),Math.abs(M))&&Math.abs(n-g)<=k*Math.max(1,Math.abs(n),Math.abs(g))&&Math.abs(s-w)<=k*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(l-S)<=k*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(i-I)<=k*Math.max(1,Math.abs(i),Math.abs(I))&&Math.abs(o-P)<=k*Math.max(1,Math.abs(o),Math.abs(P))&&Math.abs(c-v)<=k*Math.max(1,Math.abs(c),Math.abs(v))&&Math.abs(u-T)<=k*Math.max(1,Math.abs(u),Math.abs(T))&&Math.abs(y-N)<=k*Math.max(1,Math.abs(y),Math.abs(N))&&Math.abs(d-G)<=k*Math.max(1,Math.abs(d),Math.abs(G))&&Math.abs(p-x)<=k*Math.max(1,Math.abs(p),Math.abs(x))&&Math.abs(f-F)<=k*Math.max(1,Math.abs(f),Math.abs(F))&&Math.abs(m-C)<=k*Math.max(1,Math.abs(m),Math.abs(C))&&Math.abs(h-O)<=k*Math.max(1,Math.abs(h),Math.abs(O))&&Math.abs(b-A)<=k*Math.max(1,Math.abs(b),Math.abs(A))&&Math.abs(L-D)<=k*Math.max(1,Math.abs(L),Math.abs(D))}function L(e){const a=(0,r.g)(),t=e[0],n=e[1],s=e[2],l=e[4],i=e[5],o=e[6],c=e[8],u=e[9],y=e[10];return Math.abs(1-(t*t+l*l+c*c))<=a&&Math.abs(1-(n*n+i*i+u*u))<=a&&Math.abs(1-(s*s+o*o+y*y))<=a}},60111:(e,a,t)=>{t.d(a,{T:()=>u,a:()=>l,g:()=>c,h:()=>i,r:()=>o});var r=t(1623),n=t(60947),s=t(35132);function l(e,a){if(!i(e,a)){const t=e.typeKeywords;t?t.push(a):e.typeKeywords=[a]}}function i(e,a){return!!e.typeKeywords?.includes(a)}function o(e,a){const t=e.typeKeywords;if(t){const e=t.indexOf(a);e>-1&&t.splice(e,1)}}async function c(e){const a=e.clone().normalize();let t;if(a.length>1)for(const e of a)t?e.width>t.width&&(t=e):t=e;else t=a[0];return async function(e){const a=e.spatialReference;if(a.isWGS84)return e.clone();if(a.isWebMercator)return(0,s.Sx)(e);const t=n.Z.WGS84;return await(0,r.iQ)(a,t),(0,r.iV)(e,t)}(t)}const u={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table"}},36458:(e,a,t)=>{t.r(a),t.d(a,{fromItem:()=>o,selectLayerClassPath:()=>c});var r=t(60991),n=t(67902),s=t(56420),l=t(8642),i=t(60111);function o(e){return!e.portalItem||e.portalItem instanceof s.default||(e={...e,portalItem:new s.default(e.portalItem)}),(a=e.portalItem,a.load().then(c).then(u)).then((a=>{const t={portalItem:e.portalItem,...a.properties};return new(0,a.constructor)(t)}));var a}function c(e){switch(e.type){case"Map Service":return(a=e,(0,l.r)(a.url).then((e=>e.tileInfo))).then((e=>e?{className:"TileLayer"}:{className:"MapImageLayer"}));case"Feature Service":return function(e){return(0,i.h)(e,"Oriented Imagery Layer")?function(e){return e.load().then((()=>e.fetchData())).then((e=>e.coverage?{className:"GroupLayer"}:{className:"OrientedImageryLayer",properties:e}))}(e):y(e).then((e=>{if("object"==typeof e){const a={};return null!=e.id&&(a.layerId=e.id),{className:e.className||"FeatureLayer",properties:a}}return{className:"GroupLayer"}}))}(e);case"Feature Collection":return async function(e){await e.load();const a=(0,i.h)(e,"Map Notes"),t=(0,i.h)(e,"Markup");if(a||t)return{className:"MapNotesLayer"};if((0,i.h)(e,"Route Layer"))return{className:"RouteLayer"};const r=await e.fetchData();return 1===(0,l.g)(r)?{className:"FeatureLayer"}:{className:"GroupLayer"}}(e);case"Scene Service":return function(e){return y(e).then((a=>{if("object"==typeof a){const t={};let r;if(null!=a.id?(t.layerId=a.id,r=`${e.url}/layers/${a.id}`):r=e.url,Array.isArray(e.typeKeywords)&&e.typeKeywords.length>0){const a={IntegratedMesh:"IntegratedMeshLayer","3DObject":"SceneLayer",Point:"SceneLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};for(const t of Object.keys(a))if(e.typeKeywords.includes(t))return{className:a[t]}}return(0,l.r)(r).then((e=>{let a="SceneLayer";const r={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};return e&&e.layerType&&r[e.layerType]&&(a=r[e.layerType]),{className:a,properties:t}}))}return!1===a?(0,l.r)(e.url).then((e=>"Voxel"===e?.layerType?{className:"VoxelLayer"}:{className:"GroupLayer"})):{className:"GroupLayer"}}))}(e);case"Image Service":return async function(e){await e.load();const a=e.typeKeywords?.map((e=>e.toLowerCase()))??[];if(a.includes("elevation 3d layer"))return{className:"ElevationLayer"};if(a.includes("tiled imagery"))return{className:"ImageryTileLayer"};const t=(await e.fetchData())?.layerType;if("ArcGISTiledImageServiceLayer"===t)return{className:"ImageryTileLayer"};if("ArcGISImageServiceLayer"===t)return{className:"ImageryLayer"};const r=await(0,l.r)(e.url),n=r.cacheType?.toLowerCase(),s=r.capabilities?.toLowerCase().includes("tilesonly");return"map"===n||s?{className:"ImageryTileLayer"}:{className:"ImageryLayer"}}(e);case"Stream Service":case"Feed":return{className:"StreamLayer"};case"Vector Tile Service":return{className:"VectorTileLayer"};case"GeoJson":return{className:"GeoJSONLayer"};case"CSV":return{className:"CSVLayer"};case"KML":return{className:"KMLLayer"};case"WFS":return{className:"WFSLayer"};case"WMTS":return{className:"WMTSLayer"};case"WMS":return{className:"WMSLayer"};default:return Promise.reject(new r.Z("portal:unknown-item-type","Unknown item type '${type}'",{type:e.type}))}var a}function u(e){return(0,n.l[e.className])().then((a=>({constructor:a,properties:e.properties})))}function y(e){return!e.url||e.url.match(/\/\d+$/)?Promise.resolve({}):e.load().then((()=>e.fetchData())).then((async a=>{if("Feature Service"===e.type){const t=d(await(0,l.p)(a,e.url));if("object"==typeof t){const e=(0,l.a)(a);t.className=e.includes(t.id)?"SubtypeGroupLayer":"FeatureLayer"}return t}return(0,l.g)(a)>0?d(a):(0,l.r)(e.url).then(d)}))}function d(e){return 1===(0,l.g)(e)&&{id:(0,l.b)(e)}}t(76506),t(92143),t(31450),t(71552),t(40642),t(73173),t(82058),t(88762),t(32101),t(50406),t(12047),t(21972),t(60474),t(66396),t(86656),t(91055),t(17533),t(6540),t(91306),t(34250),t(19657),t(6906),t(81184),t(33101),t(97714),t(21801),t(73796),t(60947),t(2906),t(91597),t(86787),t(35132),t(89623),t(49900),t(3482),t(67477),t(57251),t(78533),t(74653),t(91091),t(58943),t(74742),t(28239),t(41617),t(74569),t(84069),t(44567),t(98380),t(92896),t(22781),t(32422),t(75067),t(3296),t(21132),t(38742),t(69586),t(71831),t(41864),t(1623),t(82426),t(72836),t(29794),t(53785),t(95587),t(89914),t(65775),t(12381),t(92482),t(92624),t(92847)},71831:(e,a,t)=>{t.d(a,{l:()=>l});var r=t(41864),n=t(50406),s=t(17533);async function l(e,a,t){const l=e&&e.getAtOrigin&&e.getAtOrigin("renderer",a.origin);if(l&&"unique-value"===l.type&&l.styleOrigin){const i=await(0,r.r)(l.populateFromStyle());if((0,n.k_)(t),!1===i.ok){const t=i.error;a&&a.messages&&a.messages.push(new s.W("renderer:style-reference",`Failed to create unique value renderer from style reference: ${t.message}`,{error:t,context:a})),e.clear("renderer",a?.origin)}}}},92847:(e,a,t)=>{t.d(a,{g:()=>l});var r=t(71252),n=t(53785),s=t(60947);function l(e,a,t){if((0,r.a)(a)||(0,r.a)(t)||t.vcsWkid||(0,s.e)(a,t))return null;const l=(0,n.g)(a)/(0,n.g)(t);if(1===l)return null;switch(e){case"point":case"esriGeometryPoint":return e=>{return t=l,void((a=e)&&null!=a.z&&(a.z*=t));var a,t};case"polyline":case"esriGeometryPolyline":return e=>function(e,a){if(e)for(const t of e.paths)for(const e of t)e.length>2&&(e[2]*=a)}(e,l);case"polygon":case"esriGeometryPolygon":return e=>function(e,a){if(e)for(const t of e.rings)for(const e of t)e.length>2&&(e[2]*=a)}(e,l);case"multipoint":case"esriGeometryMultipoint":return e=>function(e,a){if(e)for(const t of e.points)t.length>2&&(t[2]*=a)}(e,l);case"extent":case"esriGeometryExtent":return e=>{return t=l,void((a=e)&&null!=a.zmin&&null!=a.zmax&&(a.zmin*=t,a.zmax*=t));var a,t};default:return null}}}}]);