"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[2795,2058,3173,9914],{2795:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});var r=n(71552),s=n(71252),a=n(88994),i=n(84017);n(76506),n(6906),n(50406),n(60991),n(92143),n(31450),n(40642),n(98576),n(53785),n(57251),n(95587),n(60947),n(12047),n(21972),n(60474),n(66396),n(86656),n(91055),n(17533),n(6540),n(91306),n(34250),n(19657),n(2906),n(89623),n(65775),n(29794),n(26923),n(1623),n(82426),n(72836),n(89914),n(21801),n(73796),n(97714),n(91597),n(86787),n(35132),n(84069),n(12381),n(73173),n(82058),n(88762),n(32101),n(44567),n(98380),n(92896),n(92482),n(92624),n(92847),n(35861),n(34987),n(40167),n(47880),n(79641),n(84661);class o{async createIndex(e,t){const n=new Array;if(!e.vertexAttributes||!e.vertexAttributes.position)return new a.P;const r=this._createMeshData(e),i=(0,s.i)(t)?await t.invoke("createIndexThread",r,{transferList:n}):this.createIndexThread(r).result;return this._createPooledRBush().fromJSON(i)}createIndexThread(e){const t=new Float64Array(e.position),n=this._createPooledRBush();return e.components?this._createIndexComponentsThread(n,t,e.components.map((e=>new Uint32Array(e)))):this._createIndexAllThread(n,t)}_createIndexAllThread(e,t){const n=new Array(t.length/9);let r=0;for(let e=0;e<t.length;e+=9)n[r++]=c(t,e+0,e+3,e+6);return e.load(n),{result:e.toJSON()}}_createIndexComponentsThread(e,t,n){let r=0;for(const e of n)r+=e.length/3;const s=new Array(r);let a=0;for(const e of n)for(let n=0;n<e.length;n+=3)s[a++]=c(t,3*e[n+0],3*e[n+1],3*e[n+2]);return e.load(s),{result:e.toJSON()}}_createMeshData(e){const t=(e.transform?(0,i.b)({position:e.vertexAttributes.position,normal:null,tangent:null},e.transform,e.spatialReference).position:e.vertexAttributes.position).buffer;return!e.components||e.components.some((e=>!e.faces))?{position:t}:{position:t,components:e.components.map((e=>e.faces))}}_createPooledRBush(){return new a.P(9,(0,r.h)("esri-csp-restrictions")?e=>e:[".minX",".minY",".maxX",".maxY"])}}function c(e,t,n,r){return{minX:Math.min(e[t+0],e[n+0],e[r+0]),maxX:Math.max(e[t+0],e[n+0],e[r+0]),minY:Math.min(e[t+1],e[n+1],e[r+1]),maxY:Math.max(e[t+1],e[n+1],e[r+1]),p0:[e[t+0],e[t+1],e[t+2]],p1:[e[n+0],e[n+1],e[n+2]],p2:[e[r+0],e[r+1],e[r+2]]}}},88994:(e,t,n)=>{n.d(t,{P:()=>o});var r=n(76506),s=n(71252),a=n(6906),i=n(98576);class o{constructor(e=9,t){this._compareMinX=h,this._compareMinY=m,this._toBBox=e=>e,this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&("function"==typeof t?this._toBBox=t:this._initFormat(t)),this.clear()}destroy(){this.clear(),M.prune(),w.prune(),y.prune(),_.prune()}all(e){this._all(this._data,e)}search(e,t){let n=this._data;const r=this._toBBox;if(b(e,n))for(M.clear();n;){for(let s=0,a=n.children.length;s<a;s++){const a=n.children[s],i=n.leaf?r(a):a;b(e,i)&&(n.leaf?t(a):x(e,i)?this._all(a,t):M.push(a))}n=M.pop()}}collides(e){let t=this._data;const n=this._toBBox;if(!b(e,t))return!1;for(M.clear();t;){for(let r=0,s=t.children.length;r<s;r++){const s=t.children[r],a=t.leaf?n(s):s;if(b(e,a)){if(t.leaf||x(e,a))return!0;M.push(s)}}t=M.pop()}return!1}load(e){if(!e.length)return this;if(e.length<this._minEntries){for(let t=0,n=e.length;t<n;t++)this.insert(e[t]);return this}let t=this._build(e.slice(0,e.length),0,e.length-1,0);if(this._data.children.length)if(this._data.height===t.height)this._splitRoot(this._data,t);else{if(this._data.height<t.height){const e=this._data;this._data=t,t=e}this._insert(t,this._data.height-t.height-1,!0)}else this._data=t;return this}insert(e){return e&&this._insert(e,this._data.height-1),this}clear(){return this._data=new B([]),this}remove(e){if(!e)return this;let t,n=this._data,a=null,i=0,o=!1;const c=this._toBBox(e);for(y.clear(),_.clear();n||y.length>0;){if(n||(n=(0,s.b)(y.pop()),a=y.data[y.length-1],i=_.pop()??0,o=!0),n.leaf&&(t=(0,r.i)(n.children,e,n.children.length,n.indexHint),-1!==t))return n.children.splice(t,1),y.push(n),this._condense(y),this;o||n.leaf||!x(n,c)?a?(i++,n=a.children[i],o=!1):n=null:(y.push(n),_.push(i),i=0,a=n,n=n.children[0])}return this}toJSON(){return this._data}fromJSON(e){return this._data=e,this}_all(e,t){let n=e;for(w.clear();n;){if(!0===n.leaf)for(const e of n.children)t(e);else w.pushArray(n.children);n=w.pop()??null}}_build(e,t,n,r){const s=n-t+1;let a=this._maxEntries;if(s<=a){const r=new B(e.slice(t,n+1));return c(r,this._toBBox),r}r||(r=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/a**(r-1)));const i=new S([]);i.height=r;const o=Math.ceil(s/a),l=o*Math.ceil(Math.sqrt(a));g(e,t,n,l,this._compareMinX);for(let s=t;s<=n;s+=l){const t=Math.min(s+l-1,n);g(e,s,t,o,this._compareMinY);for(let n=s;n<=t;n+=o){const s=Math.min(n+o-1,t);i.children.push(this._build(e,n,s,r-1))}}return c(i,this._toBBox),i}_chooseSubtree(e,t,n,r){for(;r.push(t),!0!==t.leaf&&r.length-1!==n;){let n,r=1/0,i=1/0;for(let o=0,c=t.children.length;o<c;o++){const c=t.children[o],l=d(c),u=(s=e,a=c,(Math.max(a.maxX,s.maxX)-Math.min(a.minX,s.minX))*(Math.max(a.maxY,s.maxY)-Math.min(a.minY,s.minY))-l);u<i?(i=u,r=l<r?l:r,n=c):u===i&&l<r&&(r=l,n=c)}t=n||t.children[0]}var s,a;return t}_insert(e,t,n){const r=this._toBBox,s=n?e:r(e);y.clear();const a=this._chooseSubtree(s,this._data,t,y);for(a.children.push(e),u(a,s);t>=0&&y.data[t].children.length>this._maxEntries;)this._split(y,t),t--;this._adjustParentBBoxes(s,y,t)}_split(e,t){const n=e.data[t],r=n.children.length,s=this._minEntries;this._chooseSplitAxis(n,s,r);const a=this._chooseSplitIndex(n,s,r);if(!a)return void console.log("  Error: assertion failed at PooledRBush._split: no valid split index");const i=n.children.splice(a,n.children.length-a),o=n.leaf?new B(i):new S(i);o.height=n.height,c(n,this._toBBox),c(o,this._toBBox),t?e.data[t-1].children.push(o):this._splitRoot(n,o)}_splitRoot(e,t){this._data=new S([e,t]),this._data.height=e.height+1,c(this._data,this._toBBox)}_chooseSplitIndex(e,t,n){let r,s,a;r=s=1/0;for(let i=t;i<=n-t;i++){const t=l(e,0,i,this._toBBox),o=l(e,i,n,this._toBBox),c=p(t,o),u=d(t)+d(o);c<r?(r=c,a=i,s=u<s?u:s):c===r&&u<s&&(s=u,a=i)}return a}_chooseSplitAxis(e,t,n){const r=e.leaf?this._compareMinX:h,s=e.leaf?this._compareMinY:m;this._allDistMargin(e,t,n,r)<this._allDistMargin(e,t,n,s)&&e.children.sort(r)}_allDistMargin(e,t,n,r){e.children.sort(r);const s=this._toBBox,a=l(e,0,t,s),i=l(e,n-t,n,s);let o=f(a)+f(i);for(let r=t;r<n-t;r++){const t=e.children[r];u(a,e.leaf?s(t):t),o+=f(a)}for(let r=n-t-1;r>=t;r--){const t=e.children[r];u(i,e.leaf?s(t):t),o+=f(i)}return o}_adjustParentBBoxes(e,t,n){for(let r=n;r>=0;r--)u(t.data[r],e)}_condense(e){for(let t=e.length-1;t>=0;t--){const n=e.data[t];if(0===n.children.length)if(t>0){const s=e.data[t-1],a=s.children;a.splice((0,r.i)(a,n,a.length,s.indexHint),1)}else this.clear();else c(n,this._toBBox)}}_initFormat(e){const t=["return a"," - b",";"];this._compareMinX=new Function("a","b",t.join(e[0])),this._compareMinY=new Function("a","b",t.join(e[1])),this._toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}}function c(e,t){l(e,0,e.children.length,t,e)}function l(e,t,n,r,s){s||(s=new B([])),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0;for(let a,i=t;i<n;i++)a=e.children[i],u(s,e.leaf?r(a):a);return s}function u(e,t){e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY)}function h(e,t){return e.minX-t.minX}function m(e,t){return e.minY-t.minY}function d(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function f(e){return e.maxX-e.minX+(e.maxY-e.minY)}function p(e,t){const n=Math.max(e.minX,t.minX),r=Math.max(e.minY,t.minY),s=Math.min(e.maxX,t.maxX),a=Math.min(e.maxY,t.maxY);return Math.max(0,s-n)*Math.max(0,a-r)}function x(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function b(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function g(e,t,n,r,a){const o=[t,n];for(;o.length;){const t=(0,s.b)(o.pop()),n=(0,s.b)(o.pop());if(t-n<=r)continue;const c=n+Math.ceil((t-n)/r/2)*r;(0,i.q)(e,c,n,t,a),o.push(n,c,c,t)}}const M=new a.P,w=new a.P,y=new a.P,_=new a.P({deallocator:void 0});class q{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}}class v extends q{constructor(){super(...arguments),this.height=1,this.indexHint=new r.P}}class B extends v{constructor(e){super(),this.children=e,this.leaf=!0}}class S extends v{constructor(e){super(),this.children=e,this.leaf=!1}}},89914:(e,t,n)=>{n.d(t,{S:()=>s});var r=n(21972);class s{constructor(){this._observers=[]}observe(e){return this._observers.includes(e)||this._observers.push(e),new r.c(this._observers,e)}notify(){const e=this._observers.slice();for(let t=0;t<e.length;++t){const n=e[t];n.onInvalidated(),n.onCommitted()}}}},92482:(e,t,n)=>{n.d(t,{N:()=>g,c:()=>a,d:()=>u,e:()=>p,f:()=>b,g:()=>c,h:()=>m,i:()=>d,j:()=>f,r:()=>o,t:()=>l,y:()=>h}),n(71552),n(82426);var r=n(71252),s=n(21801);function a(e=M){return[e[0],e[1],e[2],e[3]]}function i(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function o(e,t,n,r,s=a()){return s[0]=e,s[1]=t,s[2]=n,s[3]=r,s}function c(e,t=a()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function l(e,t){return new s.Z({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}function u(e,t,n){if((0,r.a)(t))i(n,e);else if("length"in t)x(t)?(n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n[2]=Math.max(e[2],t[2]),n[3]=Math.max(e[3],t[3])):2!==t.length&&3!==t.length||(n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n[2]=Math.max(e[2],t[0]),n[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":n[0]=Math.min(e[0],t.xmin),n[1]=Math.min(e[1],t.ymin),n[2]=Math.max(e[2],t.xmax),n[3]=Math.max(e[3],t.ymax);break;case"point":n[0]=Math.min(e[0],t.x),n[1]=Math.min(e[1],t.y),n[2]=Math.max(e[2],t.x),n[3]=Math.max(e[3],t.y)}}function h(e){return function(e){return(0,r.a)(e)||e[0]>=e[2]?0:e[2]-e[0]}(e)*function(e){return e[1]>=e[3]?0:e[3]-e[1]}(e)}function m(e,t,n){return t>=e[0]&&n>=e[1]&&t<=e[2]&&n<=e[3]}function d(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function f(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function p(e){return e?i(e,g):a(g)}function x(e){return null!=e&&4===e.length}function b(e,t){return x(e)&&x(t)?e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]:e===t}const g=[1/0,1/0,-1/0,-1/0],M=[0,0,0,0]},73173:(e,t,n)=>{n.d(t,{g:()=>c});var r=n(31450),s=(n(82058),n(60991)),a=n(92143),i=n(32101);const o=a.L.getLogger("esri.assets");function c(e){if(!r.Z.assetsPath)throw o.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new s.Z("assets:path-not-set","config.assetsPath is not set");return(0,i.v_)(r.Z.assetsPath,e)}},65775:(e,t,n)=>{n.d(t,{B:()=>f,a:()=>d,b:()=>p,c:()=>o,d:()=>x,e:()=>b,f:()=>m,g:()=>u,i:()=>a,k:()=>l,l:()=>g,m:()=>c,s:()=>s,t:()=>i,z:()=>h});var r=n(29794);function s(e,t,n,r,s,a,i,o,c,l,u,h,m,d,f,p,x){return e[0]=t,e[1]=n,e[2]=r,e[3]=s,e[4]=a,e[5]=i,e[6]=o,e[7]=c,e[8]=l,e[9]=u,e[10]=h,e[11]=m,e[12]=d,e[13]=f,e[14]=p,e[15]=x,e}function a(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function i(e,t){if(e===t){const n=t[1],r=t[2],s=t[3],a=t[6],i=t[7],o=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=a,e[11]=t[14],e[12]=s,e[13]=i,e[14]=o}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function o(e,t){const n=t[0],r=t[1],s=t[2],a=t[3],i=t[4],o=t[5],c=t[6],l=t[7],u=t[8],h=t[9],m=t[10],d=t[11],f=t[12],p=t[13],x=t[14],b=t[15],g=n*o-r*i,M=n*c-s*i,w=n*l-a*i,y=r*c-s*o,_=r*l-a*o,q=s*l-a*c,v=u*p-h*f,B=u*x-m*f,S=u*b-d*f,U=h*x-m*p,T=h*b-d*p,k=m*b-d*x;let O=g*k-M*T+w*U+y*S-_*B+q*v;return O?(O=1/O,e[0]=(o*k-c*T+l*U)*O,e[1]=(s*T-r*k-a*U)*O,e[2]=(p*q-x*_+b*y)*O,e[3]=(m*_-h*q-d*y)*O,e[4]=(c*S-i*k-l*B)*O,e[5]=(n*k-s*S+a*B)*O,e[6]=(x*w-f*q-b*M)*O,e[7]=(u*q-m*w+d*M)*O,e[8]=(i*T-o*S+l*v)*O,e[9]=(r*S-n*T-a*v)*O,e[10]=(f*_-p*w+b*g)*O,e[11]=(h*w-u*_-d*g)*O,e[12]=(o*B-i*U-c*v)*O,e[13]=(n*U-r*B+s*v)*O,e[14]=(p*M-f*y-x*g)*O,e[15]=(u*y-h*M+m*g)*O,e):null}function c(e,t,n){const r=t[0],s=t[1],a=t[2],i=t[3],o=t[4],c=t[5],l=t[6],u=t[7],h=t[8],m=t[9],d=t[10],f=t[11],p=t[12],x=t[13],b=t[14],g=t[15];let M=n[0],w=n[1],y=n[2],_=n[3];return e[0]=M*r+w*o+y*h+_*p,e[1]=M*s+w*c+y*m+_*x,e[2]=M*a+w*l+y*d+_*b,e[3]=M*i+w*u+y*f+_*g,M=n[4],w=n[5],y=n[6],_=n[7],e[4]=M*r+w*o+y*h+_*p,e[5]=M*s+w*c+y*m+_*x,e[6]=M*a+w*l+y*d+_*b,e[7]=M*i+w*u+y*f+_*g,M=n[8],w=n[9],y=n[10],_=n[11],e[8]=M*r+w*o+y*h+_*p,e[9]=M*s+w*c+y*m+_*x,e[10]=M*a+w*l+y*d+_*b,e[11]=M*i+w*u+y*f+_*g,M=n[12],w=n[13],y=n[14],_=n[15],e[12]=M*r+w*o+y*h+_*p,e[13]=M*s+w*c+y*m+_*x,e[14]=M*a+w*l+y*d+_*b,e[15]=M*i+w*u+y*f+_*g,e}function l(e,t,n){const r=n[0],s=n[1],a=n[2];if(t===e)e[12]=t[0]*r+t[4]*s+t[8]*a+t[12],e[13]=t[1]*r+t[5]*s+t[9]*a+t[13],e[14]=t[2]*r+t[6]*s+t[10]*a+t[14],e[15]=t[3]*r+t[7]*s+t[11]*a+t[15];else{const n=t[0],i=t[1],o=t[2],c=t[3],l=t[4],u=t[5],h=t[6],m=t[7],d=t[8],f=t[9],p=t[10],x=t[11];e[0]=n,e[1]=i,e[2]=o,e[3]=c,e[4]=l,e[5]=u,e[6]=h,e[7]=m,e[8]=d,e[9]=f,e[10]=p,e[11]=x,e[12]=n*r+l*s+d*a+t[12],e[13]=i*r+u*s+f*a+t[13],e[14]=o*r+h*s+p*a+t[14],e[15]=c*r+m*s+x*a+t[15]}return e}function u(e,t,n){const r=n[0],s=n[1],a=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*s,e[5]=t[5]*s,e[6]=t[6]*s,e[7]=t[7]*s,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function h(e,t,n,s){let a,i,o,c,l,u,h,m,d,f,p,x,b,g,M,w,y,_,q,v,B,S,U,T,k=s[0],O=s[1],P=s[2],E=Math.sqrt(k*k+O*O+P*P);return E<(0,r.g)()?null:(E=1/E,k*=E,O*=E,P*=E,a=Math.sin(n),i=Math.cos(n),o=1-i,c=t[0],l=t[1],u=t[2],h=t[3],m=t[4],d=t[5],f=t[6],p=t[7],x=t[8],b=t[9],g=t[10],M=t[11],w=k*k*o+i,y=O*k*o+P*a,_=P*k*o-O*a,q=k*O*o-P*a,v=O*O*o+i,B=P*O*o+k*a,S=k*P*o+O*a,U=O*P*o-k*a,T=P*P*o+i,e[0]=c*w+m*y+x*_,e[1]=l*w+d*y+b*_,e[2]=u*w+f*y+g*_,e[3]=h*w+p*y+M*_,e[4]=c*q+m*v+x*B,e[5]=l*q+d*v+b*B,e[6]=u*q+f*v+g*B,e[7]=h*q+p*v+M*B,e[8]=c*S+m*U+x*T,e[9]=l*S+d*U+b*T,e[10]=u*S+f*U+g*T,e[11]=h*S+p*U+M*T,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function m(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function d(e,t,n){if(0===t)return a(e);let s,i,o,c=n[0],l=n[1],u=n[2],h=Math.sqrt(c*c+l*l+u*u);return h<(0,r.g)()?null:(h=1/h,c*=h,l*=h,u*=h,s=Math.sin(t),i=Math.cos(t),o=1-i,e[0]=c*c*o+i,e[1]=l*c*o+u*s,e[2]=u*c*o-l*s,e[3]=0,e[4]=c*l*o-u*s,e[5]=l*l*o+i,e[6]=u*l*o+c*s,e[7]=0,e[8]=c*u*o+l*s,e[9]=l*u*o-c*s,e[10]=u*u*o+i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function f(e,t){const n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function p(e,t,n,r){const s=t[0],a=t[1],i=t[2],o=t[3],c=s+s,l=a+a,u=i+i,h=s*c,m=s*l,d=s*u,f=a*l,p=a*u,x=i*u,b=o*c,g=o*l,M=o*u,w=r[0],y=r[1],_=r[2];return e[0]=(1-(f+x))*w,e[1]=(m+M)*w,e[2]=(d-g)*w,e[3]=0,e[4]=(m-M)*y,e[5]=(1-(h+x))*y,e[6]=(p+b)*y,e[7]=0,e[8]=(d+g)*_,e[9]=(p-b)*_,e[10]=(1-(h+f))*_,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function x(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function b(e,t){if(e===t)return!0;const n=e[0],s=e[1],a=e[2],i=e[3],o=e[4],c=e[5],l=e[6],u=e[7],h=e[8],m=e[9],d=e[10],f=e[11],p=e[12],x=e[13],b=e[14],g=e[15],M=t[0],w=t[1],y=t[2],_=t[3],q=t[4],v=t[5],B=t[6],S=t[7],U=t[8],T=t[9],k=t[10],O=t[11],P=t[12],E=t[13],C=t[14],Y=t[15],X=(0,r.g)();return Math.abs(n-M)<=X*Math.max(1,Math.abs(n),Math.abs(M))&&Math.abs(s-w)<=X*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(a-y)<=X*Math.max(1,Math.abs(a),Math.abs(y))&&Math.abs(i-_)<=X*Math.max(1,Math.abs(i),Math.abs(_))&&Math.abs(o-q)<=X*Math.max(1,Math.abs(o),Math.abs(q))&&Math.abs(c-v)<=X*Math.max(1,Math.abs(c),Math.abs(v))&&Math.abs(l-B)<=X*Math.max(1,Math.abs(l),Math.abs(B))&&Math.abs(u-S)<=X*Math.max(1,Math.abs(u),Math.abs(S))&&Math.abs(h-U)<=X*Math.max(1,Math.abs(h),Math.abs(U))&&Math.abs(m-T)<=X*Math.max(1,Math.abs(m),Math.abs(T))&&Math.abs(d-k)<=X*Math.max(1,Math.abs(d),Math.abs(k))&&Math.abs(f-O)<=X*Math.max(1,Math.abs(f),Math.abs(O))&&Math.abs(p-P)<=X*Math.max(1,Math.abs(p),Math.abs(P))&&Math.abs(x-E)<=X*Math.max(1,Math.abs(x),Math.abs(E))&&Math.abs(b-C)<=X*Math.max(1,Math.abs(b),Math.abs(C))&&Math.abs(g-Y)<=X*Math.max(1,Math.abs(g),Math.abs(Y))}function g(e){const t=(0,r.g)(),n=e[0],s=e[1],a=e[2],i=e[4],o=e[5],c=e[6],l=e[8],u=e[9],h=e[10];return Math.abs(1-(n*n+i*i+l*l))<=t&&Math.abs(1-(s*s+o*o+u*u))<=t&&Math.abs(1-(a*a+c*c+h*h))<=t}},95587:(e,t,n)=>{n.d(t,{S:()=>o,W:()=>u,a:()=>c,b:()=>l,c:()=>h,d:()=>d,g:()=>m});var r=n(71252),s=n(60947),a=n(89623);function i(e){return new s.Z({wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${e.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`})}const o=i(a.e),c=i(a.m),l=i(a.a),u=new s.Z({wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${a.e.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`});function h(e){return e&&((0,s.f)(e)||e===c)?c:e&&((0,s.h)(e)||e===l)?l:o}function m(e){return(0,r.i)(e)&&((0,s.f)(e)||e===c)?a.m:(0,r.i)(e)&&((0,s.h)(e)||e===l)?a.a:a.e}function d(e){return(0,s.c)(e)?a.m:(0,s.d)(e)?a.a:a.e}},98576:(e,t,n)=>{n.d(t,{q:()=>i});var r,s,a={exports:{}};r=a,void 0!==(s=function(){function e(n,r,s,a,i){for(;a>s;){if(a-s>600){var o=a-s+1,c=r-s+1,l=Math.log(o),u=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*u*(o-u)/o)*(c-o/2<0?-1:1);e(n,r,Math.max(s,Math.floor(r-c*u/o+h)),Math.min(a,Math.floor(r+(o-c)*u/o+h)),i)}var m=n[r],d=s,f=a;for(t(n,s,r),i(n[a],m)>0&&t(n,s,a);d<f;){for(t(n,d,f),d++,f--;i(n[d],m)<0;)d++;for(;i(n[f],m)>0;)f--}0===i(n[s],m)?t(n,s,f):t(n,++f,a),f<=r&&(s=f+1),r<=f&&(a=f-1)}}function t(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function n(e,t){return e<t?-1:e>t?1:0}return function(t,r,s,a,i){e(t,r,s||0,a||t.length-1,i||n)}}())&&(r.exports=s);const i=a.exports},53785:(e,t,n)=>{n.d(t,{a:()=>B,b:()=>Y,c:()=>y,d:()=>_,e:()=>S,g:()=>v,i:()=>c,l:()=>X,u:()=>q,v:()=>k}),n(71552);var r=n(57251),s=n(71252),a=n(95587),i=n(89623),o=n(60947);const c=39.37,l=i.e.radius*Math.PI/200,u=/UNIT\[([^\]]+)\]\]$/i,h=o.o,m=/UNIT\[([^\]]+)\]/i,d=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),f=(0,r.s)()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),p=e=>e*e,x=e=>e*e*e,b={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:p(.001)},"square-centimeters":{inBaseUnits:p(.01)},"square-decimeters":{inBaseUnits:p(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:p(1e3)},"square-inches":{inBaseUnits:p(.0254)},"square-feet":{inBaseUnits:p(.3048)},"square-yards":{inBaseUnits:p(.9144)},"square-miles":{inBaseUnits:p(1609.344)},"square-us-feet":{inBaseUnits:p(1200/3937)},acres:{inBaseUnits:.0015625*p(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*x(.001)},"cubic-centimeters":{inBaseUnits:1e3*x(.01)},"cubic-decimeters":{inBaseUnits:1e3*x(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*x(1e3)},"cubic-inches":{inBaseUnits:1e3*x(.0254)},"cubic-feet":{inBaseUnits:1e3*x(.3048)},"cubic-yards":{inBaseUnits:1e3*x(.9144)},"cubic-miles":{inBaseUnits:1e3*x(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},g=(()=>{const e={};for(const t in b)for(const n in b[t].units)e[n]=t;return e})();function M(e){const t=g[e];if(!t)throw new Error("unknown type");return t}function w(e,t=null){return t=t||M(e),b[t].baseUnit===e}function y(e,t,n){if(t===n)return e;const r=M(t);if(r!==M(n))throw new Error("incompatible units");const s=w(t,r)?e:function(e,t,n){return e*b[n].units[t].inBaseUnits}(e,t,r);return w(n,r)?s:function(e,t,n){return e/b[n].units[t].inBaseUnits}(s,n,r)}function _(e,t,n){return y(e,t,"meters")/(n*Math.PI/180)}function q(e){return f.fromJSON(e.toLowerCase())||null}function v(e){if((0,s.i)(e)&&!(0,o.b)(e))return 1;const t=S(e);return t>1e5?1:t}function B(e){return S(e)>=(0,a.g)(e).metersPerDegree?"meters":k(e)}function S(e,t=i.e.metersPerDegree){return(0,s.e)(function(e,t=!1){const n=(0,s.i)(e)?e.wkid:null,r=(0,s.i)(e)?e.wkt:null;let a=null;if(n){if((0,o.c)(n))return i.m.metersPerDegree;if((0,o.d)(n))return i.a.metersPerDegree;a=h.values[h[n]],!a&&t&&d.has(n)&&(a=l)}else r&&(P(r)?a=U(u.exec(r),a):O(r)&&(a=U(m.exec(r),a)));return a}(e,!0),t)}function U(e,t){return e&&e[1]?T(e[1]):t}function T(e){return parseFloat(e.split(",")[1])}function k(e){const t=(0,s.i)(e)?e.wkid:null,n=(0,s.i)(e)?e.wkt:null;let r=null;if(t)r=h.units[h[t]];else if(n){const e=P(n)?u:O(n)?m:null;if(e){const t=e.exec(n);t&&t[1]&&(r=function(e){const t=/[\\"\\']{1}([^\\"\\']+)/.exec(e);let n=t&&t[1];if(!n||!h.units.includes(n)){const t=T(e);n=null;const r=h.values;for(let e=0;e<r.length;++e)if(Math.abs(t-r[e])<1e-7){n=h.units[e];break}}return n}(t[1]))}}return(0,s.i)(r)?q(r):null}function O(e){return/^GEOCCS/i.test(e)}function P(e){return/^PROJCS/i.test(e)}new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);const E={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},C={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},Y=(0,r.s)()(E),X=(0,r.s)()(C);(0,r.s)()({...E,...C})},92847:(e,t,n)=>{n.d(t,{g:()=>i});var r=n(71252),s=n(53785),a=n(60947);function i(e,t,n){if((0,r.a)(t)||(0,r.a)(n)||n.vcsWkid||(0,a.e)(t,n))return null;const i=(0,s.g)(t)/(0,s.g)(n);if(1===i)return null;switch(e){case"point":case"esriGeometryPoint":return e=>{return n=i,void((t=e)&&null!=t.z&&(t.z*=n));var t,n};case"polyline":case"esriGeometryPolyline":return e=>function(e,t){if(e)for(const n of e.paths)for(const e of n)e.length>2&&(e[2]*=t)}(e,i);case"polygon":case"esriGeometryPolygon":return e=>function(e,t){if(e)for(const n of e.rings)for(const e of n)e.length>2&&(e[2]*=t)}(e,i);case"multipoint":case"esriGeometryMultipoint":return e=>function(e,t){if(e)for(const n of e.points)n.length>2&&(n[2]*=t)}(e,i);case"extent":case"esriGeometryExtent":return e=>{return n=i,void((t=e)&&null!=t.zmin&&null!=t.zmax&&(t.zmin*=n,t.zmax*=n));var t,n};default:return null}}},82058:(e,t,n)=>{n.r(t),n.d(t,{default:()=>M,i:()=>f,l:()=>b,p:()=>d,r:()=>I,s:()=>x});var r=n(31450),s=n(88762),a=n(60991),i=n(71552),o=n(76506),c=n(71252),l=n(50406),u=n(32101);n(92143),n(40642);const h=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,m={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function d(e){const t=e?.match(h);if(!t)return null;const[,n,r,s]=t;if(!n)return null;let a=null,i=null,o=null;const{devext:c,qaext:l,www:u}=m;if(r)if(a=n,s)switch(s.toLowerCase()){case"devext":({customBaseUrl:i,portalHostname:o}=c);break;case"qa":({customBaseUrl:i,portalHostname:o}=l);break;default:return null}else({customBaseUrl:i,portalHostname:o}=u);else switch(n.toLowerCase()){case"devext":({customBaseUrl:i,portalHostname:o}=c);break;case"qaext":({customBaseUrl:i,portalHostname:o}=l);break;case"www":({customBaseUrl:i,portalHostname:o}=u);break;default:return null}return{customBaseUrl:i,isPortal:!1,portalHostname:o,urlKey:a}}function f(e){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(e)}const p=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];function x(e){const t=(0,u.P$)(e,!0);return!!t&&t.endsWith(".arcgis.com")&&!p.includes(t)&&!e.endsWith("/sharing/rest/generateToken")}function b(e,t,n=!1,r){return new Promise(((s,a)=>{if((0,l.Hc)(r))return void a(g());let o=()=>{m(),a(new Error(`Unable to load ${t}`))},u=()=>{const t=e;m(),s(t)},h=()=>{if(!e)return;const t=e;m(),t.src="",a(g())};const m=()=>{(0,i.h)("esri-image-decode")||(e.removeEventListener("error",o),e.removeEventListener("load",u)),o=null,u=null,e=null,(0,c.i)(r)&&r.removeEventListener("abort",h),h=null,n&&URL.revokeObjectURL(t)};(0,c.i)(r)&&r.addEventListener("abort",h),(0,i.h)("esri-image-decode")?e.decode().then(u,o):(e.addEventListener("error",o),e.addEventListener("load",u))}))}function g(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}async function M(e,t){const o=(0,u.HK)(e),h=(0,u.jc)(e);h||o||(e=(0,u.Fv)(e));const m={url:e,requestOptions:{...(0,c.u)(t)}};let d=(0,u.oh)(e);if(d){const e=await async function(e,t){if(null!=e.responseData)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let n,r;try{r=await e.before(t)}catch(e){n=k("request:interceptor",e,t)}if((r instanceof Error||r instanceof a.Z)&&(n=k("request:interceptor",r,t)),n)throw e.error&&e.error(n),n;return r}}(d,m);if(null!=e)return{data:e,getHeader:S,requestOptions:m.requestOptions,url:m.url};d.after||d.error||(d=null)}if(e=m.url,"image"===(t=m.requestOptions).responseType){if((0,i.h)("host-webworker")||(0,i.h)("host-node"))throw k("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),m)}else if(o)throw k("request:invalid-parameters",new Error("Data URLs are not supported for responseType = "+t.responseType),m);if("head"===t.method){if(t.body)throw k("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),m);if(o||h)throw k("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),m)}if(await async function(){(0,i.h)("host-webworker")?w||(w=await n.e(9768).then(n.bind(n,89768))):M._abortableFetch||(M._abortableFetch=globalThis.fetch.bind(globalThis))}(),w)return w.execute(e,t);const f=new AbortController;(0,l.fu)(t,(()=>f.abort()));const p={controller:f,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:d,params:m,redoRequest:!1,useIdentity:y.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},b=await async function(e){let t,n;await async function(e){const t=e.params.url,n=e.params.requestOptions,a=e.controller.signal,i=n.body;let o=null,c=null;if(_&&"HTMLFormElement"in globalThis&&(i instanceof FormData?o=i:i instanceof HTMLFormElement&&(o=new FormData(i))),"string"==typeof i&&(c=i),e.fetchOptions={cache:n.cacheBust&&!M._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:n.headers||{},method:"head"===n.method?"HEAD":"GET",mode:"cors",priority:y.priority,redirect:"follow",signal:a},(o||c)&&(e.fetchOptions.body=o||c),"anonymous"===n.authMode&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||n.query?.token||o?.get("token")),!e.hasToken&&r.Z.apiKey&&x(t)&&(n.query||(n.query={}),n.query.token=r.Z.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!P(t)&&!(0,l.Hc)(a)){let r;"immediate"===n.authMode?(await O(),r=await s.id.getCredential(t,{signal:a}),e.credential=r):"no-prompt"===n.authMode?(await O(),r=await s.id.getCredential(t,{prompt:!1,signal:a}).catch((()=>{})),e.credential=r):s.id&&(r=s.id.findCredential(t)),r&&(e.credentialToken=r.token,e.useSSL=!!r.ssl)}}(e);try{do{[t,n]=await E(e)}while(!await Y(e,t,n))}catch(n){const r=k("request:server",n,e.params,t);throw r.details.ssl=e.useSSL,e.interceptor&&e.interceptor.error&&e.interceptor.error(r),r}const a=e.params.url;if(n&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(a)){if(!e.hasToken&&!e.credentialToken&&n.user?.username&&!(0,u.kl)(a)){const e=(0,u.P$)(a,!0);e&&y.trustedServers.push(e)}Array.isArray(n.authorizedCrossOriginNoCorsDomains)&&function(e){r.Z.request.crossOriginNoCorsDomains||(r.Z.request.crossOriginNoCorsDomains={});const t=r.Z.request.crossOriginNoCorsDomains;for(let n of e)n=n.toLowerCase(),/^https?:\/\//.test(n)?t[(0,u.P$)(n)??""]=0:(t[(0,u.P$)("http://"+n)??""]=0,t[(0,u.P$)("https://"+n)??""]=0)}(n.authorizedCrossOriginNoCorsDomains)}const i=e.credential;if(i&&s.id){const e=s.id.findServerInfo(i.server);let t=e&&e.owningSystemUrl;if(t){t=t.replace(/\/?$/,"/sharing");const e=s.id.findCredential(t,i.userId);e&&-1===s.id._getIdenticalSvcIdx(t,e)&&e.resources.unshift(t)}}return{data:n,getHeader:t?e=>t?.headers.get(e):S,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}(p);return d?.after?.(b),b}let w;const y=r.Z.request,_="FormData"in globalThis,q=[499,498,403,401],v=["COM_0056","COM_0057","SB_0008"],B=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],S=()=>null,U=Symbol();function T(e){const t=(0,u.P$)(e);return!t||t.endsWith(".arcgis.com")||M._corsServers.includes(t)||(0,u.kl)(t)}function k(e,t,n,r){let s="Error";const i={url:n.url,requestOptions:n.requestOptions,getHeader:S,ssl:!1};if(t instanceof a.Z)return t.details?(t.details=(0,o.d9)(t.details),t.details.url=n.url,t.details.requestOptions=n.requestOptions):t.details=i,t;if(t){const e=r&&(e=>r.headers.get(e)),n=r&&r.status,a=t.message;a&&(s=a),e&&(i.getHeader=e),i.httpStatus=(null!=t.httpCode?t.httpCode:t.code)||n||0,i.subCode=t.subcode,i.messageCode=t.messageCode,"string"==typeof t.details?i.messages=[t.details]:i.messages=t.details,i.raw=U in t?t[U]:t}return(0,l.D_)(t)?(0,l.zE)():new a.Z(e,s,i)}async function O(){s.id||await Promise.all([n.e(6467),n.e(9798)]).then(n.bind(n,89798))}function P(e){return B.some((t=>t.test(e)))}async function E(e){let t=e.params.url;const n=e.params.requestOptions,a=e.fetchOptions??{},o=(0,u.jc)(t)||(0,u.HK)(t),c=n.responseType||"json",h=o?0:null!=n.timeout?n.timeout:y.timeout;let m=!1;if(!o){e.useSSL&&(t=(0,u.hO)(t)),n.cacheBust&&"default"===a.cache&&(t=(0,u.ZN)(t,"request.preventCache",Date.now()));let o={...n.query};e.credentialToken&&(o.token=e.credentialToken);let c=(0,u.B7)(o);(0,i.h)("esri-url-encodes-apostrophe")&&(c=c.replace(/'/g,"%27"));const l=t.length+1+c.length;let h;m="delete"===n.method||"post"===n.method||"put"===n.method||!!n.body||l>y.maxUrlLength;const d=n.useProxy||!!(0,u.ed)(t);if(d){const e=(0,u.b7)(t);h=e.path,!m&&h.length+1+l>y.maxUrlLength&&(m=!0),e.query&&(o={...e.query,...o})}if("HEAD"===a.method&&(m||d)){if(m){if(l>y.maxUrlLength)throw k("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params);throw k("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params)}if(d)throw k("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}if(m?(a.method="delete"===n.method?"DELETE":"put"===n.method?"PUT":"POST",n.body?t=(0,u.fl)(t,o):(a.body=(0,u.B7)(o),a.headers||(a.headers={}),a.headers["Content-Type"]="application/x-www-form-urlencoded")):t=(0,u.fl)(t,o),d&&(e.useProxy=!0,t=`${h}?${t}`),o.token&&_&&a.body instanceof FormData&&!f(t)&&a.body.set("token",o.token),n.hasOwnProperty("withCredentials"))e.withCredentials=n.withCredentials;else if(!(0,u.D6)(t,(0,u.TI)()))if((0,u.kl)(t))e.withCredentials=!0;else if(s.id){const n=s.id.findServerInfo(t);n&&n.webTierAuth&&(e.withCredentials=!0)}e.withCredentials&&(a.credentials="include",function(e){const t=r.Z.request.crossOriginNoCorsDomains;if(t){let n=(0,u.P$)(e);if(n)return n=n.toLowerCase(),!(0,u.D6)(n,(0,u.TI)())&&t[n]<Date.now()-36e5}return!1}(t)&&await async function(e){const t=r.Z.request.crossOriginNoCorsDomains,n=(0,u.P$)(e);t&&n&&(t[n.toLowerCase()]=Date.now());const s=(0,u.mN)(e);e=s.path,"json"===s.query?.f&&(e+="?f=json");try{await fetch(e,{mode:"no-cors",credentials:"include"})}catch{}}(m?(0,u.fl)(t,o):t))}let d,p,x=0,b=!1;h>0&&(x=setTimeout((()=>{b=!0,e.controller.abort()}),h));try{if("native-request-init"===n.responseType)p=a,p.url=t;else if("image"!==n.responseType||"default"!==a.cache||"GET"!==a.method||m||function(e){if(e)for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0;return!1}(n.headers)||!o&&!e.useProxy&&y.proxyUrl&&!T(t)){if(d=await M._abortableFetch(t,a),e.useProxy||function(e){const t=(0,u.P$)(e);t&&!M._corsServers.includes(t)&&M._corsServers.push(t)}(t),"native"===n.responseType)p=d;else if("HEAD"!==a.method)if(d.ok){switch(c){case"array-buffer":p=await d.arrayBuffer();break;case"blob":case"image":p=await d.blob();break;default:p=await d.text()}if(x&&(clearTimeout(x),x=0),"json"===c||"xml"===c||"document"===c)if(p)switch(c){case"json":p=JSON.parse(p);break;case"xml":p=C(p,"application/xml");break;case"document":p=C(p,"text/html")}else p=null;if(p){if("array-buffer"===c||"blob"===c){const e=d.headers.get("Content-Type");if(e&&/application\/json|text\/plain/i.test(e)&&p["blob"===c?"size":"byteLength"]<=750)try{const e=await new Response(p).json();e.error&&(p=e)}catch{}}"image"===c&&p instanceof Blob&&(p=await X(URL.createObjectURL(p),e,!0))}}else p=await d.text()}else p=await X(t,e)}catch(r){if("AbortError"===r.name){if(b)throw new Error("Timeout exceeded");throw(0,l.zE)("Request canceled")}if(!(!d&&r instanceof TypeError&&y.proxyUrl)||n.body||"delete"===n.method||"head"===n.method||"post"===n.method||"put"===n.method||e.useProxy||T(t))throw r;e.redoRequest=!0,(0,u.tD)({proxyUrl:y.proxyUrl,urlPrefix:(0,u.P$)(t)??""})}finally{x&&clearTimeout(x)}return[d,p]}function C(e,t){let n;try{n=(new DOMParser).parseFromString(e,t)}catch{}if(!n||n.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return n}async function Y(e,t,n){if(e.redoRequest)return e.redoRequest=!1,!1;const r=e.params.requestOptions;if(!t||"native"===r.responseType||"native-request-init"===r.responseType)return!0;let a,i;if(!t.ok)throw a=new Error(`Unable to load ${t.url} status: ${t.status}`),a[U]=n,a;n&&(n.error?a=n.error:"error"===n.status&&Array.isArray(n.messages)&&(a={...n},a[U]=n,a.details=n.messages));let o,c=null;a&&(i=Number(a.code),c=a.hasOwnProperty("subcode")?Number(a.subcode):null,o=a.messageCode,o=o&&o.toUpperCase());const l=r.authMode;if(403===i&&(4===c||a.message&&a.message.toLowerCase().includes("ssl")&&!a.message.toLowerCase().includes("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&("no-prompt"!==l||498===i)&&void 0!==i&&q.includes(i)&&!P(e.params.url)&&(403!==i||o&&!v.includes(o)&&(null==c||2===c&&e.credentialToken))){await O();try{const t=await s.id.getCredential(e.params.url,{error:k("request:server",a,e.params),prompt:"no-prompt"!==l,signal:e.controller.signal,token:e.credentialToken});return e.credential=t,e.credentialToken=t.token,e.useSSL=e.useSSL||t.ssl,!1}catch(t){if("no-prompt"===l)return e.credential=void 0,e.credentialToken=void 0,!1;a=t}}if(a)throw a;return!0}function X(e,t,n=!1){const r=t.controller.signal,s=new Image;return t.withCredentials?s.crossOrigin="use-credentials":s.crossOrigin="anonymous",s.alt="",s.fetchPriority=y.priority,s.src=e,b(s,e,n,r)}M._abortableFetch=null,M._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];const I=Object.freeze(Object.defineProperty({__proto__:null,default:M},Symbol.toStringTag,{value:"Module"}))}}]);