"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[2176],{92482:(e,r,t)=>{t.d(r,{N:()=>h,c:()=>i,d:()=>y,e:()=>f,f:()=>S,g:()=>s,h:()=>p,i:()=>L,j:()=>d,r:()=>l,t:()=>u,y:()=>c}),t(71552),t(82426);var a=t(71252),n=t(21801);function i(e=v){return[e[0],e[1],e[2],e[3]]}function o(e,r){return e!==r&&(e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3]),e}function l(e,r,t,a,n=i()){return n[0]=e,n[1]=r,n[2]=t,n[3]=a,n}function s(e,r=i()){return r[0]=e.xmin,r[1]=e.ymin,r[2]=e.xmax,r[3]=e.ymax,r}function u(e,r){return new n.Z({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:r})}function y(e,r,t){if((0,a.a)(r))o(t,e);else if("length"in r)m(r)?(t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t[3]=Math.max(e[3],r[3])):2!==r.length&&3!==r.length||(t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.max(e[2],r[0]),t[3]=Math.max(e[3],r[1]));else switch(r.type){case"extent":t[0]=Math.min(e[0],r.xmin),t[1]=Math.min(e[1],r.ymin),t[2]=Math.max(e[2],r.xmax),t[3]=Math.max(e[3],r.ymax);break;case"point":t[0]=Math.min(e[0],r.x),t[1]=Math.min(e[1],r.y),t[2]=Math.max(e[2],r.x),t[3]=Math.max(e[3],r.y)}}function c(e){return function(e){return(0,a.a)(e)||e[0]>=e[2]?0:e[2]-e[0]}(e)*function(e){return e[1]>=e[3]?0:e[3]-e[1]}(e)}function p(e,r,t){return r>=e[0]&&t>=e[1]&&r<=e[2]&&t<=e[3]}function L(e,r){return Math.max(r[0],e[0])<=Math.min(r[2],e[2])&&Math.max(r[1],e[1])<=Math.min(r[3],e[3])}function d(e,r){return r[0]>=e[0]&&r[2]<=e[2]&&r[1]>=e[1]&&r[3]<=e[3]}function f(e){return e?o(e,h):i(h)}function m(e){return null!=e&&4===e.length}function S(e,r){return m(e)&&m(r)?e[0]===r[0]&&e[1]===r[1]&&e[2]===r[2]&&e[3]===r[3]:e===r}const h=[1/0,1/0,-1/0,-1/0],v=[0,0,0,0]},21132:(e,r,t)=>{t.d(r,{a:()=>h,b:()=>c,c:()=>d,d:()=>I,f:()=>L,i:()=>m,p:()=>p,s:()=>S,t:()=>f,w:()=>v});var a=t(71252),n=t(32101),i=t(38742);const o={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer"},l=Object.values(o),s=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${l.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),u=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${l.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),y=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function c(e){return!!s.test(e)}function p(e){if((0,a.a)(e))return null;const r=(0,n.mN)(e),t=r.path.match(s)||r.path.match(u);if(!t)return null;const[,i,l,y,c]=t,p=l.indexOf("/");return{title:d(-1!==p?l.slice(p+1):l),serverType:o[y.toLowerCase()],sublayer:null!=c&&""!==c?parseInt(c,10):null,url:{path:i}}}function L(e){const r=(0,n.mN)(e).path.match(y);return r?{serviceUrl:r[1],sublayerId:Number(r[2])}:null}function d(e){return(e=e.replace(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function f(e,r){const t=[];if(e){const r=p(e);(0,a.i)(r)&&r.title&&t.push(r.title)}if(r){const e=d(r);t.push(e)}if(2===t.length){if(t[0].toLowerCase().includes(t[1].toLowerCase()))return t[0];if(t[1].toLowerCase().includes(t[0].toLowerCase()))return t[1]}return t.join(" - ")}function m(e){if(!e)return!1;const r=(e=e.toLowerCase()).includes(".arcgis.com/"),t=e.includes("//services")||e.includes("//tiles")||e.includes("//features");return r&&t}function S(e,r){return e?(0,n.Qj)((0,n.Hu)(e,r)):e}function h(e){let{url:r}=e;if(!r)return{url:r};r=(0,n.Hu)(r,e.logger);const t=(0,n.mN)(r),i=p(t.path);let o;if((0,a.i)(i))null!=i.sublayer&&null==e.layer.layerId&&(o=i.sublayer),r=i.url.path;else if(e.nonStandardUrlAllowed){const e=L(t.path);(0,a.i)(e)&&(r=e.serviceUrl,o=e.sublayerId)}return{url:(0,n.Qj)(r),layerId:o}}function v(e,r,t,a,o){(0,i.w)(r,a,"url",o),a.url&&null!=e.layerId&&(a.url=(0,n.v_)(a.url,t,e.layerId.toString()))}function I(e){if(!e)return!1;const r=e.toLowerCase(),t=r.includes("/services/"),a=r.includes("/mapserver/wmsserver"),n=r.includes("/imageserver/wmsserver"),i=r.includes("/wmsserver");return t&&(a||n||i)}},92176:(e,r,t)=>{t.r(r),t.d(r,{populateOperationalLayers:()=>y});var a=t(15324),n=(t(71552),t(50406)),i=t(67902),o=t(56420),l=t(36458),s=t(71831);function u(e,r){return!(!e.layerType||"ArcGISFeatureLayer"!==e.layerType)&&e.featureCollectionType===r}async function y(e,r,t){if(!r)return;const a=[];for(const e of r){const r=S(e,t);"GroupLayer"===e.layerType?a.push(I(r,e,t)):a.push(r)}const i=await(0,n.as)(a);for(const r of i)!r.value||t.filter&&!t.filter(r.value)||e.add(r.value)}t(91055),t(75067),t(21972),t(60474),t(66396),t(76506),t(86656),t(92143),t(31450),t(40642),t(17533),t(6540),t(91306),t(60991),t(34250),t(19657),t(6906),t(89914),t(73173),t(82058),t(88762),t(32101),t(12047),t(81184),t(33101),t(97714),t(21801),t(73796),t(60947),t(2906),t(91597),t(86787),t(35132),t(89623),t(49900),t(3482),t(67477),t(57251),t(78533),t(74653),t(91091),t(58943),t(74742),t(28239),t(8642),t(41617),t(74569),t(84069),t(44567),t(98380),t(92896),t(22781),t(32422),t(3296),t(21132),t(38742),t(69586),t(60111),t(1623),t(82426),t(72836),t(29794),t(53785),t(95587),t(65775),t(12381),t(92482),t(92624),t(92847),t(41864);const c={ArcGISDimensionLayer:"DimensionLayer",ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",PointCloudLayer:"PointCloudLayer",ArcGISSceneServiceLayer:"SceneLayer",IntegratedMeshLayer:"IntegratedMeshLayer",OGCFeatureLayer:"OGCFeatureLayer",BuildingSceneLayer:"BuildingSceneLayer",ArcGISTiledElevationServiceLayer:"ElevationLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",GroupLayer:"GroupLayer",GeoJSON:"GeoJSONLayer",WebTiledLayer:"WebTileLayer",CSV:"CSVLayer",VectorTileLayer:"VectorTileLayer",WFS:"WFSLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer",KML:"KMLLayer",RasterDataLayer:"UnsupportedLayer",Voxel:"VoxelLayer",LineOfSightLayer:"LineOfSightLayer"},p={ArcGISTiledElevationServiceLayer:"ElevationLayer",DefaultTileLayer:"ElevationLayer",RasterDataElevationLayer:"UnsupportedLayer"},L={ArcGISTiledMapServiceLayer:"TileLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",OpenStreetMap:"OpenStreetMapLayer",WebTiledLayer:"WebTileLayer",VectorTileLayer:"VectorTileLayer",ArcGISImageServiceLayer:"UnsupportedLayer",WMS:"UnsupportedLayer",ArcGISMapServiceLayer:"UnsupportedLayer",DefaultTileLayer:"TileLayer"},d={ArcGISAnnotationLayer:"UnsupportedLayer",ArcGISDimensionLayer:"UnsupportedLayer",ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISStreamLayer:"StreamLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",CSV:"CSVLayer",DefaultTileLayer:"TileLayer",GeoRSS:"GeoRSSLayer",GeoJSON:"GeoJSONLayer",GroupLayer:"GroupLayer",KML:"KMLLayer",OGCFeatureLayer:"OGCFeatureLayer",OrientedImageryLayer:"OrientedImageryLayer",SubtypeGroupLayer:"SubtypeGroupLayer",VectorTileLayer:"VectorTileLayer",WFS:"WFSLayer",WMS:"WMSLayer",WebTiledLayer:"WebTileLayer"},f={ArcGISFeatureLayer:"FeatureLayer"},m={ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",OpenStreetMap:"OpenStreetMapLayer",VectorTileLayer:"VectorTileLayer",WebTiledLayer:"WebTileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer"};async function S(e,r){const t=await async function(e,r){const t=r.context,a=function(e){let r;if("web-scene"===e.origin)switch(e.layerContainerType){case"basemap":r=L;break;case"ground":r=p;break;default:r=c}else switch(e.layerContainerType){case"basemap":r=m;break;case"tables":r=f;break;default:r=d}return r}(t);let n=e.layerType||e.type;!n&&r&&r.defaultLayerType&&(n=r.defaultLayerType);const s=a[n];let y=s?i.l[s]:i.l.UnknownLayer;if(v(e)){const r=t?.portal;if(e.itemId){const t=new o.default({id:e.itemId,portal:r});await t.load();const a=(await(0,l.selectLayerClassPath)(t)).className||"UnknownLayer";y=i.l[a]}}else"ArcGISFeatureLayer"===n?function(e){return u(e,"notes")}(e)||function(e){return u(e,"markup")}(e)?y=i.l.MapNotesLayer:function(e){return u(e,"route")}(e)?y=i.l.RouteLayer:h(e)&&(y=i.l.GroupLayer):e.wmtsInfo&&e.wmtsInfo.url&&e.wmtsInfo.layerIdentifier?y=i.l.WMTSLayer:"WFS"===n&&"2.0.0"!==e.wfsInfo.version&&(y=i.l.UnsupportedLayer);return y()}(e,r);return async function(e,r,t){const a=new e;return a.read(r,t.context),"group"===a.type&&h(r)&&await async function(e,r,t){const a=i.l.FeatureLayer,n=await a(),o=r.featureCollection,l=o.showLegend,s=o.layers.map(((a,i)=>{const o=new n;o.read(a,t);const s={...t,ignoreDefaults:!0};return o.read({id:`${e.id}-sublayer-${i}`,visibility:r.visibleLayers?.includes(i)??!0},s),null!=l&&o.read({showLegend:l},s),o}));e.layers.addMany(s)}(a,r,t.context),await(0,s.l)(a,t.context),a}(t,e,r)}function h(e){return"ArcGISFeatureLayer"===e.layerType&&!v(e)&&(e.featureCollection?.layers?.length??0)>1}function v(e){return"Feature Collection"===e.type}async function I(e,r,t){const n=new a.Z,i=y(n,Array.isArray(r.layers)?r.layers:[],t),o=await e;if(await i,"group"===o.type)return o.layers.addMany(n),o}},38742:(e,r,t)=>{t.d(r,{M:()=>f,a:()=>S,e:()=>L,f:()=>i,i:()=>c,p:()=>p,r:()=>l,t:()=>o,w:()=>s});var a=t(71252),n=t(32101);function i(e,r){const t=r&&r.url&&r.url.path;if(e&&t&&(e=(0,n.hF)(e,t,{preserveProtocolRelative:!0}),r.portalItem&&r.readResourcePaths)){const t=(0,n.PF)(e,r.portalItem.itemUrl);null!=t&&y.test(t)&&r.readResourcePaths.push(r.portalItem.resourceFromPath(t).path)}return d(e,r&&r.portal)}function o(e,r,t=f.YES){if(null==e)return e;!(0,n.YP)(e)&&r&&r.blockedRelativeUrls&&r.blockedRelativeUrls.push(e);let a=(0,n.hF)(e);if(r){const t=r.verifyItemRelativeUrls&&r.verifyItemRelativeUrls.rootPath||r.url&&r.url.path;if(t){const i=d(t,r.portal);a=(0,n.PF)(d(a,r.portal),i,i),null!=a&&a!==e&&r.verifyItemRelativeUrls&&r.verifyItemRelativeUrls.writtenUrls.push(a)}}return a=L(a,r?.portal),(0,n.YP)(a)&&(a=(0,n.Fv)(a)),r?.resources&&r?.portalItem&&!(0,n.YP)(a)&&!(0,n.HK)(a)&&t===f.YES&&r.resources.toKeep.push({resource:r.portalItem.resourceFromPath(a),compress:!1}),a}function l(e,r,t){return i(e,t)}function s(e,r,t,a){const n=o(e,a);void 0!==n&&(r[t]=n)}const u=/\/items\/([^\/]+)\/resources\/(.*)/,y=/^\.\/resources\//;function c(e){return(e?.match(u)??null)?.[1]??null}function p(e){const r=e?.match(u)??null;if(null==r)return null;const t=r[2],i=t.lastIndexOf("/");if(-1===i){const{path:e,extension:r}=(0,n.fZ)(t);return{prefix:null,filename:e,extension:(0,a.u)(r)}}const{path:o,extension:l}=(0,n.fZ)(t.slice(i+1));return{prefix:t.slice(0,i),filename:o,extension:(0,a.u)(l)}}function L(e,r){return r&&!r.isPortal&&r.urlKey&&r.customBaseUrl?(0,n.Ie)(e,`${r.urlKey}.${r.customBaseUrl}`,r.portalHostname):e}function d(e,r){if(!r||r.isPortal||!r.urlKey||!r.customBaseUrl)return e;const t=`${r.urlKey}.${r.customBaseUrl}`,a=(0,n.TI)();return(0,n.D6)(a,`${a.scheme}://${t}`)?(0,n.Ie)(e,r.portalHostname,t):(0,n.Ie)(e,t,r.portalHostname)}var f,m;(m=f||(f={}))[m.YES=0]="YES",m[m.NO=1]="NO";const S=Object.freeze(Object.defineProperty({__proto__:null,fromJSON:i,toJSON:o,read:l,write:s,itemIdFromResourceUrl:c,prefixAndFilenameFromResourceUrl:p,ensureMainOnlineDomain:L,get MarkKeep(){return f}},Symbol.toStringTag,{value:"Module"}))},3296:(e,r,t)=>{t.d(r,{IG:()=>o});var a=t(29768),n=t(17533);t(71552),t(76506),t(86656),t(66396),t(6540),t(92143),t(31450),t(40642),t(91306),t(60991);let i=0;const o=e=>{let r=class extends e{constructor(...e){super(...e),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+i++})}};return r=(0,a._)([(0,n.j)("esri.core.Identifiable")],r),r};let l=class extends(o(class{})){};l=(0,a._)([(0,n.j)("esri.core.Identifiable")],l)},41617:(e,r,t)=>{t.d(r,{Z:()=>v});var a=t(29768),n=(t(74569),t(82058)),i=t(60991),o=t(75067),l=t(3296),s=t(81184),u=t(92143),y=t(50406),c=t(32101),p=t(34250),L=(t(76506),t(91306),t(17533)),d=t(31450),f=t(21801),m=t(60947);t(73796),t(12047),t(21972),t(60474),t(66396),t(86656),t(71552),t(91055),t(6540),t(19657),t(6906),t(40642),t(97714),t(84069),t(2906),t(91597),t(86787),t(35132),t(89623),t(44567),t(98380),t(92896),t(22781),t(57251),t(32422),t(88762),t(33101);let S=0,h=class extends(o.Z.EventedMixin((0,l.IG)(s.Z))){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new f.Z(-180,-90,180,90,m.Z.WGS84),this.id=Date.now().toString(16)+"-layer-"+S++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=m.Z.WGS84,this.title=null,this.type=null,this.url=null,this.visible=!0}static async fromArcGISServerUrl(e){const r="string"==typeof e?{url:e}:e;return(await t.e(6601).then(t.bind(t,66601))).fromUrl(r)}static fromPortalItem(e){return async function(e){const r="portalItem"in e?e:{portalItem:e},a=await Promise.all([t.e(1623),t.e(6458),t.e(9914)]).then(t.bind(t,36458));try{return await a.fromItem(r)}catch(e){const t=r&&r.portalItem,a=t&&t.id||"unset",n=t&&t.portal&&t.portal.url||d.Z.portalUrl;throw u.L.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+n+"', id: '"+a+"')",e),e}}(e)}initialize(){this.when().catch((e=>{(0,y.D_)(e)||u.L.getLogger(this.declaredClass).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:e})}))}destroy(){if(this.parent){const e=this,r=this.parent;"layers"in r&&r.layers.includes(e)?r.layers.remove(e):"tables"in r&&r.tables.includes(e)?r.tables.remove(e):"baseLayers"in r&&r.baseLayers.includes(e)?r.baseLayers.remove(e):"baseLayers"in r&&r.referenceLayers.includes(e)&&r.referenceLayers.remove(e)}}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){return(0,c.mN)(this.url)}async fetchAttributionData(){const e=this.attributionDataUrl;if(this.hasAttributionData&&e)return(await(0,n.default)(e,{query:{f:"json"},responseType:"json"})).data;throw new i.Z("layer:no-attribution-data","Layer does not have attribution data")}};(0,a._)([(0,p.Cb)({type:String})],h.prototype,"attributionDataUrl",void 0),(0,a._)([(0,p.Cb)({type:f.Z})],h.prototype,"fullExtent",void 0),(0,a._)([(0,p.Cb)({readOnly:!0})],h.prototype,"hasAttributionData",null),(0,a._)([(0,p.Cb)({type:String,clonable:!1})],h.prototype,"id",void 0),(0,a._)([(0,p.Cb)({type:Boolean,nonNullable:!0})],h.prototype,"legendEnabled",void 0),(0,a._)([(0,p.Cb)({type:["show","hide","hide-children"]})],h.prototype,"listMode",void 0),(0,a._)([(0,p.Cb)({type:Number,range:{min:0,max:1},nonNullable:!0})],h.prototype,"opacity",void 0),(0,a._)([(0,p.Cb)({clonable:!1})],h.prototype,"parent",void 0),(0,a._)([(0,p.Cb)({readOnly:!0})],h.prototype,"parsedUrl",null),(0,a._)([(0,p.Cb)({type:Boolean})],h.prototype,"popupEnabled",void 0),(0,a._)([(0,p.Cb)({type:Boolean})],h.prototype,"attributionVisible",void 0),(0,a._)([(0,p.Cb)({type:m.Z})],h.prototype,"spatialReference",void 0),(0,a._)([(0,p.Cb)({type:String})],h.prototype,"title",void 0),(0,a._)([(0,p.Cb)({readOnly:!0,json:{read:!1}})],h.prototype,"type",void 0),(0,a._)([(0,p.Cb)()],h.prototype,"url",void 0),(0,a._)([(0,p.Cb)({type:Boolean,nonNullable:!0})],h.prototype,"visible",void 0),h=(0,a._)([(0,L.j)("esri.layers.Layer")],h);const v=h}}]);