"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[3900],{3900:(e,t,i)=>{i.r(t),i.d(t,{default:()=>_});var s=i(60991),n=i(71252),r=i(32422),o=i(60947),l=i(40267),a=i(19957),u=i(56761),d=i(24251),p=i(50815),c=i(4571),f=i(77358),y=i(1709),h=i(54732),m=i(14249);i(76506),i(92143),i(31450),i(71552),i(40642),i(21801),i(34250),i(91306),i(60474),i(66396),i(86656),i(17533),i(6540),i(73796),i(12047),i(21972),i(91055),i(19657),i(6906),i(50406),i(97714),i(2906),i(91597),i(86787),i(35132),i(89623),i(84069),i(44567),i(98380),i(92896),i(75067),i(53326),i(92482),i(82426),i(72836),i(29794),i(74395),i(88994),i(98576),i(44722),i(1623),i(53785),i(57251),i(95587),i(89914),i(65775),i(12381),i(73173),i(82058),i(88762),i(32101),i(92624),i(92847),i(77314),i(91700),i(95533),i(94751),i(95307),i(74569),i(22781),i(94216),i(81731),i(77849),i(71435),i(30831),i(72274),i(5777),i(59565),i(66774),i(63683),i(94479),i(48027),i(54174),i(59465),i(45702),i(51127),i(30776),i(3039),i(60217),i(89219),i(92653),i(85056),i(58085),i(76360),i(8288),i(6941);const g=o.W,F={xmin:-180,ymin:-90,xmax:180,ymax:90,spatialReference:o.W},b={hasAttachments:!1,capabilities:"query, editing, create, delete, update",useStandardizedQueries:!0,supportsCoordinatesQuantization:!0,supportsReturningQueryGeometry:!0,advancedQueryCapabilities:{supportsQueryAttachments:!1,supportsStatistics:!0,supportsPercentileStatistics:!0,supportsReturningGeometryCentroid:!0,supportsQueryWithDistance:!0,supportsDistinct:!0,supportsReturningQueryExtent:!0,supportsReturningGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQueryWithResultType:!1,supportsSqlExpression:!0,supportsDisjointSpatialRel:!0}};function S(e){return(0,r.wp)(e)?null!=e.z:!!e.hasZ}function I(e){return(0,r.wp)(e)?null!=e.m:!!e.hasM}class _{constructor(){this._queryEngine=null,this._nextObjectId=null}destroy(){this._queryEngine&&this._queryEngine&&this._queryEngine.destroy(),this._queryEngine=this._fieldsIndex=this._createDefaultAttributes=null}async load(e){const t=[],{features:i}=e,n=this._inferLayerProperties(i,e.fields),r=e.fields||[],o=null!=e.hasM?e.hasM:n.hasM,l=null!=e.hasZ?e.hasZ:n.hasZ,f=!e.spatialReference&&!n.spatialReference,S=f?g:e.spatialReference||n.spatialReference,I=f?F:null,_=e.geometryType||n.geometryType,w=!_;let x=e.objectIdField||n.objectIdField,T=e.timeInfo;if(!w&&(f&&t.push({name:"feature-layer:spatial-reference-not-found",message:"Spatial reference not provided or found in features. Defaults to WGS84"}),!_))throw new s.Z("feature-layer:missing-property","geometryType not set and couldn't be inferred from the provided features");if(!x)throw new s.Z("feature-layer:missing-property","objectIdField not set and couldn't be found in the provided fields");if(n.objectIdField&&x!==n.objectIdField&&(t.push({name:"feature-layer:duplicated-oid-field",message:`Provided objectIdField "${x}" doesn't match the field name "${n.objectIdField}", found in the provided fields`}),x=n.objectIdField),x&&!n.objectIdField){let e=null;r.some((t=>t.name===x&&(e=t,!0)))?(e.type="esriFieldTypeOID",e.editable=!1,e.nullable=!1):r.unshift({alias:x,name:x,type:"esriFieldTypeOID",editable:!1,nullable:!1})}for(const e of r){if(null==e.name&&(e.name=e.alias),null==e.alias&&(e.alias=e.name),!e.name)throw new s.Z("feature-layer:invalid-field-name","field name is missing",{field:e});if(e.name===x&&(e.type="esriFieldTypeOID"),!h.k.jsonValues.includes(e.type))throw new s.Z("feature-layer:invalid-field-type",`invalid type for field "${e.name}"`,{field:e})}const q={};for(const e of r)if("esriFieldTypeOID"!==e.type&&"esriFieldTypeGlobalID"!==e.type){const t=(0,m.os)(e);void 0!==t&&(q[e.name]=t)}if(this._fieldsIndex=new y.Z(r),this._createDefaultAttributes=(0,c.b)(q,x),T){if(T.startTimeField){const e=this._fieldsIndex.get(T.startTimeField);e?(T.startTimeField=e.name,e.type="esriFieldTypeDate"):T.startTimeField=null}if(T.endTimeField){const e=this._fieldsIndex.get(T.endTimeField);e?(T.endTimeField=e.name,e.type="esriFieldTypeDate"):T.endTimeField=null}if(T.trackIdField){const e=this._fieldsIndex.get(T.trackIdField);e?T.trackIdField=e.name:(T.trackIdField=null,t.push({name:"feature-layer:invalid-timeInfo-trackIdField",message:"trackIdField is missing",details:{timeInfo:T}}))}T.startTimeField||T.endTimeField||(t.push({name:"feature-layer:invalid-timeInfo",message:"startTimeField and endTimeField are missing or invalid",details:{timeInfo:T}}),T=null)}const R={warnings:t,featureErrors:[],layerDefinition:{...b,drawingInfo:(0,c.a)(_),templates:(0,c.d)(q),extent:I,geometryType:_,objectIdField:x,fields:r,hasZ:!!l,hasM:!!o,timeInfo:T},assignedObjectIds:{}};if(this._queryEngine=new p.Q({fields:r,geometryType:_,hasM:o,hasZ:l,objectIdField:x,spatialReference:S,featureStore:new u.F({geometryType:_,hasM:o,hasZ:l}),timeInfo:T,cacheSpatialQueries:!0}),!i||!i.length)return this._nextObjectId=a.i,R;const E=(0,a.f)(x,i);return this._nextObjectId=E+1,await(0,d.c)(i,S),this._loadInitialFeatures(R,i)}async applyEdits(e){const{spatialReference:t,geometryType:i}=this._queryEngine;return await Promise.all([(0,f.l)(t,i),(0,d.c)(e.adds,t),(0,d.c)(e.updates,t)]),this._applyEdits(e)}queryFeatures(e,t={}){return this._queryEngine.executeQuery(e,t.signal)}queryFeatureCount(e,t={}){return this._queryEngine.executeQueryForCount(e,t.signal)}queryObjectIds(e,t={}){return this._queryEngine.executeQueryForIds(e,t.signal)}queryExtent(e,t={}){return this._queryEngine.executeQueryForExtent(e,t.signal)}querySnapping(e,t={}){return this._queryEngine.executeQueryForSnapping(e,t.signal)}_inferLayerProperties(e,t){let i,s,o=null,l=null,a=null;for(const t of e){const e=t.geometry;if(!(0,n.a)(e)&&(o||(o=(0,r.Ji)(e)),l||(l=e.spatialReference),null==i&&(i=S(e)),null==s&&(s=I(e)),o&&l&&null!=i&&null!=s))break}if(t&&t.length){let e=null;t.some((t=>{const i="esriFieldTypeOID"===t.type,s=!t.type&&t.name&&"objectid"===t.name.toLowerCase();return e=t,i||s}))&&(a=e.name)}return{geometryType:o,spatialReference:l,objectIdField:a,hasM:s,hasZ:i}}_loadInitialFeatures(e,t){const{geometryType:i,hasM:s,hasZ:o,objectIdField:a,spatialReference:u,featureStore:p}=this._queryEngine,c=[];for(const s of t){if(null!=s.uid&&(e.assignedObjectIds[s.uid]=-1),s.geometry&&i!==(0,r.Ji)(s.geometry)){e.featureErrors.push((0,f.a)("Incorrect geometry type."));continue}const t=this._createDefaultAttributes(),o=(0,f.m)(this._fieldsIndex,t,s.attributes,!0,e.warnings);o?e.featureErrors.push(o):(this._assignObjectId(t,s.attributes,!0),s.attributes=t,null!=s.uid&&(e.assignedObjectIds[s.uid]=s.attributes[a]),(0,n.i)(s.geometry)&&(s.geometry=(0,d.p)(s.geometry,s.geometry.spatialReference,u)),c.push(s))}if(p.addMany((0,l.n)([],c,i,o,s,a)),e.layerDefinition.extent=this._queryEngine.fullExtent,e.layerDefinition.timeInfo){const{start:t,end:i}=this._queryEngine.timeExtent;e.layerDefinition.timeInfo.timeExtent=[t,i]}return e}_applyEdits(e){const{adds:t,updates:i,deletes:s}=e,n={addResults:[],deleteResults:[],updateResults:[],uidToObjectId:{}};if(t&&t.length&&this._applyAddEdits(n,t),i&&i.length&&this._applyUpdateEdits(n,i),s&&s.length){for(const e of s)n.deleteResults.push((0,f.c)(e));this._queryEngine.featureStore.removeManyById(s)}return{fullExtent:this._queryEngine.fullExtent,featureEditResults:n}}_applyAddEdits(e,t){const{addResults:i}=e,{geometryType:s,hasM:o,hasZ:a,objectIdField:u,spatialReference:p,featureStore:c}=this._queryEngine,y=[];for(const o of t){if(o.geometry&&s!==(0,r.Ji)(o.geometry)){i.push((0,f.a)("Incorrect geometry type."));continue}const t=this._createDefaultAttributes(),l=(0,f.m)(this._fieldsIndex,t,o.attributes);if(l)i.push(l);else{if(this._assignObjectId(t,o.attributes),o.attributes=t,null!=o.uid){const t=o.attributes[u];e.uidToObjectId[o.uid]=t}if((0,n.i)(o.geometry)){const e=o.geometry.spatialReference??p;o.geometry=(0,d.p)((0,f.s)(o.geometry,e),e,p)}y.push(o),i.push((0,f.c)(o.attributes[u]))}}c.addMany((0,l.n)([],y,s,a,o,u))}_applyUpdateEdits({updateResults:e},t){const{geometryType:i,hasM:s,hasZ:o,objectIdField:a,spatialReference:u,featureStore:p}=this._queryEngine;for(const c of t){const{attributes:t,geometry:y}=c,h=t&&t[a];if(null==h){e.push((0,f.a)(`Identifier field ${a} missing`));continue}if(!p.has(h)){e.push((0,f.a)(`Feature with object id ${h} missing`));continue}const m=(0,l.o)(p.getFeature(h),i,o,s);if((0,n.i)(y)){if(i!==(0,r.Ji)(y)){e.push((0,f.a)("Incorrect geometry type."));continue}const t=y.spatialReference??u;m.geometry=(0,d.p)((0,f.s)(y,t),t,u)}if(t){const i=(0,f.m)(this._fieldsIndex,m.attributes,t);if(i){e.push(i);continue}}p.add((0,l.p)(m,i,o,s,a)),e.push((0,f.c)(h))}}_assignObjectId(e,t,i=!1){const s=this._queryEngine.objectIdField;i&&t&&isFinite(t[s])?e[s]=t[s]:e[s]=this._nextObjectId++}}},4571:(e,t,i)=>{i.d(t,{a:()=>l,b:()=>d,c:()=>c,d:()=>p});var s=i(71552),n=i(76506),r=i(89219),o=i(6941);function l(e){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===e||"esriGeometryMultipoint"===e?o.d:"esriGeometryPolyline"===e?o.a:o.b}}}const a=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let u=1;function d(e,t){if((0,s.h)("esri-csp-restrictions"))return()=>({[t]:null,...e});try{let i=`this.${t} = null;`;for(const t in e)i+=`this${a.test(t)?`.${t}`:`["${t}"]`} = ${JSON.stringify(e[t])};`;const s=new Function(`\n      return class AttributesClass$${u++} {\n        constructor() {\n          ${i};\n        }\n      }\n    `)();return()=>new s}catch(i){return()=>({[t]:null,...e})}}function p(e={}){return[{name:"New Feature",description:"",prototype:{attributes:(0,n.d9)(e)}}]}function c(e,t){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:e},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:t,supportsDelete:t,supportsEditing:t,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:t,supportsExceedsLimitStatistics:!0},query:r.q,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsGeometryUpdate:t,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1}}}},6941:(e,t,i)=>{i.d(t,{a:()=>r,b:()=>o,c:()=>l,d:()=>n,e:()=>a,f:()=>u,g:()=>d});const s=[252,146,31,255],n={type:"esriSMS",style:"esriSMSCircle",size:6,color:s,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},r={type:"esriSLS",style:"esriSLSSolid",width:.75,color:s},o={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},l={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},a={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},u={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},d={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},54732:(e,t,i)=>{i.d(t,{k:()=>s});const s=new(i(57251).J)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})},94751:(e,t,i)=>{i.d(t,{c:()=>o,g:()=>u,o:()=>l,u:()=>a});var s=i(92896),n=i(60947),r=i(32422);const o={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new s.Z({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:n.Z.WebMercator}),minus180Line:new s.Z({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:n.Z.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new s.Z({paths:[[[180,-180],[180,180]]],spatialReference:n.Z.WGS84}),minus180Line:new s.Z({paths:[[[-180,-180],[-180,180]]],spatialReference:n.Z.WGS84})}};function l(e,t){return Math.ceil((e-t)/(2*t))}function a(e,t){const i=u(e);for(const e of i)for(const i of e)i[0]+=t;return e}function u(e){return(0,r.oU)(e)?e.rings:e.paths}},19957:(e,t,i)=>{i.d(t,{f:()=>n,i:()=>s});const s=1;function n(e,t){let i=0;for(const s of t){const t=s.attributes?.[e];"number"==typeof t&&isFinite(t)&&(i=Math.max(i,t))}return i}},95307:(e,t,i)=>{i.d(t,{c:()=>a,s:()=>u}),i(74569);var s=i(82058),n=i(32422),r=i(94216),o=i(32101),l=i(81731);async function a(e,t,i,o){const l=(0,r.p)(e),a=t[0].spatialReference,u={...o,query:{...l.query,f:"json",sr:JSON.stringify(a),target:JSON.stringify({geometryType:(0,n.Ji)(t[0]),geometries:t}),cutter:JSON.stringify(i)}},d=await(0,s.default)(l.path+"/cut",u),{cutIndexes:p,geometries:c=[]}=d.data;return{cutIndexes:p,geometries:c.map((e=>{const t=(0,n.im)(e);return t.spatialReference=a,t}))}}async function u(e,t,i){const r="string"==typeof e?(0,o.mN)(e):e,a=t[0].spatialReference,u=(0,n.Ji)(t[0]),d={...i,query:{...r.query,f:"json",sr:a.wkid?a.wkid:JSON.stringify(a),geometries:JSON.stringify((0,l.e)(t))}},{data:p}=await(0,s.default)(r.path+"/simplify",d);return(0,l.d)(p.geometries,u,a)}},77358:(e,t,i)=>{i.d(t,{a:()=>a,c:()=>d,l:()=>m,m:()=>c,s:()=>h});var s=i(71252),n=i(60947),r=i(14249);class o{constructor(){this.code=null,this.description=null}}class l{constructor(e){this.error=new o,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=e}}function a(e){return new l(e)}class u{constructor(e){this.globalId=null,this.success=!0,this.objectId=this.uniqueId=e}}function d(e){return new u(e)}const p=new Set;function c(e,t,i,s=!1,n){p.clear();for(const o in i){const l=e.get(o);if(!l)continue;const u=i[o],d=f(l,u);if(d!==u&&n&&n.push({name:"invalid-value-type",message:"attribute value was converted to match the field type",details:{field:l,originalValue:u,sanitizedValue:d}}),p.add(l.name),l&&(s||l.editable)){const e=(0,r.Qc)(l,d);if(e)return a((0,r.vP)(e,l,d));t[l.name]=d}}for(const t of e?.requiredFields??[])if(!p.has(t.name))return a(`missing required field "${t.name}"`);return null}function f(e,t){let i=t;return"string"==typeof t&&(0,r.H7)(e)?i=parseFloat(t):null!=t&&(0,r.qN)(e)&&"string"!=typeof t&&(i=String(t)),(0,r.Pz)(i)}let y;function h(e,t){if(!e||!(0,n.j)(t))return e;if("rings"in e||"paths"in e){if((0,s.a)(y))throw new TypeError("geometry engine not loaded");return y.simplify(t,e)}return e}async function m(e,t){!(0,n.j)(e)||"esriGeometryPolygon"!==t&&"esriGeometryPolyline"!==t||await async function(){return(0,s.a)(y)&&(y=await Promise.all([i.e(3361),i.e(3981)]).then(i.bind(i,43981)).then((e=>e.g))),y}()}},94216:(e,t,i)=>{i.d(t,{a:()=>r,e:()=>l,p:()=>o}),i(31450),i(88762);var s=i(76506),n=i(32101);function r(e,t){return t?{...t,query:{...e,...t.query}}:{query:e}}function o(e){return"string"==typeof e?(0,n.mN)(e):(0,s.d9)(e)}function l(e,t,i){const s={};for(const n in e){if("declaredClass"===n)continue;const r=e[n];if(null!=r&&"function"!=typeof r)if(Array.isArray(r)){s[n]=[];for(let e=0;e<r.length;e++)s[n][e]=l(r[e])}else if("object"==typeof r)if(r.toJSON){const e=r.toJSON(i&&i[n]);s[n]=t?e:JSON.stringify(e)}else s[n]=t?r:JSON.stringify(r);else s[n]=r}return s}i(82058)},81731:(e,t,i)=>{i.d(t,{d:()=>r,e:()=>n});var s=i(32422);function n(e){return{geometryType:(0,s.Ji)(e[0]),geometries:e.map((e=>e.toJSON()))}}function r(e,t,i){const n=(0,s.q9)(t);return e.map((e=>{const t=n.fromJSON(e);return t.spatialReference=i,t}))}},95533:(e,t,i)=>{i.d(t,{aX:()=>m});var s=i(31450),n=i(60991),r=i(92143),o=i(71252),l=i(44567),a=i(92896),u=i(94751),d=i(60947),p=i(35132),c=i(95307);i(71552),i(76506),i(40642),i(34250),i(91306),i(60474),i(66396),i(86656),i(17533),i(6540),i(2906),i(21801),i(73796),i(12047),i(21972),i(91055),i(19657),i(6906),i(50406),i(97714),i(91597),i(86787),i(89623),i(98380),i(32422),i(84069),i(74569),i(22781),i(57251),i(82058),i(88762),i(32101),i(94216),i(81731);const f=r.L.getLogger("esri.geometry.support.normalizeUtils");function y(e,t,i){if(t){const t=function(e,t){if(!(e instanceof a.Z||e instanceof l.Z)){const e="straightLineDensify: the input geometry is neither polyline nor polygon";throw f.error(e),new n.Z(e)}const i=(0,u.g)(e),s=[];for(const e of i){const i=[];s.push(i),i.push([e[0][0],e[0][1]]);for(let s=0;s<e.length-1;s++){const n=e[s][0],r=e[s][1],o=e[s+1][0],l=e[s+1][1],a=Math.sqrt((o-n)*(o-n)+(l-r)*(l-r)),u=(l-r)/a,d=(o-n)/a,p=a/t;if(p>1){for(let e=1;e<=p-1;e++){const s=e*t,o=d*s+n,l=u*s+r;i.push([o,l])}const e=(a+Math.floor(p-1)*t)/2,s=d*e+n,o=u*e+r;i.push([s,o])}i.push([o,l])}}return function(e){return"polygon"===e.type}(e)?new l.Z({rings:s,spatialReference:e.spatialReference}):new a.Z({paths:s,spatialReference:e.spatialReference})}(e,1e6);e=(0,p.Sx)(t,!0)}return i&&(e=(0,u.u)(e,i)),e}function h(e,t,i){if(Array.isArray(e)){const s=e[0];if(s>t){const i=(0,u.o)(s,t);e[0]=s+i*(-2*t)}else if(s<i){const t=(0,u.o)(s,i);e[0]=s+t*(-2*i)}}else{const s=e.x;if(s>t){const i=(0,u.o)(s,t);e=e.clone().offset(i*(-2*t),0)}else if(s<i){const t=(0,u.o)(s,i);e=e.clone().offset(t*(-2*i),0)}}return e}async function m(e,t,i){if(!Array.isArray(e))return m([e],t);t&&"string"!=typeof t&&f.warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");const n="string"==typeof t?t:t?.url??s.Z.geometryServiceUrl;let r,g,F,b,S,I,_,w,x=0;const T=[],q=[];for(const t of e)if((0,o.a)(t))q.push(t);else if(r||(r=t.spatialReference,g=(0,d.g)(r),F=r.isWebMercator,I=F?102100:4326,b=u.c[I].maxX,S=u.c[I].minX,_=u.c[I].plus180Line,w=u.c[I].minus180Line),g)if("mesh"===t.type)q.push(t);else if("point"===t.type)q.push(h(t.clone(),b,S));else if("multipoint"===t.type){const e=t.clone();e.points=e.points.map((e=>h(e,b,S))),q.push(e)}else if("extent"===t.type){const e=t.clone()._normalize(!1,!1,g);q.push(e.rings?new l.Z(e):e)}else if(t.extent){const e=t.extent,i=(0,u.o)(e.xmin,S)*(2*b);let s=0===i?t.clone():(0,u.u)(t.clone(),i);e.offset(i,0),e.intersects(_)&&e.xmax!==b?(x=e.xmax>x?e.xmax:x,s=y(s,F),T.push(s),q.push("cut")):e.intersects(w)&&e.xmin!==S?(x=e.xmax*(2*b)>x?e.xmax*(2*b):x,s=y(s,F,360),T.push(s),q.push("cut")):q.push(s)}else q.push(t.clone());else q.push(t);let R=(0,u.o)(x,b),E=-90;const j=R,M=new a.Z;for(;R>0;){const e=360*R-180;M.addPath([[e,E],[e,-1*E]]),E*=-1,R--}if(T.length>0&&j>0){const t=function(e,t){let i=-1;for(let s=0;s<t.cutIndexes.length;s++){const n=t.cutIndexes[s],r=t.geometries[s],o=(0,u.g)(r);for(let e=0;e<o.length;e++){const t=o[e];t.some((i=>{if(i[0]<180)return!0;{let i=0;for(let e=0;e<t.length;e++){const s=t[e][0];i=s>i?s:i}i=Number(i.toFixed(9));const s=-360*(0,u.o)(i,180);for(let i=0;i<t.length;i++){const t=r.getPoint(e,i);r.setPoint(e,i,t.clone().offset(s,0))}return!0}}))}if(n===i){if("polygon"===e[0].type)for(const t of(0,u.g)(r))e[n]=e[n].addRing(t);else if("polyline"===e[0].type)for(const t of(0,u.g)(r))e[n]=e[n].addPath(t)}else i=n,e[n]=r}return e}(T,await(0,c.c)(n,T,M,i)),s=[],r=[];for(let i=0;i<q.length;i++){const n=q[i];if("cut"!==n)r.push(n);else{const n=t.shift(),l=e[i];(0,o.i)(l)&&"polygon"===l.type&&l.rings&&l.rings.length>1&&n.rings.length>=l.rings.length?(s.push(n),r.push("simplify")):r.push(F?(0,p.$)(n):n)}}if(!s.length)return r;const l=await(0,c.s)(n,s,i),a=[];for(let e=0;e<r.length;e++){const t=r[e];"simplify"!==t?a.push(t):a.push(F?(0,p.$)(l.shift()):l.shift())}return a}const O=[];for(let e=0;e<q.length;e++){const t=q[e];if("cut"!==t)O.push(t);else{const e=T.shift();O.push(!0===F?(0,p.$)(e):e)}}return O}},1709:(e,t,i)=>{i.d(t,{Z:()=>o});var s=i(14249);function n(e){return"oid"===e.type||"esriFieldTypeOID"===e.type}function r(e){return"global-id"===e.type||"esriFieldTypeGlobalID"===e.type}i(60991),i(76506),i(92143),i(31450),i(71552),i(40642),i(60217),i(74569),i(91306),i(21801),i(34250),i(60474),i(66396),i(86656),i(17533),i(6540),i(73796),i(12047),i(21972),i(91055),i(19657),i(6906),i(50406),i(97714),i(60947),i(2906),i(91597),i(86787),i(35132),i(89623),i(84069),i(44567),i(98380),i(92896),i(22781),i(57251),i(32422);class o{constructor(e=[]){if(this.fields=[],this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this.dateFields=[],this.numericFields=[],this._requiredFields=null,!e)return;this.fields=e;const t=[];for(const o of e){const e=o&&o.name;if(e){const u=l(e),d=a(e);this._fieldsMap.set(e,o),this._fieldsMap.set(u,o),this._normalizedFieldsMap.set(d,o),t.push(u),"date"===(i=o).type||"esriFieldTypeDate"===i.type?(this.dateFields.push(o),this._dateFieldsSet.add(o)):(0,s.H7)(o)&&(this._numericFieldsSet.add(o),this.numericFields.push(o)),n(o)||r(o)||(o.editable=null==o.editable||!!o.editable,o.nullable=null==o.nullable||!!o.nullable)}}var i;t.sort(),this.uid=t.join(",")}destroy(){this._fieldsMap.clear()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const e of this.fields)n(e)||r(e)||e.nullable||void 0!==(0,s.os)(e)||this._requiredFields.push(e)}return this._requiredFields}has(e){return null!=this.get(e)}get(e){if(!e)return;let t=this._fieldsMap.get(e);return t||(t=this._fieldsMap.get(l(e))??this._normalizedFieldsMap.get(a(e)),t&&this._fieldsMap.set(e,t),t)}isDateField(e){return this._dateFieldsSet.has(this.get(e))}isNumericField(e){return this._numericFieldsSet.has(this.get(e))}normalizeFieldName(e){const t=this.get(e);if(t)return t.name??void 0}}function l(e){return e.trim().toLowerCase()}function a(e){return(0,s.q6)(e).toLowerCase()}}}]);