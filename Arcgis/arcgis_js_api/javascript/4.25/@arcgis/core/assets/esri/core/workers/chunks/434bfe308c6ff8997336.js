"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[4403,2058,3173],{64403:(t,e,n)=>{n.r(e),n.d(e,{M:()=>u,S:()=>q,a:()=>w,f:()=>_,i:()=>x,s:()=>g});var r,o,s,a,i,c,u,l,f=n(71252),h=n(76506),d=n(73173);function m(t){return(0,d.g)(`esri/libs/i3s/${t}`)}let b,M,p;function g(t){const e=t.modifications,n=p._malloc(8*e.length),r=new Float64Array(p.HEAPU8.buffer,n,e.length);for(let t=0;t<e.length;++t)r[t]=e[t];p.setModifications(t.context,n,e.length,t.isGeodetic),p._free(n)}function y(t,e){if(!p)return null;const{context:n,localOrigin:r,globalTrafo:o,mbs:s,obb:a,elevationOffset:i,geometryBuffer:u,geometryDescriptor:l,indexToVertexProjector:d,vertexToRenderProjector:m}=t,b=p._malloc(u.byteLength),M=p._malloc(33*Float64Array.BYTES_PER_ELEMENT),g=new Uint8Array(p.HEAPU8.buffer,b,u.byteLength);g.set(new Uint8Array(u));const y=new Float64Array(p.HEAPU8.buffer,M,33);v(y,r);let w=y.byteOffset+3*y.BYTES_PER_ELEMENT,_=new Float64Array(y.buffer,w);v(_,o),w+=16*y.BYTES_PER_ELEMENT,_=new Float64Array(y.buffer,w),v(_,s),w+=4*y.BYTES_PER_ELEMENT,(0,f.i)(a)&&(_=new Float64Array(y.buffer,w),v(_,a.center),w+=3*y.BYTES_PER_ELEMENT,_=new Float64Array(y.buffer,w),v(_,a.halfSize),w+=3*y.BYTES_PER_ELEMENT,_=new Float64Array(y.buffer,w),v(_,a.quaternion));const E=l,x={isDraco:!1,isLegacy:!1,color:t.layouts.some((t=>t.some((t=>"color"===t.name)))),normal:t.needNormals&&t.layouts.some((t=>t.some((t=>"normalCompressed"===t.name)))),uv0:t.layouts.some((t=>t.some((t=>"uv0"===t.name)))),uvRegion:t.layouts.some((t=>t.some((t=>"uvRegion"===t.name)))),featureIndex:E.featureIndex},P=p.process(n,!!t.obb,b,g.byteLength,E,x,M,i,d,m,t.normalReferenceFrame);if(p._free(M),p._free(b),P.error.length>0)throw`i3s.wasm: ${P.error}`;if(P.discarded)return null;const q=P.componentOffsets.length>0?(0,h.o)(P.componentOffsets):null,T=P.featureIds.length>0?(0,h.o)(P.featureIds):null,S=(0,h.o)(P.interleavedVertedData).buffer,O=P.indicesType===c.Int16?(0,h.o)(new Uint16Array(P.indices.buffer,P.indices.byteOffset,P.indices.byteLength/2)):(0,h.o)(new Uint32Array(P.indices.buffer,P.indices.byteOffset,P.indices.byteLength/4)),L=(0,h.o)(P.positions),C=P.positionIndicesType===c.Int16?(0,h.o)(new Uint16Array(P.positionIndices.buffer,P.positionIndices.byteOffset,P.positionIndices.byteLength/2)):(0,h.o)(new Uint32Array(P.positionIndices.buffer,P.positionIndices.byteOffset,P.positionIndices.byteLength/4)),A={layout:t.layouts[0],interleavedVertexData:S,indices:O,hasColors:P.hasColors,hasModifications:P.hasModifications,positionData:{data:L,indices:C}};return T&&e.push(T.buffer),q&&e.push(q.buffer),e.push(S),e.push(O.buffer),e.push(L.buffer),e.push(C.buffer),{componentOffsets:q,featureIds:T,transformedGeometry:A,obb:P.obb}}function w(t){return 0===t?o.Unmodified:1===t?o.PotentiallyModified:2===t?o.Culled:o.Unknown}function _(t){const{context:e,buffer:n}=t,r=p._malloc(n.byteLength),o=n.byteLength/Float64Array.BYTES_PER_ELEMENT,s=new Float64Array(p.HEAPU8.buffer,r,o),a=new Float64Array(n);s.set(a),p.filterOBBs(e,r,o),a.set(s),p._free(r)}function E(t){p&&p.destroy(t)}function v(t,e){for(let n=0;n<e.length;++n)t[n]=e[n]}function x(){return p?Promise.resolve():(M||(M=(b||(b=new Promise((t=>n.e(2599).then(n.bind(n,92599)).then((t=>t.i)).then((({default:e})=>{const n=e({locateFile:m,onRuntimeInitialized:()=>t(n)});delete n.then})))).catch((t=>{throw t}))),b).then((t=>{p=t,M=null}))),M)}n(60939),(l=r||(r={}))[l.Unmodified=0]="Unmodified",l[l.Culled=1]="Culled",l[l.NotChecked=2]="NotChecked",function(t){t[t.Unmodified=0]="Unmodified",t[t.PotentiallyModified=1]="PotentiallyModified",t[t.Culled=2]="Culled",t[t.Unknown=3]="Unknown",t[t.NotChecked=4]="NotChecked"}(o||(o={})),function(t){t[t.Unknown=0]="Unknown",t[t.Uncached=1]="Uncached",t[t.Cached=2]="Cached"}(s||(s={})),function(t){t[t.None=0]="None",t[t.MaxScreenThreshold=1]="MaxScreenThreshold",t[t.ScreenSpaceRelative=2]="ScreenSpaceRelative",t[t.RemovedFeatureDiameter=3]="RemovedFeatureDiameter",t[t.DistanceRangeFromDefaultCamera=4]="DistanceRangeFromDefaultCamera"}(a||(a={})),function(t){t[t.Hole=0]="Hole",t[t.Leaf=1]="Leaf"}(i||(i={})),function(t){t[t.None=0]="None",t[t.Int16=1]="Int16",t[t.Int32=2]="Int32"}(c||(c={})),function(t){t[t.Replace=0]="Replace",t[t.Outside=1]="Outside",t[t.Inside=2]="Inside",t[t.Finished=3]="Finished"}(u||(u={}));const P={transform:y,destroy:E},q=Object.freeze(Object.defineProperty({__proto__:null,process:async function(t){await x();const e=[t.geometryBuffer];return{result:y(t,e),transferList:e}},dracoDecompressPointCloudData:async function(t){await x();const e=[t.geometryBuffer],{geometryBuffer:n}=t,r=n.byteLength,o=p._malloc(r),s=new Uint8Array(p.HEAPU8.buffer,o,r);s.set(new Uint8Array(n));const a=p.dracoDecompressPointCloudData(o,s.byteLength);if(p._free(o),a.error.length>0)throw`i3s.wasm: ${a.error}`;const i=a.featureIds?.length>0?(0,h.o)(a.featureIds):null,c=(0,h.o)(a.positions);return i&&e.push(i.buffer),e.push(c.buffer),{result:{positions:c,featureIds:i},transferList:e}},filterObbsForModifications:async function(t){await x(),_(t);const e={buffer:t.buffer};return{result:e,transferList:[e.buffer]}},setModifications:async function(t){await x(),g(t)},setLegacySchema:async function(t){await x(),p.setLegacySchema(t.context,t.jsonSchema)},destroyContext:function(t){E(t)},setModificationsSync:g,interpretObbModificationResults:w,filterObbsForModificationsSync:_,initialize:x,test:P},Symbol.toStringTag,{value:"Module"}))},73173:(t,e,n)=>{n.d(e,{g:()=>c});var r=n(31450),o=(n(82058),n(60991)),s=n(92143),a=n(32101);const i=s.L.getLogger("esri.assets");function c(t){if(!r.Z.assetsPath)throw i.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new o.Z("assets:path-not-set","config.assetsPath is not set");return(0,a.v_)(r.Z.assetsPath,t)}},79764:(t,e,n)=>{function r(t){return 32+t.length}function o(t){if(!t)return 0;let e=c;for(const n in t)if(t.hasOwnProperty(n)){const o=t[n];switch(typeof o){case"string":e+=r(o);break;case"number":e+=16;break;case"boolean":e+=4}}return e}function s(t){if(!t)return 0;if(Array.isArray(t))return function(t){const e=t.length;if(0===e||"number"==typeof t[0])return 32+8*e;let n=u;for(let r=0;r<e;r++)n+=a(t[r]);return n}(t);let e=c;for(const n in t)t.hasOwnProperty(n)&&(e+=a(t[n]));return e}function a(t){switch(typeof t){case"object":return s(t);case"string":return r(t);case"number":return 16;case"boolean":return 4;default:return 8}}function i(t,e){return u+t.length*e}n.d(e,{B:()=>l,a:()=>s,b:()=>i,e:()=>o});const c=32,u=32;var l;!function(t){t[t.KILOBYTES=1024]="KILOBYTES",t[t.MEGABYTES=1048576]="MEGABYTES",t[t.GIGABYTES=1073741824]="GIGABYTES"}(l||(l={}))},29794:(t,e,n)=>{function r(){return 1e-6}n.d(e,{R:()=>o,a:()=>c,g:()=>r,t:()=>i});const o=Math.random,s=Math.PI/180,a=180/Math.PI;function i(t){return t*s}function c(t){return t*a}},16912:(t,e,n)=>{function r(){return[1,0,0,0,1,0,0,0,1]}function o(t,e){return new Float64Array(t,e,9)}n.d(e,{a:()=>o,c:()=>r})},65775:(t,e,n)=>{n.d(e,{B:()=>m,a:()=>d,b:()=>b,c:()=>i,d:()=>M,e:()=>p,f:()=>h,g:()=>l,i:()=>s,k:()=>u,l:()=>g,m:()=>c,s:()=>o,t:()=>a,z:()=>f});var r=n(29794);function o(t,e,n,r,o,s,a,i,c,u,l,f,h,d,m,b,M){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=s,t[5]=a,t[6]=i,t[7]=c,t[8]=u,t[9]=l,t[10]=f,t[11]=h,t[12]=d,t[13]=m,t[14]=b,t[15]=M,t}function s(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function a(t,e){if(t===e){const n=e[1],r=e[2],o=e[3],s=e[6],a=e[7],i=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=s,t[11]=e[14],t[12]=o,t[13]=a,t[14]=i}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function i(t,e){const n=e[0],r=e[1],o=e[2],s=e[3],a=e[4],i=e[5],c=e[6],u=e[7],l=e[8],f=e[9],h=e[10],d=e[11],m=e[12],b=e[13],M=e[14],p=e[15],g=n*i-r*a,y=n*c-o*a,w=n*u-s*a,_=r*c-o*i,E=r*u-s*i,v=o*u-s*c,x=l*b-f*m,P=l*M-h*m,q=l*p-d*m,T=f*M-h*b,S=f*p-d*b,O=h*p-d*M;let L=g*O-y*S+w*T+_*q-E*P+v*x;return L?(L=1/L,t[0]=(i*O-c*S+u*T)*L,t[1]=(o*S-r*O-s*T)*L,t[2]=(b*v-M*E+p*_)*L,t[3]=(h*E-f*v-d*_)*L,t[4]=(c*q-a*O-u*P)*L,t[5]=(n*O-o*q+s*P)*L,t[6]=(M*w-m*v-p*y)*L,t[7]=(l*v-h*w+d*y)*L,t[8]=(a*S-i*q+u*x)*L,t[9]=(r*q-n*S-s*x)*L,t[10]=(m*E-b*w+p*g)*L,t[11]=(f*w-l*E-d*g)*L,t[12]=(i*P-a*T-c*x)*L,t[13]=(n*T-r*P+o*x)*L,t[14]=(b*y-m*_-M*g)*L,t[15]=(l*_-f*y+h*g)*L,t):null}function c(t,e,n){const r=e[0],o=e[1],s=e[2],a=e[3],i=e[4],c=e[5],u=e[6],l=e[7],f=e[8],h=e[9],d=e[10],m=e[11],b=e[12],M=e[13],p=e[14],g=e[15];let y=n[0],w=n[1],_=n[2],E=n[3];return t[0]=y*r+w*i+_*f+E*b,t[1]=y*o+w*c+_*h+E*M,t[2]=y*s+w*u+_*d+E*p,t[3]=y*a+w*l+_*m+E*g,y=n[4],w=n[5],_=n[6],E=n[7],t[4]=y*r+w*i+_*f+E*b,t[5]=y*o+w*c+_*h+E*M,t[6]=y*s+w*u+_*d+E*p,t[7]=y*a+w*l+_*m+E*g,y=n[8],w=n[9],_=n[10],E=n[11],t[8]=y*r+w*i+_*f+E*b,t[9]=y*o+w*c+_*h+E*M,t[10]=y*s+w*u+_*d+E*p,t[11]=y*a+w*l+_*m+E*g,y=n[12],w=n[13],_=n[14],E=n[15],t[12]=y*r+w*i+_*f+E*b,t[13]=y*o+w*c+_*h+E*M,t[14]=y*s+w*u+_*d+E*p,t[15]=y*a+w*l+_*m+E*g,t}function u(t,e,n){const r=n[0],o=n[1],s=n[2];if(e===t)t[12]=e[0]*r+e[4]*o+e[8]*s+e[12],t[13]=e[1]*r+e[5]*o+e[9]*s+e[13],t[14]=e[2]*r+e[6]*o+e[10]*s+e[14],t[15]=e[3]*r+e[7]*o+e[11]*s+e[15];else{const n=e[0],a=e[1],i=e[2],c=e[3],u=e[4],l=e[5],f=e[6],h=e[7],d=e[8],m=e[9],b=e[10],M=e[11];t[0]=n,t[1]=a,t[2]=i,t[3]=c,t[4]=u,t[5]=l,t[6]=f,t[7]=h,t[8]=d,t[9]=m,t[10]=b,t[11]=M,t[12]=n*r+u*o+d*s+e[12],t[13]=a*r+l*o+m*s+e[13],t[14]=i*r+f*o+b*s+e[14],t[15]=c*r+h*o+M*s+e[15]}return t}function l(t,e,n){const r=n[0],o=n[1],s=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*o,t[5]=e[5]*o,t[6]=e[6]*o,t[7]=e[7]*o,t[8]=e[8]*s,t[9]=e[9]*s,t[10]=e[10]*s,t[11]=e[11]*s,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function f(t,e,n,o){let s,a,i,c,u,l,f,h,d,m,b,M,p,g,y,w,_,E,v,x,P,q,T,S,O=o[0],L=o[1],C=o[2],A=Math.sqrt(O*O+L*L+C*C);return A<(0,r.g)()?null:(A=1/A,O*=A,L*=A,C*=A,s=Math.sin(n),a=Math.cos(n),i=1-a,c=e[0],u=e[1],l=e[2],f=e[3],h=e[4],d=e[5],m=e[6],b=e[7],M=e[8],p=e[9],g=e[10],y=e[11],w=O*O*i+a,_=L*O*i+C*s,E=C*O*i-L*s,v=O*L*i-C*s,x=L*L*i+a,P=C*L*i+O*s,q=O*C*i+L*s,T=L*C*i-O*s,S=C*C*i+a,t[0]=c*w+h*_+M*E,t[1]=u*w+d*_+p*E,t[2]=l*w+m*_+g*E,t[3]=f*w+b*_+y*E,t[4]=c*v+h*x+M*P,t[5]=u*v+d*x+p*P,t[6]=l*v+m*x+g*P,t[7]=f*v+b*x+y*P,t[8]=c*q+h*T+M*S,t[9]=u*q+d*T+p*S,t[10]=l*q+m*T+g*S,t[11]=f*q+b*T+y*S,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function h(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function d(t,e,n){if(0===e)return s(t);let o,a,i,c=n[0],u=n[1],l=n[2],f=Math.sqrt(c*c+u*u+l*l);return f<(0,r.g)()?null:(f=1/f,c*=f,u*=f,l*=f,o=Math.sin(e),a=Math.cos(e),i=1-a,t[0]=c*c*i+a,t[1]=u*c*i+l*o,t[2]=l*c*i-u*o,t[3]=0,t[4]=c*u*i-l*o,t[5]=u*u*i+a,t[6]=l*u*i+c*o,t[7]=0,t[8]=c*l*i+u*o,t[9]=u*l*i-c*o,t[10]=l*l*i+a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function m(t,e){const n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function b(t,e,n,r){const o=e[0],s=e[1],a=e[2],i=e[3],c=o+o,u=s+s,l=a+a,f=o*c,h=o*u,d=o*l,m=s*u,b=s*l,M=a*l,p=i*c,g=i*u,y=i*l,w=r[0],_=r[1],E=r[2];return t[0]=(1-(m+M))*w,t[1]=(h+y)*w,t[2]=(d-g)*w,t[3]=0,t[4]=(h-y)*_,t[5]=(1-(f+M))*_,t[6]=(b+p)*_,t[7]=0,t[8]=(d+g)*E,t[9]=(b-p)*E,t[10]=(1-(f+m))*E,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function M(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function p(t,e){if(t===e)return!0;const n=t[0],o=t[1],s=t[2],a=t[3],i=t[4],c=t[5],u=t[6],l=t[7],f=t[8],h=t[9],d=t[10],m=t[11],b=t[12],M=t[13],p=t[14],g=t[15],y=e[0],w=e[1],_=e[2],E=e[3],v=e[4],x=e[5],P=e[6],q=e[7],T=e[8],S=e[9],O=e[10],L=e[11],C=e[12],A=e[13],k=e[14],B=e[15],I=(0,r.g)();return Math.abs(n-y)<=I*Math.max(1,Math.abs(n),Math.abs(y))&&Math.abs(o-w)<=I*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(s-_)<=I*Math.max(1,Math.abs(s),Math.abs(_))&&Math.abs(a-E)<=I*Math.max(1,Math.abs(a),Math.abs(E))&&Math.abs(i-v)<=I*Math.max(1,Math.abs(i),Math.abs(v))&&Math.abs(c-x)<=I*Math.max(1,Math.abs(c),Math.abs(x))&&Math.abs(u-P)<=I*Math.max(1,Math.abs(u),Math.abs(P))&&Math.abs(l-q)<=I*Math.max(1,Math.abs(l),Math.abs(q))&&Math.abs(f-T)<=I*Math.max(1,Math.abs(f),Math.abs(T))&&Math.abs(h-S)<=I*Math.max(1,Math.abs(h),Math.abs(S))&&Math.abs(d-O)<=I*Math.max(1,Math.abs(d),Math.abs(O))&&Math.abs(m-L)<=I*Math.max(1,Math.abs(m),Math.abs(L))&&Math.abs(b-C)<=I*Math.max(1,Math.abs(b),Math.abs(C))&&Math.abs(M-A)<=I*Math.max(1,Math.abs(M),Math.abs(A))&&Math.abs(p-k)<=I*Math.max(1,Math.abs(p),Math.abs(k))&&Math.abs(g-B)<=I*Math.max(1,Math.abs(g),Math.abs(B))}function g(t){const e=(0,r.g)(),n=t[0],o=t[1],s=t[2],a=t[4],i=t[5],c=t[6],u=t[8],l=t[9],f=t[10];return Math.abs(1-(n*n+a*a+u*u))<=e&&Math.abs(1-(o*o+i*i+l*l))<=e&&Math.abs(1-(s*s+c*c+f*f))<=e}},57532:(t,e,n)=>{function r(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function o(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]}function s(t,e){return new Float64Array(t,e,16)}n.d(e,{I:()=>a,a:()=>s,b:()=>o,c:()=>r});const a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},82426:(t,e,n)=>{n.d(e,{D:()=>D,a:()=>L,b:()=>s,c:()=>x,d:()=>T,e:()=>m,f:()=>v,g:()=>O,h:()=>q,i:()=>P,o:()=>U,r:()=>S,s:()=>a,w:()=>B});var r=n(72836),o=n(29794);function s(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function a(t,e,n,r,o){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t}function i(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function c(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t}function u(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t}function l(t,e){const n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2],s=e[3]-t[3];return Math.sqrt(n*n+r*r+o*o+s*s)}function f(t,e){const n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2],s=e[3]-t[3];return n*n+r*r+o*o+s*s}function h(t){const e=t[0],n=t[1],r=t[2],o=t[3];return Math.sqrt(e*e+n*n+r*r+o*o)}function d(t){const e=t[0],n=t[1],r=t[2],o=t[3];return e*e+n*n+r*r+o*o}function m(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}const b=i,M=c,p=u,g=l,y=f,w=h,_=d,E=(Object.freeze(Object.defineProperty({__proto__:null,copy:s,set:a,add:function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},subtract:i,multiply:c,divide:u,ceil:function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t},floor:function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t},min:function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t},max:function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t},round:function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t},scale:function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},scaleAndAdd:function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t},distance:l,squaredDistance:f,length:h,squaredLength:d,negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},inverse:function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},normalize:function(t,e){const n=e[0],r=e[1],o=e[2],s=e[3];let a=n*n+r*r+o*o+s*s;return a>0&&(a=1/Math.sqrt(a),t[0]=n*a,t[1]=r*a,t[2]=o*a,t[3]=s*a),t},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},lerp:function(t,e,n,r){const o=e[0],s=e[1],a=e[2],i=e[3];return t[0]=o+r*(n[0]-o),t[1]=s+r*(n[1]-s),t[2]=a+r*(n[2]-a),t[3]=i+r*(n[3]-i),t},random:function(t,e){const n=o.R;let r,s,a,i,c,u;e=e||1;do{r=2*n()-1,s=2*n()-1,c=r*r+s*s}while(c>=1);do{a=2*n()-1,i=2*n()-1,u=a*a+i*i}while(u>=1);const l=Math.sqrt((1-c)/u);return t[0]=e*r,t[1]=e*s,t[2]=e*a*l,t[3]=e*i*l,t},transformMat4:function(t,e,n){const r=e[0],o=e[1],s=e[2],a=e[3];return t[0]=n[0]*r+n[4]*o+n[8]*s+n[12]*a,t[1]=n[1]*r+n[5]*o+n[9]*s+n[13]*a,t[2]=n[2]*r+n[6]*o+n[10]*s+n[14]*a,t[3]=n[3]*r+n[7]*o+n[11]*s+n[15]*a,t},transformQuat:function(t,e,n){const r=e[0],o=e[1],s=e[2],a=n[0],i=n[1],c=n[2],u=n[3],l=u*r+i*s-c*o,f=u*o+c*r-a*s,h=u*s+a*o-i*r,d=-a*r-i*o-c*s;return t[0]=l*u+d*-a+f*-c-h*-i,t[1]=f*u+d*-i+h*-a-l*-c,t[2]=h*u+d*-c+l*-i-f*-a,t[3]=e[3],t},str:function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},exactEquals:m,equals:function(t,e){const n=t[0],r=t[1],s=t[2],a=t[3],i=e[0],c=e[1],u=e[2],l=e[3],f=(0,o.g)();return Math.abs(n-i)<=f*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-c)<=f*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(s-u)<=f*Math.max(1,Math.abs(s),Math.abs(u))&&Math.abs(a-l)<=f*Math.max(1,Math.abs(a),Math.abs(l))},sub:b,mul:M,div:p,dist:g,sqrDist:y,len:w,sqrLen:_},Symbol.toStringTag,{value:"Module"})),new Float32Array(1));function v(t){--t;for(let e=1;e<32;e<<=1)t|=t>>e;return t+1}function x(t,e,n){return Math.min(Math.max(t,e),n)}function P(t){return 0==(t&t-1)}function q(t,e,n){return t+(e-t)*n}function T(t){return t*Math.PI/180}function S(t){return 180*t/Math.PI}function O(t){return Math.acos(x(t,-1,1))}function L(t){return Math.asin(x(t,-1,1))}function C(t,e,n=1e-6){return t===e||!(!Number.isFinite(t)||!Number.isFinite(e))&&(t>e?t-e:e-t)<=n}const A=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT)),k=BigInt("1000000");function B(t){return I(Math.max(-F,Math.min(t,F)))}function I(t){return E[0]=t,E[0]}function U(t,e){const n=(0,r.l)(t),o=L(t[2]/n),s=Math.atan2(t[1]/n,t[0]/n);return(0,r.s)(e,n,o,s),e}function D(t){const e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[3]*t[3]+t[4]*t[4]+t[5]*t[5],r=t[6]*t[6]+t[7]*t[7]+t[8]*t[8];return!(C(e,1)&&C(n,1)&&C(r,1))}!function(t){const e=(o=t=Math.abs(t),A.setFloat64(0,o),A.getBigInt64(0)),n=(r=e<=k?k:e-k,A.setBigInt64(0,r),A.getFloat64(0));var r,o;Math.abs(t-n)}(1);const F=I(34028234663852886e22)},30773:(t,e,n)=>{n.d(e,{n:()=>o});const r=[];function o(t){r.push(t),1===r.length&&queueMicrotask((()=>{const t=r.slice();r.length=0;for(const e of t)e()}))}},45087:(t,e,n)=>{function r(){return[0,0,0,1]}function o(t){return[t[0],t[1],t[2],t[3]]}function s(t,e){return new Float64Array(t,e,4)}n.d(e,{I:()=>a,a:()=>s,b:()=>o,c:()=>r});const a=[0,0,0,1]},2420:(t,e,n)=>{n.d(e,{O:()=>f,c:()=>p,d:()=>M,e:()=>w,s:()=>b,w:()=>y}),n(76506);var r=n(30773),o=n(72836),s=n(79764),a=n(16912),i=n(57532),c=n(45087),u=n(32191),l=n(68681);class f{constructor(t){this._allocator=t,this._items=[],this._itemsPtr=0,this._grow()}get(){return 0===this._itemsPtr&&(0,r.n)((()=>this._reset())),this._itemsPtr===this._items.length&&this._grow(),this._items[this._itemsPtr++]}_reset(){const t=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*h);this._items.length=Math.min(t,this._items.length),this._itemsPtr=0}_grow(){for(let t=0;t<Math.max(8,Math.min(this._items.length,h));t++)this._items.push(this._allocator())}}const h=1024;class d{constructor(t,e,n){this._itemByteSize=t,this._itemCreate=e,this._buffers=new Array,this._items=new Array,this._itemsPtr=0,this._itemsPerBuffer=Math.ceil(n/this._itemByteSize)}get(){0===this._itemsPtr&&(0,r.n)((()=>this._reset()));const t=Math.floor(this._itemsPtr/this._itemsPerBuffer);for(;this._buffers.length<=t;){const t=new ArrayBuffer(this._itemsPerBuffer*this._itemByteSize);for(let e=0;e<this._itemsPerBuffer;++e)this._items.push(this._itemCreate(t,e*this._itemByteSize));this._buffers.push(t)}return this._items[this._itemsPtr++]}_reset(){const t=2*(Math.floor(this._itemsPtr/this._itemsPerBuffer)+1);for(;this._buffers.length>t;)this._buffers.pop(),this._items.length=this._buffers.length*this._itemsPerBuffer;this._itemsPtr=0}static createVec2f64(t=m){return new d(16,u.c,t)}static createVec3f64(t=m){return new d(24,o.q,t)}static createVec4f64(t=m){return new d(32,l.b,t)}static createMat3f64(t=m){return new d(72,a.a,t)}static createMat4f64(t=m){return new d(128,i.a,t)}static createQuatf64(t=m){return new d(32,c.a,t)}get test(){return{size:this._buffers.length*this._itemsPerBuffer*this._itemByteSize}}}const m=4*s.B.KILOBYTES,b=(d.createVec2f64(),d.createVec3f64());d.createVec4f64(),d.createMat3f64();const M=d.createMat4f64();function p(t){return t?g((0,o.k)(t.origin),(0,o.k)(t.direction)):g((0,o.d)(),(0,o.d)())}function g(t,e){return{origin:t,direction:e}}function y(t,e){const n=_.get();return n.origin=t,n.direction=e,n}function w(t,e,n){const r=(0,o.m)(t.direction,(0,o.b)(n,e,t.origin));return(0,o.a)(n,t.origin,(0,o.g)(n,t.direction,r)),n}d.createQuatf64();const _=new f((()=>p()))},60939:(t,e,n)=>{n.d(e,{b:()=>h,c:()=>f,d:()=>m,g:()=>d,i:()=>p,m:()=>x}),n(71552);var r=n(92143),o=n(82426),s=n(71252),a=n(65775),i=n(72836),c=n(68681),u=n(40961),l=n(2420);function f(){return(0,c.c)()}function h(t,e=f()){return(0,o.b)(e,t)}function d(t){return t[3]}function m(t){return t}function b(t,e,n){if((0,s.a)(e))return!1;const{origin:r,direction:o}=e,a=M;a[0]=r[0]-t[0],a[1]=r[1]-t[1],a[2]=r[2]-t[2];const i=o[0]*o[0]+o[1]*o[1]+o[2]*o[2];if(0===i)return!1;const c=2*(o[0]*a[0]+o[1]*a[1]+o[2]*a[2]),u=c*c-4*i*(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]-t[3]*t[3]);if(u<0)return!1;const l=Math.sqrt(u);let f=(-c-l)/(2*i);const h=(-c+l)/(2*i);return(f<0||h<f&&h>0)&&(f=h),!(f<0||(n&&(n[0]=r[0]+o[0]*f,n[1]=r[1]+o[1]*f,n[2]=r[2]+o[2]*f),0))}const M=(0,i.d)();function p(t,e){return b(t,e,null)}function g(t,e,n){const r=l.s.get(),o=l.d.get();(0,i.h)(r,e.origin,e.direction);const s=d(t);(0,i.h)(n,r,e.origin),(0,i.g)(n,n,1/(0,i.l)(n)*s);const c=w(t,e.origin),f=(0,u.a)(e.origin,n);return(0,a.a)(o,f+c,r),(0,i.e)(n,n,o),n}function y(t,e,n){const r=(0,i.b)(l.s.get(),e,t),o=(0,i.g)(l.s.get(),r,t[3]/(0,i.l)(r));return(0,i.a)(n,o,t)}function w(t,e){const n=(0,i.b)(l.s.get(),e,t),r=(0,i.l)(n),s=d(t),a=s+Math.abs(s-r);return(0,o.g)(s/a)}const _=(0,i.d)();function E(t,e,n,r){const s=(0,i.b)(_,e,t);switch(n){case u.A.X:{const t=(0,o.o)(s,_)[2];return(0,i.s)(r,-Math.sin(t),Math.cos(t),0)}case u.A.Y:{const t=(0,o.o)(s,_),e=t[1],n=t[2],a=Math.sin(e);return(0,i.s)(r,-a*Math.cos(n),-a*Math.sin(n),Math.cos(e))}case u.A.Z:return(0,i.n)(r,s);default:return}}function v(t,e){const n=(0,i.b)(P,e,t);return(0,i.l)(n)-t[3]}function x(t,e){const n=(0,i.G)(t,e),r=d(t);return n<=r*r}const P=(0,i.d)(),q=f();Object.freeze(Object.defineProperty({__proto__:null,create:f,copy:h,fromCenterAndRadius:function(t,e){return(0,c.f)(t[0],t[1],t[2],e)},wrap:function(t){return t},clear:function(t){t[0]=t[1]=t[2]=t[3]=0},fromRadius:function(t,e){return t[0]=t[1]=t[2]=0,t[3]=e,t},getRadius:d,getCenter:m,fromValues:function(t,e,n,r){return(0,c.f)(t,e,n,r)},elevate:function(t,e,n){return t!==n&&(0,i.c)(n,t),n[3]=t[3]+e,n},setExtent:function(t,e,n){return r.L.getLogger("esri.geometry.support.sphere").error("sphere.setExtent is not yet supported"),t===n?n:h(t,n)},intersectRay:b,intersectsRay:p,intersectRayClosestSilhouette:function(t,e,n){if(b(t,e,n))return n;const r=g(t,e,l.s.get());return(0,i.a)(n,e.origin,(0,i.g)(l.s.get(),e.direction,(0,i.C)(e.origin,r)/(0,i.l)(e.direction))),n},closestPointOnSilhouette:g,closestPoint:function(t,e,n){return b(t,e,n)?n:((0,l.e)(e,t,n),y(t,n,n))},projectPoint:y,distanceToSilhouette:function(t,e){const n=(0,i.b)(l.s.get(),e,t),r=(0,i.H)(n),o=t[3]*t[3];return Math.sqrt(Math.abs(r-o))},angleToSilhouette:w,axisAt:E,altitudeAt:v,setAltitudeAt:function(t,e,n,r){const o=v(t,e),s=E(t,e,u.A.Z,P),a=(0,i.g)(P,s,n-o);return(0,i.a)(r,e,a)},containsPoint:x,tmpSphere:q},Symbol.toStringTag,{value:"Module"}))},32191:(t,e,n)=>{function r(){return[0,0]}function o(t,e){return new Float64Array(t,e,2)}n.d(e,{Z:()=>s,a:()=>r,c:()=>o});const s=[0,0]},72836:(t,e,n)=>{n.d(e,{A:()=>p,B:()=>i,C:()=>w,F:()=>k,G:()=>_,H:()=>E,O:()=>l,Z:()=>u,a:()=>m,b:()=>b,c:()=>h,d:()=>o,e:()=>T,f:()=>a,g:()=>g,h:()=>P,j:()=>A,k:()=>s,l:()=>f,m:()=>x,n:()=>v,p:()=>O,q:()=>c,s:()=>d,t:()=>S,w:()=>y,y:()=>M,z:()=>q});var r=n(29794);function o(){return[0,0,0]}function s(t){return[t[0],t[1],t[2]]}function a(t,e,n){return[t,e,n]}function i(t){const e=[0,0,0],n=Math.min(3,t.length);for(let r=0;r<n;++r)e[r]=t[r];return e}function c(t,e){return new Float64Array(t,e,3)}const u=[0,0,0],l=a(1,1,1);function f(t){const e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}function h(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function d(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function m(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function b(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function M(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function p(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function g(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function y(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}function w(t,e){const n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2];return Math.sqrt(n*n+r*r+o*o)}function _(t,e){const n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2];return n*n+r*r+o*o}function E(t){const e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function v(t,e){const n=e[0],r=e[1],o=e[2];let s=n*n+r*r+o*o;return s>0&&(s=1/Math.sqrt(s),t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s),t}function x(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function P(t,e,n){const r=e[0],o=e[1],s=e[2],a=n[0],i=n[1],c=n[2];return t[0]=o*c-s*i,t[1]=s*a-r*c,t[2]=r*i-o*a,t}function q(t,e,n,r){const o=e[0],s=e[1],a=e[2];return t[0]=o+r*(n[0]-o),t[1]=s+r*(n[1]-s),t[2]=a+r*(n[2]-a),t}function T(t,e,n){const r=e[0],o=e[1],s=e[2];return t[0]=n[0]*r+n[4]*o+n[8]*s+n[12],t[1]=n[1]*r+n[5]*o+n[9]*s+n[13],t[2]=n[2]*r+n[6]*o+n[10]*s+n[14],t}function S(t,e,n){const r=e[0],o=e[1],s=e[2];return t[0]=r*n[0]+o*n[3]+s*n[6],t[1]=r*n[1]+o*n[4]+s*n[7],t[2]=r*n[2]+o*n[5]+s*n[8],t}function O(t,e,n){const r=n[0],o=n[1],s=n[2],a=n[3],i=e[0],c=e[1],u=e[2];let l=o*u-s*c,f=s*i-r*u,h=r*c-o*i,d=o*h-s*f,m=s*l-r*h,b=r*f-o*l;const M=2*a;return l*=M,f*=M,h*=M,d*=2,m*=2,b*=2,t[0]=i+l+d,t[1]=c+f+m,t[2]=u+h+b,t}a(0,0,1);const L=[0,0,0],C=[0,0,0];function A(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function k(t,e,n){const r=n[0]-e[0],o=n[1]-e[1],s=n[2]-e[2];let a=r*r+o*o+s*s;return a>0?(a=1/Math.sqrt(a),t[0]=r*a,t[1]=o*a,t[2]=s*a,t):(t[0]=0,t[1]=0,t[2]=0,t)}const B=b,I=M,U=p,D=w,F=_,R=f,N=E;Object.freeze(Object.defineProperty({__proto__:null,length:f,copy:h,set:d,add:m,subtract:b,multiply:M,divide:p,ceil:function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},floor:function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},abs:function(t,e){return t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t},sign:function(t,e){return t[0]=Math.sign(e[0]),t[1]=Math.sign(e[1]),t[2]=Math.sign(e[2]),t},min:function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},max:function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},round:function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},scale:g,scaleAndAdd:y,distance:w,squaredDistance:_,squaredLength:E,negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},inverse:function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},normalize:v,dot:x,cross:P,lerp:q,hermite:function(t,e,n,r,o,s){const a=s*s,i=a*(2*s-3)+1,c=a*(s-2)+s,u=a*(s-1),l=a*(3-2*s);return t[0]=e[0]*i+n[0]*c+r[0]*u+o[0]*l,t[1]=e[1]*i+n[1]*c+r[1]*u+o[1]*l,t[2]=e[2]*i+n[2]*c+r[2]*u+o[2]*l,t},bezier:function(t,e,n,r,o,s){const a=1-s,i=a*a,c=s*s,u=i*a,l=3*s*i,f=3*c*a,h=c*s;return t[0]=e[0]*u+n[0]*l+r[0]*f+o[0]*h,t[1]=e[1]*u+n[1]*l+r[1]*f+o[1]*h,t[2]=e[2]*u+n[2]*l+r[2]*f+o[2]*h,t},random:function(t,e){e=e||1;const n=r.R,o=2*n()*Math.PI,s=2*n()-1,a=Math.sqrt(1-s*s)*e;return t[0]=Math.cos(o)*a,t[1]=Math.sin(o)*a,t[2]=s*e,t},transformMat4:T,transformMat3:S,transformQuat:O,rotateX:function(t,e,n,r){const o=[],s=[];return o[0]=e[0]-n[0],o[1]=e[1]-n[1],o[2]=e[2]-n[2],s[0]=o[0],s[1]=o[1]*Math.cos(r)-o[2]*Math.sin(r),s[2]=o[1]*Math.sin(r)+o[2]*Math.cos(r),t[0]=s[0]+n[0],t[1]=s[1]+n[1],t[2]=s[2]+n[2],t},rotateY:function(t,e,n,r){const o=[],s=[];return o[0]=e[0]-n[0],o[1]=e[1]-n[1],o[2]=e[2]-n[2],s[0]=o[2]*Math.sin(r)+o[0]*Math.cos(r),s[1]=o[1],s[2]=o[2]*Math.cos(r)-o[0]*Math.sin(r),t[0]=s[0]+n[0],t[1]=s[1]+n[1],t[2]=s[2]+n[2],t},rotateZ:function(t,e,n,r){const o=[],s=[];return o[0]=e[0]-n[0],o[1]=e[1]-n[1],o[2]=e[2]-n[2],s[0]=o[0]*Math.cos(r)-o[1]*Math.sin(r),s[1]=o[0]*Math.sin(r)+o[1]*Math.cos(r),s[2]=o[2],t[0]=s[0]+n[0],t[1]=s[1]+n[1],t[2]=s[2]+n[2],t},angle:function(t,e){h(L,t),h(C,e),v(L,L),v(C,C);const n=x(L,C);return n>1?0:n<-1?Math.PI:Math.acos(n)},str:function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},exactEquals:A,equals:function(t,e){if(t===e)return!0;const n=t[0],o=t[1],s=t[2],a=e[0],i=e[1],c=e[2],u=(0,r.g)();return Math.abs(n-a)<=u*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(o-i)<=u*Math.max(1,Math.abs(o),Math.abs(i))&&Math.abs(s-c)<=u*Math.max(1,Math.abs(s),Math.abs(c))},direction:k,sub:B,mul:I,div:U,dist:D,sqrDist:F,len:R,sqrLen:N},Symbol.toStringTag,{value:"Module"}))},68681:(t,e,n)=>{function r(){return[0,0,0,0]}function o(t,e,n,r){return[t,e,n,r]}function s(t,e){return new Float64Array(t,e,4)}n.d(e,{b:()=>s,c:()=>r,f:()=>o}),o(1,1,1,1)},40961:(t,e,n)=>{n.d(e,{A:()=>r,a:()=>i});var r,o,s=n(82426),a=n(72836);function i(t,e){const n=(0,a.m)(t,e)/((0,a.l)(t)*(0,a.l)(e));return-(0,s.g)(n)}(o=r||(r={}))[o.X=0]="X",o[o.Y=1]="Y",o[o.Z=2]="Z",(0,a.d)(),(0,a.d)()},82058:(t,e,n)=>{n.r(e),n.d(e,{default:()=>y,i:()=>m,l:()=>p,p:()=>d,r:()=>U,s:()=>M});var r=n(31450),o=n(88762),s=n(60991),a=n(71552),i=n(76506),c=n(71252),u=n(50406),l=n(32101);n(92143),n(40642);const f=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,h={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function d(t){const e=t?.match(f);if(!e)return null;const[,n,r,o]=e;if(!n)return null;let s=null,a=null,i=null;const{devext:c,qaext:u,www:l}=h;if(r)if(s=n,o)switch(o.toLowerCase()){case"devext":({customBaseUrl:a,portalHostname:i}=c);break;case"qa":({customBaseUrl:a,portalHostname:i}=u);break;default:return null}else({customBaseUrl:a,portalHostname:i}=l);else switch(n.toLowerCase()){case"devext":({customBaseUrl:a,portalHostname:i}=c);break;case"qaext":({customBaseUrl:a,portalHostname:i}=u);break;case"www":({customBaseUrl:a,portalHostname:i}=l);break;default:return null}return{customBaseUrl:a,isPortal:!1,portalHostname:i,urlKey:s}}function m(t){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(t)}const b=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];function M(t){const e=(0,l.P$)(t,!0);return!!e&&e.endsWith(".arcgis.com")&&!b.includes(e)&&!t.endsWith("/sharing/rest/generateToken")}function p(t,e,n=!1,r){return new Promise(((o,s)=>{if((0,u.Hc)(r))return void s(g());let i=()=>{h(),s(new Error(`Unable to load ${e}`))},l=()=>{const e=t;h(),o(e)},f=()=>{if(!t)return;const e=t;h(),e.src="",s(g())};const h=()=>{(0,a.h)("esri-image-decode")||(t.removeEventListener("error",i),t.removeEventListener("load",l)),i=null,l=null,t=null,(0,c.i)(r)&&r.removeEventListener("abort",f),f=null,n&&URL.revokeObjectURL(e)};(0,c.i)(r)&&r.addEventListener("abort",f),(0,a.h)("esri-image-decode")?t.decode().then(l,i):(t.addEventListener("error",i),t.addEventListener("load",l))}))}function g(){try{return new DOMException("Aborted","AbortError")}catch{const t=new Error;return t.name="AbortError",t}}async function y(t,e){const i=(0,l.HK)(t),f=(0,l.jc)(t);f||i||(t=(0,l.Fv)(t));const h={url:t,requestOptions:{...(0,c.u)(e)}};let d=(0,l.oh)(t);if(d){const t=await async function(t,e){if(null!=t.responseData)return t.responseData;if(t.headers&&(e.requestOptions.headers={...e.requestOptions.headers,...t.headers}),t.query&&(e.requestOptions.query={...e.requestOptions.query,...t.query}),t.before){let n,r;try{r=await t.before(e)}catch(t){n=O("request:interceptor",t,e)}if((r instanceof Error||r instanceof s.Z)&&(n=O("request:interceptor",r,e)),n)throw t.error&&t.error(n),n;return r}}(d,h);if(null!=t)return{data:t,getHeader:q,requestOptions:h.requestOptions,url:h.url};d.after||d.error||(d=null)}if(t=h.url,"image"===(e=h.requestOptions).responseType){if((0,a.h)("host-webworker")||(0,a.h)("host-node"))throw O("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),h)}else if(i)throw O("request:invalid-parameters",new Error("Data URLs are not supported for responseType = "+e.responseType),h);if("head"===e.method){if(e.body)throw O("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),h);if(i||f)throw O("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),h)}if(await async function(){(0,a.h)("host-webworker")?w||(w=await n.e(9768).then(n.bind(n,89768))):y._abortableFetch||(y._abortableFetch=globalThis.fetch.bind(globalThis))}(),w)return w.execute(t,e);const m=new AbortController;(0,u.fu)(e,(()=>m.abort()));const b={controller:m,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:d,params:h,redoRequest:!1,useIdentity:_.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},p=await async function(t){let e,n;await async function(t){const e=t.params.url,n=t.params.requestOptions,s=t.controller.signal,a=n.body;let i=null,c=null;if(E&&"HTMLFormElement"in globalThis&&(a instanceof FormData?i=a:a instanceof HTMLFormElement&&(i=new FormData(a))),"string"==typeof a&&(c=a),t.fetchOptions={cache:n.cacheBust&&!y._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:n.headers||{},method:"head"===n.method?"HEAD":"GET",mode:"cors",priority:_.priority,redirect:"follow",signal:s},(i||c)&&(t.fetchOptions.body=i||c),"anonymous"===n.authMode&&(t.useIdentity=!1),t.hasToken=!!(/token=/i.test(e)||n.query?.token||i?.get("token")),!t.hasToken&&r.Z.apiKey&&M(e)&&(n.query||(n.query={}),n.query.token=r.Z.apiKey,t.hasToken=!0),t.useIdentity&&!t.hasToken&&!t.credentialToken&&!C(e)&&!(0,u.Hc)(s)){let r;"immediate"===n.authMode?(await L(),r=await o.id.getCredential(e,{signal:s}),t.credential=r):"no-prompt"===n.authMode?(await L(),r=await o.id.getCredential(e,{prompt:!1,signal:s}).catch((()=>{})),t.credential=r):o.id&&(r=o.id.findCredential(e)),r&&(t.credentialToken=r.token,t.useSSL=!!r.ssl)}}(t);try{do{[e,n]=await A(t)}while(!await B(t,e,n))}catch(n){const r=O("request:server",n,t.params,e);throw r.details.ssl=t.useSSL,t.interceptor&&t.interceptor.error&&t.interceptor.error(r),r}const s=t.params.url;if(n&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(s)){if(!t.hasToken&&!t.credentialToken&&n.user?.username&&!(0,l.kl)(s)){const t=(0,l.P$)(s,!0);t&&_.trustedServers.push(t)}Array.isArray(n.authorizedCrossOriginNoCorsDomains)&&function(t){r.Z.request.crossOriginNoCorsDomains||(r.Z.request.crossOriginNoCorsDomains={});const e=r.Z.request.crossOriginNoCorsDomains;for(let n of t)n=n.toLowerCase(),/^https?:\/\//.test(n)?e[(0,l.P$)(n)??""]=0:(e[(0,l.P$)("http://"+n)??""]=0,e[(0,l.P$)("https://"+n)??""]=0)}(n.authorizedCrossOriginNoCorsDomains)}const a=t.credential;if(a&&o.id){const t=o.id.findServerInfo(a.server);let e=t&&t.owningSystemUrl;if(e){e=e.replace(/\/?$/,"/sharing");const t=o.id.findCredential(e,a.userId);t&&-1===o.id._getIdenticalSvcIdx(e,t)&&t.resources.unshift(e)}}return{data:n,getHeader:e?t=>e?.headers.get(t):q,requestOptions:t.params.requestOptions,ssl:t.useSSL,url:t.params.url}}(b);return d?.after?.(p),p}let w;const _=r.Z.request,E="FormData"in globalThis,v=[499,498,403,401],x=["COM_0056","COM_0057","SB_0008"],P=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],q=()=>null,T=Symbol();function S(t){const e=(0,l.P$)(t);return!e||e.endsWith(".arcgis.com")||y._corsServers.includes(e)||(0,l.kl)(e)}function O(t,e,n,r){let o="Error";const a={url:n.url,requestOptions:n.requestOptions,getHeader:q,ssl:!1};if(e instanceof s.Z)return e.details?(e.details=(0,i.d9)(e.details),e.details.url=n.url,e.details.requestOptions=n.requestOptions):e.details=a,e;if(e){const t=r&&(t=>r.headers.get(t)),n=r&&r.status,s=e.message;s&&(o=s),t&&(a.getHeader=t),a.httpStatus=(null!=e.httpCode?e.httpCode:e.code)||n||0,a.subCode=e.subcode,a.messageCode=e.messageCode,"string"==typeof e.details?a.messages=[e.details]:a.messages=e.details,a.raw=T in e?e[T]:e}return(0,u.D_)(e)?(0,u.zE)():new s.Z(t,o,a)}async function L(){o.id||await Promise.all([n.e(6467),n.e(9798)]).then(n.bind(n,89798))}function C(t){return P.some((e=>e.test(t)))}async function A(t){let e=t.params.url;const n=t.params.requestOptions,s=t.fetchOptions??{},i=(0,l.jc)(e)||(0,l.HK)(e),c=n.responseType||"json",f=i?0:null!=n.timeout?n.timeout:_.timeout;let h=!1;if(!i){t.useSSL&&(e=(0,l.hO)(e)),n.cacheBust&&"default"===s.cache&&(e=(0,l.ZN)(e,"request.preventCache",Date.now()));let i={...n.query};t.credentialToken&&(i.token=t.credentialToken);let c=(0,l.B7)(i);(0,a.h)("esri-url-encodes-apostrophe")&&(c=c.replace(/'/g,"%27"));const u=e.length+1+c.length;let f;h="delete"===n.method||"post"===n.method||"put"===n.method||!!n.body||u>_.maxUrlLength;const d=n.useProxy||!!(0,l.ed)(e);if(d){const t=(0,l.b7)(e);f=t.path,!h&&f.length+1+u>_.maxUrlLength&&(h=!0),t.query&&(i={...t.query,...i})}if("HEAD"===s.method&&(h||d)){if(h){if(u>_.maxUrlLength)throw O("request:invalid-parameters",new Error("URL exceeds maximum length"),t.params);throw O("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),t.params)}if(d)throw O("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),t.params)}if(h?(s.method="delete"===n.method?"DELETE":"put"===n.method?"PUT":"POST",n.body?e=(0,l.fl)(e,i):(s.body=(0,l.B7)(i),s.headers||(s.headers={}),s.headers["Content-Type"]="application/x-www-form-urlencoded")):e=(0,l.fl)(e,i),d&&(t.useProxy=!0,e=`${f}?${e}`),i.token&&E&&s.body instanceof FormData&&!m(e)&&s.body.set("token",i.token),n.hasOwnProperty("withCredentials"))t.withCredentials=n.withCredentials;else if(!(0,l.D6)(e,(0,l.TI)()))if((0,l.kl)(e))t.withCredentials=!0;else if(o.id){const n=o.id.findServerInfo(e);n&&n.webTierAuth&&(t.withCredentials=!0)}t.withCredentials&&(s.credentials="include",function(t){const e=r.Z.request.crossOriginNoCorsDomains;if(e){let n=(0,l.P$)(t);if(n)return n=n.toLowerCase(),!(0,l.D6)(n,(0,l.TI)())&&e[n]<Date.now()-36e5}return!1}(e)&&await async function(t){const e=r.Z.request.crossOriginNoCorsDomains,n=(0,l.P$)(t);e&&n&&(e[n.toLowerCase()]=Date.now());const o=(0,l.mN)(t);t=o.path,"json"===o.query?.f&&(t+="?f=json");try{await fetch(t,{mode:"no-cors",credentials:"include"})}catch{}}(h?(0,l.fl)(e,i):e))}let d,b,M=0,p=!1;f>0&&(M=setTimeout((()=>{p=!0,t.controller.abort()}),f));try{if("native-request-init"===n.responseType)b=s,b.url=e;else if("image"!==n.responseType||"default"!==s.cache||"GET"!==s.method||h||function(t){if(t)for(const e of Object.getOwnPropertyNames(t))if(t[e])return!0;return!1}(n.headers)||!i&&!t.useProxy&&_.proxyUrl&&!S(e)){if(d=await y._abortableFetch(e,s),t.useProxy||function(t){const e=(0,l.P$)(t);e&&!y._corsServers.includes(e)&&y._corsServers.push(e)}(e),"native"===n.responseType)b=d;else if("HEAD"!==s.method)if(d.ok){switch(c){case"array-buffer":b=await d.arrayBuffer();break;case"blob":case"image":b=await d.blob();break;default:b=await d.text()}if(M&&(clearTimeout(M),M=0),"json"===c||"xml"===c||"document"===c)if(b)switch(c){case"json":b=JSON.parse(b);break;case"xml":b=k(b,"application/xml");break;case"document":b=k(b,"text/html")}else b=null;if(b){if("array-buffer"===c||"blob"===c){const t=d.headers.get("Content-Type");if(t&&/application\/json|text\/plain/i.test(t)&&b["blob"===c?"size":"byteLength"]<=750)try{const t=await new Response(b).json();t.error&&(b=t)}catch{}}"image"===c&&b instanceof Blob&&(b=await I(URL.createObjectURL(b),t,!0))}}else b=await d.text()}else b=await I(e,t)}catch(r){if("AbortError"===r.name){if(p)throw new Error("Timeout exceeded");throw(0,u.zE)("Request canceled")}if(!(!d&&r instanceof TypeError&&_.proxyUrl)||n.body||"delete"===n.method||"head"===n.method||"post"===n.method||"put"===n.method||t.useProxy||S(e))throw r;t.redoRequest=!0,(0,l.tD)({proxyUrl:_.proxyUrl,urlPrefix:(0,l.P$)(e)??""})}finally{M&&clearTimeout(M)}return[d,b]}function k(t,e){let n;try{n=(new DOMParser).parseFromString(t,e)}catch{}if(!n||n.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return n}async function B(t,e,n){if(t.redoRequest)return t.redoRequest=!1,!1;const r=t.params.requestOptions;if(!e||"native"===r.responseType||"native-request-init"===r.responseType)return!0;let s,a;if(!e.ok)throw s=new Error(`Unable to load ${e.url} status: ${e.status}`),s[T]=n,s;n&&(n.error?s=n.error:"error"===n.status&&Array.isArray(n.messages)&&(s={...n},s[T]=n,s.details=n.messages));let i,c=null;s&&(a=Number(s.code),c=s.hasOwnProperty("subcode")?Number(s.subcode):null,i=s.messageCode,i=i&&i.toUpperCase());const u=r.authMode;if(403===a&&(4===c||s.message&&s.message.toLowerCase().includes("ssl")&&!s.message.toLowerCase().includes("permission"))){if(!t.useSSL)return t.useSSL=!0,!1}else if(!t.hasToken&&t.useIdentity&&("no-prompt"!==u||498===a)&&void 0!==a&&v.includes(a)&&!C(t.params.url)&&(403!==a||i&&!x.includes(i)&&(null==c||2===c&&t.credentialToken))){await L();try{const e=await o.id.getCredential(t.params.url,{error:O("request:server",s,t.params),prompt:"no-prompt"!==u,signal:t.controller.signal,token:t.credentialToken});return t.credential=e,t.credentialToken=e.token,t.useSSL=t.useSSL||e.ssl,!1}catch(e){if("no-prompt"===u)return t.credential=void 0,t.credentialToken=void 0,!1;s=e}}if(s)throw s;return!0}function I(t,e,n=!1){const r=e.controller.signal,o=new Image;return e.withCredentials?o.crossOrigin="use-credentials":o.crossOrigin="anonymous",o.alt="",o.fetchPriority=_.priority,o.src=t,p(o,t,n,r)}y._abortableFetch=null,y._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];const U=Object.freeze(Object.defineProperty({__proto__:null,default:y},Symbol.toStringTag,{value:"Module"}))}}]);