// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
require({cache:{"esri/chunks/arcade":function(){define("require exports ./_rollupPluginBabelHelpers ../arcade/arcadeCompiler ../arcade/ArcadeModuleResolver ../arcade/arcadeRuntime ../arcade/executionError ../arcade/parser ../arcade/treeAnalysis ../core/has ../core/maybe".split(" "),function(x,I,E,z,b,e,J,F,h,G,q){function w(aa,da){if(!0===da.useAsync||!0===aa.isAsync)return g(aa,da);if(G("esri-csp-restrictions"))return function(fa){return e.executeScript(aa,fa)};try{return z.compileScript(aa,da)}catch(fa){if("esri.arcade.arcadeuncompilableerror"===
fa.declaredRootClass)return function(ba){return e.executeScript(aa,ba)};throw fa;}}function g(aa,da){if(null===ca)throw new J.ArcadeExecutionError(null,J.ExecutionErrorCodes.AsyncNotEnabled,null);if(G("esri-csp-restrictions"))return function(fa){return ca.executeScript(aa,fa)};try{return z.compileScript(aa,da,!0)}catch(fa){if("esri.arcade.arcadeuncompilableerror"===fa.declaredRootClass)return function(ba){return ca.executeScript(aa,ba)};throw fa;}}function d(aa){e.extend(aa);z.extend(aa,"sync");null===
ca?p.push(aa):(z.extend(aa,"async"),ca.extend(aa))}function f(aa,da=[]){return F.parseScript(aa,da)}function A(aa,da,fa=[]){aa=F.parseScript(aa,fa);return m(aa,da)}function m(aa,da){if(!0===da.useAsync||!0===aa.isAsync){if(null===ca)throw new J.ArcadeExecutionError(null,J.ExecutionErrorCodes.AsyncNotEnabled,null);return ca.executeScript(aa,da)}return e.executeScript(aa,da)}function n(aa,da){return h.referencesMember(aa,da)}function H(aa,da){return h.referencesFunction(aa,da)}function B(aa,da=!1){void 0===
da&&(da=!1);return h.findFieldLiterals(aa)}function c(aa){return h.findExpectedFieldLiterals(aa)}function l(aa,da=[]){void 0===aa.usesGeometry&&h.findScriptDependencies(aa,da);return!0===aa.usesGeometry}function t(){return u?u:u=v()}function v(){return r.apply(this,arguments)}function r(){r=E._asyncToGenerator(function*(){const [aa,da]=yield Promise.all([new Promise((fa,ba)=>x(["../geometry/geometryEngine"],fa,ba)),new Promise((fa,ba)=>x(["../arcade/functions/geomsync"],fa,ba))]);qa=!0;da.setGeometryEngine(aa);
return!0});return r.apply(this,arguments)}function P(){return null!==R?R:R=na()}function na(){return ia.apply(this,arguments)}function ia(){ia=E._asyncToGenerator(function*(){yield z.enableAsyncSupport();ca=yield new Promise((aa,da)=>x(["../arcade/arcadeAsyncRuntime"],aa,da));for(const aa of p)ca.extend(aa),z.extend(aa,"async");p=null;return!0});return ia.apply(this,arguments)}function oa(){return la}function Ua(){return ca?!0:!1}function Ea(){return qa}function Xa(){return S?S:S=Ha()}function Ha(){return ta.apply(this,
arguments)}function ta(){ta=E._asyncToGenerator(function*(){yield P();const [aa,da,fa,ba,za]=yield Promise.all([new Promise((va,Fa)=>x(["../arcade/featureSetUtils"],va,Fa)),new Promise((va,Fa)=>x(["../arcade/functions/featuresetbase"],va,Fa)),new Promise((va,Fa)=>x(["../arcade/functions/featuresetgeom"],va,Fa)),new Promise((va,Fa)=>x(["../arcade/functions/featuresetstats"],va,Fa)),new Promise((va,Fa)=>x(["../arcade/functions/featuresetstring"],va,Fa))]);Z=aa;ca.extend([da,fa,ba,za]);z.extend([da,
fa,ba,za],"async");return la=!0});return ta.apply(this,arguments)}function ea(aa,da=[]){void 0===aa.usesFeatureSet&&h.findScriptDependencies(aa,da);return!0===aa.usesFeatureSet}function pa(aa,da=[]){void 0===aa.isAsync&&h.findScriptDependencies(aa,da);return!0===aa.isAsync}function Pa(aa,da){return Ba.apply(this,arguments)}function Ba(){Ba=E._asyncToGenerator(function*(aa,da,fa=[],ba=!1,za=null){return Ka(new Set,aa,da,fa,ba,za)});return Ba.apply(this,arguments)}function Ka(aa,da,fa){return M.apply(this,
arguments)}function M(){M=E._asyncToGenerator(function*(aa,da,fa,ba=[],za=!1,va=null){da="string"===typeof da?f(da):da;const Fa=[];if(da&&(!1===qa&&(l(da)||za)&&Fa.push(t()),!1===Ua()&&(!0===da.isAsync||fa)&&Fa.push(P()),!1===la)){var Ma;if(!(Ma=ea(da)))a:{if(ba)for(const cb of ba)if(n(da,cb)){Ma=!0;break a}Ma=!1}Ma&&Fa.push(Xa())}Fa.length&&(yield Promise.all(Fa));yield O(aa,da,va,fa,za);return!0});return M.apply(this,arguments)}function K(aa,da=[]){void 0===aa.usesModules&&h.findScriptDependencies(aa,
da);return!0===aa.usesModules}function O(aa,da){return D.apply(this,arguments)}function D(){D=E._asyncToGenerator(function*(aa,da,fa=null,ba=!1,za=!1){var va=h.findModuleImports(da);null===fa&&0<va.length&&(fa=b.ArcadeModuleResolver.getDefault());da.loadedModules={};for(const Fa of va){q.assertIsSome(fa);va=fa.normalizeModuleUri(Fa.source);if(aa.has(va.uri))throw new J.ArcadeExecutionError(null,J.ExecutionErrorCodes.CircularModules,null);aa.add(va.uri);const Ma=yield fa.fetchModule(va);yield Ka(aa,
Ma,ba,[],za,fa);aa.delete(va.uri);Ma.isAsync&&(da.isAsync=!0);Ma.usesFeatureSet&&(da.usesFeatureSet=!0);Ma.usesGeometry&&(da.usesGeometry=!0);da.loadedModules[Fa.libname]={uri:va.uri,script:Ma}}});return D.apply(this,arguments)}function T(aa){if(l(aa))return!0;aa=h.findFunctionCalls(aa);let da=!1;for(let fa=0;fa<aa.length;fa++)if(X.includes(aa[fa])){da=!0;break}return da}function U(){return Z}const X="feature angle bearing centroid envelopeintersects extent geometry isselfintersecting ringisclockwise".split(" ");
let la=!1,qa=!1,ca=null,p=[],u=null,R=null,S=null,Z=null;const ua=Object.freeze(Object.defineProperty({__proto__:null,compileScript:w,extend:d,parseScript:f,parseAndExecuteScript:A,executeScript:m,referencesMember:n,referencesFunction:H,extractFieldLiterals:B,extractExpectedFieldLiterals:c,scriptUsesGeometryEngine:l,enableGeometrySupport:t,enableGeometrySupportImpl:v,enableAsyncSupport:P,enableAsyncSupportImpl:na,isFeatureSetSupportEnabled:oa,isAsyncEnabled:Ua,isGeometryEnabled:Ea,enableFeatureSetSupport:Xa,
enableFeatureSetSupportImpl:Ha,scriptUsesFeatureSet:ea,scriptIsAsync:pa,loadScriptDependencies:Pa,_loadScriptDependenciesImpl:Ka,scriptUsesModules:K,loadDependentModules:O,scriptTouchesGeometry:T,featureSetUtils:U},Symbol.toStringTag,{value:"Module"}));I._loadScriptDependenciesImpl=Ka;I.arcade=ua;I.compileScript=w;I.enableAsyncSupport=P;I.enableAsyncSupportImpl=na;I.enableFeatureSetSupport=Xa;I.enableFeatureSetSupportImpl=Ha;I.enableGeometrySupport=t;I.enableGeometrySupportImpl=v;I.executeScript=
m;I.extend=d;I.extractExpectedFieldLiterals=c;I.extractFieldLiterals=B;I.featureSetUtils=U;I.isAsyncEnabled=Ua;I.isFeatureSetSupportEnabled=oa;I.isGeometryEnabled=Ea;I.loadDependentModules=O;I.loadScriptDependencies=Pa;I.parseAndExecuteScript=A;I.parseScript=f;I.referencesFunction=H;I.referencesMember=n;I.scriptIsAsync=pa;I.scriptTouchesGeometry=T;I.scriptUsesFeatureSet=ea;I.scriptUsesGeometryEngine=l;I.scriptUsesModules=K})},"esri/arcade/arcadeCompiler":function(){define("require exports ../chunks/_rollupPluginBabelHelpers ./Dictionary ./Feature ../chunks/languageUtils ./treeAnalysis ../chunks/array ./functions/date ./functions/geometry ./functions/geomsync ./functions/maths ./functions/stats ./functions/string ../core/promiseUtils ../geometry/Geometry ../geometry/SpatialReference ./ArcadeModuleLoader ./ArcadeModule ./FunctionWrapper ./executionError".split(" "),
function(x,I,E,z,b,e,J,F,h,G,q,w,g,d,f,A,m,n,H,B,c){function l(p,u,R){try{return R(p,null,u.arguments)}catch(S){throw S;}}function t(p,u){try{switch(u.type){case "EmptyStatement":return"lc.voidOperation";case "VariableDeclarator":return Ua(p,u);case "VariableDeclaration":var R=[];for(var S=0;S<u.declarations.length;S++)R.push(t(p,u.declarations[S]));return R.join("\n")+" \n lastStatement\x3d  lc.voidOperation; \n";case "BlockStatement":case "Program":return ia(p,u);case "FunctionDeclaration":{const sa=
u.id.name.toLowerCase();oa(sa);var Z="",ua=!1;void 0!==p.globalScope[sa]?Z=sa:void 0!==p.globalScope._SymbolsMap[sa]?Z=p.globalScope._SymbolsMap[sa]:p.undeclaredGlobalsInFunctions.has(sa)?(Z=p.undeclaredGlobalsInFunctions.get(sa).manglename,p.globalScope._SymbolsMap[sa]=Z,p.mangleMap[sa]=Z,p.undeclaredGlobalsInFunctions.delete(sa),ua=!0):(Z=Ha(p),p.globalScope._SymbolsMap[sa]=Z,p.mangleMap[sa]=Z);S={isAsync:p.isAsync,console:p.console,exports:p.exports,undeclaredGlobalsInFunctions:p.undeclaredGlobalsInFunctions,
customfunctions:p.customfunctions,moduleFactory:p.moduleFactory,moduleFactoryMap:p.moduleFactoryMap,libraryResolver:p.libraryResolver,lrucache:p.lrucache,interceptor:p.interceptor,services:p.services,symbols:p.symbols,mangleMap:p.mangleMap,localScope:{_SymbolsMap:{}},depthCounter:p.depthCounter,globalScope:p.globalScope};var aa="new lang.UserDefinedCompiledFunction( lang.functionDepthchecker(function() { var lastStatement \x3d lc.voidOperation; \n   var lscope \x3d runtimeCtx.localStack[runtimeCtx.localStack.length-1];\n";
for(var da=0;da<u.params.length;da++){const Ya=u.params[da].name.toLowerCase();oa(Ya);const Za=Ha(p);S.localScope._SymbolsMap[Ya]=Za;S.mangleMap[Ya]=Za;aa+="lscope['"+Za+"']\x3darguments["+da.toString()+"];\n"}!0===p.isAsync?(aa=aa+"return lang.__awaiter(this, void 0, void 0, function* () {\n"+(ia(S,u.body)+"\n return lastStatement; "),aa=aa+"});  }, runtimeCtx),"+(u.params.length+")")):aa+=ia(S,u.body)+"\n return lastStatement; }, runtimeCtx),"+u.params.length+")";aa+="\n lastStatement \x3d lc.voidOperation; \n";
R=ua?"gscope[lang.setAssig('"+Z+"', runtimeCtx)]\x3d"+aa:"gscope['"+Z+"']\x3d"+aa}return R;case "ImportDeclaration":{const sa=u.specifiers[0].local.name.toLowerCase();oa(sa);const Ya=p.libraryResolver?.loadLibrary(sa),Za=Ha(p);void 0===p.moduleFactory[Ya.uri]&&(p.moduleFactory[Ya.uri]=K(Ya.syntax,{interceptor:p.interceptor,services:p.services,moduleFactory:p.moduleFactory,lrucache:p.lrucache,libraryResolver:p.libraryResolver,customfunctions:p.customfunctions,vars:{}},p.isAsync));p.moduleFactoryMap[Za]=
Ya.uri;u="";u=p.isAsync?"(yield lang.loadModule('"+Za+"', runtimeCtx) ); ":"lang.loadModule('"+Za+"', runtimeCtx); ";void 0!==p.globalScope[sa]?Z="gscope['"+sa+"']\x3d"+u:void 0!==p.globalScope._SymbolsMap[sa]?Z="gscope['"+p.globalScope._SymbolsMap[sa]+"']\x3d"+u:(R="",p.undeclaredGlobalsInFunctions.has(sa)?(R=p.undeclaredGlobalsInFunctions.get(sa).manglename,p.undeclaredGlobalsInFunctions.delete(sa)):R=Ha(p),p.globalScope._SymbolsMap[sa]=R,p.mangleMap[sa]=R,Z="gscope[lang.setAssig('"+R+"', runtimeCtx)]\x3d"+
u)}return Z;case "ExportNamedDeclaration":const cb=t(p,u.declaration);if("FunctionDeclaration"===u.declaration.type)p.exports[u.declaration.id.name.toLowerCase()]="function";else if("VariableDeclaration"===u.declaration.type)for(const sa of u.declaration.declarations)p.exports[sa.id.name.toLowerCase()]="variable";return cb;case "ReturnStatement":var fa=null===u.argument?"return lc.voidOperation":"return "+t(p,u.argument);return fa;case "IfStatement":return na(p,u);case "ExpressionStatement":var ba=
"AssignmentExpression"===u.expression.type?"lastStatement \x3d lc.voidOperation; "+t(p,u.expression)+"; \n ":"lastStatement \x3d "+t(p,u.expression)+"; ";return ba;case "AssignmentExpression":return r(p,u);case "UpdateExpression":return v(p,u);case "BreakStatement":return"break";case "ContinueStatement":return"continue";case "TemplateLiteral":try{R=[];S=0;for(const sa of u.quasis)R.push(sa.value?JSON.stringify(sa.value.cooked):JSON.stringify("")),!1===sa.tail&&(R.push(u.expressions[S]?"lang.castString(lang.aCheck("+
t(p,u.expressions[S])+", 'TemplateLiteral'))":""),S++);ua="(["+R.join(",")+"]).join('')"}catch(sa){throw sa;}return ua;case "TemplateElement":return JSON.stringify(u.value?u.value.cooked:"");case "ForStatement":R="lastStatement \x3d lc.voidOperation; \n";null!==u.init&&(R+=t(p,u.init)+"; ");const fb=ta(p),ja=ta(p);R+="var "+fb+" \x3d true; \n do { ";null!==u.update&&(R+=" if ("+fb+"\x3d\x3d\x3dfalse) {\n "+t(p,u.update)+"  \n}\n "+fb+"\x3dfalse; \n");null!==u.test&&(R+="var "+ja+" \x3d "+t(p,u.test)+
"; ",R+="if ("+ja+"\x3d\x3d\x3dfalse) { break; } else if ("+ja+"!\x3d\x3dtrue) { lang.error('"+c.ExecutionErrorCodes.BooleanConditionRequired+"');   }\n");R+=t(p,u.body);null!==u.update&&(R+="\n "+t(p,u.update));return R+("\n"+fb+" \x3d true; \n} while(true);  lastStatement \x3d lc.voidOperation; ");case "ForInStatement":da=ta(p);const Qa=ta(p),Ia=ta(p);let ya="var "+da+" \x3d "+t(p,u.right)+";\n";"VariableDeclaration"===u.left.type&&(ya+=t(p,u.left));let Na="VariableDeclaration"===u.left.type?u.left.declarations[0].id.name:
u.left.name;Na=Na.toLowerCase();oa(Na);R="";null!==p.localScope&&(void 0!==p.localScope[Na]?R="lscope['"+Na+"']":void 0!==p.localScope._SymbolsMap[Na]&&(R="lscope['"+p.localScope._SymbolsMap[Na]+"']"));S="";if(""===R)if(void 0!==p.globalScope[Na])R="gscope['"+Na+"']";else if(void 0!==p.globalScope._SymbolsMap[Na])R="gscope['"+p.globalScope._SymbolsMap[Na]+"']";else if(null!==p.localScope)if(p.undeclaredGlobalsInFunctions.has(Na))R="gscope['"+p.undeclaredGlobalsInFunctions.get(Na).manglename+"']",
S=p.undeclaredGlobalsInFunctions.get(Na).manglename;else{const sa={manglename:Ha(p),node:u.left};p.undeclaredGlobalsInFunctions.set(Na,sa);R="gscope['"+sa.manglename+"']";S=sa.manglename}S&&(ya+="lang.chkAssig('"+S+"',runtimeCtx); \n");ya=ya+("if ("+da+"\x3d\x3d\x3dnull) {  lastStatement \x3d lc.voidOperation; }\n else if (lc.isArray(")+(da+") || lc.isString("+da+")) {var ")+(Qa+"\x3d"+da+".length; \nfor(var ")+(Ia+"\x3d0; "+Ia+"\x3c"+Qa+"; "+Ia+"++) {\n");ya+=R+"\x3d"+Ia+";\n";ya+=t(p,u.body);ya+=
"\n}\n";ya+=" lastStatement \x3d lc.voidOperation; \n";ya+=" \n}\n";ya+="else if (lc.isImmutableArray("+da+")) {";ya=ya+("var "+Qa+"\x3d"+da+".length(); \nfor(var ")+(Ia+"\x3d0; "+Ia+"\x3c"+Qa+"; "+Ia+"++) {\n");ya+=R+"\x3d"+Ia+";\n";ya+=t(p,u.body);ya+="\n}\n";ya+=" lastStatement \x3d lc.voidOperation; \n";ya+=" \n}\n";ya+="else if (( "+da+" instanceof lang.Dictionary) || ( "+da+" instanceof lang.Feature)) {";ya=ya+("var "+Qa+"\x3d"+da+".keys(); \nfor(var ")+(Ia+"\x3d0; "+Ia+"\x3c"+Qa+".length; "+
Ia+"++) {\n");ya+=R+"\x3d"+Qa+"["+Ia+"];\n";ya+=t(p,u.body);ya+="\n}\n";ya+=" lastStatement \x3d lc.voidOperation; \n";ya+=" \n}\n";p.isAsync&&(ya+="else if (lc.isFeatureSet("+da+")) {",ya=ya+("var "+Qa+"\x3d"+da+".iterator(runtimeCtx.abortSignal); \nfor(var ")+(Ia+"\x3dlang. graphicToFeature( yield "+Qa+".next(),"+da+"); "+Ia+"!\x3dnull; "+Ia+"\x3dlang. graphicToFeature( yield "+Qa+".next(),"+da+")) {\n")+(R+"\x3d"+Ia+";\n"),ya+=t(p,u.body),ya+="\n}\n",ya+=" lastStatement \x3d lc.voidOperation; \n",
ya+=" \n}\n");return ya+"else { lastStatement \x3d lc.voidOperation; } \n";case "WhileStatement":R="lastStatement \x3d lc.voidOperation; \n";const Va=ta(p);return R+=`\n  var ${Va} = true;\n    do {\n      ${Va} = ${t(p,u.test)};\n      if (${Va}==false) {\n        break;\n      }\n      if (${Va}!==true) {\n        lang.error('${c.ExecutionErrorCodes.BooleanConditionRequired}');\n      }\n      ${t(p,u.body)}\n    }\n    while (${Va} !== false);\n    lastStatement = lc.voidOperation;\n  `;case "Identifier":return Ea(p,
u);case "MemberExpression":try{let sa;!0===u.computed?sa=t(p,u.property):(sa="'"+u.property.name+"'",oa(u.property.name));var za="lang.member("+t(p,u.object)+","+sa+")"}catch(sa){throw sa;}return za;case "Literal":return null===u.value||void 0===u.value?"null":JSON.stringify(u.value);case "CallExpression":return Xa(p,u);case "UnaryExpression":try{var va="lang.unary("+t(p,u.argument)+",'"+u.operator+"')"}catch(sa){throw sa;}return va;case "BinaryExpression":try{var Fa="lang.binary("+t(p,u.left)+","+
t(p,u.right)+",'"+u.operator+"')"}catch(sa){throw sa;}return Fa;case "LogicalExpression":try{if("AssignmentExpression"===u.left.type||"UpdateExpression"===u.left.type)throw new c.ArcadeCompilationError(p,c.ExecutionErrorCodes.LogicalExpressionOnlyBoolean,u);if("AssignmentExpression"===u.right.type||"UpdateExpression"===u.right.type)throw new c.ArcadeCompilationError(p,c.ExecutionErrorCodes.LogicalExpressionOnlyBoolean,u);if("\x26\x26"===u.operator||"||"===u.operator)var Ma="(lang.logicalCheck("+t(p,
u.left)+") "+u.operator+" lang.logicalCheck("+t(p,u.right)+"))";else throw new c.ArcadeCompilationError(null,c.ExecutionErrorCodes.LogicExpressionOrAnd,null);}catch(sa){throw sa;}return Ma;case "ArrayExpression":try{R=[];for(S=0;S<u.elements.length;S++)"Literal"===u.elements[S].type?R.push(t(p,u.elements[S])):R.push("lang.aCheck("+t(p,u.elements[S])+",'ArrayExpression')");aa="["+R.join(",")+"]"}catch(sa){throw sa;}return aa;case "ObjectExpression":R="lang.dictionary([";for(S=0;S<u.properties.length;S++){const sa=
u.properties[S];oa(sa.key.name);const Ya="Identifier"===sa.key.type?"'"+sa.key.name+"'":t(p,sa.key),Za=t(p,sa.value);0<S&&(R+=",");R+="lang.strCheck("+Ya+",'ObjectExpression'),lang.aCheck("+Za+", 'ObjectExpression')"}return R+"])";case "Property":throw new c.ArcadeCompilationError(p,c.ExecutionErrorCodes.NeverReach,u);case "Array":throw new c.ArcadeCompilationError(p,c.ExecutionErrorCodes.NeverReach,u);default:throw new c.ArcadeCompilationError(p,c.ExecutionErrorCodes.Unrecognised,u);}}catch(cb){throw cb;
}}function v(p,u){let R=null;var S="";if("MemberExpression"===u.argument.type)return R=t(p,u.argument.object),!0===u.argument.computed?S=t(p,u.argument.property):(S="'"+u.argument.property.name+"'",oa(u.argument.property.name)),"lang.memberupdate("+R+","+S+",'"+u.operator+"',"+u.prefix+")";R=u.argument.name.toLowerCase();oa(R);if(null!==p.localScope){if(void 0!==p.localScope[R])return"lang.update(lscope, '"+R+"','"+u.operator+"',"+u.prefix+")";if(void 0!==p.localScope._SymbolsMap[R])return"lang.update(lscope, '"+
p.localScope._SymbolsMap[R]+"','"+u.operator+"',"+u.prefix+")"}if(void 0!==p.globalScope[R])return"lang.update(gscope, '"+R+"','"+u.operator+"',"+u.prefix+")";if(void 0!==p.globalScope._SymbolsMap[R])return"lang.update(gscope, '"+p.globalScope._SymbolsMap[R]+"','"+u.operator+"',"+u.prefix+")";if(null!==p.localScope){if(p.undeclaredGlobalsInFunctions.has(R))return"lang.update(gscope,lang.chkAssig( '"+p.undeclaredGlobalsInFunctions.get(R).manglename+"',runtimeCtx),'"+u.operator+"',"+u.prefix+")";S=
{manglename:Ha(p),node:u.argument};p.undeclaredGlobalsInFunctions.set(R,S);return"lang.update(gscope, lang.chkAssig('"+S.manglename+"',runtimeCtx),'"+u.operator+"',"+u.prefix+")"}throw new c.ArcadeExecutionError(p,c.ExecutionErrorCodes.InvalidIdentifier,u);}function r(p,u){const R=t(p,u.right);let S=null;var Z="";if("MemberExpression"===u.left.type)return S=t(p,u.left.object),!0===u.left.computed?Z=t(p,u.left.property):(Z="'"+u.left.property.name+"'",oa(u.left.property.name)),"lang.assignmember("+
S+","+Z+",'"+u.operator+"',"+R+")";S=u.left.name.toLowerCase();oa(S);if(null!==p.localScope){if(void 0!==p.localScope[S])return"lscope['"+S+"']\x3dlang.assign("+R+",'"+u.operator+"', lscope['"+S+"'])";if(void 0!==p.localScope._SymbolsMap[S])return"lscope['"+p.localScope._SymbolsMap[S]+"']\x3dlang.assign("+R+",'"+u.operator+"', lscope['"+p.localScope._SymbolsMap[S]+"'])"}if(void 0!==p.globalScope[S])return"gscope['"+S+"']\x3dlang.assign("+R+",'"+u.operator+"', gscope['"+S+"'])";if(void 0!==p.globalScope._SymbolsMap[S])return"gscope['"+
p.globalScope._SymbolsMap[S]+"']\x3dlang.assign("+R+",'"+u.operator+"', gscope['"+p.globalScope._SymbolsMap[S]+"'])";if(null!==p.localScope){if(p.undeclaredGlobalsInFunctions.has(S))return"gscope[lang.chkAssig('"+p.undeclaredGlobalsInFunctions.get(S).manglename+"',runtimeCtx)]\x3dlang.assign("+R+",'"+u.operator+"', gscope['"+p.undeclaredGlobalsInFunctions.get(S).manglename+"'])";Z={manglename:Ha(p),node:u.argument};p.undeclaredGlobalsInFunctions.set(S,Z);return"gscope[lang.chkAssig('"+Z.manglename+
"',runtimeCtx)]\x3dlang.assign("+R+",'"+u.operator+"', gscope['"+Z.manglename+"'])"}throw new c.ArcadeExecutionError(p,c.ExecutionErrorCodes.InvalidIdentifier,u);}function P(p,u){return"BlockStatement"===u.type?t(p,u):"ReturnStatement"===u.type||"BreakStatement"===u.type||"ContinueStatement"===u.type?t(p,u)+"; ":"UpdateExpression"===u.type?"lastStatement \x3d "+t(p,u)+"; ":"ExpressionStatement"===u.type?t(p,u):"ObjectExpression"===u.type?"lastStatement \x3d "+t(p,u)+"; ":t(p,u)+"; "}function na(p,
u){if("AssignmentExpression"===u.test.type||"UpdateExpression"===u.test.type)throw new c.ArcadeCompilationError(p,c.ExecutionErrorCodes.BooleanConditionRequired,u);return`if (lang.mustBoolean(${t(p,u.test)}, runtimeCtx) === true) {\n    ${P(p,u.consequent)}\n  } `+(null!==u.alternate?"IfStatement"===u.alternate.type?" else "+na(p,u.alternate):` else {\n      ${P(p,u.alternate)}\n    }\n`:" else {\n      lastStatement \x3d lc.voidOperation;\n    }\n")}function ia(p,u){let R="";for(let S=0;S<u.body.length;S++)"EmptyStatement"!==
u.body[S].type&&(R="ReturnStatement"===u.body[S].type?R+(t(p,u.body[S])+"; \n"):"BreakStatement"===u.body[S].type?R+(t(p,u.body[S])+"; \n"):"ContinueStatement"===u.body[S].type?R+(t(p,u.body[S])+"; \n"):"UpdateExpression"===u.body[S].type?R+("lastStatement \x3d "+t(p,u.body[S])+"; \n"):"ObjectExpression"===u.body[S].type?R+("lastStatement \x3d "+t(p,u.body[S])+"; \n"):R+(t(p,u.body[S])+" \n"));return R}function oa(p){if("iif"===p)throw new c.ArcadeUncompilableError;if("decode"===p)throw new c.ArcadeUncompilableError;
if("when"===p)throw new c.ArcadeUncompilableError;}function Ua(p,u){let R=null===u.init?null:t(p,u.init);R===e.voidOperation&&(R=null);u=u.id.name.toLowerCase();oa(u);if(null!==p.localScope){if(void 0!==p.localScope[u])return"lscope['"+u+"']\x3d"+R+"; ";if(void 0!==p.localScope._SymbolsMap[u])return"lscope['"+p.localScope._SymbolsMap[u]+"']\x3d"+R+"; ";var S=Ha(p);p.localScope._SymbolsMap[u]=S;p.mangleMap[u]=S;return"lscope['"+S+"']\x3d"+R+"; "}if(void 0!==p.globalScope[u])return"gscope['"+u+"']\x3d"+
R+"; ";if(void 0!==p.globalScope._SymbolsMap[u])return"gscope['"+p.globalScope._SymbolsMap[u]+"']\x3d"+R+"; ";if(p.undeclaredGlobalsInFunctions.has(u))return S=p.undeclaredGlobalsInFunctions.get(u).manglename,p.globalScope._SymbolsMap[u]=S,p.mangleMap[u]=S,p.undeclaredGlobalsInFunctions.delete(u),"gscope[lang.setAssig('"+S+"', runtimeCtx)]\x3d"+R+"; ";S=Ha(p);p.globalScope._SymbolsMap[u]=S;p.mangleMap[u]=S;return"gscope['"+S+"']\x3d"+R+"; "}function Ea(p,u){try{const R=u.name.toLowerCase();oa(R);
if(null!==p.localScope){if(void 0!==p.localScope[R])return"lscope['"+R+"']";if(void 0!==p.localScope._SymbolsMap[R])return"lscope['"+p.localScope._SymbolsMap[R]+"']"}if(void 0!==p.globalScope[R])return"gscope['"+R+"']";if(void 0!==p.globalScope._SymbolsMap[R])return"gscope['"+p.globalScope._SymbolsMap[R]+"']";if(null!==p.localScope){if(p.undeclaredGlobalsInFunctions.has(R))return"gscope[lang.chkAssig('"+p.undeclaredGlobalsInFunctions.get(R).manglename+"',runtimeCtx)]";const S={manglename:Ha(p),node:u.argument};
p.undeclaredGlobalsInFunctions.set(R,S);return"gscope[lang.chkAssig('"+S.manglename+"',runtimeCtx)]"}throw new c.ArcadeCompilationError(p,c.ExecutionErrorCodes.InvalidIdentifier,u);}catch(R){throw R;}}function Xa(p,u){try{if("MemberExpression"===u.callee.type){if(!0===u.callee.computed)var R=t(p,u.callee.property);else R="'"+u.callee.property.name+"'",oa(u.callee.property.name);var S="[";for(var Z=0;Z<u.arguments.length;Z++)0<Z&&(S+=", "),S+=t(p,u.arguments[Z]);S+="]";return p.isAsync?"(yield lang.callModuleFunction("+
t(p,u.callee.object)+","+S+","+R+",runtimeCtx))":"lang.callModuleFunction("+t(p,u.callee.object)+","+S+","+R+",runtimeCtx)"}if("Identifier"!==u.callee.type)throw new c.ArcadeCompilationError(p,c.ExecutionErrorCodes.FuncionNotFound,u);const fa=u.callee.name.toLowerCase();if("iif"===fa){try{if(3!==u.arguments.length)throw new c.ArcadeCompilationError(p,c.ExecutionErrorCodes.WrongNumberOfParameters,u);const ba=ta(p);var ua=`${p.isAsync?"(yield (function() { \n return lang.__awaiter(this, void 0, void 0, function* () {":
"function() {"}\n        var ${ba} = ${t(p,u.arguments[0])};\n       \n        if (${ba} === true) {\n          return  ${t(p,u.arguments[1])};\n        }\n        else if (${ba} === false) {\n          return ${t(p,u.arguments[2])};\n        }\n        else {\n          lang.error('ExecutionErrorCodes.BooleanConditionRequired');\n        }\n      ${p.isAsync?"})}()))":"}()"}`}catch(ba){throw ba;}return ua}if("when"===fa){try{if(3>u.arguments.length)throw new c.ArcadeCompilationError(p,c.ExecutionErrorCodes.WrongNumberOfParameters,
u);if(0===u.arguments.length%2)throw new c.ArcadeCompilationError(p,c.ExecutionErrorCodes.WrongNumberOfParameters,u);const ba=ta(p);Z="var ";for(var aa=0;aa<u.arguments.length-1;aa+=2)Z+=`${ba} = lang.mustBoolean(${t(p,u.arguments[aa])}, runtimeCtx);\n      if (${ba} === true ) {\n        return ${t(p,u.arguments[aa+1])} \n      }\n`;S=`${p.isAsync?"(yield (function() { \n return lang.__awaiter(this, void 0, void 0, function* () {":"function() {"}\n        ${Z}\n        return ${t(p,u.arguments[u.arguments.length-
1])}\n        ${p.isAsync?"})}()))":"}()"}`}catch(ba){throw ba;}return S}if("decode"===fa){try{if(2>u.arguments.length)throw new c.ArcadeCompilationError(p,c.ExecutionErrorCodes.WrongNumberOfParameters,u);if(2===u.arguments.length)Z=`(${t(p,u.arguments[1])})`;else{if(0===(u.arguments.length-1)%2)throw new c.ArcadeCompilationError(p,c.ExecutionErrorCodes.WrongNumberOfParameters,u);aa=ta(p);var da=ta(p);S="var ";for(R=1;R<u.arguments.length-1;R+=2)S+=`${da} = ${t(p,u.arguments[R])};\n      if (lang.binary(${da}, ${aa}, "==") === true ) {\n        return ${t(p,
u.arguments[R+1])} \n      }\n`;Z=`${p.isAsync?"(yield (function() { \n return lang.__awaiter(this, void 0, void 0, function* () {":"function() {"}\n        var ${aa} = ${t(p,u.arguments[0])};\n        ${S}\n        return ${t(p,u.arguments[u.arguments.length-1])}\n        ${p.isAsync?"})}()))":"}()"}`}}catch(ba){throw ba;}return Z}S="";null!==p.localScope&&(void 0!==p.localScope[fa]?S="lscope['"+fa+"']":void 0!==p.localScope._SymbolsMap[fa]&&(S="lscope['"+p.localScope._SymbolsMap[fa]+"']"));if(""===
S)if(void 0!==p.globalScope[fa])S="gscope['"+fa+"']";else if(void 0!==p.globalScope._SymbolsMap[fa])S="gscope['"+p.globalScope._SymbolsMap[fa]+"']";else if(null!==p.localScope)if(p.undeclaredGlobalsInFunctions.has(fa))S="gscope[lang.chkAssig('"+p.undeclaredGlobalsInFunctions.get(fa).manglename+"',runtimeCtx)]";else{const ba={manglename:Ha(p),node:u.argument};p.undeclaredGlobalsInFunctions.set(fa,ba);S="gscope[lang.chkAssig('"+ba.manglename+"',runtimeCtx)]"}if(""!==S){Z="[";for(aa=0;aa<u.arguments.length;aa++)0<
aa&&(Z+=", "),Z+=t(p,u.arguments[aa]);Z+="]";return p.isAsync?"(yield lang.callfunc("+S+","+Z+",runtimeCtx) )":"lang.callfunc("+S+","+Z+",runtimeCtx)"}throw new c.ArcadeCompilationError(p,c.ExecutionErrorCodes.FuncionNotFound,u);}catch(fa){throw fa;}}function Ha(p){p.symbols.symbolCounter++;return"_T"+p.symbols.symbolCounter.toString()}function ta(p){p.symbols.symbolCounter++;return"_Tvar"+p.symbols.symbolCounter.toString()}function ea(p,u,R){const S={};p||(p={});R||(R={});S._SymbolsMap={};S.textformatting=
1;S.infinity=1;S.pi=1;for(const Z in u)S[Z]=1;for(const Z in R)S[Z]=1;for(const Z in p)S[Z]=1;return S}function pa(p,u,R){R=R?new X:new U;p||(p={});u||(u={});const S=new z({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});S.immutable=!1;R._SymbolsMap={textformatting:1,infinity:1,pi:1};R.textformatting=S;R.infinity=Number.POSITIVE_INFINITY;R.pi=Math.PI;for(const Z in u)R[Z]=u[Z],R._SymbolsMap[Z]=1;for(const Z in p)R._SymbolsMap[Z]=1,R[Z]=p[Z]&&"esri.Graphic"===
p[Z].declaredClass?b.createFromGraphic(p[Z]):p[Z];return R}function Pa(p,u){const R={mode:u,compiled:!0,functions:{},signatures:[],standardFunction:l,standardFunctionAsync:l,evaluateIdentifier:Ba};for(let S=0;S<p.length;S++)p[S].registerFunctions(R);if("sync"===u){for(const S in R.functions)D[S]=new B.NativeFunction(R.functions[S]),U.prototype[S]=D[S];for(p=0;p<R.signatures.length;p++)J.addFunctionDeclaration(R.signatures[p],"sync")}else{for(const S in R.functions)T[S]=new B.NativeFunction(R.functions[S]),
X.prototype[S]=T[S];for(p=0;p<R.signatures.length;p++)J.addFunctionDeclaration(R.signatures[p],"async")}}function Ba(p,u){u=u.name;if("_SymbolsMap"===u)throw new c.ArcadeExecutionError(p,c.ExecutionErrorCodes.InvalidIdentifier,null);if(0<p.localStack.length){if("_t"!==u.substr(0,2).toLowerCase()&&void 0!==p.localStack[p.localStack.length-1][u])return p.localStack[p.localStack.length-1][u];const R=p.mangleMap[u];if(void 0!==R&&void 0!==p.localStack[p.localStack.length-1][R])return p.localStack[p.localStack.length-
1][R]}if("_t"!==u.substr(0,2).toLowerCase()&&void 0!==p.globalScope[u]||1===p.globalScope._SymbolsMap[u])return p.globalScope[u];u=p.mangleMap[u];if(void 0!==u)return p.globalScope[u]}function Ka(p){console.log(p)}function M(){M=E._asyncToGenerator(function*(){const p=yield new Promise((u,R)=>x(["./functions/geomasync"],u,R));Pa([p],"async");return!0});return M.apply(this,arguments)}function K(p,u,R=!1){u={isAsync:R,moduleFactory:u.moduleFactory,moduleFactoryMap:{},libraryResolver:new n.ArcadeModuleLoader(null,
p.loadedModules),globalScope:ea(u.vars,R?T:D,u.customfunctions),customfunctions:u.customfunctions,localScope:null,mangleMap:{},undeclaredGlobalsInFunctions:new Map,depthCounter:{depth:1},exports:{},console:Ka,lrucache:u.lrucache,interceptor:u.interceptor,services:u.services,symbols:{symbolCounter:0}};p=t(u,p);""===p&&(p="lc.voidOperation; ");const S=u.moduleFactory,Z=u.moduleFactoryMap,ua=u.exports,aa={};for(var da in ua)aa[da]=void 0!==u.mangleMap[da]?u.mangleMap[da]:da;da={lc:e.lc,lang:qa,mangles:u.mangleMap,
prepareModule(fa){return new ca(fa)},prepare(fa,ba){let za=fa.spatialReference;if(null===za||void 0===za)za=new m({wkid:102100});const va=pa(fa.vars,fa.customfunctions,ba);return{localStack:[],isAsync:ba,exports:ua,exportmangle:aa,gdefs:{},moduleFactory:S,moduleFactoryMap:Z,moduleSingletons:fa.moduleSingletons,mangleMap:this.mangles,spatialReference:za,globalScope:va,abortSignal:void 0===fa.abortSignal||null===fa.abortSignal?{aborted:!1}:fa.abortSignal,localScope:null,services:fa.services,console:fa.console?
fa.console:Ka,lrucache:fa.lrucache,interceptor:fa.interceptor,symbols:{symbolCounter:0},depthCounter:fa.depthCounter}}};return(new Function("context","spatialReference",R?"var runtimeCtx\x3dthis.prepare(context, true);\n var lc \x3d this.lc;  var lang \x3d this.lang; var gscope\x3druntimeCtx.globalScope; \nreturn lang.__awaiter(this, void 0, void 0, function* () {\n\n function mainBody() {\n var lastStatement\x3dlc.voidOperation;\n return lang.__awaiter(this, void 0, void 0, function* () {\n"+p+"\n return lastStatement; }); } \n yield mainBody(); \n return this.prepareModule(runtimeCtx); }); ":
"var runtimeCtx\x3dthis.prepare(context, false);\n var lc \x3d this.lc;  var lang \x3d this.lang; var gscope\x3druntimeCtx.globalScope; \n function mainBody() {\n var lastStatement\x3dlc.voidOperation;\n "+p+"\n return lastStatement; } \n mainBody(); \n return this.prepareModule(runtimeCtx); ")).bind(da)}let O=function(p){function u(S,Z){var ua=p.call(this)||this;ua.paramCount=Z;ua.fn=S;return ua}E._inheritsLoose(u,p);var R=u.prototype;R.createFunction=function(S){return(...Z)=>{if(Z.length!==this.paramCount)throw new c.ArcadeExecutionError(S,
c.ExecutionErrorCodes.WrongNumberOfParameters,null);return this.fn(...Z)}};R.call=function(S,Z){return this.fn(...Z.arguments)};R.marshalledCall=function(S,Z,ua,aa){return aa(S,Z,(da,fa,ba)=>{ba=ba.map(za=>!e.isFunctionParameter(za)||za instanceof B.ScopeMarshalledFunction?za:B.wrapModuleScopedResponse(za,S,aa));da=this.call(ua,{arguments:ba});return f.isPromiseLike(da)?da.then(za=>B.wrapModuleScopedResponse(za,ua,aa)):da})};return u}(B.ArcadeFunction);const D={};h.registerFunctions(D,l);d.registerFunctions(D,
l);w.registerFunctions(D,l);G.registerFunctions(D,l);g.registerFunctions(D,l);D.iif=function(p,u){try{return l(p,u,(R,S,Z)=>{throw new c.ArcadeExecutionError(p,c.ExecutionErrorCodes.Unrecognised,u);})}catch(R){throw R;}};D.decode=function(p,u){try{return l(p,u,(R,S,Z)=>{throw new c.ArcadeExecutionError(p,c.ExecutionErrorCodes.Unrecognised,u);})}catch(R){throw R;}};D.when=function(p,u){try{return l(p,u,(R,S,Z)=>{throw new c.ArcadeExecutionError(p,c.ExecutionErrorCodes.Unrecognised,u);})}catch(R){throw R;
}};const T={};for(const p in D)T[p]=new B.NativeFunction(D[p]);q.registerFunctions(D,l);for(const p in D)D[p]=new B.NativeFunction(D[p]);const U=function(){};U.prototype=D;const X=function(){};X.prototype=T;h={fixSpatialReference:e.fixSpatialReference,parseArguments:function(p,u){const R=[];for(let S=0;S<u.arguments.length;S++)R.push(t(p,u.arguments[S]));return R},standardFunction:l};Pa([F.ArrayFunctions],"sync");Pa([F.ArrayFunctions],"async");let la=0;const qa={error(p){throw new c.ArcadeExecutionError(null,
p,null);},__awaiter(p,u,R,S){return new Promise((Z,ua)=>{function aa(ba){try{fa(S.next(ba))}catch(za){ua(za)}}function da(ba){try{fa(S["throw"](ba))}catch(za){ua(za)}}function fa(ba){ba.done?Z(ba.value):ba.value&&ba.value.then?ba.value.then(aa,da):(la++,0===la%100?setTimeout(()=>{la=0;aa(ba.value)},0):aa(ba.value))}fa((S=S.apply(p,u||[])).next())})},functionDepthchecker(p,u){return function(){u.depthCounter.depth++;u.localStack.push([]);if(64<u.depthCounter.depth)throw new c.ArcadeExecutionError(null,
c.ExecutionErrorCodes.MaximumCallDepth,null);const R=p.apply(this,arguments);if(f.isPromiseLike(R))return R.then(S=>{u.depthCounter.depth--;--u.localStack.length;return S});u.depthCounter.depth--;--u.localStack.length;return R}},chkAssig(p,u){if(void 0===u.gdefs[p])throw new c.ArcadeExecutionError(u,c.ExecutionErrorCodes.InvalidIdentifier,null);return p},mustBoolean(p,u){if(!0===p||!1===p)return p;throw new c.ArcadeExecutionError(u,c.ExecutionErrorCodes.BooleanConditionRequired,null);},setAssig(p,
u){u.gdefs[p]=1;return p},castString(p){return e.toString(p)},aCheck(p,u){if(e.isFunctionParameter(p)){if("ArrayExpression"===u)throw new c.ArcadeExecutionError(null,c.ExecutionErrorCodes.NoFunctionInArray,null);if("ObjectExpression"===u)throw new c.ArcadeExecutionError(null,c.ExecutionErrorCodes.NoFunctionInDictionary,null);throw new c.ArcadeExecutionError(null,c.ExecutionErrorCodes.NoFunctionInTemplateLiteral,null);}return p===e.voidOperation?null:p},Dictionary:z,Feature:b,UserDefinedCompiledFunction:O,
dictionary(p){const u={},R=new Map;for(let S=0;S<p.length;S+=2){if(e.isFunctionParameter(p[S+1]))throw new c.ArcadeExecutionError(null,c.ExecutionErrorCodes.NoFunctionInDictionary,null);if(!1===e.isString(p[S]))throw new c.ArcadeExecutionError(null,c.ExecutionErrorCodes.KeyMustBeString,null);let Z=p[S].toString();const ua=Z.toLowerCase();R.has(ua)?Z=R.get(ua):R.set(ua,Z);u[Z]=p[S+1]===e.voidOperation?null:p[S+1]}p=new z(u);p.immutable=!1;return p},strCheck(p){if(!1===e.isString(p))throw new c.ArcadeExecutionError(null,
c.ExecutionErrorCodes.KeyMustBeString,null);return p},unary(p,u){if(e.isBoolean(p)){if("!"===u)return!p;if("-"===u)return-1*e.toNumber(p);if("+"===u)return 1*e.toNumber(p);if("~"===u)return~e.toNumber(p);throw new c.ArcadeExecutionError(null,c.ExecutionErrorCodes.UnsupportedUnaryOperator,null);}if("-"===u)return-1*e.toNumber(p);if("+"===u)return 1*e.toNumber(p);if("~"===u)return~e.toNumber(p);throw new c.ArcadeExecutionError(null,c.ExecutionErrorCodes.UnsupportedUnaryOperator,null);},logicalCheck(p){if(!1===
e.isBoolean(p))throw new c.ArcadeExecutionError(null,c.ExecutionErrorCodes.LogicExpressionOrAnd,null);return p},logical(p,u,R){if(e.isBoolean(p)&&e.isBoolean(u))switch(R){case "||":return p||u;case "\x26\x26":return p&&u}throw new c.ArcadeExecutionError(null,c.ExecutionErrorCodes.LogicExpressionOrAnd,null);},binary(p,u,R){switch(R){case "|":case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":case "^":case "\x26":return e.binaryOperator(e.toNumber(p),e.toNumber(u),R);case "\x3d\x3d":return e.equalityTest(p,
u);case "\x3d":return e.equalityTest(p,u);case "!\x3d":return!e.equalityTest(p,u);case "\x3c":return e.greaterThanLessThan(p,u,R);case "\x3e":return e.greaterThanLessThan(p,u,R);case "\x3c\x3d":return e.greaterThanLessThan(p,u,R);case "\x3e\x3d":return e.greaterThanLessThan(p,u,R);case "+":return e.isString(p)||e.isString(u)?e.toString(p)+e.toString(u):e.toNumber(p)+e.toNumber(u);case "-":return e.toNumber(p)-e.toNumber(u);case "*":return e.toNumber(p)*e.toNumber(u);case "/":return e.toNumber(p)/
e.toNumber(u);case "%":return e.toNumber(p)%e.toNumber(u);default:throw new c.ArcadeExecutionError(null,c.ExecutionErrorCodes.UnsupportedOperator,null);}},assign(p,u,R){switch(u){case "\x3d":return p===e.voidOperation?null:p;case "/\x3d":return e.toNumber(R)/e.toNumber(p);case "*\x3d":return e.toNumber(R)*e.toNumber(p);case "-\x3d":return e.toNumber(R)-e.toNumber(p);case "+\x3d":return e.isString(R)||e.isString(p)?e.toString(R)+e.toString(p):e.toNumber(R)+e.toNumber(p);case "%\x3d":return e.toNumber(R)%
e.toNumber(p);default:throw new c.ArcadeExecutionError(null,c.ExecutionErrorCodes.UnsupportedOperator,null);}},update(p,u,R,S){const Z=e.toNumber(p[u]);p[u]="++"===R?Z+1:Z-1;return!1===S?Z:"++"===R?Z+1:Z-1},graphicToFeature(p,u){return null===p?null:b.createFromGraphicLikeObject(p.geometry,p.attributes,u)},memberupdate(p,u,R,S){let Z;if(e.isArray(p))if(e.isNumber(u)){0>u&&(u=p.length+u);if(0>u||u>=p.length)throw new c.ArcadeExecutionError(null,c.ExecutionErrorCodes.OutOfBounds,null);Z=e.toNumber(p[u]);
p[u]="++"===R?Z+1:Z-1}else throw new c.ArcadeExecutionError(null,c.ExecutionErrorCodes.ArrayAccessorMustBeNumber,null);else if(p instanceof z){if(!1===e.isString(u))throw new c.ArcadeExecutionError(null,c.ExecutionErrorCodes.KeyAccessorMustBeString,null);if(!0===p.hasField(u))Z=e.toNumber(p.field(u)),p.setField(u,"++"===R?Z+1:Z-1);else throw new c.ArcadeExecutionError(null,c.ExecutionErrorCodes.FieldNotFound,null,{key:u});}else if(e.isFeature(p)){if(!1===e.isString(u))throw new c.ArcadeExecutionError(null,
c.ExecutionErrorCodes.KeyAccessorMustBeString,null);if(!0===p.hasField(u))Z=e.toNumber(p.field(u)),p.setField(u,"++"===R?Z+1:Z-1);else throw new c.ArcadeExecutionError(null,c.ExecutionErrorCodes.FieldNotFound,null);}else{if(e.isImmutableArray(p))throw new c.ArcadeExecutionError(null,c.ExecutionErrorCodes.Immutable,null);if(p instanceof ca){if(!1===e.isString(u))throw new c.ArcadeExecutionError(null,c.ExecutionErrorCodes.ModuleAccessorMustBeString,null);if(!0===p.hasGlobal(u))Z=e.toNumber(p.global(u)),
p.setGlobal(u,"++"===R?Z+1:Z-1);else throw new c.ArcadeExecutionError(null,c.ExecutionErrorCodes.ModuleExportNotFound,null);}else throw new c.ArcadeExecutionError(null,c.ExecutionErrorCodes.InvalidIdentifier,null);}return!1===S?Z:"++"===R?Z+1:Z-1},assignmember(p,u,R,S){if(e.isArray(p))if(e.isNumber(u)){0>u&&(u=p.length+u);if(0>u||u>p.length)throw new c.ArcadeExecutionError(null,c.ExecutionErrorCodes.OutOfBounds,null);if(u===p.length&&"\x3d"!==R)throw new c.ArcadeExecutionError(null,c.ExecutionErrorCodes.OutOfBounds,
null);p[u]=this.assign(S,R,p[u])}else throw new c.ArcadeExecutionError(null,c.ExecutionErrorCodes.ArrayAccessorMustBeNumber,null);else if(p instanceof z){if(!1===e.isString(u))throw new c.ArcadeExecutionError(null,c.ExecutionErrorCodes.KeyAccessorMustBeString,null);if(!0===p.hasField(u))p.setField(u,this.assign(S,R,p.field(u)));else{if("\x3d"!==R)throw new c.ArcadeExecutionError(null,c.ExecutionErrorCodes.FieldNotFound,null);p.setField(u,this.assign(S,R,null))}}else if(e.isFeature(p)){if(!1===e.isString(u))throw new c.ArcadeExecutionError(null,
c.ExecutionErrorCodes.KeyAccessorMustBeString,null);if(!0===p.hasField(u))p.setField(u,this.assign(S,R,p.field(u)));else{if("\x3d"!==R)throw new c.ArcadeExecutionError(null,c.ExecutionErrorCodes.FieldNotFound,null);p.setField(u,this.assign(S,R,null))}}else{if(e.isImmutableArray(p))throw new c.ArcadeExecutionError(null,c.ExecutionErrorCodes.Immutable,null);if(p instanceof ca){if(!1===e.isString(u))throw new c.ArcadeExecutionError(null,c.ExecutionErrorCodes.ModuleAccessorMustBeString,null);if(p.hasGlobal(u))p.setGlobal(u,
this.assign(S,R,p.global(u)));else throw new c.ArcadeExecutionError(null,c.ExecutionErrorCodes.ModuleExportNotFound,null);}else throw new c.ArcadeExecutionError(null,c.ExecutionErrorCodes.InvalidIdentifier,null);}},member(p,u){if(null===p)throw new c.ArcadeExecutionError(null,c.ExecutionErrorCodes.MemberOfNull,null);if(p instanceof z||e.isFeature(p)){if(e.isString(u))return p.field(u);throw new c.ArcadeExecutionError(null,c.ExecutionErrorCodes.InvalidMemberAccessKey,null);}if(p instanceof A){if(e.isString(u))return G.geometryMember(p,
u,null,null);throw new c.ArcadeExecutionError(null,c.ExecutionErrorCodes.InvalidMemberAccessKey,null);}if(e.isArray(p)){if(e.isNumber(u)&&isFinite(u)&&Math.floor(u)===u){0>u&&(u=p.length+u);if(u>=p.length||0>u)throw new c.ArcadeExecutionError(null,c.ExecutionErrorCodes.OutOfBounds,null);return p[u]}throw new c.ArcadeExecutionError(null,c.ExecutionErrorCodes.InvalidMemberAccessKey,null);}if(e.isString(p)){if(e.isNumber(u)&&isFinite(u)&&Math.floor(u)===u){0>u&&(u=p.length+u);if(u>=p.length||0>u)throw new c.ArcadeExecutionError(null,
c.ExecutionErrorCodes.OutOfBounds,null);return p[u]}throw new c.ArcadeExecutionError(null,c.ExecutionErrorCodes.InvalidMemberAccessKey,null);}if(e.isImmutableArray(p)){if(e.isNumber(u)&&isFinite(u)&&Math.floor(u)===u){0>u&&(u=p.length()+u);if(u>=p.length()||0>u)throw new c.ArcadeExecutionError(null,c.ExecutionErrorCodes.OutOfBounds,null);return p.get(u)}throw new c.ArcadeExecutionError(null,c.ExecutionErrorCodes.InvalidMemberAccessKey,null);}if(p instanceof ca&&e.isString(u))return p.global(u);throw new c.ArcadeExecutionError(null,
c.ExecutionErrorCodes.InvalidMemberAccessKey,null);},callfunc(p,u,R){return p.call(R,{arguments:u,preparsed:!0})},loadModule(p,u){p=u.moduleFactoryMap[p];if(u.moduleSingletons[p])return u.moduleSingletons[p];const R=u.moduleFactory[p]({vars:{},moduleSingletons:u.moduleSingletons,depthCounter:u.depthCounter,console:u.console,abortSignal:u.abortSignal,isAsync:u.isAsync,services:u.services,lrucache:u.lrucache,interceptor:u.interceptor},u.spatialReference);return u.moduleSingletons[p]=R},callModuleFunction(p,
u,R,S){if(!(p instanceof ca))throw new c.ArcadeExecutionError(null,c.ExecutionErrorCodes.FuncionNotFound,null);p=p.global(R);if(!1===e.isFunctionParameter(p))throw new c.ArcadeExecutionError(null,c.ExecutionErrorCodes.CallNonFunction,null);return p.call(S,{preparsed:!0,arguments:u})}};let ca=function(p){function u(S){var Z=p.call(this,null)||this;Z.moduleContext=S;return Z}E._inheritsLoose(u,p);var R=u.prototype;R.hasGlobal=function(S){void 0===this.moduleContext.exports[S]&&(S=S.toLowerCase());return void 0!==
this.moduleContext.exports[S]?!0:!1};R.setGlobal=function(S,Z){const ua=this.moduleContext.globalScope;S=S.toLowerCase();if(e.isFunctionParameter(Z))throw new c.ArcadeExecutionError(null,c.ExecutionErrorCodes.AssignModuleFunction,null);ua[this.moduleContext.exportmangle[S]]=Z};R.global=function(S){const Z=this.moduleContext.globalScope;S=S.toLowerCase();const ua=Z[this.moduleContext.exportmangle[S]];if(void 0===ua)throw new c.ArcadeExecutionError(null,c.ExecutionErrorCodes.InvalidIdentifier,null);
if(e.isFunctionParameter(ua)&&!(ua instanceof B.ScopeMarshalledFunction)){const aa=new B.ScopeMarshalledFunction;aa.fn=ua;aa.parameterEvaluator=l;aa.context=this.moduleContext;return Z[this.moduleContext.exportmangle[S]]=aa}return ua};return u}(H.ArcadeModule);I.UserDefinedCompiledFunction=O;I.compileScript=function(p,u,R=!1){null===u&&(u={vars:{},customfunctions:{}});var S=null;p.usesModules&&(S=new n.ArcadeModuleLoader(null,p.loadedModules));S={isAsync:R,globalScope:ea(u.vars,R?T:D,u.customfunctions),
moduleFactory:{},moduleFactoryMap:{},undeclaredGlobalsInFunctions:new Map,customfunctions:u.customfunctions,libraryResolver:S,localScope:null,mangleMap:{},depthCounter:{depth:1},exports:{},console:Ka,lrucache:u.lrucache,interceptor:u.interceptor,services:u.services,symbols:{symbolCounter:0}};p=t(S,p);""===p&&(p="lc.voidOperation; ");0<S.undeclaredGlobalsInFunctions.size&&S.undeclaredGlobalsInFunctions.forEach(ba=>{throw new c.ArcadeCompilationError(u,c.ExecutionErrorCodes.InvalidIdentifier,ba.node);
});const Z=S.moduleFactory,ua=S.moduleFactoryMap,aa=S.exports,da={};for(var fa in aa)da[fa]=void 0!==S.mangleMap[fa]?S.mangleMap[fa]:fa;fa={lc:e.lc,lang:qa,mangles:S.mangleMap,postProcess(ba){ba instanceof e.ReturnResult&&(ba=ba.value);ba instanceof e.ImplicitResult&&(ba=ba.value);ba===e.voidOperation&&(ba=null);if(ba===e.breakResult)throw new c.ArcadeExecutionError(null,c.ExecutionErrorCodes.IllegalResult,null);if(ba===e.continueResult)throw new c.ArcadeExecutionError(null,c.ExecutionErrorCodes.IllegalResult,
null);if(e.isFunctionParameter(ba))throw new c.ArcadeExecutionError(null,c.ExecutionErrorCodes.IllegalResult,null);return ba},prepare(ba,za){let va=ba.spatialReference;if(null===va||void 0===va)va=m.WebMercator;const Fa=pa(ba.vars,ba.customfunctions,za);return{localStack:[],isAsync:za,moduleFactory:Z,moduleFactoryMap:ua,mangleMap:this.mangles,moduleSingletons:{},exports:aa,gdefs:{},exportmangle:da,spatialReference:va,globalScope:Fa,abortSignal:void 0===ba.abortSignal||null===ba.abortSignal?{aborted:!1}:
ba.abortSignal,localScope:null,services:ba.services,console:ba.console?ba.console:Ka,lrucache:ba.lrucache,interceptor:ba.interceptor,symbols:{symbolCounter:0},depthCounter:{depth:1}}}};return(new Function("context","spatialReference",R?"var runtimeCtx\x3dthis.prepare(context, true);\n var lc \x3d this.lc;  var lang \x3d this.lang; var gscope\x3druntimeCtx.globalScope; \nreturn lang.__awaiter(this, void 0, void 0, function* () {\n\n function mainBody() {\n var lastStatement\x3dlc.voidOperation;\n return lang.__awaiter(this, void 0, void 0, function* () {\n"+
p+"\n return lastStatement; }); } \n return this.postProcess(yield mainBody()); }); ":"var runtimeCtx\x3dthis.prepare(context, false);\n var lc \x3d this.lc;  var lang \x3d this.lang; var gscope\x3druntimeCtx.globalScope; \n function mainBody() {\n var lastStatement\x3dlc.voidOperation;\n "+p+"\n return lastStatement; } \n return this.postProcess(mainBody()); ")).bind(fa)};I.enableAsyncSupport=function(){return M.apply(this,arguments)};I.executeScript=function(p,u){return p(u)};I.extend=Pa;I.functionHelper=
h;Object.defineProperties(I,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/Dictionary":function(){define(["../chunks/_rollupPluginBabelHelpers","./executionError","./ImmutableArray","../chunks/languageUtils","../geometry/Geometry"],function(x,I,E,z,b){function e(F,h=!1){if(null===F||void 0===F)return null;if(z.isNumber(F))return z.toNumber(F);if(z.isBoolean(F))return z.toBoolean(F);if(z.isString(F))return z.toString(F);if(z.isDate(F))return z.toDate(F);if(z.isArray(F)){var G=
[];for(var q of F)G.push(e(q,h));return G}q=new J;q.immutable=!1;for(G of Object.keys(F)){const w=F[G];void 0!==w&&q.setField(G,e(w,h))}q.immutable=h;return q}let J=function(){function F(G){this.declaredClass="esri.arcade.Dictionary";this.attributes=null;this.plain=!1;this.immutable=!0;this.attributes=G instanceof F?G.attributes:void 0===G?{}:null===G?{}:G}var h=F.prototype;h.field=function(G){const q=G.toLowerCase(),w=this.attributes[G];if(void 0!==w)return w;for(const g in this.attributes)if(g.toLowerCase()===
q)return this.attributes[g];throw new I.ArcadeExecutionError(null,I.ExecutionErrorCodes.FieldNotFound,null,{key:G});};h.setField=function(G,q){if(this.immutable)throw new I.ArcadeExecutionError(null,I.ExecutionErrorCodes.Immutable,null);if(z.isFunctionParameter(q))throw new I.ArcadeExecutionError(null,I.ExecutionErrorCodes.NoFunctionInDictionary,null);const w=G.toLowerCase();if(void 0===this.attributes[G])for(const g in this.attributes)if(g.toLowerCase()===w){this.attributes[g]=q;return}this.attributes[G]=
q};h.hasField=function(G){const q=G.toLowerCase();if(void 0!==this.attributes[G])return!0;for(const w in this.attributes)if(w.toLowerCase()===q)return!0;return!1};h.keys=function(){let G=[];for(const q in this.attributes)G.push(q);return G=G.sort()};h.castToText=function(G=!1){let q="";for(const w in this.attributes){""!==q&&(q+=",");const g=this.attributes[w];null==g?q+=JSON.stringify(w)+":null":z.isBoolean(g)||z.isNumber(g)||z.isString(g)?q+=JSON.stringify(w)+":"+JSON.stringify(g):g instanceof b?
q+=JSON.stringify(w)+":"+z.toStringExplicit(g):g instanceof E?q+=JSON.stringify(w)+":"+z.toStringExplicit(g,null,G):g instanceof Array?q+=JSON.stringify(w)+":"+z.toStringExplicit(g,null,G):g instanceof Date?q=G?q+(JSON.stringify(w)+":"+JSON.stringify(g.getTime())):q+(JSON.stringify(w)+":"+JSON.stringify(g)):null!==g&&"object"===typeof g&&void 0!==g.castToText&&(q+=JSON.stringify(w)+":"+g.castToText(G))}return"{"+q+"}"};F.convertObjectToArcadeDictionary=function(G,q=!0){const w=new F;w.immutable=!1;
for(const g in G){const d=G[g];void 0!==d&&w.setField(g.toString(),e(d))}w.immutable=q;return w};F.convertJsonToArcade=function(G,q=!1){return e(G,q)};h.castAsJson=function(G=null){const q={};for(let w in this.attributes){const g=this.attributes[w];void 0!==g&&(G?.keyTranslate&&(w=G.keyTranslate(w)),q[w]=z.castAsJson(g,G))}return q};h.castDictionaryValueAsJsonAsync=function(){var G=x._asyncToGenerator(function*(q,w,g,d=null,f){g=yield z.castAsJsonAsync(g,d,f);return q[w]=g});return function(q,w,g){return G.apply(this,
arguments)}}();h.castAsJsonAsync=function(){var G=x._asyncToGenerator(function*(q=null,w=null){const g={},d=[];for(let f in this.attributes){const A=this.attributes[f];w?.keyTranslate&&(f=w.keyTranslate(f));void 0!==A&&(z.isSimpleType(A)||A instanceof b||A instanceof Date?g[f]=z.castAsJson(A,w):d.push(this.castDictionaryValueAsJsonAsync(g,f,A,q,w)))}0<d.length&&(yield Promise.all(d));return g});return function(){return G.apply(this,arguments)}}();return F}();return J})},"esri/arcade/executionError":function(){define(["exports",
"../chunks/_rollupPluginBabelHelpers"],function(x,I){function E(g){return g&&g.loc?`Line : ${g.loc.start?.line}, ${g.loc.start?.column}: `:""}function z(g,d){try{if(!d)return g;for(const f in d){let A=d[f];A||(A="");g=g.replace("{"+f+"}",d[f])}}catch(f){}return g}x.ExecutionErrorCodes=void 0;(function(g){g.AsyncNotEnabled="AsyncNotEnabled";g.ModulesNotSupported="ModulesNotSupported";g.CircularModules="CircularModules";g.NeverReach="NeverReach";g.UnsupportedHashType="UnsupportedHashType";g.InvalidParameter=
"InvalidParameter";g.UnexpectedToken="UnexpectedToken";g.Unrecognised="Unrecognised";g.UnrecognisedType="UnrecognisedType";g.MaximumCallDepth="MaximumCallDepth";g.BooleanConditionRequired="BooleanConditionRequired";g.TypeNotAllowedInFeature="TypeNotAllowedInFeature";g.KeyMustBeString="KeyMustBeString";g.WrongNumberOfParameters="WrongNumberOfParameters";g.CallNonFunction="CallNonFunction";g.NoFunctionInTemplateLiteral="NoFunctionInTemplateLiteral";g.NoFunctionInDictionary="NoFunctionInDictionary";
g.NoFunctionInArray="NoFunctionInArray";g.AssignModuleFunction="AssignModuleFunction";g.LogicExpressionOrAnd="LogicExpressionOrAnd";g.LogicalExpressionOnlyBoolean="LogicalExpressionOnlyBoolean";g.FuncionNotFound="FunctionNotFound";g.InvalidMemberAccessKey="InvalidMemberAccessKey";g.UnsupportedUnaryOperator="UnsupportUnaryOperator";g.InvalidIdentifier="InvalidIdentifier";g.MemberOfNull="MemberOfNull";g.UnsupportedOperator="UnsupportedOperator";g.Cancelled="Cancelled";g.ModuleAccessorMustBeString="ModuleAccessorMustBeString";
g.ModuleExportNotFound="ModuleExportNotFound";g.Immutable="Immutable";g.OutOfBounds="OutOfBounds";g.IllegalResult="IllegalResult";g.FieldNotFound="FieldNotFound";g.PortalRequired="PortalRequired";g.LogicError="LogicError";g.ArrayAccessorMustBeNumber="ArrayAccessMustBeNumber";g.KeyAccessorMustBeString="KeyAccessorMustBeString";g.WrongSpatialReference="WrongSpatialReference"})(x.ExecutionErrorCodes||(x.ExecutionErrorCodes={}));const b={[x.ExecutionErrorCodes.TypeNotAllowedInFeature]:"Feature attributes only support dates, numbers, strings, guids.",
[x.ExecutionErrorCodes.LogicError]:"Logic error - {reason}",[x.ExecutionErrorCodes.NeverReach]:"Encountered unreachable logic",[x.ExecutionErrorCodes.AsyncNotEnabled]:"Async Arcade must be enabled for this script",[x.ExecutionErrorCodes.ModuleAccessorMustBeString]:"Module accessor must be a string",[x.ExecutionErrorCodes.ModuleExportNotFound]:"Module has no export with provided identifier",[x.ExecutionErrorCodes.ModulesNotSupported]:"Current profile does not support modules",[x.ExecutionErrorCodes.ArrayAccessorMustBeNumber]:"Array accessor must be a number",
[x.ExecutionErrorCodes.FuncionNotFound]:"Function not found",[x.ExecutionErrorCodes.FieldNotFound]:"Key not found - {key}",[x.ExecutionErrorCodes.CircularModules]:"Circular module dependencies are not allowed",[x.ExecutionErrorCodes.Cancelled]:"Execution cancelled",[x.ExecutionErrorCodes.UnsupportedHashType]:"Type not supported in hash function",[x.ExecutionErrorCodes.IllegalResult]:"Value is not a supported return type",[x.ExecutionErrorCodes.PortalRequired]:"Portal is required",[x.ExecutionErrorCodes.InvalidParameter]:"Invalid parameter",
[x.ExecutionErrorCodes.WrongNumberOfParameters]:"Call with wrong number of parameters",[x.ExecutionErrorCodes.Unrecognised]:"Unrecognised code structure",[x.ExecutionErrorCodes.UnrecognisedType]:"Unrecognised type",[x.ExecutionErrorCodes.WrongSpatialReference]:"Cannot work with geometry in this spatial reference. It is different to the execution spatial reference",[x.ExecutionErrorCodes.BooleanConditionRequired]:"Conditions must use booleans",[x.ExecutionErrorCodes.NoFunctionInDictionary]:"Dictionaries cannot contain functions.",
[x.ExecutionErrorCodes.NoFunctionInArray]:"Arrays cannot contain functions.",[x.ExecutionErrorCodes.NoFunctionInTemplateLiteral]:"Template Literals do not expect functions by value.",[x.ExecutionErrorCodes.KeyAccessorMustBeString]:"Accessor must be a string",[x.ExecutionErrorCodes.KeyMustBeString]:"Object keys must be a string",[x.ExecutionErrorCodes.Immutable]:"Object is immutable",[x.ExecutionErrorCodes.InvalidParameter]:"Invalid parameter",[x.ExecutionErrorCodes.UnexpectedToken]:"Unexpected token",
[x.ExecutionErrorCodes.MemberOfNull]:"Cannot access property of null object",[x.ExecutionErrorCodes.MaximumCallDepth]:"Exceeded maximum function depth",[x.ExecutionErrorCodes.OutOfBounds]:"Out of bounds",[x.ExecutionErrorCodes.InvalidIdentifier]:"Identifier not recognised",[x.ExecutionErrorCodes.FuncionNotFound]:"Function not found",[x.ExecutionErrorCodes.CallNonFunction]:"Expression is not a function",[x.ExecutionErrorCodes.InvalidMemberAccessKey]:"Cannot access value using a key of this type",[x.ExecutionErrorCodes.AssignModuleFunction]:"Cannot assign function to module variable",
[x.ExecutionErrorCodes.UnsupportedUnaryOperator]:"Unsupported unary operator",[x.ExecutionErrorCodes.UnsupportedOperator]:"Unsupported operator",[x.ExecutionErrorCodes.LogicalExpressionOnlyBoolean]:"Logical expressions must be boolean",[x.ExecutionErrorCodes.LogicExpressionOrAnd]:"Logical expression can only be combined with || or \x26\x26"};let e=function(g){function d(...f){return g.call(this,...f)||this}I._inheritsLoose(d,g);return d}(I._wrapNativeSuper(Error)),J=function(g){function d(f,A){f=
g.call(this,E(A)+f.message,{cause:f})||this;f.loc=null;Error.captureStackTrace&&Error.captureStackTrace(I._assertThisInitialized(f),d);A&&A.loc&&(f.loc=A.loc);return f}I._inheritsLoose(d,g);return d}(e),F=function(g){function d(f,A,m,n){f=g.call(this,"Execution error - "+E(m)+z(b[A],n))||this;f.loc=null;f.declaredRootClass="esri.arcade.arcadeexecutionerror";Error.captureStackTrace&&Error.captureStackTrace(I._assertThisInitialized(f),d);m&&m.loc&&(f.loc=m.loc);return f}I._inheritsLoose(d,g);return d}(I._wrapNativeSuper(Error)),
h=function(g){function d(f,A,m,n){f=g.call(this,"Compilation error - "+E(m)+z(b[A],n))||this;f.loc=null;f.declaredRootClass="esri.arcade.arcadecompilationerror";Error.captureStackTrace&&Error.captureStackTrace(I._assertThisInitialized(f),d);m&&m.loc&&(f.loc=m.loc);return f}I._inheritsLoose(d,g);return d}(I._wrapNativeSuper(Error)),G=function(g){function d(){var f=g.call(this,"Uncompilable code structures")||this;f.declaredRootClass="esri.arcade.arcadeuncompilableerror";Error.captureStackTrace&&Error.captureStackTrace(I._assertThisInitialized(f),
d);return f}I._inheritsLoose(d,g);return d}(I._wrapNativeSuper(Error));x.ModuleErrorCodes=void 0;(function(g){g.UnrecognisedUri="UnrecognisedUri";g.UnsupportedUriProtocol="UnsupportedUriProtocol"})(x.ModuleErrorCodes||(x.ModuleErrorCodes={}));const q={[x.ModuleErrorCodes.UnrecognisedUri]:"Unrecognised uri - {uri}",[x.ModuleErrorCodes.UnsupportedUriProtocol]:"Unrecognised uri protocol"};let w=function(g){function d(f,A){f=g.call(this,z(q[f],A))||this;f.declaredRootClass="esri.arcade.arcademoduleerror";
Error.captureStackTrace&&Error.captureStackTrace(I._assertThisInitialized(f),d);return f}I._inheritsLoose(d,g);return d}(I._wrapNativeSuper(Error));x.ArcadeCompilationError=h;x.ArcadeExecutionError=F;x.ArcadeUncompilableError=G;x.ErrorWithCause=e;x.ExecutionErrorMessages=b;x.LocatableArcadeExecutionError=J;x.ModuleError=w;x.ModuleErrorMessages=q;x.doSubstitutions=z;x.ensureArcadeExecutionError=function(g,d,f){return"esri.arcade.arcadeexecutionerror"===f.declaredRootClass||"esri.arcade.arcadecompilationerror"===
f.declaredRootClass?null===f.loc&&d&&d.loc?new J(f,{cause:f}):f:d&&d.loc?new J(f,{cause:f}):f};x.parsingValidationMessage=function(g,d,f){return"Parsing error - "+E(g)+z(b[d],f)};Object.defineProperties(x,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/ImmutableArray":function(){define(function(){return function(){function x(E=[]){this._elements=E}var I=x.prototype;I.length=function(){return this._elements.length};I.get=function(E){return this._elements[E]};I.toArray=
function(){const E=[];for(let z=0;z<this.length();z++)E.push(this.get(z));return E};return x}()})},"esri/chunks/languageUtils":function(){define("exports ./_rollupPluginBabelHelpers ../arcade/FunctionWrapper ../arcade/ImmutableArray ../arcade/ImmutablePathArray ../arcade/ImmutablePointArray ../geometry/Extent ../geometry/Geometry ../geometry/Multipoint ../geometry/Point ../geometry/Polygon ../geometry/Polyline ./datetime ../core/maybe ../core/number ../geometry/support/coordsUtils ../intl/locale ../arcade/featureset/support/shared ../arcade/ArcadeModule ../arcade/executionError".split(" "),
function(x,I,E,z,b,e,J,F,h,G,q,w,g,d,f,A,m,n,H,B){function c(y,N,W){return""===N||null===N||void 0===N||N===W||N===W?y:y=y.split(N).join(W)}function l(y){return y instanceof E.ArcadeFunction}function t(y){return y instanceof H.ArcadeModule}function v(y){return na(y)||oa(y)||pa(y)||ia(y)||null===y||y===Ra||"number"===typeof y?!0:!1}function r(y,N){return void 0===y?N:y}function P(y){return null==y?"":Ea(y)||ea(y)?"Array":pa(y)?"Date":na(y)?"String":ia(y)?"Boolean":oa(y)?"Number":"esri.arcade.Attachment"===
y?.declaredClass?"Attachment":"esri.arcade.Portal"===y?.declaredClass?"Portal":"esri.arcade.Dictionary"===y?.declaredClass?"Dictionary":y instanceof H.ArcadeModule?"Module":Xa(y)?"Feature":y instanceof G?"Point":y instanceof q?"Polygon":y instanceof w?"Polyline":y instanceof h?"Multipoint":y instanceof J?"Extent":l(y)?"Function":Ha(y)?"FeatureSet":ta(y)?"FeatureSetCollection":y===Ra?"":"number"===typeof y&&isNaN(y)?"Number":"Unrecognised Type"}function na(y){return"string"===typeof y||y instanceof
String}function ia(y){return"boolean"===typeof y}function oa(y){return"number"===typeof y}function Ua(y){return"number"===typeof y&&isFinite(y)&&Math.floor(y)===y}function Ea(y){return y instanceof Array}function Xa(y){return"esri.arcade.Feature"===y?.arcadeDeclaredClass?!0:!1}function Ha(y){return!0===(y&&y.declaredRootClass&&"esri.arcade.featureset.support.FeatureSet"===y.declaredRootClass)}function ta(y){return!0===(y&&y.declaredRootClass&&"esri.arcade.featureSetCollection"===y.declaredRootClass)}
function ea(y){return y instanceof z}function pa(y){return y instanceof Date}function Pa(y,N,W,ka,ma){if(y.length<N||y.length>W)throw new B.ArcadeExecutionError(ka,B.ExecutionErrorCodes.WrongNumberOfParameters,ma);}function Ba(y){return 0>y?-Math.round(-y):Math.round(y)}function Ka(){let y=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,N=>{const W=(y+16*Math.random())%16|0;y=Math.floor(y/16);return("x"===N?W:W&3|8).toString(16)})}function M(y,N){if(!isNaN(y)){if(void 0===
N||null===N||""===N)return y.toString();N=c(N,"\u2030","");N=c(N,"\u00a4","");return f.format(y,{pattern:N})}return y.toString()}function K(y,N){y=g.DateTime.fromJSDate(y);return void 0===N||null===N||""===N?y.toISO({suppressMilliseconds:!0}):y.toFormat(O(N),{locale:m.getLocale(),numberingSystem:"latn"})}function O(y){y=y.replace(/LTS|LT|LL?L?L?|l{1,4}/g,"[$\x26]");let N="";const W=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;
for(const ka of y.match(W))switch(ka){case "D":N+="d";break;case "DD":N+="dd";break;case "DDD":N+="o";break;case "d":N+="c";break;case "ddd":N+="ccc";break;case "dddd":N+="cccc";break;case "M":N+="L";break;case "MM":N+="LL";break;case "MMM":N+="LLL";break;case "MMMM":N+="LLLL";break;case "YY":N+="yy";break;case "Y":case "YYYY":N+="yyyy";break;case "Q":N+="q";break;case "Z":N+="ZZ";break;case "ZZ":N+="ZZZ";break;case "S":N+="'S'";break;case "SS":N+="'SS'";break;case "SSS":N+="u";break;case "A":case "a":N+=
"a";break;case "m":case "mm":case "h":case "hh":case "H":case "HH":case "s":case "ss":case "X":case "x":N+=ka;break;default:N=2<=ka.length&&"["===ka.slice(0,1)&&"]"===ka.slice(-1)?N+`'${ka.slice(1,-1)}'`:N+`'${ka}'`}return N}function D(y,N,W){switch(W){case "\x3e":return y>N;case "\x3c":return y<N;case "\x3e\x3d":return y>=N;case "\x3c\x3d":return y<=N}return!1}function T(y,N,W){if(null===y){if(null===N||N===Ra)return D(null,null,W);if(oa(N))return D(0,N,W);if(na(N)||ia(N))return D(0,p(N),W);if(pa(N))return D(0,
N.getTime(),W)}if(y===Ra){if(null===N||N===Ra)return D(null,null,W);if(oa(N))return D(0,N,W);if(na(N)||ia(N))return D(0,p(N),W);if(pa(N))return D(0,N.getTime(),W)}else if(oa(y)){if(oa(N))return D(y,N,W);if(ia(N))return D(y,p(N),W);if(null===N||N===Ra)return D(y,0,W);if(na(N))return D(y,p(N),W);if(pa(N))return D(y,N.getTime(),W)}else if(na(y)){if(na(N))return D(X(y),X(N),W);if(pa(N))return D(p(y),N.getTime(),W);if(oa(N))return D(p(y),N,W);if(null===N||N===Ra)return D(p(y),0,W);if(ia(N))return D(p(y),
p(N),W)}else if(pa(y)){if(pa(N))return D(y,N,W);if(null===N||N===Ra)return D(y.getTime(),0,W);if(oa(N))return D(y.getTime(),N,W);if(ia(N)||na(N))return D(y.getTime(),p(N),W)}else if(ia(y)){if(ia(N))return D(y,N,W);if(oa(N))return D(p(y),p(N),W);if(pa(N))return D(p(y),N.getTime(),W);if(null===N||N===Ra)return D(p(y),0,W);if(na(N))return D(p(y),p(N),W)}return!U(y,N)||"\x3c\x3d"!==W&&"\x3e\x3d"!==W?!1:!0}function U(y,N){if(y===N||null===y&&N===Ra||null===N&&y===Ra)return!0;if(pa(y)&&pa(N))return y.getTime()===
N.getTime();if(y instanceof b||y instanceof e)return y.equalityTest(N);if(y instanceof G&&N instanceof G){const W=y.cache._arcadeCacheId,ka=N.cache._arcadeCacheId;if(void 0!==W&&null!==W)return W===ka}return void 0!==y&&void 0!==N&&null!==y&&null!==N&&"object"===typeof y&&"object"===typeof N&&(y._arcadeCacheId===N._arcadeCacheId&&void 0!==y._arcadeCacheId&&null!==y._arcadeCacheId||y._underlyingGraphic===N._underlyingGraphic&&void 0!==y._underlyingGraphic&&null!==y._underlyingGraphic)?!0:!1}function X(y,
N){if(na(y))return y;if(null===y)return"";if(oa(y))return M(y,N);if(ia(y))return y.toString();if(pa(y))return K(y,N);if(y instanceof F)return JSON.stringify(y.toJSON());if(Ea(y)){N=[];for(var W=0;W<y.length;W++)N[W]=ca(y[W]);return"["+N.join(",")+"]"}if(y instanceof z){N=[];for(W=0;W<y.length();W++)N[W]=ca(y.get(W));return"["+N.join(",")+"]"}return null!==y&&"object"===typeof y&&void 0!==y.castToText?y.castToText():l(y)?"object, Function":y===Ra?"":t(y)?"object, Module":""}function la(y){const N=
[];if(!Ea(y))return null;if(y instanceof z){for(var W=0;W<y.length();W++)N[W]=p(y.get(W));return N}for(W=0;W<y.length;W++)N[W]=p(y[W]);return N}function qa(y,N,W=!1){if(na(y))return y;if(null===y)return"";if(oa(y))return M(y,N);if(ia(y))return y.toString();if(pa(y))return K(y,N);if(y instanceof F)return y instanceof J?'{"xmin":'+y.xmin.toString()+',"ymin":'+y.ymin.toString()+","+(y.hasZ?'"zmin":'+y.zmin.toString()+",":"")+(y.hasM?'"mmin":'+y.mmin.toString()+",":"")+'"xmax":'+y.xmax.toString()+',"ymax":'+
y.ymax.toString()+","+(y.hasZ?'"zmax":'+y.zmax.toString()+",":"")+(y.hasM?'"mmax":'+y.mmax.toString()+",":"")+'"spatialReference":'+va(y.spatialReference)+"}":va(y.toJSON(),(ma,Aa)=>ma.key===Aa.key?0:"spatialReference"===ma.key?1:"spatialReference"===Aa.key||ma.key<Aa.key?-1:ma.key>Aa.key?1:0);if(Ea(y)){N=[];for(var ka=0;ka<y.length;ka++)N[ka]=ca(y[ka],W);return"["+N.join(",")+"]"}if(y instanceof z){N=[];for(ka=0;ka<y.length();ka++)N[ka]=ca(y.get(ka),W);return"["+N.join(",")+"]"}return null!==y&&
"object"===typeof y&&void 0!==y.castToText?y.castToText(W):l(y)?"object, Function":y===Ra?"":t(y)?"object, Module":""}function ca(y,N=!1){return null===y?"null":ia(y)||oa(y)||na(y)?JSON.stringify(y):y instanceof F||y instanceof z||y instanceof Array?qa(y,null,N):y instanceof Date?N?JSON.stringify(y.getTime()):JSON.stringify(K(y,"")):null!==y&&"object"===typeof y&&void 0!==y.castToText?y.castToText(N):"null"}function p(y,N){return oa(y)?y:null===y||""===y?0:pa(y)?NaN:ia(y)?y?1:0:Ea(y)||""===y||void 0===
y?NaN:void 0!==N&&na(y)?(N=c(N,"\u2030",""),N=c(N,"\u00a4",""),f.parse(y,{pattern:N})):y===Ra?0:Number(y)}function u(y){return pa(y)?y:na(y)&&(y=S(y))?y.toJSDate():null}function R(y){return pa(y)?g.DateTime.fromJSDate(y):na(y)?S(y):null}function S(y){const N=/ (\d\d)/;let W=g.DateTime.fromISO(y);return W.isValid||N.test(y)&&(y=y.replace(N,"T$1"),W=g.DateTime.fromISO(y),W.isValid)?W:null}function Z(y){return ia(y)?y:na(y)?(y=y.toLowerCase(),"true"===y?!0:!1):oa(y)?0===y||isNaN(y)?!1:!0:!1}function ua(y,
N){if(d.isNone(y))return null;if(null===y.spatialReference||void 0===y.spatialReference)y.spatialReference=N;return y}function aa(y){if(null===y)return null;if(y instanceof G)return"NaN"===y.x||null===y.x||isNaN(y.x)?null:y;if(y instanceof q){if(0===y.rings.length)return null;for(const N of y.rings)if(0<N.length)return y;return null}if(y instanceof w){if(0===y.paths.length)return null;for(const N of y.paths)if(0<N.length)return y;return null}return y instanceof h?0===y.points.length?null:y:y instanceof
J?"NaN"===y.xmin||null===y.xmin||isNaN(y.xmin)?null:y:null}function da(y,N){if(!y||!y.domain)return N;let W=null;if("string"===y.field.type||"esriFieldTypeString"===y.field.type)N=X(N);else{if(null===N||void 0===N)return null;if(""===N)return N;N=p(N)}for(let ka=0;ka<y.domain.codedValues.length;ka++){const ma=y.domain.codedValues[ka];ma.code===N&&(W=ma)}return null===W?N:W.name}function fa(y,N){if(!y||!y.domain)return N;let W=null;N=X(N);for(let ka=0;ka<y.domain.codedValues.length;ka++){const ma=
y.domain.codedValues[ka];ma.name===N&&(W=ma)}return null===W?N:W.code}function ba(y,N,W=null,ka=null){if(!N||!N.fields)return null;let ma=null;for(let $a=0;$a<N.fields.length;$a++){const Ta=N.fields[$a];Ta.name.toLowerCase()===y.toString().toLowerCase()&&(ma=Ta)}if(null===ma)throw new B.ArcadeExecutionError(null,B.ExecutionErrorCodes.FieldNotFound,null,{key:y});let Aa,Ja;null===ka&&W&&N.typeIdField&&(ka=W.hasField(N.typeIdField)?W.field(N.typeIdField):null);null!==ka&&void 0!==ka&&N.types.some($a=>
$a.id===ka?((Aa=$a.domains&&$a.domains[ma.name])&&"inherited"===Aa.type&&(Aa=za(ma.name,N),Ja=!0),!0):!1);Ja||Aa||(Aa=za(y,N));return{field:ma,domain:Aa}}function za(y,N){let W;N.fields.some(ka=>{ka.name.toLowerCase()===y.toLowerCase()&&(W=ka.domain);return!!W});return W}function va(y,N){N||(N={});"function"===typeof N&&(N={cmp:N});const W="boolean"===typeof N.cycles?N.cycles:!1,ka=N.cmp&&function(Aa){return function(Ja){return function($a,Ta){return Aa({key:$a,value:Ja[$a]},{key:Ta,value:Ja[Ta]})}}}(N.cmp),
ma=[];return function $a(Ja){Ja&&Ja.toJSON&&"function"===typeof Ja.toJSON&&(Ja=Ja.toJSON());if(void 0!==Ja){if("number"===typeof Ja)return isFinite(Ja)?""+Ja:"null";if("object"!==typeof Ja)return JSON.stringify(Ja);var Ta;if(Array.isArray(Ja)){var ab="[";for(Ta=0;Ta<Ja.length;Ta++)Ta&&(ab+=","),ab+=$a(Ja[Ta])||"null";return ab+"]"}if(null===Ja)return"null";if(ma.includes(Ja)){if(W)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var Gb=ma.push(Ja)-1,
Ab=Object.keys(Ja).sort(ka&&ka(Ja));ab="";for(Ta=0;Ta<Ab.length;Ta++){const Bb=Ab[Ta],jb=$a(Ja[Bb]);jb&&(ab&&(ab+=","),ab+=JSON.stringify(Bb)+":"+jb)}ma.splice(Gb,1);return"{"+ab+"}"}}(y)}function Fa(y){if(null===y)return null;const N=[];for(const W of y)W&&W.arcadeDeclaredClass&&"esri.arcade.Feature"===W.arcadeDeclaredClass?N.push(W.geometry()):N.push(W);return N}function Ma(y,N){if(N instanceof G)y.push(N.hasZ?N.hasM?[N.x,N.y,N.z,N.m]:[N.x,N.y,N.z]:[N.x,N.y]);else throw new B.ArcadeExecutionError(null,
B.ExecutionErrorCodes.InvalidParameter,null);}function cb(y,N){if(Ea(y)||ea(y)){let W=!1,ka=!1,ma=[];if(Ea(y)){for(const Aa of y)Ma(ma,Aa);0<ma.length&&(N=y[0].spatialReference,W=y[0].hasZ,ka=y[0].hasM)}else if(y instanceof e)ma=y._elements,0<ma.length&&(W=y._hasZ,ka=y._hasM,N=y.get(0).spatialReference);else if(ea(y)){for(const Aa of y.toArray())Ma(ma,Aa);0<ma.length&&(N=y.get(0).spatialReference,W=!0===y.get(0).hasZ,ka=!0===y.get(0).hasM)}else throw new B.ArcadeExecutionError(null,B.ExecutionErrorCodes.InvalidParameter,
null);if(0===ma.length)return null;A.isClockwise(ma,ka,W)||(ma=ma.slice(0).reverse());return new q({rings:[ma],spatialReference:N,hasZ:W,hasM:ka})}return y}function fb(y,N){if(Ea(y)||ea(y)){let W=!1,ka=!1,ma=[];if(Ea(y)){for(const Aa of y)Ma(ma,Aa);0<ma.length&&(N=y[0].spatialReference,W=!0===y[0].hasZ,ka=!0===y[0].hasM)}else if(y instanceof e)ma=y._elements,0<ma.length&&(W=y._hasZ,ka=y._hasM,N=y.get(0).spatialReference);else if(ea(y)){for(const Aa of y.toArray())Ma(ma,Aa);0<ma.length&&(N=y.get(0).spatialReference,
W=!0===y.get(0).hasZ,ka=!0===y.get(0).hasM)}return 0===ma.length?null:new w({paths:[ma],spatialReference:N,hasZ:W,hasM:ka})}return y}function ja(y,N){if(Ea(y)||ea(y)){let W=!1,ka=!1,ma=[];if(Ea(y)){for(const Aa of y)Ma(ma,Aa);0<ma.length&&(N=y[0].spatialReference,W=!0===y[0].hasZ,ka=!0===y[0].hasM)}else if(y instanceof e)ma=y._elements,0<ma.length&&(W=y._hasZ,ka=y._hasM,N=y.get(0).spatialReference);else if(ea(y)){for(const Aa of y.toArray())Ma(ma,Aa);0<ma.length&&(N=y.get(0).spatialReference,W=!0===
y.get(0).hasZ,ka=!0===y.get(0).hasM)}return 0===ma.length?null:new h({points:ma,spatialReference:N,hasZ:W,hasM:ka})}return y}function Qa(y,N=!1){const W=[];if(null===y)return W;if(!0===Ea(y)){for(var ka=0;ka<y.length;ka++){var ma=X(y[ka]);""===ma&&!0!==N||W.push(ma)}return W}if(y instanceof z){for(ka=0;ka<y.length();ka++)ma=X(y.get(ka)),""===ma&&!0!==N||W.push(ma);return W}return v(y)?(y=X(y),""===y&&!0!==N||W.push(y),W):[]}function Ia(y){kb++;return 0===kb%100?(kb=0,new Promise(N=>{setTimeout(()=>
{N(y)},0)})):y}function ya(y,N,W){switch(W){case "\x26":return y&N;case "|":return y|N;case "^":return y^N;case "\x3c\x3c":return y<<N;case "\x3e\x3e":return y>>N;case "\x3e\x3e\x3e":return y>>>N}}function Na(y,N=null){if(null!=y){if(ia(y)||oa(y)||na(y))return y;if(y instanceof F)return!0===N?.keepGeometryType?y:y.toJSON();if(y instanceof z)return y.toArray().map(W=>Na(W,N));if(y instanceof Array)return y.map(W=>Na(W,N));if(y instanceof Date)return y;if(null!==y&&"object"===typeof y&&void 0!==y.castAsJson)return y.castAsJson(N)}return null}
function Va(y,N,W,ka,ma){return sa.apply(this,arguments)}function sa(){sa=I._asyncToGenerator(function*(y,N,W,ka,ma){y=yield Ya(y,N,W);ma[ka]=y});return sa.apply(this,arguments)}function Ya(y){return Za.apply(this,arguments)}function Za(){Za=I._asyncToGenerator(function*(y,N=null,W=null){y instanceof z&&(y=y.toArray());if(null!=y){if(v(y)||y instanceof F||y instanceof Date)return Na(y,W);if(y instanceof Array){const ka=[],ma=[];for(const Aa of y)null===Aa||v(Aa)||Aa instanceof F||Aa instanceof Date?
ma.push(Na(Aa,W)):(ma.push(null),ka.push(Va(Aa,N,W,ma.length-1,ma)));0<ka.length&&(yield Promise.all(ka));return ma}if(null!==y&&"object"===typeof y&&void 0!==y.castAsJsonAsync)return y.castAsJsonAsync(N,W)}return null});return Za.apply(this,arguments)}function sb(y,N,W){const ka=y.fullSchema();return null!==ka&&ka.fields?ba(N,ka,y,W):null}function qb(y){y=y.fullSchema();return null!==y&&y.fields?y.typeIdField?{subtypeField:y.typeIdField,subtypes:y.types?y.types.map(N=>({name:N.name,code:N.id})):
[]}:null:null}function tb(y,N,W,ka){const ma=y.fullSchema();if(null===ma||!ma.fields)return null;ka=ba(N,ma,y,ka);if(void 0===W)try{W=y.field(N)}catch(Aa){return null}return da(ka,W)}function ub(y,N,W,ka){const ma=y.fullSchema();if(null===ma||!ma.fields)return null;if(void 0===W){try{W=y.field(N)}catch(Aa){return null}return W}y=ba(N,ma,y,ka);return fa(y,W)}function vb(y){y=y.fullSchema();if(null===y||!y.fields)return null;const N=[];for(const W of y.fields)N.push(n.esriFieldToJson(W));return{objectIdField:y.objectIdField,
globalIdField:y.globalIdField,geometryType:void 0===n.layerGeometryEsriRestConstants[y.geometryType]?"":n.layerGeometryEsriRestConstants[y.geometryType],fields:N}}let ib=function(y){this.value=y},lb=function(y){this.value=y};const Ra={type:"VOID"},wb={type:"BREAK"},xb={type:"CONTINUE"};let kb=0;const Cb=Object.freeze(Object.defineProperty({__proto__:null,ReturnResultE:ib,ImplicitResultE:lb,ImplicitResult:lb,ReturnResult:ib,voidOperation:Ra,breakResult:wb,continueResult:xb,multiReplace:c,isFunctionParameter:l,
isModule:t,isSimpleType:v,defaultUndefined:r,getType:P,isString:na,isBoolean:ia,isNumber:oa,isInteger:Ua,isArray:Ea,isFeature:Xa,isFeatureSet:Ha,isFeatureSetCollection:ta,isImmutableArray:ea,isDate:pa,pcCheck:Pa,absRound:Ba,generateUUID:Ka,formatNumber:M,formatDate:K,standardiseDateFormat:O,greaterThanLessThan:T,equalityTest:U,toString:X,toNumberArray:la,toStringExplicit:qa,toNumber:p,toDate:u,toDateTime:R,toBoolean:Z,fixSpatialReference:ua,fixNullGeometry:aa,getDomainValue:da,getDomainCode:fa,getDomain:ba,
stableStringify:va,autoCastFeatureToGeometry:Fa,autoCastArrayOfPointsToPolygon:cb,autoCastArrayOfPointsToPolyline:fb,autoCastArrayOfPointsToMultiPoint:ja,toStringArray:Qa,tick:Ia,binaryOperator:ya,castAsJson:Na,castAsJsonAsync:Ya,featureFullDomain:sb,featureSubtypes:qb,featureDomainValueLookup:tb,featureDomainCodeLookup:ub,featureSchema:vb},Symbol.toStringTag,{value:"Module"}));x.ImplicitResult=lb;x.ImplicitResultE=lb;x.ReturnResult=ib;x.ReturnResultE=ib;x.absRound=Ba;x.autoCastArrayOfPointsToMultiPoint=
ja;x.autoCastArrayOfPointsToPolygon=cb;x.autoCastArrayOfPointsToPolyline=fb;x.autoCastFeatureToGeometry=Fa;x.binaryOperator=ya;x.breakResult=wb;x.castAsJson=Na;x.castAsJsonAsync=Ya;x.continueResult=xb;x.defaultUndefined=r;x.equalityTest=U;x.featureDomainCodeLookup=ub;x.featureDomainValueLookup=tb;x.featureFullDomain=sb;x.featureSchema=vb;x.featureSubtypes=qb;x.fixNullGeometry=aa;x.fixSpatialReference=ua;x.formatDate=K;x.formatNumber=M;x.generateUUID=Ka;x.getDomain=ba;x.getDomainCode=fa;x.getDomainValue=
da;x.getType=P;x.greaterThanLessThan=T;x.isArray=Ea;x.isBoolean=ia;x.isDate=pa;x.isFeature=Xa;x.isFeatureSet=Ha;x.isFeatureSetCollection=ta;x.isFunctionParameter=l;x.isImmutableArray=ea;x.isInteger=Ua;x.isModule=t;x.isNumber=oa;x.isSimpleType=v;x.isString=na;x.lc=Cb;x.multiReplace=c;x.pcCheck=Pa;x.stableStringify=va;x.standardiseDateFormat=O;x.tick=Ia;x.toBoolean=Z;x.toDate=u;x.toDateTime=R;x.toNumber=p;x.toNumberArray=la;x.toString=X;x.toStringArray=Qa;x.toStringExplicit=qa;x.voidOperation=Ra})},
"esri/arcade/FunctionWrapper":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","../core/promiseUtils"],function(x,I,E){function z(F,h,G){if(F instanceof b&&!(F instanceof J)){const q=new J;q.fn=F;q.parameterEvaluator=G;q.context=h;return q}return F}let b=function(){},e=function(F){function h(q){var w=F.call(this)||this;w.fn=q;return w}I._inheritsLoose(h,F);var G=h.prototype;G.createFunction=function(q){return(...w)=>this.fn(q,{preparsed:!0,arguments:w})};G.call=function(q,w){return this.fn(q,
w)};G.marshalledCall=function(q,w,g,d){return d(q,w,(f,A,m)=>{m=m.map(n=>n instanceof b&&!(n instanceof J)?z(n,q,d):n);f=this.call(g,{args:m});return E.isPromiseLike(f)?f.then(n=>z(n,g,d)):f})};return h}(b),J=function(F){function h(){var q=F.apply(this,arguments)||this;q.fn=null;q.context=null;return q}I._inheritsLoose(h,F);var G=h.prototype;G.createFunction=function(q){return this.fn.createFunction(this.context)};G.call=function(q,w){return this.fn.marshalledCall(q,w,this.context,this.parameterEvaluator)};
G.marshalledCall=function(q,w,g){return this.fn.marshalledCall(q,w,this.context,this.parameterEvaluator)};return h}(b);x.ArcadeFunction=b;x.NativeFunction=e;x.ScopeMarshalledFunction=J;x.wrapModuleScopedResponse=z;Object.defineProperties(x,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/ImmutablePathArray":function(){define(["../chunks/_rollupPluginBabelHelpers","./ImmutableArray","./ImmutablePointArray"],function(x,I,E){return function(z){function b(J,F,h,G,q){J=z.call(this,
J)||this;J._lazyPath=[];J._hasZ=!1;J._hasM=!1;J._hasZ=h;J._hasM=G;J._spRef=F;J._cacheId=q;return J}x._inheritsLoose(b,z);var e=b.prototype;e.get=function(J){if(void 0===this._lazyPath[J]){const F=this._elements[J];if(void 0===F)return;this._lazyPath[J]=new E(F,this._spRef,this._hasZ,this._hasM,this._cacheId,J)}return this._lazyPath[J]};e.equalityTest=function(J){return J===this?!0:null===J||!1===J instanceof b?!1:J.getUniqueHash()===this.getUniqueHash()};e.getUniqueHash=function(){return this._cacheId.toString()};
return b}(I)})},"esri/arcade/ImmutablePointArray":function(){define(["../chunks/_rollupPluginBabelHelpers","./ImmutableArray","../geometry/Point"],function(x,I,E){return function(z){function b(J,F,h,G,q,w){J=z.call(this,J)||this;J._lazyPt=[];J._hasZ=!1;J._hasM=!1;J._spRef=F;J._hasZ=h;J._hasM=G;J._cacheId=q;J._partId=w;return J}x._inheritsLoose(b,z);var e=b.prototype;e.get=function(J){if(void 0===this._lazyPt[J]){const F=this._elements[J];if(void 0===F)return;const h=this._hasZ,G=this._hasM;let q=
null;q=h&&!G?new E(F[0],F[1],F[2],void 0,this._spRef):G&&!h?new E(F[0],F[1],void 0,F[2],this._spRef):h&&G?new E(F[0],F[1],F[2],F[3],this._spRef):new E(F[0],F[1],this._spRef);q.cache._arcadeCacheId=this._cacheId.toString()+"-"+this._partId.toString()+"-"+J.toString();this._lazyPt[J]=q}return this._lazyPt[J]};e.equalityTest=function(J){return J===this?!0:null===J||!1===J instanceof b?!1:J.getUniqueHash()===this.getUniqueHash()};e.getUniqueHash=function(){return this._cacheId.toString()+"-"+this._partId.toString()};
return b}(I)})},"esri/chunks/datetime":function(){define(["exports"],function(x){function I(a){return"undefined"===typeof a}function E(a){return"number"===typeof a}function z(a){return"number"===typeof a&&0===a%1}function b(){try{return"undefined"!==typeof Intl&&!!Intl.RelativeTimeFormat}catch(a){return!1}}function e(a,k,C){if(0!==a.length)return a.reduce((L,Q)=>{Q=[k(Q),Q];return L?C(L[0],Q[0])===L[0]?L:Q:Q},null)[1]}function J(a,k){return k.reduce((C,L)=>{C[L]=a[L];return C},{})}function F(a,k){return Object.prototype.hasOwnProperty.call(a,
k)}function h(a,k,C){return z(a)&&a>=k&&a<=C}function G(a,k=2){return 0>a?"-"+(""+-a).padStart(k,"0"):(""+a).padStart(k,"0")}function q(a){if(!I(a)&&null!==a&&""!==a)return parseInt(a,10)}function w(a){if(!I(a)&&null!==a&&""!==a)return parseFloat(a)}function g(a){if(!I(a)&&null!==a&&""!==a)return a=1E3*parseFloat("0."+a),Math.floor(a)}function d(a,k,C=!1){k=10**k;return(C?Math.trunc:Math.round)(a*k)/k}function f(a){return 0===a%4&&(0!==a%100||0===a%400)}function A(a,k){var C=k-1;C=C-12*Math.floor(C/
12)+1;return 2===C?f(a+(k-C)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][C-1]}function m(a){let k=Date.UTC(a.year,a.month-1,a.day,a.hour,a.minute,a.second,a.millisecond);100>a.year&&0<=a.year&&(k=new Date(k),k.setUTCFullYear(k.getUTCFullYear()-1900));return+k}function n(a){var k=a-1;k=(k+Math.floor(k/4)-Math.floor(k/100)+Math.floor(k/400))%7;return 4===(a+Math.floor(a/4)-Math.floor(a/100)+Math.floor(a/400))%7||3===k?53:52}function H(a){return 99<a?a:60<a?1900+a:2E3+a}function B(a,k,C,L=null){a=
new Date(a);const Q={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};L&&(Q.timeZone=L);return(k=(new Intl.DateTimeFormat(C,{timeZoneName:k,...Q})).formatToParts(a).find(V=>"timezonename"===V.type.toLowerCase()))?k.value:null}function c(a,k){a=parseInt(a,10);Number.isNaN(a)&&(a=0);k=parseInt(k,10)||0;k=0>a||Object.is(a,-0)?-k:k;return 60*a+k}function l(a){const k=Number(a);if("boolean"===typeof a||""===a||Number.isNaN(k))throw new gb(`Invalid unit value ${a}`);
return k}function t(a,k){const C={};for(const L in a)if(F(a,L)){const Q=a[L];void 0!==Q&&null!==Q&&(C[k(L)]=l(Q))}return C}function v(a,k){const C=Math.trunc(Math.abs(a/60)),L=Math.trunc(Math.abs(a%60));a=0<=a?"+":"-";switch(k){case "short":return`${a}${G(C,2)}:${G(L,2)}`;case "narrow":return`${a}${C}${0<L?`:${L}`:""}`;case "techie":return`${a}${G(C,2)}${G(L,2)}`;default:throw new RangeError(`Value format ${k} is out of range for property format`);}}function r(a){return J(a,["hour","minute","second",
"millisecond"])}function P(a){switch(a){case "narrow":return[...Kc];case "short":return[...Wb];case "long":return[...Lc];case "numeric":return"1 2 3 4 5 6 7 8 9 10 11 12".split(" ");case "2-digit":return"01 02 03 04 05 06 07 08 09 10 11 12".split(" ");default:return null}}function na(a){switch(a){case "narrow":return[...Mc];case "short":return[...Xb];case "long":return[...Yb];case "numeric":return"1234567".split("");default:return null}}function ia(a){switch(a){case "narrow":return[...Nc];case "short":return[...Oc];
case "long":return[...Pc];default:return null}}function oa(a,k,C="always",L=!1){const Q={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]};var V=-1===["hours","minutes","seconds"].indexOf(a);if("auto"===C&&V)switch(C="days"===a,k){case 1:return C?"tomorrow":`next ${Q[a][0]}`;case -1:return C?"yesterday":`last ${Q[a][0]}`;case 0:return C?"today":`this ${Q[a][0]}`}C=
Object.is(k,-0)||0>k;k=Math.abs(k);V=1===k;const Y=Q[a];a=L?V?Y[1]:Y[2]||Y[1]:V?Q[a][0]:a;return C?`${k} ${a} ago`:`in ${k} ${a}`}function Ua(a,k){let C="";for(const L of a)C=L.literal?C+L.val:C+k(L.val);return C}function Ea(a,k){if(I(a)||null===a)return k;if(a instanceof yb)return a;if("string"===typeof a){const C=a.toLowerCase();return"default"===C?k:"local"===C||"system"===C?Hb.instance:"utc"===C||"gmt"===C?db.utcInstance:db.parseSpecifier(C)||mb.create(a)}return E(a)?db.instance(a):"object"===
typeof a&&a.offset&&"number"===typeof a.offset?a:new Qc(a)}function Xa(a,k={}){const C=JSON.stringify([a,k]);let L=Zb[C];L||(L=new Intl.ListFormat(a,k),Zb[C]=L);return L}function Ha(a,k={}){const C=JSON.stringify([a,k]);let L=Ib[C];L||(L=new Intl.DateTimeFormat(a,k),Ib[C]=L);return L}function ta(a,k={}){const C=JSON.stringify([a,k]);let L=Jb[C];L||(L=new Intl.NumberFormat(a,k),Jb[C]=L);return L}function ea(a,k={}){const {base:C,...L}=k,Q=JSON.stringify([a,L]);let V=Kb[Q];V||(V=new Intl.RelativeTimeFormat(a,
k),Kb[Q]=V);return V}function pa(a){const k=[];for(let C=1;12>=C;C++){const L=xa.utc(2016,C,1);k.push(a(L))}return k}function Pa(a){const k=[];for(let C=1;7>=C;C++){const L=xa.utc(2016,11,13+C);k.push(a(L))}return k}function Ba(a,k,C,L,Q){a=a.listingMode(C);return"error"===a?null:"en"===a?L(k):Q(k)}function Ka(...a){a=a.reduce((k,C)=>k+C.source,"");return RegExp(`^${a}$`)}function M(...a){return k=>a.reduce(([C,L,Q],V)=>{const [Y,ha,ra]=V(k,Q);return[{...C,...Y},ha||L,ra]},[{},null,1]).slice(0,2)}
function K(a,...k){if(null==a)return[null,null];for(const [C,L]of k)if(k=C.exec(a))return L(k);return[null,null]}function O(...a){return(k,C)=>{const L={};let Q;for(Q=0;Q<a.length;Q++)L[a[Q]]=q(k[C+Q]);return[L,null,C+Q]}}function D(a,k,C){a=a[k];return I(a)?C:q(a)}function T(a,k){return[{hours:D(a,k,0),minutes:D(a,k+1,0),seconds:D(a,k+2,0),milliseconds:g(a[k+3])},null,k+4]}function U(a,k){const C=!a[k]&&!a[k+1];a=c(a[k+1],a[k+2]);return[{},C?null:db.instance(a),k+3]}function X(a,k){return[{},a[k]?
mb.create(a[k]):null,k+1]}function la(a){const [k,C,L,Q,V,Y,ha,ra,La]=a,wa="-"===k[0];a=ra&&"-"===ra[0];const Da=(Ca,bb=!1)=>void 0!==Ca&&(bb||Ca&&wa)?-Ca:Ca;return[{years:Da(w(C)),months:Da(w(L)),weeks:Da(w(Q)),days:Da(w(V)),hours:Da(w(Y)),minutes:Da(w(ha)),seconds:Da(w(ra),"-0"===ra),milliseconds:Da(g(La),a)}]}function qa(a,k,C,L,Q,V,Y){k={year:2===k.length?H(q(k)):q(k),month:Wb.indexOf(C)+1,day:q(L),hour:q(Q),minute:q(V)};Y&&(k.second=q(Y));a&&(k.weekday=3<a.length?Yb.indexOf(a)+1:Xb.indexOf(a)+
1);return k}function ca(a){const [,k,C,L,Q,V,Y,ha,ra,La,wa,Da]=a;a=qa(k,Q,L,C,V,Y,ha);let Ca;Ca=ra?Rc[ra]:La?0:c(wa,Da);return[a,new db(Ca)]}function p(a){const [,k,C,L,Q,V,Y,ha]=a;return[qa(k,Q,L,C,V,Y,ha),db.utcInstance]}function u(a){const [,k,C,L,Q,V,Y,ha]=a;return[qa(k,ha,C,L,Q,V,Y),db.utcInstance]}function R(a,k,C=!1){a={values:C?k.values:{...a.values,...(k.values||{})},loc:a.loc.clone(k.loc),conversionAccuracy:k.conversionAccuracy||a.conversionAccuracy,matrix:k.matrix||a.matrix};return new Ga(a)}
function S(a,k,C,L,Q){a=a[Q][C];var V=k[C]/a;V=Math.sign(V)!==Math.sign(L[Q])&&0!==L[Q]&&1>=Math.abs(V)?0>V?Math.floor(V):Math.ceil(V):Math.trunc(V);L[Q]+=V;k[C]-=V*a}function Z(a,k){Sc.reduce((C,L)=>{if(I(k[L]))return C;C&&S(a,k,C,k,L);return L},null)}function ua(a,k){a=k.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()-a.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf();return Math.floor(Ga.fromMillis(a).as("days"))}function aa(a,k,C){var L=[["years",(ha,ra)=>ra.year-ha.year],["quarters",
(ha,ra)=>ra.quarter-ha.quarter+4*(ra.year-ha.year)],["months",(ha,ra)=>ra.month-ha.month+12*(ra.year-ha.year)],["weeks",(ha,ra)=>{ha=ua(ha,ra);return(ha-ha%7)/7}],["days",ua]];const Q={};let V,Y;for(const [ha,ra]of L)0<=C.indexOf(ha)&&(V=ha,L=ra(a,k),Y=a.plus({[ha]:L}),Y>k?(a=a.plus({[ha]:L-1}),--L):a=Y,Q[ha]=L);return[a,Q,Y,V]}function da(a,k,C,L){let [Q,V,Y,ha]=aa(a,k,C);a=k-Q;C=C.filter(ra=>0<=["hours","minutes","seconds","milliseconds"].indexOf(ra));0===C.length&&(Y<k&&(Y=Q.plus({[ha]:1})),Y!==
Q&&(V[ha]=(V[ha]||0)+a/(Y-Q)));k=Ga.fromObject(V,L);return 0<C.length?Ga.fromMillis(a,L).shiftTo(...C).plus(k):k}function fa({numberingSystem:a},k=""){return new RegExp(`${Lb[a||"latn"]}${k}`)}function ba(a,k=C=>C){return{regex:a,deser:([C])=>{{let L=parseInt(C,10);if(isNaN(L)){L="";for(let Q=0;Q<C.length;Q++){const V=C.charCodeAt(Q);if(-1!==C[Q].search(Lb.hanidec))L+=Tc.indexOf(C[Q]);else for(const Y in $b){const [ha,ra]=$b[Y];V>=ha&&V<=ra&&(L+=V-ha)}}C=parseInt(L,10)}else C=L}return k(C)}}}function za(a){return a.replace(/\./g,
"\\.?").replace(Mb,ac)}function va(a,k){return null===a?null:{regex:RegExp(a.map(za).join("|")),deser:([C])=>a.findIndex(L=>C.replace(/\./g,"").replace(Mb," ").toLowerCase()===L.replace(/\./g,"").replace(Mb," ").toLowerCase())+k}}function Fa(a,k){return{regex:a,deser:([,C,L])=>c(C,L),groups:k}}function Ma(a){return{regex:a,deser:([k])=>k}}function cb(a,k){const C=fa(k),L=fa(k,"{2}"),Q=fa(k,"{3}"),V=fa(k,"{4}"),Y=fa(k,"{6}"),ha=fa(k,"{1,2}"),ra=fa(k,"{1,3}"),La=fa(k,"{1,6}"),wa=fa(k,"{1,9}"),Da=fa(k,
"{2,4}"),Ca=fa(k,"{4,6}"),bb=ob=>({regex:RegExp(ob.val.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$\x26")),deser:([Nb])=>Nb,literal:!0}),rb=(ob=>{if(a.literal)return bb(ob);switch(ob.val){case "G":return va(k.eras("short",!1),0);case "GG":return va(k.eras("long",!1),0);case "y":return ba(La);case "yy":return ba(Da,H);case "yyyy":return ba(V);case "yyyyy":return ba(Ca);case "yyyyyy":return ba(Y);case "M":return ba(ha);case "MM":return ba(L);case "MMM":return va(k.months("short",!0,!1),1);case "MMMM":return va(k.months("long",
!0,!1),1);case "L":return ba(ha);case "LL":return ba(L);case "LLL":return va(k.months("short",!1,!1),1);case "LLLL":return va(k.months("long",!1,!1),1);case "d":return ba(ha);case "dd":return ba(L);case "o":return ba(ra);case "ooo":return ba(Q);case "HH":return ba(L);case "H":return ba(ha);case "hh":return ba(L);case "h":return ba(ha);case "mm":return ba(L);case "m":return ba(ha);case "q":return ba(ha);case "qq":return ba(L);case "s":return ba(ha);case "ss":return ba(L);case "S":return ba(ra);case "SSS":return ba(Q);
case "u":return Ma(wa);case "uu":return Ma(ha);case "uuu":return ba(C);case "a":return va(k.meridiems(),0);case "kkkk":return ba(V);case "kk":return ba(Da,H);case "W":return ba(ha);case "WW":return ba(L);case "E":case "c":return ba(C);case "EEE":return va(k.weekdays("short",!1,!1),1);case "EEEE":return va(k.weekdays("long",!1,!1),1);case "ccc":return va(k.weekdays("short",!0,!1),1);case "cccc":return va(k.weekdays("long",!0,!1),1);case "Z":case "ZZ":return Fa(new RegExp(`([+-]${ha.source})(?::(${L.source}))?`),
2);case "ZZZ":return Fa(new RegExp(`([+-]${ha.source})(${L.source})?`),2);case "z":return Ma(/[a-z_+-/]{1,256}?/i);default:return bb(ob)}})(a)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};rb.token=a;return rb}function fb(a){return[`^${a.map(k=>k.regex).reduce((k,C)=>`${k}(${C.source})`,"")}$`,a]}function ja(a,k,C){if(a=a.match(k)){k={};let L=1;for(const Q in C)if(F(C,Q)){const V=C[Q],Y=V.groups?V.groups+1:1;!V.literal&&V.token&&(k[V.token.val[0]]=V.deser(a.slice(L,L+Y)));L+=
Y}return[a,k]}return[a,{}]}function Qa(a){const k=Q=>{switch(Q){case "S":return"millisecond";case "s":return"second";case "m":return"minute";case "h":case "H":return"hour";case "d":return"day";case "o":return"ordinal";case "L":case "M":return"month";case "y":return"year";case "E":case "c":return"weekday";case "W":return"weekNumber";case "k":return"weekYear";case "q":return"quarter";default:return null}};let C=null,L;I(a.z)||(C=mb.create(a.z));I(a.Z)||(C||(C=new db(a.Z)),L=a.Z);I(a.q)||(a.M=3*(a.q-
1)+1);I(a.h)||(12>a.h&&1===a.a?a.h+=12:12===a.h&&0===a.a&&(a.h=0));0===a.G&&a.y&&(a.y=-a.y);I(a.u)||(a.S=g(a.u));return[Object.keys(a).reduce((Q,V)=>{const Y=k(V);Y&&(Q[Y]=a[V]);return Q},{}),C,L]}function Ia(a,k){return Array.prototype.concat(...a.map(C=>{if(!C.literal){var L=eb.macroTokenToFormatOpts(C.val);L=Na(L,k);C=null==L||L.includes(void 0)?C:L}return C}))}function ya(a,k,C){C=Ia(eb.parseFormat(C),a);var L=C.map(Ca=>cb(Ca,a));const Q=L.find(Ca=>Ca.invalidReason);if(Q)return{input:k,tokens:C,
invalidReason:Q.invalidReason};const [V,Y]=fb(L);L=RegExp(V,"i");const [ha,ra]=ja(k,L,Y),[La,wa,Da]=ra?Qa(ra):[null,null,void 0];if(F(ra,"a")&&F(ra,"H"))throw new jb("Can't include meridiem when specifying 24-hour format");return{input:k,tokens:C,regex:L,rawMatches:ha,matches:ra,result:La,zone:wa,specificOffset:Da}}function Na(a,k){if(!a)return null;k=eb.create(k,a);var C=k.formatDateTimeParts;Ob||(Ob=xa.fromMillis(1555555555555));return C.call(k,Ob).map(L=>{{const {type:V,value:Y}=L;if("literal"===
V)L={literal:!0,val:Y};else{L=a[V];var Q=Uc[V];"object"===typeof Q&&(Q=Q[L]);L=Q?{literal:!1,val:Q}:void 0}}return L})}function Va(a,k){return new hb("unit out of range",`you specified ${k} (of type ${typeof k}) as a ${a}, which is invalid`)}function sa(a,k,C){k=new Date(Date.UTC(a,k-1,C));100>a&&0<=a&&k.setUTCFullYear(k.getUTCFullYear()-1900);a=k.getUTCDay();return 0===a?7:a}function Ya(a,k){a=f(a)?Pb:Qb;const C=a.findIndex(L=>L<k);return{month:C+1,day:k-a[C]}}function Za(a){const {year:k,month:C,
day:L}=a;var Q=L+(f(k)?Pb:Qb)[C-1];const V=sa(k,C,L);Q=Math.floor((Q-V+10)/7);let Y;1>Q?(Y=k-1,Q=n(Y)):Q>n(k)?(Y=k+1,Q=1):Y=k;return{weekYear:Y,weekNumber:Q,weekday:V,...r(a)}}function sb(a){const {weekYear:k,weekNumber:C,weekday:L}=a;var Q=sa(k,1,4),V=f(k)?366:365;Q=7*C+L-Q-3;1>Q?(V=k-1,Q+=f(V)?366:365):Q>V?(V=k+1,Q-=f(k)?366:365):V=k;const {month:Y,day:ha}=Ya(V,Q);return{year:V,month:Y,day:ha,...r(a)}}function qb(a){const {year:k,month:C,day:L}=a;var Q=L+(f(k)?Pb:Qb)[C-1];return{year:k,ordinal:Q,
...r(a)}}function tb(a){const {year:k,ordinal:C}=a,{month:L,day:Q}=Ya(k,C);return{year:k,month:L,day:Q,...r(a)}}function ub(a){const k=z(a.year),C=h(a.month,1,12),L=h(a.day,1,A(a.year,a.month));return k?C?L?!1:Va("day",a.day):Va("month",a.month):Va("year",a.year)}function vb(a){const {hour:k,minute:C,second:L,millisecond:Q}=a;a=h(k,0,23)||24===k&&0===C&&0===L&&0===Q;const V=h(C,0,59),Y=h(L,0,59),ha=h(Q,0,999);return a?V?Y?ha?!1:Va("millisecond",Q):Va("second",L):Va("minute",C):Va("hour",k)}function ib(a){return new hb("unsupported zone",
`the zone "${a.name}" is not supported`)}function lb(a){null===a.weekData&&(a.weekData=Za(a.c));return a.weekData}function Ra(a,k){a={ts:a.ts,zone:a.zone,c:a.c,o:a.o,loc:a.loc,invalid:a.invalid};return new xa({...a,...k,old:a})}function wb(a,k,C){let L=a-6E4*k;const Q=C.offset(L);if(k===Q)return[L,k];L-=6E4*(Q-k);k=C.offset(L);return Q===k?[L,Q]:[a-6E4*Math.min(Q,k),Math.max(Q,k)]}function xb(a,k){a=new Date(a+6E4*k);return{year:a.getUTCFullYear(),month:a.getUTCMonth()+1,day:a.getUTCDate(),hour:a.getUTCHours(),
minute:a.getUTCMinutes(),second:a.getUTCSeconds(),millisecond:a.getUTCMilliseconds()}}function kb(a,k,C){return wb(m(a),k,C)}function Cb(a,k){const C=a.o;var L=a.c.year+Math.trunc(k.years);const Q=a.c.month+Math.trunc(k.months)+3*Math.trunc(k.quarters);L={...a.c,year:L,month:Q,day:Math.min(a.c.day,A(L,Q))+Math.trunc(k.days)+7*Math.trunc(k.weeks)};k=Ga.fromObject({years:k.years-Math.trunc(k.years),quarters:k.quarters-Math.trunc(k.quarters),months:k.months-Math.trunc(k.months),weeks:k.weeks-Math.trunc(k.weeks),
days:k.days-Math.trunc(k.days),hours:k.hours,minutes:k.minutes,seconds:k.seconds,milliseconds:k.milliseconds}).as("milliseconds");L=m(L);let [V,Y]=wb(L,C,a.zone);0!==k&&(V+=k,Y=a.zone.offset(V));return{ts:V,o:Y}}function y(a,k,C,L,Q,V){const {setZone:Y,zone:ha}=C;return a&&0!==Object.keys(a).length?(a=xa.fromObject(a,{...C,zone:k||ha,specificOffset:V}),Y?a:a.setZone(ha)):xa.invalid(new hb("unparsable",`the input "${Q}" can't be parsed as ${L}`))}function N(a,k,C=!0){return a.isValid?eb.create(Oa.create("en-US"),
{allowZ:C,forceSimple:!0}).formatDateTimeFromString(a,k):null}function W(a,k){const C=9999<a.c.year||0>a.c.year;let L="";C&&0<=a.c.year&&(L+="+");L+=G(a.c.year,C?6:4);k?(L=L+"-"+G(a.c.month),L=L+"-"+G(a.c.day)):(L+=G(a.c.month),L+=G(a.c.day));return L}function ka(a,k,C,L,Q,V){let Y=G(a.c.hour);k?(Y=Y+":"+G(a.c.minute),0===a.c.second&&C||(Y+=":")):Y+=G(a.c.minute);0===a.c.second&&C||(Y+=G(a.c.second),0===a.c.millisecond&&L||(Y=Y+"."+G(a.c.millisecond,3)));Q&&(a.isOffsetFixed&&0===a.offset&&!V?Y+="Z":
0>a.o?(Y=Y+"-"+G(Math.trunc(-a.o/60)),Y=Y+":"+G(Math.trunc(-a.o%60))):(Y=Y+"+"+G(Math.trunc(a.o/60)),Y=Y+":"+G(Math.trunc(a.o%60))));V&&(Y+="["+a.zone.ianaName+"]");return Y}function ma(a){const k={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",
weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[a.toLowerCase()];if(!k)throw new bc(a);return k}function Aa(a,k){const C=Ea(k.zone,Wa.defaultZone);k=Oa.fromObject(k);const L=Wa.now();var Q;if(I(a.year))a=L;else{for(const V of cc)I(a[V])&&(a[V]=dc[V]);if(Q=ub(a)||vb(a))return xa.invalid(Q);Q=C.offset(L);[a,Q]=kb(a,Q,C)}return new xa({ts:a,zone:C,loc:k,o:Q})}function Ja(a,k,C){const L=I(C.round)?!0:C.round,Q=(Y,ha)=>{Y=d(Y,L||C.calendary?
0:2,!0);return k.loc.clone(C).relFormatter(C).format(Y,ha)},V=Y=>C.calendary?k.hasSame(a,Y)?0:k.startOf(Y).diff(a.startOf(Y),Y).get(Y):k.diff(a,Y).get(Y);if(C.unit)return Q(V(C.unit),C.unit);for(const Y of C.units){const ha=V(Y);if(1<=Math.abs(ha))return Q(ha,Y)}return Q(a>k?-0:0,C.units[C.units.length-1])}function $a(a){let k={};0<a.length&&"object"===typeof a[a.length-1]?(k=a[a.length-1],a=Array.from(a).slice(0,a.length-1)):a=Array.from(a);return[k,a]}function Ta(a){if(xa.isDateTime(a))return a;
if(a&&a.valueOf&&E(a.valueOf()))return xa.fromJSDate(a);if(a&&"object"===typeof a)return xa.fromObject(a);throw new gb(`Unknown datetime argument: ${a}, of type ${typeof a}`);}class ab extends Error{}class Gb extends ab{constructor(a){super(`Invalid DateTime: ${a.toMessage()}`)}}class Ab extends ab{constructor(a){super(`Invalid Interval: ${a.toMessage()}`)}}class Bb extends ab{constructor(a){super(`Invalid Duration: ${a.toMessage()}`)}}class jb extends ab{}class bc extends ab{constructor(a){super(`Invalid unit ${a}`)}}
class gb extends ab{}class nb extends ab{constructor(){super("Zone is an abstract class")}}const Rb={year:"numeric",month:"numeric",day:"numeric"},ec={year:"numeric",month:"short",day:"numeric"},Vc={year:"numeric",month:"short",day:"numeric",weekday:"short"},fc={year:"numeric",month:"long",day:"numeric"},gc={year:"numeric",month:"long",day:"numeric",weekday:"long"},hc={hour:"numeric",minute:"numeric"},ic={hour:"numeric",minute:"numeric",second:"numeric"},jc={hour:"numeric",minute:"numeric",second:"numeric",
timeZoneName:"short"},kc={hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"},lc={hour:"numeric",minute:"numeric",hourCycle:"h23"},mc={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23"},nc={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23",timeZoneName:"short"},oc={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23",timeZoneName:"long"},pc={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},qc={year:"numeric",
month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},rc={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},sc={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},Wc={year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric"},tc={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",timeZoneName:"short"},uc={year:"numeric",month:"long",day:"numeric",hour:"numeric",
minute:"numeric",second:"numeric",timeZoneName:"short"},vc={year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",timeZoneName:"long"},wc={year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"},xc=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,Lc="January February March April May June July August September October November December".split(" "),Wb="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
Kc="JFMAMJJASOND".split(""),Yb="Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),Xb="Mon Tue Wed Thu Fri Sat Sun".split(" "),Mc="MTWTFSS".split(""),yc=["AM","PM"],Pc=["Before Christ","Anno Domini"],Oc=["BC","AD"],Nc=["B","A"],Xc={D:Rb,DD:ec,DDD:fc,DDDD:gc,t:hc,tt:ic,ttt:jc,tttt:kc,T:lc,TT:mc,TTT:nc,TTTT:oc,f:pc,ff:rc,fff:tc,ffff:vc,F:qc,FF:sc,FFF:uc,FFFF:wc};class eb{static create(a,k={}){return new eb(a,k)}static parseFormat(a){let k=null,C="",L=!1;const Q=[];for(let V=0;V<a.length;V++){const Y=
a.charAt(V);"'"===Y?(0<C.length&&Q.push({literal:L,val:C}),k=null,C="",L=!L):L?C+=Y:Y===k?C+=Y:(0<C.length&&Q.push({literal:!1,val:C}),k=C=Y)}0<C.length&&Q.push({literal:L,val:C});return Q}static macroTokenToFormatOpts(a){return Xc[a]}constructor(a,k){this.opts=k;this.loc=a;this.systemLoc=null}formatWithSystemDefault(a,k){null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem());return this.systemLoc.dtFormatter(a,{...this.opts,...k}).format()}formatDateTime(a,k={}){return this.loc.dtFormatter(a,
{...this.opts,...k}).format()}formatDateTimeParts(a,k={}){return this.loc.dtFormatter(a,{...this.opts,...k}).formatToParts()}resolvedOptions(a,k={}){return this.loc.dtFormatter(a,{...this.opts,...k}).resolvedOptions()}num(a,k=0){if(this.opts.forceSimple)return G(a,k);const C={...this.opts};0<k&&(C.padTo=k);return this.loc.numberFormatter(C).format(a)}formatDateTimeFromString(a,k){const C="en"===this.loc.listingMode(),L=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,Q=(wa,Da)=>this.loc.extract(a,
wa,Da),V=wa=>a.isOffsetFixed&&0===a.offset&&wa.allowZ?"Z":a.isValid?a.zone.formatOffset(a.ts,wa.format):"",Y=(wa,Da)=>C?P(wa)[a.month-1]:Q(Da?{month:wa}:{month:wa,day:"numeric"},"month"),ha=(wa,Da)=>C?na(wa)[a.weekday-1]:Q(Da?{weekday:wa}:{weekday:wa,month:"long",day:"numeric"},"weekday"),ra=wa=>{const Da=eb.macroTokenToFormatOpts(wa);return Da?this.formatWithSystemDefault(a,Da):wa},La=wa=>C?ia(wa)[0>a.year?0:1]:Q({era:wa},"era");return Ua(eb.parseFormat(k),wa=>{switch(wa){case "S":return this.num(a.millisecond);
case "u":case "SSS":return this.num(a.millisecond,3);case "s":return this.num(a.second);case "ss":return this.num(a.second,2);case "uu":return this.num(Math.floor(a.millisecond/10),2);case "uuu":return this.num(Math.floor(a.millisecond/100));case "m":return this.num(a.minute);case "mm":return this.num(a.minute,2);case "h":return this.num(0===a.hour%12?12:a.hour%12);case "hh":return this.num(0===a.hour%12?12:a.hour%12,2);case "H":return this.num(a.hour);case "HH":return this.num(a.hour,2);case "Z":return V({format:"narrow",
allowZ:this.opts.allowZ});case "ZZ":return V({format:"short",allowZ:this.opts.allowZ});case "ZZZ":return V({format:"techie",allowZ:this.opts.allowZ});case "ZZZZ":return a.zone.offsetName(a.ts,{format:"short",locale:this.loc.locale});case "ZZZZZ":return a.zone.offsetName(a.ts,{format:"long",locale:this.loc.locale});case "z":return a.zoneName;case "a":return C?yc[12>a.hour?0:1]:Q({hour:"numeric",hourCycle:"h12"},"dayperiod");case "d":return L?Q({day:"numeric"},"day"):this.num(a.day);case "dd":return L?
Q({day:"2-digit"},"day"):this.num(a.day,2);case "c":return this.num(a.weekday);case "ccc":return ha("short",!0);case "cccc":return ha("long",!0);case "ccccc":return ha("narrow",!0);case "E":return this.num(a.weekday);case "EEE":return ha("short",!1);case "EEEE":return ha("long",!1);case "EEEEE":return ha("narrow",!1);case "L":return L?Q({month:"numeric",day:"numeric"},"month"):this.num(a.month);case "LL":return L?Q({month:"2-digit",day:"numeric"},"month"):this.num(a.month,2);case "LLL":return Y("short",
!0);case "LLLL":return Y("long",!0);case "LLLLL":return Y("narrow",!0);case "M":return L?Q({month:"numeric"},"month"):this.num(a.month);case "MM":return L?Q({month:"2-digit"},"month"):this.num(a.month,2);case "MMM":return Y("short",!1);case "MMMM":return Y("long",!1);case "MMMMM":return Y("narrow",!1);case "y":return L?Q({year:"numeric"},"year"):this.num(a.year);case "yy":return L?Q({year:"2-digit"},"year"):this.num(a.year.toString().slice(-2),2);case "yyyy":return L?Q({year:"numeric"},"year"):this.num(a.year,
4);case "yyyyyy":return L?Q({year:"numeric"},"year"):this.num(a.year,6);case "G":return La("short");case "GG":return La("long");case "GGGGG":return La("narrow");case "kk":return this.num(a.weekYear.toString().slice(-2),2);case "kkkk":return this.num(a.weekYear,4);case "W":return this.num(a.weekNumber);case "WW":return this.num(a.weekNumber,2);case "o":return this.num(a.ordinal);case "ooo":return this.num(a.ordinal,3);case "q":return this.num(a.quarter);case "qq":return this.num(a.quarter,2);case "X":return this.num(Math.floor(a.ts/
1E3));case "x":return this.num(a.ts);default:return ra(wa)}})}formatDurationFromString(a,k){const C=Q=>{switch(Q[0]){case "S":return"millisecond";case "s":return"second";case "m":return"minute";case "h":return"hour";case "d":return"day";case "w":return"week";case "M":return"month";case "y":return"year";default:return null}};k=eb.parseFormat(k);const L=k.reduce((Q,{literal:V,val:Y})=>V?Q:Q.concat(Y),[]);a=a.shiftTo(...L.map(C).filter(Q=>Q));return Ua(k,(Q=>V=>{const Y=C(V);return Y?this.num(Q.get(Y),
V.length):V})(a))}}class hb{constructor(a,k){this.reason=a;this.explanation=k}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}class yb{get type(){throw new nb;}get name(){throw new nb;}get ianaName(){return this.name}get isUniversal(){throw new nb;}offsetName(a,k){throw new nb;}formatOffset(a,k){throw new nb;}offset(a){throw new nb;}equals(a){throw new nb;}get isValid(){throw new nb;}}let Sb=null;class Hb extends yb{static get instance(){null===Sb&&(Sb=new Hb);
return Sb}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(a,{format:k,locale:C}){return B(a,k,C)}formatOffset(a,k){return v(this.offset(a),k)}offset(a){return-(new Date(a)).getTimezoneOffset()}equals(a){return"system"===a.type}get isValid(){return!0}}let Db={};const Yc={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let Eb={};class mb extends yb{static create(a){Eb[a]||(Eb[a]=new mb(a));return Eb[a]}static resetCache(){Eb=
{};Db={}}static isValidSpecifier(a){return this.isValidZone(a)}static isValidZone(a){if(!a)return!1;try{return(new Intl.DateTimeFormat("en-US",{timeZone:a})).format(),!0}catch(k){return!1}}constructor(a){super();this.zoneName=a;this.valid=mb.isValidZone(a)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(a,{format:k,locale:C}){return B(a,k,C,this.name)}formatOffset(a,k){return v(this.offset(a),k)}offset(a){a=new Date(a);if(isNaN(a))return NaN;var k=this.name;
Db[k]||(Db[k]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:k,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}));k=Db[k];if(k.formatToParts){k=k.formatToParts(a);var C=[];for(let wa=0;wa<k.length;wa++){const {type:Da,value:Ca}=k[wa],bb=Yc[Da];"era"===Da?C[bb]=Ca:I(bb)||(C[bb]=parseInt(Ca,10))}k=C}else{k=k.format(a).replace(/\u200E/g,"");k=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(k);const [,wa,Da,Ca,bb,rb,ob,Nb]=k;k=[Ca,
wa,Da,bb,rb,ob,Nb]}let [L,Q,V,Y,ha,ra,La]=k;"BC"===Y&&(L=-Math.abs(L)+1);k=m({year:L,month:Q,day:V,hour:24===ha?0:ha,minute:ra,second:La,millisecond:0});a=+a;C=a%1E3;return(k-(a-(0<=C?C:1E3+C)))/6E4}equals(a){return"iana"===a.type&&a.name===this.name}get isValid(){return this.valid}}let Tb=null;class db extends yb{static get utcInstance(){null===Tb&&(Tb=new db(0));return Tb}static instance(a){return 0===a?db.utcInstance:new db(a)}static parseSpecifier(a){return a&&(a=a.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i))?
new db(c(a[1],a[2])):null}constructor(a){super();this.fixed=a}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${v(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${v(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(a,k){return v(this.fixed,k)}get isUniversal(){return!0}offset(){return this.fixed}equals(a){return"fixed"===a.type&&a.fixed===this.fixed}get isValid(){return!0}}class Qc extends yb{constructor(a){super();this.zoneName=
a}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}let zc=()=>Date.now(),Ac="system",Bc=null,Cc=null,Dc=null,Ec;class Wa{static get now(){return zc}static set now(a){zc=a}static set defaultZone(a){Ac=a}static get defaultZone(){return Ea(Ac,Hb.instance)}static get defaultLocale(){return Bc}static set defaultLocale(a){Bc=a}static get defaultNumberingSystem(){return Cc}static set defaultNumberingSystem(a){Cc=
a}static get defaultOutputCalendar(){return Dc}static set defaultOutputCalendar(a){Dc=a}static get throwOnInvalid(){return Ec}static set throwOnInvalid(a){Ec=a}static resetCaches(){Oa.resetCache();mb.resetCache()}}let Zb={},Ib={},Jb={},Kb={},Fb=null;class Zc{constructor(a,k,C){this.padTo=C.padTo||0;this.floor=C.floor||!1;const {padTo:L,floor:Q,...V}=C;if(!k||0<Object.keys(V).length)k={useGrouping:!1,...C},0<C.padTo&&(k.minimumIntegerDigits=C.padTo),this.inf=ta(a,k)}format(a){if(this.inf)return this.inf.format(this.floor?
Math.floor(a):a);a=this.floor?Math.floor(a):d(a,3);return G(a,this.padTo)}}class $c{constructor(a,k,C){this.opts=C;if(a.zone.isUniversal){var L=a.offset/60*-1;L=0<=L?`Etc/GMT+${L}`:`Etc/GMT${L}`;0!==a.offset&&mb.create(L).valid?this.dt=a:(L="UTC",this.dt=C.timeZoneName?a:0===a.offset?a:xa.fromMillis(a.ts+6E4*a.offset))}else"system"===a.zone.type?this.dt=a:(this.dt=a,L=a.zone.name);a={...this.opts};L&&(a.timeZone=L);this.dtf=Ha(k,a)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}}
class ad{constructor(a,k,C){this.opts={style:"long",...C};!k&&b()&&(this.rtf=ea(a,C))}format(a,k){return this.rtf?this.rtf.format(a,k):oa(k,a,this.opts.numeric,"long"!==this.opts.style)}formatToParts(a,k){return this.rtf?this.rtf.formatToParts(a,k):[]}}class Oa{static fromOpts(a){return Oa.create(a.locale,a.numberingSystem,a.outputCalendar,a.defaultToEN)}static create(a,k,C,L=!1){a=a||Wa.defaultLocale;var Q;(Q=a)||(L?L="en-US":(Fb||(Fb=(new Intl.DateTimeFormat).resolvedOptions().locale),L=Fb),Q=L);
return new Oa(Q,k||Wa.defaultNumberingSystem,C||Wa.defaultOutputCalendar,a)}static resetCache(){Fb=null;Ib={};Jb={};Kb={}}static fromObject({locale:a,numberingSystem:k,outputCalendar:C}={}){return Oa.create(a,k,C)}constructor(a,k,C,L){var Q=a.indexOf("-u-");if(-1===Q)a=[a];else{let ra;Q=a.substring(0,Q);try{ra=Ha(a).resolvedOptions()}catch(Da){ra=Ha(Q).resolvedOptions()}const {numberingSystem:La,calendar:wa}=ra;a=[Q,La,wa]}const [V,Y,ha]=a;this.locale=V;this.numberingSystem=k||Y||null;this.outputCalendar=
C||ha||null;k=this.locale;C=this.numberingSystem;if((a=this.outputCalendar)||C)k+="-u",a&&(k+=`-ca-${a}`),C&&(k+=`-nu-${C}`);this.intl=k;this.weekdaysCache={format:{},standalone:{}};this.monthsCache={format:{},standalone:{}};this.meridiemCache=null;this.eraCache={};this.specifiedLocale=L;this.fastNumbersCached=null}get fastNumbers(){if(null==this.fastNumbersCached){var a=this.numberingSystem&&"latn"!==this.numberingSystem?!1:"latn"===this.numberingSystem||!this.locale||this.locale.startsWith("en")||
"latn"===(new Intl.DateTimeFormat(this.intl)).resolvedOptions().numberingSystem;this.fastNumbersCached=a}return this.fastNumbersCached}listingMode(){const a=this.isEnglish(),k=(null===this.numberingSystem||"latn"===this.numberingSystem)&&(null===this.outputCalendar||"gregory"===this.outputCalendar);return a&&k?"en":"intl"}clone(a){return a&&0!==Object.getOwnPropertyNames(a).length?Oa.create(a.locale||this.specifiedLocale,a.numberingSystem||this.numberingSystem,a.outputCalendar||this.outputCalendar,
a.defaultToEN||!1):this}redefaultToEN(a={}){return this.clone({...a,defaultToEN:!0})}redefaultToSystem(a={}){return this.clone({...a,defaultToEN:!1})}months(a,k=!1,C=!0){return Ba(this,a,C,P,()=>{const L=k?{month:a,day:"numeric"}:{month:a},Q=k?"format":"standalone";this.monthsCache[Q][a]||(this.monthsCache[Q][a]=pa(V=>this.extract(V,L,"month")));return this.monthsCache[Q][a]})}weekdays(a,k=!1,C=!0){return Ba(this,a,C,na,()=>{const L=k?{weekday:a,year:"numeric",month:"long",day:"numeric"}:{weekday:a},
Q=k?"format":"standalone";this.weekdaysCache[Q][a]||(this.weekdaysCache[Q][a]=Pa(V=>this.extract(V,L,"weekday")));return this.weekdaysCache[Q][a]})}meridiems(a=!0){return Ba(this,void 0,a,()=>yc,()=>{if(!this.meridiemCache){const k={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[xa.utc(2016,11,13,9),xa.utc(2016,11,13,19)].map(C=>this.extract(C,k,"dayperiod"))}return this.meridiemCache})}eras(a,k=!0){return Ba(this,a,k,ia,()=>{const C={era:a};this.eraCache[a]||(this.eraCache[a]=[xa.utc(-40,1,
1),xa.utc(2017,1,1)].map(L=>this.extract(L,C,"era")));return this.eraCache[a]})}extract(a,k,C){return(a=this.dtFormatter(a,k).formatToParts().find(L=>L.type.toLowerCase()===C))?a.value:null}numberFormatter(a={}){return new Zc(this.intl,a.forceSimple||this.fastNumbers,a)}dtFormatter(a,k={}){return new $c(a,this.intl,k)}relFormatter(a={}){return new ad(this.intl,this.isEnglish(),a)}listFormatter(a={}){return Xa(this.intl,a)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||
(new Intl.DateTimeFormat(this.intl)).resolvedOptions().locale.startsWith("en-us")}equals(a){return this.locale===a.locale&&this.numberingSystem===a.numberingSystem&&this.outputCalendar===a.outputCalendar}}const Fc=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Ub=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Gc=RegExp(`${Ub.source}${`(?:${Fc.source}?(?:\\[(${xc.source})\\])?)?`}`),Vb=RegExp(`(?:T${Gc.source})?`),bd=O("weekYear","weekNumber","weekDay"),cd=O("year","ordinal"),Hc=RegExp(`${Ub.source} ?(?:${Fc.source}|(${xc.source}))?`),
dd=RegExp(`(?: ${Hc.source})?`),ed=RegExp(`^T?${Ub.source}$`),fd=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/,Rc={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},gd=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/,
hd=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,id=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,jd=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/,kd=Ka(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Vb),ld=Ka(/(\d{4})-?W(\d\d)(?:-?(\d))?/,
Vb),md=Ka(/(\d{4})-?(\d{3})/,Vb),nd=Ka(Gc),Ic=M(function(a,k){return[{year:D(a,k),month:D(a,k+1,1),day:D(a,k+2,1)},null,k+3]},T,U,X),od=M(bd,T,U,X),pd=M(cd,T,U,X),qd=M(T,U,X),rd=M(T),sd=Ka(/(\d{4})-(\d\d)-(\d\d)/,dd),td=Ka(Hc),ud=M(T,U,X),Jc={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048E5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864E5},hours:{minutes:60,seconds:3600,milliseconds:36E5},minutes:{seconds:60,milliseconds:6E4},seconds:{milliseconds:1E3}},vd={years:{quarters:4,
months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536E3,milliseconds:31536E6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624E5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592E3,milliseconds:2592E6},...Jc},wd={years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:31556952,milliseconds:31556952E3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:7889238,
milliseconds:7889238E3},months:{weeks:30.436875/7,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746E3},...Jc},pb="years quarters months weeks days hours minutes seconds milliseconds".split(" "),Sc=pb.slice(0).reverse();class Ga{constructor(a){const k="longterm"===a.conversionAccuracy||!1;let C=k?wd:vd;a.matrix&&(C=a.matrix);this.values=a.values;this.loc=a.loc||Oa.create();this.conversionAccuracy=k?"longterm":"casual";this.invalid=a.invalid||null;this.matrix=C;this.isLuxonDuration=
!0}static fromMillis(a,k){return Ga.fromObject({milliseconds:a},k)}static fromObject(a,k={}){if(null==a||"object"!==typeof a)throw new gb(`Duration.fromObject: argument expected to be an object, got ${null===a?"null":typeof a}`);return new Ga({values:t(a,Ga.normalizeUnit),loc:Oa.fromObject(k),conversionAccuracy:k.conversionAccuracy,matrix:k.matrix})}static fromDurationLike(a){if(E(a))return Ga.fromMillis(a);if(Ga.isDuration(a))return a;if("object"===typeof a)return Ga.fromObject(a);throw new gb(`Unknown duration argument ${a} of type ${typeof a}`);
}static fromISO(a,k){const [C]=K(a,[fd,la]);return C?Ga.fromObject(C,k):Ga.invalid("unparsable",`the input "${a}" can't be parsed as ISO 8601`)}static fromISOTime(a,k){const [C]=K(a,[ed,rd]);return C?Ga.fromObject(C,k):Ga.invalid("unparsable",`the input "${a}" can't be parsed as ISO 8601`)}static invalid(a,k=null){if(!a)throw new gb("need to specify a reason the Duration is invalid");a=a instanceof hb?a:new hb(a,k);if(Wa.throwOnInvalid)throw new Bb(a);return new Ga({invalid:a})}static normalizeUnit(a){const k=
{year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[a?a.toLowerCase():a];if(!k)throw new bc(a);return k}static isDuration(a){return a&&a.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?
this.loc.numberingSystem:null}toFormat(a,k={}){k={...k,floor:!1!==k.round&&!1!==k.floor};return this.isValid?eb.create(this.loc,k).formatDurationFromString(this,a):"Invalid Duration"}toHuman(a={}){const k=pb.map(C=>{const L=this.values[C];return I(L)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...a,unit:C.slice(0,-1)}).format(L)}).filter(C=>C);return this.loc.listFormatter({type:"conjunction",style:a.listStyle||"narrow",...a}).format(k)}toObject(){return this.isValid?{...this.values}:
{}}toISO(){if(!this.isValid)return null;let a="P";0!==this.years&&(a+=this.years+"Y");if(0!==this.months||0!==this.quarters)a+=this.months+3*this.quarters+"M";0!==this.weeks&&(a+=this.weeks+"W");0!==this.days&&(a+=this.days+"D");if(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)a+="T";0!==this.hours&&(a+=this.hours+"H");0!==this.minutes&&(a+=this.minutes+"M");if(0!==this.seconds||0!==this.milliseconds)a+=d(this.seconds+this.milliseconds/1E3,3)+"S";"P"===a&&(a+="T0S");return a}toISOTime(a=
{}){if(!this.isValid)return null;var k=this.toMillis();if(0>k||864E5<=k)return null;a={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...a};k=this.shiftTo("hours","minutes","seconds","milliseconds");let C="basic"===a.format?"hhmm":"hh:mm";a.suppressSeconds&&0===k.seconds&&0===k.milliseconds||(C+="basic"===a.format?"ss":":ss",a.suppressMilliseconds&&0===k.milliseconds||(C+=".SSS"));k=k.toFormat(C);a.includePrefix&&(k="T"+k);return k}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(a){if(!this.isValid)return this;
a=Ga.fromDurationLike(a);const k={};for(const C of pb)if(F(a.values,C)||F(this.values,C))k[C]=a.get(C)+this.get(C);return R(this,{values:k},!0)}minus(a){if(!this.isValid)return this;a=Ga.fromDurationLike(a);return this.plus(a.negate())}mapUnits(a){if(!this.isValid)return this;const k={};for(const C of Object.keys(this.values))k[C]=l(a(this.values[C],C));return R(this,{values:k},!0)}get(a){return this[Ga.normalizeUnit(a)]}set(a){if(!this.isValid)return this;a={...this.values,...t(a,Ga.normalizeUnit)};
return R(this,{values:a})}reconfigure({locale:a,numberingSystem:k,conversionAccuracy:C,matrix:L}={}){a={loc:this.loc.clone({locale:a,numberingSystem:k}),matrix:L,conversionAccuracy:C};return R(this,a)}as(a){return this.isValid?this.shiftTo(a).get(a):NaN}normalize(){if(!this.isValid)return this;const a=this.toObject();Z(this.matrix,a);return R(this,{values:a},!0)}shiftTo(...a){if(!this.isValid||0===a.length)return this;a=a.map(V=>Ga.normalizeUnit(V));const k={},C={},L=this.toObject();let Q;for(const V of pb)if(0<=
a.indexOf(V)){Q=V;let Y=0;for(const ra in C)Y+=this.matrix[ra][V]*C[ra],C[ra]=0;E(L[V])&&(Y+=L[V]);const ha=Math.trunc(Y);k[V]=ha;C[V]=(1E3*Y-1E3*ha)/1E3;for(const ra in L)pb.indexOf(ra)>pb.indexOf(V)&&S(this.matrix,L,ra,k,V)}else E(L[V])&&(C[V]=L[V]);for(const V in C)0!==C[V]&&(k[Q]+=V===Q?C[V]:C[V]/this.matrix[Q][V]);return R(this,{values:k},!0).normalize()}negate(){if(!this.isValid)return this;const a={};for(const k of Object.keys(this.values))a[k]=0===this.values[k]?0:-this.values[k];return R(this,
{values:a},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?
this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(a){if(!this.isValid||!a.isValid||!this.loc.equals(a.loc))return!1;for(const L of pb){var k=this.values[L];var C=a.values[L];k=void 0===k||0===k?void 0===C||0===C:k===C;if(!k)return!1}return!0}}class Sa{constructor(a){this.s=a.start;this.e=a.end;this.invalid=a.invalid||null;this.isLuxonInterval=
!0}static invalid(a,k=null){if(!a)throw new gb("need to specify a reason the Interval is invalid");a=a instanceof hb?a:new hb(a,k);if(Wa.throwOnInvalid)throw new Ab(a);return new Sa({invalid:a})}static fromDateTimes(a,k){a=Ta(a);k=Ta(k);var C=a&&a.isValid?k&&k.isValid?k<a?Sa.invalid("end before start",`The end of an interval must be after its start, but you had start=${a.toISO()} and end=${k.toISO()}`):null:Sa.invalid("missing or invalid end"):Sa.invalid("missing or invalid start");return null==C?
new Sa({start:a,end:k}):C}static after(a,k){k=Ga.fromDurationLike(k);a=Ta(a);return Sa.fromDateTimes(a,a.plus(k))}static before(a,k){k=Ga.fromDurationLike(k);a=Ta(a);return Sa.fromDateTimes(a.minus(k),a)}static fromISO(a,k){const [C,L]=(a||"").split("/",2);if(C&&L){let Y;try{var Q=xa.fromISO(C,k);Y=Q.isValid}catch(ra){Y=!1}let ha;try{var V=xa.fromISO(L,k);ha=V.isValid}catch(ra){ha=!1}if(Y&&ha)return Sa.fromDateTimes(Q,V);if(Y){if(V=Ga.fromISO(L,k),V.isValid)return Sa.after(Q,V)}else if(ha&&(Q=Ga.fromISO(C,
k),Q.isValid))return Sa.before(V,Q)}return Sa.invalid("unparsable",`the input "${a}" can't be parsed as ISO 8601`)}static isInterval(a){return a&&a.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(a="milliseconds"){return this.isValid?this.toDuration(...[a]).get(a):
NaN}count(a="milliseconds"){if(!this.isValid)return NaN;const k=this.start.startOf(a),C=this.end.startOf(a);return Math.floor(C.diff(k,a).get(a))+1}hasSame(a){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,a):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(a){return this.isValid?this.s>a:!1}isBefore(a){return this.isValid?this.e<=a:!1}contains(a){return this.isValid?this.s<=a&&this.e>a:!1}set({start:a,end:k}={}){return this.isValid?Sa.fromDateTimes(a||this.s,k||
this.e):this}splitAt(...a){if(!this.isValid)return[];a=a.map(Ta).filter(V=>this.contains(V)).sort();const k=[];let {s:C}=this,L=0;for(;C<this.e;){var Q=a[L]||this.e;Q=+Q>+this.e?this.e:Q;k.push(Sa.fromDateTimes(C,Q));C=Q;L+=1}return k}splitBy(a){a=Ga.fromDurationLike(a);if(!this.isValid||!a.isValid||0===a.as("milliseconds"))return[];let {s:k}=this,C=1;const L=[];for(;k<this.e;){var Q=this.start.plus(a.mapUnits(V=>V*C));Q=+Q>+this.e?this.e:Q;L.push(Sa.fromDateTimes(k,Q));k=Q;C+=1}return L}divideEqually(a){return this.isValid?
this.splitBy(this.length()/a).slice(0,a):[]}overlaps(a){return this.e>a.s&&this.s<a.e}abutsStart(a){return this.isValid?+this.e===+a.s:!1}abutsEnd(a){return this.isValid?+a.e===+this.s:!1}engulfs(a){return this.isValid?this.s<=a.s&&this.e>=a.e:!1}equals(a){return this.isValid&&a.isValid?this.s.equals(a.s)&&this.e.equals(a.e):!1}intersection(a){if(!this.isValid)return this;const k=this.s>a.s?this.s:a.s;a=this.e<a.e?this.e:a.e;return k>=a?null:Sa.fromDateTimes(k,a)}union(a){return this.isValid?Sa.fromDateTimes(this.s<
a.s?this.s:a.s,this.e>a.e?this.e:a.e):this}static merge(a){const [k,C]=a.sort((L,Q)=>L.s-Q.s).reduce(([L,Q],V)=>Q?Q.overlaps(V)||Q.abutsStart(V)?[L,Q.union(V)]:[L.concat([Q]),V]:[L,V],[[],null]);C&&k.push(C);return k}static xor(a){let k=null,C=0;const L=[];a=a.map(Q=>[{time:Q.s,type:"s"},{time:Q.e,type:"e"}]);a=Array.prototype.concat(...a).sort((Q,V)=>Q.time-V.time);for(const Q of a)C+="s"===Q.type?1:-1,1===C?k=Q.time:(k&&+k!==+Q.time&&L.push(Sa.fromDateTimes(k,Q.time)),k=null);return Sa.merge(L)}difference(...a){return Sa.xor([this].concat(a)).map(k=>
this.intersection(k)).filter(k=>k&&!k.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:"Invalid Interval"}toISO(a){return this.isValid?`${this.s.toISO(a)}/${this.e.toISO(a)}`:"Invalid Interval"}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:"Invalid Interval"}toISOTime(a){return this.isValid?`${this.s.toISOTime(a)}/${this.e.toISOTime(a)}`:"Invalid Interval"}toFormat(a,{separator:k=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(a)}${k}${this.e.toFormat(a)}`:
"Invalid Interval"}toDuration(a,k){return this.isValid?this.e.diff(this.s,a,k):Ga.invalid(this.invalidReason)}mapEndpoints(a){return Sa.fromDateTimes(a(this.s),a(this.e))}}class zb{static hasDST(a=Wa.defaultZone){const k=xa.now().setZone(a).set({month:12});return!a.isUniversal&&k.offset!==k.set({month:6}).offset}static isValidIANAZone(a){return mb.isValidZone(a)}static normalizeZone(a){return Ea(a,Wa.defaultZone)}static months(a="long",{locale:k=null,numberingSystem:C=null,locObj:L=null,outputCalendar:Q=
"gregory"}={}){return(L||Oa.create(k,C,Q)).months(a)}static monthsFormat(a="long",{locale:k=null,numberingSystem:C=null,locObj:L=null,outputCalendar:Q="gregory"}={}){return(L||Oa.create(k,C,Q)).months(a,!0)}static weekdays(a="long",{locale:k=null,numberingSystem:C=null,locObj:L=null}={}){return(L||Oa.create(k,C,null)).weekdays(a)}static weekdaysFormat(a="long",{locale:k=null,numberingSystem:C=null,locObj:L=null}={}){return(L||Oa.create(k,C,null)).weekdays(a,!0)}static meridiems({locale:a=null}={}){return Oa.create(a).meridiems()}static eras(a=
"short",{locale:k=null}={}){return Oa.create(k,null,"gregory").eras(a)}static features(){return{relative:b()}}}const Lb={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",
mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},$b={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Tc=Lb.hanidec.replace(/[\[|\]]/g,
"").split(""),ac=`[ ${String.fromCharCode(160)}]`,Mb=new RegExp(ac,"g"),Uc={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let Ob=null;const Qb=[0,31,59,90,120,151,181,212,243,273,304,334],Pb=[0,31,60,91,121,152,
182,213,244,274,305,335],dc={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},xd={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},yd={ordinal:1,hour:0,minute:0,second:0,millisecond:0},cc="year month day hour minute second millisecond".split(" "),zd="weekYear weekNumber weekday hour minute second millisecond".split(" "),Ad="year ordinal hour minute second millisecond".split(" ");class xa{constructor(a){const k=a.zone||Wa.defaultZone;let C=a.invalid||(Number.isNaN(a.ts)?new hb("invalid input"):
null)||(k.isValid?null:ib(k));this.ts=I(a.ts)?Wa.now():a.ts;let L=null;var Q=null;C||(a.old&&a.old.ts===this.ts&&a.old.zone.equals(k)?[L,Q]=[a.old.c,a.old.o]:(Q=k.offset(this.ts),L=xb(this.ts,Q),L=(C=Number.isNaN(L.year)?new hb("invalid input"):null)?null:L,Q=C?null:Q));this._zone=k;this.loc=a.loc||Oa.create();this.invalid=C;this.weekData=null;this.c=L;this.o=Q;this.isLuxonDateTime=!0}static now(){return new xa({})}static local(){const [a,k]=$a(arguments),[C,L,Q,V,Y,ha,ra]=k;return Aa({year:C,month:L,
day:Q,hour:V,minute:Y,second:ha,millisecond:ra},a)}static utc(){const [a,k]=$a(arguments),[C,L,Q,V,Y,ha,ra]=k;a.zone=db.utcInstance;return Aa({year:C,month:L,day:Q,hour:V,minute:Y,second:ha,millisecond:ra},a)}static fromJSDate(a,k={}){a="[object Date]"===Object.prototype.toString.call(a)?a.valueOf():NaN;if(Number.isNaN(a))return xa.invalid("invalid input");const C=Ea(k.zone,Wa.defaultZone);return C.isValid?new xa({ts:a,zone:C,loc:Oa.fromObject(k)}):xa.invalid(ib(C))}static fromMillis(a,k={}){if(E(a))return-864E13>
a||864E13<a?xa.invalid("Timestamp out of range"):new xa({ts:a,zone:Ea(k.zone,Wa.defaultZone),loc:Oa.fromObject(k)});throw new gb(`fromMillis requires a numerical input, but received a ${typeof a} with value ${a}`);}static fromSeconds(a,k={}){if(E(a))return new xa({ts:1E3*a,zone:Ea(k.zone,Wa.defaultZone),loc:Oa.fromObject(k)});throw new gb("fromSeconds requires a numerical input");}static fromObject(a,k={}){a=a||{};var C=Ea(k.zone,Wa.defaultZone);if(!C.isValid)return xa.invalid(ib(C));var L=Wa.now();
const Q=I(k.specificOffset)?C.offset(L):k.specificOffset,V=t(a,ma);var Y=!I(V.ordinal),ha=!I(V.year),ra=!I(V.month)||!I(V.day);ha=ha||ra;var La=V.weekYear||V.weekNumber;k=Oa.fromObject(k);if((ha||Y)&&La)throw new jb("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(ra&&Y)throw new jb("Can't mix ordinal dates with month/day");ra=La||V.weekday&&!ha;let wa=xb(L,Q);ra?(L=zd,La=xd,wa=Za(wa)):Y?(L=Ad,La=yd,wa=qb(wa)):(L=cc,La=dc);let Da=!1;for(var Ca of L)I(V[Ca])?V[Ca]=Da?La[Ca]:
wa[Ca]:Da=!0;ra?(Ca=z(V.weekYear),L=h(V.weekNumber,1,n(V.weekYear)),La=h(V.weekday,1,7),Ca=Ca?L?La?!1:Va("weekday",V.weekday):Va("week",V.week):Va("weekYear",V.weekYear)):Y?(Ca=z(V.year),L=h(V.ordinal,1,f(V.year)?366:365),Ca=Ca?L?!1:Va("ordinal",V.ordinal):Va("year",V.year)):Ca=ub(V);if(Ca=Ca||vb(V))return xa.invalid(Ca);Y=ra?sb(V):Y?tb(V):V;const [bb,rb]=kb(Y,Q,C);C=new xa({ts:bb,zone:C,o:rb,loc:k});return V.weekday&&ha&&a.weekday!==C.weekday?xa.invalid("mismatched weekday",`you can't specify both a weekday of ${V.weekday} and a date of ${C.toISO()}`):
C}static fromISO(a,k={}){const [C,L]=K(a,[kd,Ic],[ld,od],[md,pd],[nd,qd]);return y(C,L,k,"ISO 8601",a)}static fromRFC2822(a,k={}){const [C,L]=K(a.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim(),[gd,ca]);return y(C,L,k,"RFC 2822",a)}static fromHTTP(a,k={}){const [C,L]=K(a,[hd,p],[id,p],[jd,u]);return y(C,L,k,"HTTP",k)}static fromFormat(a,k,C={}){if(I(a)||I(k))throw new gb("fromFormat requires an input string and a format");const {locale:L=null,numberingSystem:Q=null}=C,V=Oa.fromOpts({locale:L,
numberingSystem:Q,defaultToEN:!0}),{result:Y,zone:ha,specificOffset:ra,invalidReason:La}=ya(V,a,k),[wa,Da,Ca,bb]=[Y,ha,ra,La];return bb?xa.invalid(bb):y(wa,Da,C,`format ${k}`,a,Ca)}static fromString(a,k,C={}){return xa.fromFormat(a,k,C)}static fromSQL(a,k={}){const [C,L]=K(a,[sd,Ic],[td,ud]);return y(C,L,k,"SQL",a)}static invalid(a,k=null){if(!a)throw new gb("need to specify a reason the DateTime is invalid");a=a instanceof hb?a:new hb(a,k);if(Wa.throwOnInvalid)throw new Gb(a);return new xa({invalid:a})}static isDateTime(a){return a&&
a.isLuxonDateTime||!1}static parseFormatForOpts(a,k={}){return(a=Na(a,Oa.fromObject(k)))?a.map(C=>C?C.val:null).join(""):null}static expandFormat(a,k={}){return Ia(eb.parseFormat(a),Oa.fromObject(k)).map(C=>C.val).join("")}get(a){return this[a]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?
this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?
this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?lb(this).weekYear:NaN}get weekNumber(){return this.isValid?lb(this).weekNumber:NaN}get weekday(){return this.isValid?lb(this).weekday:NaN}get ordinal(){return this.isValid?qb(this.c).ordinal:NaN}get monthShort(){return this.isValid?zb.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?zb.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?
zb.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?zb.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?
!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return f(this.year)}get daysInMonth(){return A(this.year,this.month)}get daysInYear(){return this.isValid?f(this.year)?366:365:NaN}get weeksInWeekYear(){return this.isValid?n(this.weekYear):NaN}resolvedLocaleOptions(a={}){const {locale:k,numberingSystem:C,calendar:L}=eb.create(this.loc.clone(a),a).resolvedOptions(this);return{locale:k,numberingSystem:C,outputCalendar:L}}toUTC(a=0,k={}){return this.setZone(db.instance(a),
k)}toLocal(){return this.setZone(Wa.defaultZone)}setZone(a,{keepLocalTime:k=!1,keepCalendarTime:C=!1}={}){a=Ea(a,Wa.defaultZone);if(a.equals(this.zone))return this;if(a.isValid){let L=this.ts;if(k||C)k=a.offset(this.ts),C=this.toObject(),[L]=kb(C,k,a);return Ra(this,{ts:L,zone:a})}return xa.invalid(ib(a))}reconfigure({locale:a,numberingSystem:k,outputCalendar:C}={}){a=this.loc.clone({locale:a,numberingSystem:k,outputCalendar:C});return Ra(this,{loc:a})}setLocale(a){return this.reconfigure({locale:a})}set(a){if(!this.isValid)return this;
a=t(a,ma);var k=!I(a.weekYear)||!I(a.weekNumber)||!I(a.weekday);const C=!I(a.ordinal),L=!I(a.year),Q=!I(a.month)||!I(a.day),V=a.weekYear||a.weekNumber;if((L||Q||C)&&V)throw new jb("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(Q&&C)throw new jb("Can't mix ordinal dates with month/day");k?k=sb({...Za(this.c),...a}):I(a.ordinal)?(k={...this.toObject(),...a},I(a.day)&&(k.day=Math.min(A(k.year,k.month),k.day))):k=tb({...qb(this.c),...a});const [Y,ha]=kb(k,this.o,this.zone);
return Ra(this,{ts:Y,o:ha})}plus(a){if(!this.isValid)return this;a=Ga.fromDurationLike(a);return Ra(this,Cb(this,a))}minus(a){if(!this.isValid)return this;a=Ga.fromDurationLike(a).negate();return Ra(this,Cb(this,a))}startOf(a){if(!this.isValid)return this;const k={};a=Ga.normalizeUnit(a);switch(a){case "years":k.month=1;case "quarters":case "months":k.day=1;case "weeks":case "days":k.hour=0;case "hours":k.minute=0;case "minutes":k.second=0;case "seconds":k.millisecond=0}"weeks"===a&&(k.weekday=1);
"quarters"===a&&(k.month=3*(Math.ceil(this.month/3)-1)+1);return this.set(k)}endOf(a){return this.isValid?this.plus({[a]:1}).startOf(a).minus(1):this}toFormat(a,k={}){return this.isValid?eb.create(this.loc.redefaultToEN(k)).formatDateTimeFromString(this,a):"Invalid DateTime"}toLocaleString(a=Rb,k={}){return this.isValid?eb.create(this.loc.clone(k),a).formatDateTime(this):"Invalid DateTime"}toLocaleParts(a={}){return this.isValid?eb.create(this.loc.clone(a),a).formatDateTimeParts(this):[]}toISO({format:a=
"extended",suppressSeconds:k=!1,suppressMilliseconds:C=!1,includeOffset:L=!0,extendedZone:Q=!1}={}){if(!this.isValid)return null;a="extended"===a;let V=W(this,a);return V=V+"T"+ka(this,a,k,C,L,Q)}toISODate({format:a="extended"}={}){return this.isValid?W(this,"extended"===a):null}toISOWeekDate(){return N(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:a=!1,suppressSeconds:k=!1,includeOffset:C=!0,includePrefix:L=!1,extendedZone:Q=!1,format:V="extended"}={}){return this.isValid?(L?"T":"")+ka(this,
"extended"===V,k,a,C,Q):null}toRFC2822(){return N(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return N(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?W(this,!0):null}toSQLTime({includeOffset:a=!0,includeZone:k=!1,includeOffsetSpace:C=!0}={}){let L="HH:mm:ss.SSS";if(k||a)C&&(L+=" "),k?L+="z":a&&(L+="ZZ");return N(this,L,!0)}toSQL(a={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(a)}`:null}toString(){return this.isValid?this.toISO():"Invalid DateTime"}valueOf(){return this.toMillis()}toMillis(){return this.isValid?
this.ts:NaN}toSeconds(){return this.isValid?this.ts/1E3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1E3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(a={}){if(!this.isValid)return{};const k={...this.c};a.includeConfig&&(k.outputCalendar=this.outputCalendar,k.numberingSystem=this.loc.numberingSystem,k.locale=this.loc.locale);return k}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(a,k="milliseconds",C={}){if(!this.isValid||!a.isValid)return Ga.invalid("created by diffing an invalid DateTime");
C={locale:this.locale,numberingSystem:this.numberingSystem,...C};const L=(Array.isArray(k)?k:[k]).map(Ga.normalizeUnit);k=a.valueOf()>this.valueOf();a=da(k?this:a,k?a:this,L,C);return k?a.negate():a}diffNow(a="milliseconds",k={}){return this.diff(xa.now(),a,k)}until(a){return this.isValid?Sa.fromDateTimes(this,a):this}hasSame(a,k){if(!this.isValid)return!1;const C=a.valueOf();a=this.setZone(a.zone,{keepLocalTime:!0});return a.startOf(k)<=C&&C<=a.endOf(k)}equals(a){return this.isValid&&a.isValid&&
this.valueOf()===a.valueOf()&&this.zone.equals(a.zone)&&this.loc.equals(a.loc)}toRelative(a={}){if(!this.isValid)return null;const k=a.base||xa.fromObject({},{zone:this.zone}),C=a.padding?this<k?-a.padding:a.padding:0;let L="years months days hours minutes seconds".split(" "),Q=a.unit;Array.isArray(a.unit)&&(L=a.unit,Q=void 0);return Ja(k,this.plus(C),{...a,numeric:"always",units:L,unit:Q})}toRelativeCalendar(a={}){return this.isValid?Ja(a.base||xa.fromObject({},{zone:this.zone}),this,{...a,numeric:"auto",
units:["years","months","days"],calendary:!0}):null}static min(...a){if(!a.every(xa.isDateTime))throw new gb("min requires all arguments be DateTimes");return e(a,k=>k.valueOf(),Math.min)}static max(...a){if(!a.every(xa.isDateTime))throw new gb("max requires all arguments be DateTimes");return e(a,k=>k.valueOf(),Math.max)}static fromFormatExplain(a,k,C={}){const {locale:L=null,numberingSystem:Q=null}=C;C=Oa.fromOpts({locale:L,numberingSystem:Q,defaultToEN:!0});return ya(C,a,k)}static fromStringExplain(a,
k,C={}){return xa.fromFormatExplain(a,k,C)}static get DATE_SHORT(){return Rb}static get DATE_MED(){return ec}static get DATE_MED_WITH_WEEKDAY(){return Vc}static get DATE_FULL(){return fc}static get DATE_HUGE(){return gc}static get TIME_SIMPLE(){return hc}static get TIME_WITH_SECONDS(){return ic}static get TIME_WITH_SHORT_OFFSET(){return jc}static get TIME_WITH_LONG_OFFSET(){return kc}static get TIME_24_SIMPLE(){return lc}static get TIME_24_WITH_SECONDS(){return mc}static get TIME_24_WITH_SHORT_OFFSET(){return nc}static get TIME_24_WITH_LONG_OFFSET(){return oc}static get DATETIME_SHORT(){return pc}static get DATETIME_SHORT_WITH_SECONDS(){return qc}static get DATETIME_MED(){return rc}static get DATETIME_MED_WITH_SECONDS(){return sc}static get DATETIME_MED_WITH_WEEKDAY(){return Wc}static get DATETIME_FULL(){return tc}static get DATETIME_FULL_WITH_SECONDS(){return uc}static get DATETIME_HUGE(){return vc}static get DATETIME_HUGE_WITH_SECONDS(){return wc}}
x.DateTime=xa;x.Info=zb;x.Interval=Sa})},"esri/core/number":function(){define(["exports","./string","../intl/locale"],function(x,I,E){function z(q){q||(q=E.getLocale());let w=q in F;if(!w){const A=q.split("-");1<A.length&&A[0]in F&&(q=A[0],w=!0);w||(q="en")}const [g,d,f="#,##0.###"]=F[q];return{decimal:g,group:d,pattern:f}}function b(q){q=q||{};var w=z(q.locale);const g=q.pattern||w.pattern,d=w.group,f=w.decimal;let A=1;if(g.includes("%"))A/=100;else if(g.includes("\u2030"))A/=1E3;else if(g.includes("\u00a4"))throw Error("currency notation not supported");
w=g.split(";");1===w.length&&w.push("-"+w[0]);return{regexp:G(w,m=>{m="(?:"+I.escapeRegExpString(m,".")+")";return m.replace(h,n=>{const H={signed:!1,separator:q.strict?d:[d,""],fractional:q.fractional,decimal:f,exponent:!1};n=n.split(".");let B=q.places;1===n.length&&1!==A&&(n[1]="###");1===n.length||0===B?H.fractional=!1:(void 0===B&&(B=q.pattern?n[1].lastIndexOf("0")+1:Infinity),B&&null==q.fractional&&(H.fractional=!0),!q.places&&B<n[1].length&&(B+=","+n[1].length),H.places=B);n=n[0].split(",");
1<n.length&&(H.groupSize=n.pop().length,1<n.length&&(H.groupSize2=n.pop().length));return"("+e(H)+")"})},!0).replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:d,decimal:f,factor:A}}function e(q){q=q||{};"places"in q||(q.places=Infinity);"string"!==typeof q.decimal&&(q.decimal=".");"fractional"in q&&!/^0/.test(String(q.places))||(q.fractional=[!0,!1]);"exponent"in q||(q.exponent=[!0,!1]);"eSigned"in q||(q.eSigned=[!0,!1]);var w=J(q);const g=G(q.fractional,f=>{let A="";f&&0!==q.places&&(A="\\"+q.decimal,A=Infinity===
q.places?"(?:"+A+"\\d+)?":A+("\\d{"+q.places+"}"));return A},!0),d=G(q.exponent,f=>f?"([eE]"+J({signed:q.eSigned})+")":"");w+=g;g&&(w="(?:(?:"+w+")|(?:"+g+"))");return w+d}function J(q){q=q||{};"signed"in q||(q.signed=[!0,!1]);"separator"in q?"groupSize"in q||(q.groupSize=3):q.separator="";const w=G(q.signed,d=>d?"[-+]":"",!0),g=G(q.separator,d=>{if(!d)return"(?:\\d+)";d=I.escapeRegExpString(d);" "===d?d="\\s":"\u00a0"===d&&(d="\\s\\xa0");const f=q.groupSize,A=q.groupSize2;return A?(d="(?:0|[1-9]\\d{0,"+
(A-1)+"}(?:["+d+"]\\d{"+A+"})*["+d+"]\\d{"+f+"})",0<f-A?"(?:"+d+"|(?:0|[1-9]\\d{0,"+(f-1)+"}))":d):"(?:0|[1-9]\\d{0,"+(f-1)+"}(?:["+d+"]\\d{"+f+"})*)"},!0);return w+g}const F={ar:[".",","],bg:[",","\u00a0"],bs:[",","."],ca:[",","."],cs:[",","\u00a0"],da:[",","."],de:[",","."],"de-ch":[".","\u2019"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[",","\u00a0"],fi:[",","\u00a0"],fr:[",","\u202f"],"fr-ch":[",","\u202f"],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",",
"."],hu:[",","\u00a0"],id:[",","."],it:[",","."],"it-ch":[".","\u2019"],ja:[".",","],ko:[".",","],lt:[",","\u00a0"],lv:[",","\u00a0"],mk:[",","."],nb:[",","\u00a0"],nl:[",","."],pl:[",","\u00a0"],pt:[",","."],"pt-pt":[",","\u00a0"],ro:[",","."],ru:[",","\u00a0"],sk:[",","\u00a0"],sl:[",","."],sr:[",","."],sv:[",","\u00a0"],th:[".",","],tr:[",","."],uk:[",","\u00a0"],vi:[",","."],zh:[".",","]},h=/[#0,]*[#0](?:\.0*#*)?/,G=(q,w,g)=>{if(!(q instanceof Array))return w(q);const d=[];for(let f=0;f<q.length;f++)d.push(w(q[f]));
q=d.join("|");return"("+(g?"?:":"")+q+")"};x._parseInfo=b;x.format=function(q,w){w={...w};var g=z(w.locale);w.customs=g;g=w.pattern||g.pattern;if(isNaN(q)||Infinity===Math.abs(q))return null;var d=q;var f=w||{};var A=f.customs.group,m=f.customs.decimal;g=g.split(";");q=g[0];w=g[0>d?1:0]||"-"+q;if(w.includes("%"))d*=100;else if(w.includes("\u2030"))d*=1E3;else{if(w.includes("\u00a4"))throw Error("currency notation not supported");if(w.includes("E"))throw Error("exponential notation not supported");
}g=h;var n=q.match(g);if(!n)throw Error("unable to find a number expression in pattern: "+w);!1===f.fractional&&(f.places=0);q=w.replace;n=n[0];f=f={decimal:m,group:A,places:f.places,round:f.round};!0===f.places&&(f.places=0);Infinity===f.places&&(f.places=6);m=n.split(".");var H="string"===typeof f.places&&f.places.indexOf(",");n=f.places;H?n=f.places.substring(H+1):0<=n||(n=(m[1]||[]).length);0>f.round||(d=Number(d.toFixed(Number(n))));A=String(Math.abs(d)).split(".");d=A[1]||"";m[1]||f.places?
(H&&(f.places=f.places.substring(0,H)),H=void 0!==f.places?f.places:m[1]&&m[1].lastIndexOf("0")+1,H>d.length&&(A[1]=d.padEnd(Number(H),"0")),n<d.length&&(A[1]=d.substr(0,Number(n)))):A[1]&&A.pop();d=m[0].replace(",","");n=d.indexOf("0");-1!==n&&(n=d.length-n,n>A[0].length&&(A[0]=A[0].padStart(n,"0")),d.includes("#")||(A[0]=A[0].substr(A[0].length-n)));d=m[0].lastIndexOf(",");let B;if(-1!==d){var c=m[0].length-d-1;m=m[0].substr(0,d);d=m.lastIndexOf(",");-1!==d&&(B=m.length-d-1)}m=[];for(d=A[0];d;)n=
d.length-c,m.push(0<n?d.substr(n):d),d=0<n?d.slice(0,n):"",B&&(c=B,B=void 0);A[0]=m.reverse().join(f.group||",");c=A.join(f.decimal||".");return q.call(w,g,c)};x.getCustoms=z;x.parse=function(q,w){w=b(w);q=(new RegExp("^"+w.regexp+"$")).exec(q);if(!q)return NaN;let g=q[1];if(!q[1]){if(!q[2])return NaN;g=q[2];w.factor*=-1}g=g.replace(new RegExp("["+w.group+"\\s\\xa0]","g"),"").replace(w.decimal,".");return Number(g)*w.factor};x.regexp=function(q){return b(q).regexp};Object.defineProperties(x,{__esModule:{value:!0},
[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/featureset/support/shared":function(){define(["exports","../../../geometry/Extent","../../../layers/support/Field"],function(x,I,E){function z(b){return b instanceof Date}x.FeatureServiceDatabaseType=void 0;(function(b){b[b.Standardised=0]="Standardised";b[b.StandardisedNoInterval=1]="StandardisedNoInterval";b[b.SqlServer=2]="SqlServer";b[b.Oracle=3]="Oracle";b[b.Postgres=4]="Postgres";b[b.PGDB=5]="PGDB";b[b.FILEGDB=6]="FILEGDB";b[b.NotEvaluated=
7]="NotEvaluated"})(x.FeatureServiceDatabaseType||(x.FeatureServiceDatabaseType={}));x.IdState=void 0;(function(b){b[b.InFeatureSet=0]="InFeatureSet";b[b.NotInFeatureSet=1]="NotInFeatureSet";b[b.Unknown=2]="Unknown"})(x.IdState||(x.IdState={}));x.callback=function(b,e){return function(){try{b.apply(null,arguments)}catch(J){e.reject(J)}}};x.cloneAttributes=function(b){const e={};for(const J in b)e[J]=b[J];return e};x.cloneField=function(b){return E.fromJSON(b.toJSON())};x.convertLinearUnitsToCode=
function(b){if(null==b)return null;if("number"===typeof b||"number"===typeof b)return b;switch(b.toLowerCase()){case "meters":case "meter":return 9001;case "miles":case "mile":return 9093;case "kilometers":case "kilometer":case "km":return 9036}return null};x.convertSquareUnitsToCode=function(b){if(null==b)return null;if("number"===typeof b)return b;switch(b.toLowerCase()){case "meters":case "meter":return 109404;case "miles":case "mile":return 109439;case "kilometers":case "kilometer":case "km":return 109414}return null};
x.defaultMaxRecords=1E3;x.equalityTest=function(b,e){return b===e?!0:z(b)&&z(e)?b.getTime()===e.getTime():!1};x.errback=function(b){return function(e){b.reject(e)}};x.esriFieldToJson=function(b){return b.toJSON?b.toJSON():b};x.extractServiceUrl=function(b){if(void 0===b)return"";b=b.replace(/\/featureserver\/[0-9]*/i,"/FeatureServer");b=b.replace(/\/mapserver\/[0-9]*/i,"/MapServer");return b=b.split("?")[0]};x.isArray=function(b){return b instanceof Array};x.isBoolean=function(b){return"boolean"===
typeof b};x.isDate=z;x.isNumber=function(b){return"number"===typeof b};x.isString=function(b){return"string"===typeof b||b instanceof String};x.layerFieldEsriConstants={"small-integer":"esriFieldTypeSmallInteger",integer:"esriFieldTypeInteger",long:"esriFieldTypeLong",single:"esriFieldTypeSingle",double:"esriFieldTypeDouble",string:"esriFieldTypeString",date:"esriFieldTypeDate",oid:"esriFieldTypeOID",geometry:"esriFieldTypeGeometry",blob:"esriFieldTypeBlob",raster:"esriFieldTypeRaster",guid:"esriFieldTypeGUID",
"global-id":"esriFieldTypeGlobalID",xml:"eesriFieldTypeXML",esriFieldTypeSmallInteger:"esriFieldTypeSmallInteger",esriFieldTypeInteger:"esriFieldTypeInteger",esriFieldTypeLong:"esriFieldTypeLong",esriFieldTypeSingle:"esriFieldTypeSingle",esriFieldTypeDouble:"esriFieldTypeDouble",esriFieldTypeString:"esriFieldTypeString",esriFieldTypeDate:"esriFieldTypeDate",esriFieldTypeOID:"esriFieldTypeOID",esriFieldTypeGeometry:"esriFieldTypeGeometry",esriFieldTypeBlob:"esriFieldTypeBlob",esriFieldTypeRaster:"esriFieldTypeRaster",
esriFieldTypeGUID:"esriFieldTypeGUID",esriFieldTypeGlobalID:"esriFieldTypeGlobalID",esriFieldTypeXML:"eesriFieldTypeXML"};x.layerGeometryEsriConstants={point:"point",polygon:"polygon",polyline:"polyline",multipoint:"multipoint",extent:"extent",esriGeometryPoint:"point",esriGeometryPolygon:"polygon",esriGeometryPolyline:"polyline",esriGeometryMultipoint:"multipoint",esriGeometryEnvelope:"extent",envelope:"extent"};x.layerGeometryEsriRestConstants={point:"esriGeometryPoint",polygon:"esriGeometryPolygon",
polyline:"esriGeometryPolyline",multipoint:"esriGeometryMultipoint",extent:"esriGeometryEnvelope",esriGeometryPoint:"esriGeometryPoint",esriGeometryPolygon:"esriGeometryPolygon",esriGeometryPolyline:"esriGeometryPolyline",esriGeometryMultipoint:"esriGeometryMultipoint",esriGeometryEnvelope:"esriGeometryEnvelope",envelope:"esriGeometryEnvelope"};x.sameGeomType=function(b,e){return b===e||"point"===b&&"esriGeometryPoint"===e||"polyline"===b&&"esriGeometryPolyline"===e||"polygon"===b&&"esriGeometryPolygon"===
e||"extent"===b&&"esriGeometryEnvelope"===e||"multipoint"===b&&"esriGeometryMultipoint"===e||"point"===e&&"esriGeometryPoint"===b||"polyline"===e&&"esriGeometryPolyline"===b||"polygon"===e&&"esriGeometryPolygon"===b||"extent"===e&&"esriGeometryEnvelope"===b||"multipoint"===e&&"esriGeometryMultipoint"===b?!0:!1};x.shapeExtent=function(b){if(null==b)return null;switch(b.type){case "polygon":case "multipoint":case "polyline":return b.extent;case "point":return new I({xmin:b.x,ymin:b.y,xmax:b.x,ymax:b.y,
spatialReference:b.spatialReference});case "extent":return b}return null};x.stableStringify=function(b,e){e||(e={});"function"===typeof e&&(e={cmp:e});const J="boolean"===typeof e.cycles?e.cycles:!1,F=e.cmp&&function(G){return function(q){return function(w,g){return G({key:w,value:q[w]},{key:g,value:q[g]})}}}(e.cmp),h=[];return function w(q){q&&q.toJSON&&"function"===typeof q.toJSON&&(q=q.toJSON());if(void 0!==q){if("number"===typeof q)return isFinite(q)?""+q:"null";if("object"!==typeof q)return JSON.stringify(q);
var g;if(Array.isArray(q)){var d="[";for(g=0;g<q.length;g++)g&&(d+=","),d+=w(q[g])||"null";return d+"]"}if(null===q)return"null";if(h.includes(q)){if(J)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var f=h.push(q)-1,A=Object.keys(q).sort(F&&F(q));d="";for(g=0;g<A.length;g++){const m=A[g],n=w(q[m]);n&&(d&&(d+=","),d+=JSON.stringify(m)+":"+n)}h.splice(f,1);return"{"+d+"}"}}(b)};x.toEsriGeometryType=function(b){switch(b){case "point":return"esriGeometryPoint";
case "polygon":return"esriGeometryPolygon";case "multipoint":return"esriGeometryMultipoint";case "polyline":return"esriGeometryPolyline";default:return"esriGeometryPoint"}};Object.defineProperties(x,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/ArcadeModule":function(){define(["exports"],function(x){x.ArcadeModule=function(I){this.source=I};Object.defineProperties(x,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/Feature":function(){define("../chunks/_rollupPluginBabelHelpers ./Dictionary ./ImmutableArray ../chunks/languageUtils ../geometry/Geometry ../geometry/Point ../geometry/support/jsonUtils ../layers/graphics/featureConversionUtils ../core/maybe ./executionError".split(" "),
function(x,I,E,z,b,e,J,F,h,G){return function(){function q(){this.arcadeDeclaredClass="esri.arcade.Feature";this._layer=this.attributes=this._geometry=this._optimizedGeomDefinition=null;this.immutable=this._datesfixed=!0;this._datefields=null;this.immutable=!0}q.createFromGraphic=function(g){const d=new q;d._geometry=h.isSome(g.geometry)?g.geometry:null;d.attributes=void 0===g.attributes?{}:null===g.attributes?{}:g.attributes;g._sourceLayer?(d._layer=g._sourceLayer,d._datesfixed=!1):g._layer?(d._layer=
g._layer,d._datesfixed=!1):g.layer&&"fields"in g.layer?(d._layer=g.layer,d._datesfixed=!1):g.sourceLayer&&"fields"in g.sourceLayer&&(d._layer=g.sourceLayer,d._datesfixed=!1);return d};q.createFromArcadeFeature=function(g){const d=new q;d._datesfixed=g._datesfixed;d.attributes=g.attributes;d._geometry=g._geometry;d._optimizedGeomDefinition=g._optimizedGeomDefinition;g._layer&&(d._layer=g._layer);return d};q.createFromOptimisedFeature=function(g,d,f){const A=new q;A._geometry=g.geometry?{geometry:g.geometry}:
null;A._optimizedGeomDefinition=f;A.attributes=g.attributes||{};A._layer=d;A._datesfixed=!1;return A};q.createFromArcadeDictionary=function(g){const d=new q;d.attributes=g.field("attributes");null!==d.attributes?d.attributes instanceof I?(d.attributes=d.attributes.attributes,null===d.attributes&&(d.attributes={})):d.attributes={}:d.attributes={};d._geometry=g.field("geometry");null!==d._geometry&&(d._geometry instanceof I?d._geometry=q.parseGeometryFromDictionary(d._geometry):d._geometry instanceof
b||(d._geometry=null));return d};q.createFromGraphicLikeObject=function(g,d,f=null){const A=new q;null===d&&(d={});A.attributes=d;A._geometry=h.isSome(g)?g:null;A._layer=f;A._layer&&(A._datesfixed=!1);return A};var w=q.prototype;w.repurposeFromGraphicLikeObject=function(g,d,f=null){null===d&&(d={});this.attributes=d;this._geometry=g?g:null;this._datesfixed=(this._layer=f)?!1:!0};w.castToText=function(g=!1){let d="";!1===this._datesfixed&&this._fixDates();for(const f in this.attributes){""!==d&&(d+=
",");const A=this.attributes[f];null==A?d+=JSON.stringify(f)+":null":z.isBoolean(A)||z.isNumber(A)||z.isString(A)?d+=JSON.stringify(f)+":"+JSON.stringify(A):A instanceof b?d+=JSON.stringify(f)+":"+z.toStringExplicit(A):A instanceof E?d+=JSON.stringify(f)+":"+z.toStringExplicit(A,null,g):A instanceof Array?d+=JSON.stringify(f)+":"+z.toStringExplicit(A,null,g):A instanceof Date?d=g?d+(JSON.stringify(f)+":"+JSON.stringify(A.getTime())):d+(JSON.stringify(f)+":"+JSON.stringify(A)):null!==A&&"object"===
typeof A&&void 0!==A.castToText&&(d+=JSON.stringify(f)+":"+A.castToText(g))}return'{"geometry":'+(null===this.geometry()?"null":z.toStringExplicit(this.geometry()))+',"attributes":{'+d+"}}"};w._fixDates=function(){if(null!==this._datefields)0<this._datefields.length&&this._fixDateFields(this._datefields);else{var g=[],d=this._layer.fields;for(let f=0;f<d.length;f++){const A=d[f],m=A.type;"date"!==m&&"esriFieldTypeDate"!==m||g.push(A.name)}this._datefields=g;0<g.length&&this._fixDateFields(g)}this._datesfixed=
!0};w._fixDateFields=function(g){this.attributes={...this.attributes};for(let d=0;d<g.length;d++){let f=this.attributes[g[d]];if(null!==f)if(void 0===f)for(const A in this.attributes){if(A.toLowerCase()===g[d].toLowerCase()){f=this.attributes[A];null===f||f instanceof Date||(this.attributes[A]=new Date(f));break}}else f instanceof Date||(this.attributes[g[d]]=new Date(f))}};w.geometry=function(){if(null===this._geometry||this._geometry instanceof b)return this._geometry;this._optimizedGeomDefinition?
(this._geometry=h.unwrap(J.fromJSON(F.convertToGeometry(this._geometry,this._optimizedGeomDefinition.geometryType,this._optimizedGeomDefinition.hasZ,this._optimizedGeomDefinition.hasM))),this._geometry.spatialReference=this._optimizedGeomDefinition.spatialReference):this._geometry=h.unwrap(J.fromJSON(this._geometry));return this._geometry};w.field=function(g){!1===this._datesfixed&&this._fixDates();var d=this.attributes[g];if(void 0!==d)return d;d=g.toLowerCase();for(const f in this.attributes)if(f.toLowerCase()===
d)return this.attributes[f];if(this._hasFieldDefinition(d))return null;throw new G.ArcadeExecutionError(null,G.ExecutionErrorCodes.FieldNotFound,null,{key:g});};w._hasFieldDefinition=function(g){if(null===this._layer)return!1;for(let d=0;d<this._layer.fields.length;d++)if(this._layer.fields[d].name.toLowerCase()===g)return!0;return!1};w.setField=function(g,d){if(this.immutable)throw new G.ArcadeExecutionError(null,G.ExecutionErrorCodes.Immutable,null);if(!1===z.isSimpleType(d))throw new G.ArcadeExecutionError(null,
G.ExecutionErrorCodes.TypeNotAllowedInFeature,null);const f=g.toLowerCase();if(void 0===this.attributes[g])for(const A in this.attributes)if(A.toLowerCase()===f){this.attributes[A]=d;return}this.attributes[g]=d};w.hasField=function(g){const d=g.toLowerCase();if(void 0!==this.attributes[g])return!0;for(const f in this.attributes)if(f.toLowerCase()===d)return!0;return this._hasFieldDefinition(d)?!0:!1};w.keys=function(){let g=[];const d={};for(var f in this.attributes)g.push(f),d[f.toLowerCase()]=1;
if(null!==this._layer)for(f=0;f<this._layer.fields.length;f++){const A=this._layer.fields[f];1!==d[A.name.toLowerCase()]&&g.push(A.name)}return g=g.sort()};q.parseGeometryFromDictionary=function(g){g=q._convertDictionaryToJson(g,!0);void 0!==g.hasm&&(g.hasM=g.hasm,delete g.hasm);void 0!==g.hasz&&(g.hasZ=g.hasz,delete g.hasz);void 0!==g.spatialreference&&(g.spatialReference=g.spatialreference,delete g.spatialreference);void 0!==g.rings&&(g.rings=this._fixPathArrays(g.rings,!0===g.hasZ,!0===g.hasZ));
void 0!==g.paths&&(g.paths=this._fixPathArrays(g.paths,!0===g.hasZ,!0===g.hasM));void 0!==g.points&&(g.points=this._fixPointArrays(g.points,!0===g.hasZ,!0===g.hasM));return J.fromJSON(g)};q._fixPathArrays=function(g,d,f){const A=[];if(g instanceof Array)for(var m=0;m<g.length;m++)A.push(this._fixPointArrays(g[m],d,f));else if(g instanceof E)for(m=0;m<g.length();m++)A.push(this._fixPointArrays(g.get(m),d,f));return A};q._fixPointArrays=function(g,d,f){const A=[];if(g instanceof Array)for(var m=0;m<
g.length;m++){var n=g[m];n instanceof e?d&&f?A.push([n.x,n.y,n.z,n.m]):d?A.push([n.x,n.y,n.z]):f?A.push([n.x,n.y,n.m]):A.push([n.x,n.y]):n instanceof E?A.push(n.toArray()):A.push(n)}else if(g instanceof E)for(m=0;m<g.length();m++)n=g.get(m),n instanceof e?d&&f?A.push([n.x,n.y,n.z,n.m]):d?A.push([n.x,n.y,n.z]):f?A.push([n.x,n.y,n.m]):A.push([n.x,n.y]):n instanceof E?A.push(n.toArray()):A.push(n);return A};q._convertDictionaryToJson=function(g,d=!1){const f={};for(const A in g.attributes){let m=g.attributes[A];
m instanceof I&&(m=q._convertDictionaryToJson(m));d?f[A.toLowerCase()]=m:f[A]=m}return f};q.parseAttributesFromDictionary=function(g){const d={};for(const f in g.attributes){const A=g.attributes[f];if(z.isSimpleType(A))d[f]=A;else throw new G.ArcadeExecutionError(null,G.ExecutionErrorCodes.InvalidParameter,null);}return d};q.fromJson=function(g){let d=null;null!==g.geometry&&void 0!==g.geometry&&(d=J.fromJSON(g.geometry));const f={};if(null!==g.attributes&&void 0!==g.attributes)for(const A in g.attributes){const m=
g.attributes[A];if(null===m)f[A]=m;else if(z.isString(m)||z.isNumber(m)||z.isBoolean(m)||z.isDate(m))f[A]=m;else throw new G.ArcadeExecutionError(null,G.ExecutionErrorCodes.InvalidParameter,null);}return q.createFromGraphicLikeObject(d,f,null)};w.fullSchema=function(){return this._layer};w.gdbVersion=function(){if(null===this._layer)return"";const g=this._layer.gdbVersion;return void 0===g?"":""===g&&this._layer.capabilities&&this._layer.capabilities.isVersioned?"SDE.DEFAULT":g};w.castAsJson=function(g){const d=
{attributes:{},geometry:!0===g?.keepGeometryType?this.geometry():this.geometry().toJSON()};for(const f in this.attributes){const A=this.attributes[f];void 0!==A&&(d.attributes[f]=z.castAsJson(A,g))}return d};w.castAsJsonAsync=function(){var g=x._asyncToGenerator(function*(d,f){return this.castAsJson(f)});return function(){return g.apply(this,arguments)}}();return q}()})},"esri/arcade/treeAnalysis":function(){define(["exports"],function(x){function I(d){return"string"===typeof d||d instanceof String}
function E(d,f){if(d)for(const A of d)z(A,f)}function z(d,f){if(d&&!1!==f(d))switch(d.type){case "ImportDeclaration":E(d.specifiers,f);z(d.source,f);break;case "ExportNamedDeclaration":z(d.declaration,f);break;case "ArrayExpression":E(d.elements,f);break;case "AssignmentExpression":case "BinaryExpression":z(d.left,f);z(d.right,f);break;case "BlockStatement":E(d.body,f);break;case "Program":E(d.body,f);break;case "CallExpression":z(d.callee,f);E(d.arguments,f);break;case "ExpressionStatement":z(d.expression,
f);break;case "ForInStatement":z(d.left,f);z(d.right,f);z(d.body,f);break;case "ForStatement":z(d.init,f);z(d.test,f);z(d.update,f);z(d.body,f);break;case "WhileStatement":z(d.test,f);z(d.body,f);break;case "FunctionDeclaration":z(d.id,f);E(d.params,f);z(d.body,f);break;case "IfStatement":z(d.test,f);z(d.consequent,f);z(d.alternate,f);break;case "LogicalExpression":z(d.left,f);z(d.right,f);break;case "MemberExpression":z(d.object,f);z(d.property,f);break;case "ObjectExpression":E(d.properties,f);
break;case "Property":z(d.key,f);z(d.value,f);break;case "ReturnStatement":z(d.argument,f);break;case "UnaryExpression":z(d.argument,f);break;case "UpdateExpression":z(d.argument,f);break;case "VariableDeclaration":E(d.declarations,f);break;case "VariableDeclarator":z(d.id,f);z(d.init,f);break;case "TemplateLiteral":E(d.expressions,f),E(d.quasis,f)}}function b(d,f){let A=!1;const m=f.toLowerCase();z(d,n=>{if(A)return!1;"Identifier"===n.type&&n.name&&n.name.toLowerCase()===m&&(A=!0);return!0});return A}
function e(d){const f=[];z(d,A=>{"ImportDeclaration"===A.type&&A.source&&A.source.value&&f.push({libname:A.specifiers[0].local.name.toLowerCase(),source:A.source.value});return!0});return f}function J(d){const f=[];z(d,A=>{"CallExpression"===A.type&&"Identifier"===A.callee.type&&f.push(A.callee.name.toLowerCase());return!0});return f}const F={all:{min:2,max:2},none:{min:2,max:2},any:{min:2,max:2},reduce:{min:2,max:3},map:{min:2,max:2},filter:{min:2,max:2},fromcodepoint:{min:1,max:-1},fromcharcode:{min:1,
max:-1},tocodepoint:{min:1,max:2},tocharcode:{min:1,max:2},concatenate:{min:0,max:-1},expects:{min:1,max:-1},getfeatureset:{min:1,max:2},week:{min:1,max:2},fromjson:{min:1,max:1},length3d:{min:1,max:2},tohex:{min:1,max:1},hash:{min:1,max:1},isoweek:{min:1,max:1},isoweekday:{min:1,max:1},hasvalue:{min:2,max:2},isomonth:{min:1,max:1},isoyear:{min:1,max:1},resize:{min:2,max:3},slice:{min:0,max:-1},splice:{min:0,max:-1},push:{min:2,max:2},pop:{min:1,max:1},includes:{min:2,max:2},array:{min:1,max:2},front:{min:1,
max:1},back:{min:1,max:1},insert:{min:3,max:3},erase:{min:2,max:2},split:{min:2,max:4},guid:{min:0,max:1},standardizeguid:{min:2,max:2},today:{min:0,max:0},angle:{min:2,max:3},bearing:{min:2,max:3},urlencode:{min:1,max:1},now:{min:0,max:0},timestamp:{min:0,max:0},day:{min:1,max:1},month:{min:1,max:1},year:{min:1,max:1},hour:{min:1,max:1},second:{min:1,max:1},millisecond:{min:1,max:1},minute:{min:1,max:1},weekday:{min:1,max:1},toutc:{min:1,max:1},tolocal:{min:1,max:1},date:{min:0,max:7},datediff:{min:2,
max:3},dateadd:{min:2,max:3},trim:{min:1,max:1},text:{min:1,max:2},left:{min:2,max:2},right:{min:2,max:2},mid:{min:2,max:3},upper:{min:1,max:1},proper:{min:1,max:2},lower:{min:1,max:1},find:{min:2,max:3},iif:{min:3,max:3},decode:{min:2,max:-1},when:{min:2,max:-1},defaultvalue:{min:2,max:2},isempty:{min:1,max:1},domaincode:{min:2,max:4},domainname:{min:2,max:4},polygon:{min:1,max:1},point:{min:1,max:1},polyline:{min:1,max:1},extent:{min:1,max:1},multipoint:{min:1,max:1},ringisclockwise:{min:1,max:1},
geometry:{min:1,max:1},count:{min:0,max:-1},number:{min:1,max:2},acos:{min:1,max:1},asin:{min:1,max:1},atan:{min:1,max:1},atan2:{min:2,max:2},ceil:{min:1,max:2},floor:{min:1,max:2},round:{min:1,max:2},cos:{min:1,max:1},exp:{min:1,max:1},log:{min:1,max:1},min:{min:0,max:-1},constrain:{min:3,max:3},console:{min:0,max:-1},max:{min:0,max:-1},pow:{min:2,max:2},random:{min:0,max:0},sqrt:{min:1,max:1},sin:{min:1,max:1},tan:{min:1,max:1},abs:{min:1,max:1},isnan:{min:1,max:1},stdev:{min:0,max:-1},average:{min:0,
max:-1},mean:{min:0,max:-1},sum:{min:0,max:-1},variance:{min:0,max:-1},distinct:{min:0,max:-1},first:{min:1,max:1},top:{min:2,max:2},boolean:{min:1,max:1},dictionary:{min:0,max:-1},typeof:{min:1,max:1},reverse:{min:1,max:1},replace:{min:3,max:4},sort:{min:1,max:2},feature:{min:1,max:-1},haskey:{min:2,max:2},indexof:{min:2,max:2},disjoint:{min:2,max:2},intersects:{min:2,max:2},touches:{min:2,max:2},crosses:{min:2,max:2},within:{min:2,max:2},contains:{min:2,max:2},overlaps:{min:2,max:2},equals:{min:2,
max:2},relate:{min:3,max:3},intersection:{min:2,max:2},union:{min:1,max:2},difference:{min:2,max:2},symmetricdifference:{min:2,max:2},clip:{min:2,max:2},cut:{min:2,max:2},area:{min:1,max:2},areageodetic:{min:1,max:2},length:{min:1,max:2},lengthgeodetic:{min:1,max:2},distancegeodetic:{min:2,max:3},distance:{min:2,max:3},densify:{min:2,max:3},densifygeodetic:{min:2,max:3},generalize:{min:2,max:4},buffer:{min:2,max:3},buffergeodetic:{min:2,max:3},offset:{min:2,max:6},rotate:{min:2,max:3},issimple:{min:1,
max:1},simplify:{min:1,max:1},convexhull:{min:1,max:1},centroid:{min:1,max:1},isselfintersecting:{min:1,max:1},multiparttosinglepart:{min:1,max:1},setgeometry:{min:2,max:2},portal:{min:1,max:1},getuser:{min:0,max:2},subtypes:{min:1,max:1},subtypecode:{min:1,max:1},subtypename:{min:1,max:1},domain:{min:2,max:3},convertdirection:{min:3,max:3},schema:{min:1,max:1}},h={functionDefinitions:new Map,constantDefinitions:new Map},G={functionDefinitions:new Map,constantDefinitions:new Map};for(var q of["pi",
"infinity"])G.constantDefinitions.set(q,{type:"constant"}),h.constantDefinitions.set(q,{type:"constant"});G.constantDefinitions.set("textformatting",{type:"namespace",key:"textformatting",members:[{key:"backwardslash",type:"constant"},{key:"doublequote",type:"constant"},{key:"forwardslash",type:"constant"},{key:"tab",type:"constant"},{key:"singlequote",type:"constant"},{key:"newline",type:"constant"}]});h.constantDefinitions.set("textformatting",{type:"namespace",key:"textformatting",members:[{key:"backwardslash",
type:"constant"},{key:"tab",type:"constant"},{key:"singlequote",type:"constant"},{key:"doublequote",type:"constant"},{key:"forwardslash",type:"constant"},{key:"newline",type:"constant"}]});for(const d in F)q=F[d],G.functionDefinitions.set(d,{overloads:[{type:"function",parametersInfo:{min:q.min,max:q.max}}]}),h.functionDefinitions.set(d,{overloads:[{type:"function",parametersInfo:{min:q.min,max:q.max}}]});const w="featureset getuser featuresetbyid featuresetbyname featuresetbyassociation featuresetbyrelationshipname featuresetbyurl getfeatureset attachments featuresetbyportalitem".split(" "),
g="disjoint intersects touches crosses within contains overlaps equals relate intersection union difference symmetricdifference clip cut area areageodetic length length3d lengthgeodetic distance distancegeodetic densify densifygeodetic generalize buffer buffergeodetic offset rotate issimple convexhull simplify multiparttosinglepart".split(" ");x.addFunctionDeclaration=function(d,f){f="sync"===f?h:G;f.functionDefinitions.has(d.name.toLowerCase())?f.functionDefinitions.get(d.name.toLowerCase())?.overloads.push({type:"function",
parametersInfo:{min:d.min,max:d.max}}):f.functionDefinitions.set(d.name.toLowerCase(),{overloads:[{type:"function",parametersInfo:{min:d.min,max:d.max}}]})};x.extractFunctionDeclaration=function(d,f){const A=[];if(void 0!==f.params&&null!==f.params)for(let m=0;m<f.params.length;m++)A.push("any");return{name:d,return:"any",params:A}};x.findExpectedFieldLiterals=function(d){const f=[];z(d,A=>{if("CallExpression"===A.type){if("Identifier"===A.callee.type&&"expects"===A.callee.name.toLowerCase()){var m=
"";for(let n=0;n<(A.arguments||[]).length;n++)0===n?"Identifier"===A.arguments[n].type&&(m=A.arguments[n].name.toLowerCase()):m&&"Literal"===A.arguments[n].type&&I(A.arguments[n].value)&&f.push(m+"."+A.arguments[n].value.toLowerCase());return!1}if("Identifier"===A.callee.type&&["domainname","domaincode","domain","haskey"].includes(A.callee.name.toLowerCase())&&2<=A.arguments.length)return m="","Identifier"===A.arguments[0].type&&(m=A.arguments[0].name.toLowerCase()),m&&"Literal"===A.arguments[1].type&&
I(A.arguments[1].value)&&f.push(m+"."+A.arguments[1].value.toLowerCase()),!1}if("MemberExpression"!==A.type||"Identifier"!==A.object.type)return!0;!1===A.computed&&A.object&&A.object.name&&A.property&&"Identifier"===A.property.type&&A.property.name?f.push(A.object.name.toLowerCase()+"."+A.property.name.toLowerCase()):A.object&&A.object.name&&A.property&&"Literal"===A.property.type&&"string"===typeof A.property.value&&f.push(A.object.name.toLowerCase()+"."+A.property.value?.toString().toLowerCase());
return!1});return f};x.findFieldLiterals=function(d){const f=[];z(d,A=>{if("MemberExpression"!==A.type||"Identifier"!==A.object.type)return!0;!1===A.computed&&A.object&&A.object.name&&A.property&&"Identifier"===A.property.type&&A.property.name?f.push(A.object.name.toLowerCase()+"."+A.property.name.toLowerCase()):A.object&&A.object.name&&A.property&&"Literal"===A.property.type&&"string"===typeof A.property.value&&f.push(A.object.name.toLowerCase()+"."+A.property.value?.toString().toLowerCase());return!1});
return f};x.findFunctionCalls=J;x.findModuleImports=e;x.findScriptDependencies=function(d,f=[]){let A=null;if(void 0===d.usesFeatureSet){null===A&&(A=J(d));d.usesFeatureSet=!1;for(let m=0;m<A.length;m++)w.includes(A[m])&&(d.usesFeatureSet=!0,d.isAsync=!0);if(!1===d.usesFeatureSet&&f&&0<f.length)for(const m of f)if(b(d,m)){d.usesFeatureSet=!0;d.isAsync=!0;break}}void 0===d.usesModules&&(d.usesModules=!1,0<e(d).length&&(d.usesModules=!0));if(void 0===d.usesGeometry)for(d.usesGeometry=!1,null===A&&(A=
J(d)),f=0;f<A.length;f++)g.includes(A[f])&&(d.usesGeometry=!0)};x.fullArcadeApiAsync=G;x.fullArcadeApiSync=h;x.referencesFunction=function(d,f){let A=!1;const m=f.toLowerCase();z(d,n=>A?!1:"CallExpression"===n.type&&"Identifier"===n.callee.type&&n.callee.name&&n.callee.name.toLowerCase()===m?(A=!0,!1):!0);return A};x.referencesMember=b;x.scriptUsesFeatureSet=function(d){d=J(d);for(let f=0;f<d.length;f++)if(w.includes(d[f]))return!0;return!1};x.walk=z;Object.defineProperties(x,{__esModule:{value:!0},
[Symbol.toStringTag]:{value:"Module"}})})},"esri/chunks/array":function(){define("exports ./_rollupPluginBabelHelpers ../arcade/executionError ../arcade/ImmutableArray ./languageUtils ../core/promiseUtils".split(" "),function(x,I,E,z,b,e){function J(h){function G(m,n,H){if(m instanceof z)return m.toArray();if(b.isArray(m))return m;throw new E.ArcadeExecutionError(n,E.ExecutionErrorCodes.InvalidParameter,H);}function q(m,n){var H=m.length,B=Math.floor(H/2);if(0===H)return[];if(1===H)return[m[0]];var c=
q(m.slice(0,B),n);m=q(m.slice(B,H),n);for(H=[];0<c.length||0<m.length;)0<c.length&&0<m.length?(B=n(c[0],m[0]),isNaN(B)&&(B=0),0>=B?(H.push(c[0]),c=c.slice(1)):(H.push(m[0]),m=m.slice(1))):0<c.length?(H.push(c[0]),c=c.slice(1)):0<m.length&&(H.push(m[0]),m=m.slice(1));return H}function w(m,n){return g.apply(this,arguments)}function g(){g=I._asyncToGenerator(function*(m,n){const H=m.length,B=Math.floor(H/2);if(0===H)return[];if(1===H)return[m[0]];m=[yield w(m.slice(0,B),n),yield w(m.slice(B,H),n)];return d(m[0],
m[1],n,[])});return g.apply(this,arguments)}function d(m,n,H,B){return f.apply(this,arguments)}function f(){f=I._asyncToGenerator(function*(m,n,H,B){if(0<m.length||0<n.length){if(0<m.length&&0<n.length){let c=yield H(m[0],n[0]);isNaN(c)&&(c=1);0>=c?(B.push(m[0]),m=m.slice(1)):(B.push(n[0]),n=n.slice(1));return d(m,n,H,B)}if(0<m.length)return B.push(m[0]),m=m.slice(1),d(m,n,H,B);if(0<n.length)return B.push(n[0]),n=n.slice(1),d(m,n,H,B)}else return B});return f.apply(this,arguments)}function A(m,n,
H,B){b.pcCheck(H,1,2,m,n);let c=H[0];b.isImmutableArray(c)&&(c=c.toArray());if(!1===b.isArray(c))throw new E.ArcadeExecutionError(m,E.ExecutionErrorCodes.InvalidParameter,n);if(1<H.length){if(!1===b.isFunctionParameter(H[1]))throw new E.ArcadeExecutionError(m,E.ExecutionErrorCodes.InvalidParameter,n);var l=c;const t=H[1].createFunction(m);return B?w(l,t):l=q(l,(v,r)=>t(v,r))}m=c;if(0===m.length)return[];H={};for(B=0;B<m.length;B++)n=b.getType(m[B]),""!==n&&(H[n]=!0);if(!0===H.Array||!0===H.Dictionary||
!0===H.Feature||!0===H.Point||!0===H.Polygon||!0===H.Polyline||!0===H.Multipoint||!0===H.Extent||!0===H.Function)return m.slice(0);B=0;n="";for(l in H)B++,n=l;return m=1<B||"String"===n?q(m,(t,v)=>{if(null===t||void 0===t||t===b.voidOperation)return null===v||void 0===v||v===b.voidOperation?0:1;if(null===v||void 0===v||v===b.voidOperation)return-1;t=b.toString(t);v=b.toString(v);return t<v?-1:t===v?0:1}):"Number"===n?q(m,(t,v)=>t-v):"Boolean"===n?q(m,(t,v)=>t===v?0:v?-1:1):"Date"===n?q(m,(t,v)=>v-
t):m.slice(0)}h.functions.array=function(m,n){return h.standardFunction(m,n,(H,B,c)=>{b.pcCheck(c,1,2,m,n);H=b.toNumber(c[0]);if(isNaN(H)||!1===b.isInteger(H))throw new E.ArcadeExecutionError(m,E.ExecutionErrorCodes.InvalidParameter,n);c=b.defaultUndefined(c[1],null);H=Array(H);H.fill(c);return H})};h.functions.front=function(m,n){return h.standardFunction(m,n,(H,B,c)=>{b.pcCheck(c,1,1,m,n);if(b.isImmutableArray(c[0])){if(0>=c[0].length())throw new E.ArcadeExecutionError(m,E.ExecutionErrorCodes.OutOfBounds,
n);return c[0].get(0)}if(b.isArray(c[0])){if(0>=c[0].length)throw new E.ArcadeExecutionError(m,E.ExecutionErrorCodes.OutOfBounds,n);return c[0][0]}throw new E.ArcadeExecutionError(m,E.ExecutionErrorCodes.InvalidParameter,n);})};h.functions.back=function(m,n){return h.standardFunction(m,n,(H,B,c)=>{b.pcCheck(c,1,1,m,n);if(b.isImmutableArray(c[0])){if(0>=c[0].length())throw new E.ArcadeExecutionError(m,E.ExecutionErrorCodes.OutOfBounds,n);return c[0].get(c[0].length()-1)}if(b.isArray(c[0])){if(0>=c[0].length)throw new E.ArcadeExecutionError(m,
E.ExecutionErrorCodes.OutOfBounds,n);return c[0][c[0].length-1]}throw new E.ArcadeExecutionError(m,E.ExecutionErrorCodes.InvalidParameter,n);})};h.functions.push=function(m,n){return h.standardFunction(m,n,(H,B,c)=>{b.pcCheck(c,1,2,m,n);if(b.isArray(c[0]))return c[0][c[0].length]=c[1],c[0].length;throw new E.ArcadeExecutionError(m,E.ExecutionErrorCodes.InvalidParameter,n);})};h.functions.pop=function(m,n){return h.standardFunction(m,n,(H,B,c)=>{b.pcCheck(c,1,1,m,n);if(b.isArray(c[0])){if(0>=c[0].length)throw new E.ArcadeExecutionError(m,
E.ExecutionErrorCodes.OutOfBounds,n);H=c[0][c[0].length-1];--c[0].length;return H}throw new E.ArcadeExecutionError(m,E.ExecutionErrorCodes.InvalidParameter,n);})};h.functions.erase=function(m,n){return h.standardFunction(m,n,(H,B,c)=>{b.pcCheck(c,2,2,m,n);if(b.isArray(c[0])){H=b.toNumber(c[1]);if(isNaN(H)||!1===b.isInteger(H))throw new E.ArcadeExecutionError(m,E.ExecutionErrorCodes.InvalidParameter,n);c=c[0];if(0>=c.length)throw new E.ArcadeExecutionError(m,E.ExecutionErrorCodes.OutOfBounds,n);0>
H&&(H=c.length+H);if(0>H)throw new E.ArcadeExecutionError(m,E.ExecutionErrorCodes.OutOfBounds,n);if(H>=c.length)throw new E.ArcadeExecutionError(m,E.ExecutionErrorCodes.OutOfBounds,n);c.splice(H,1);return b.voidOperation}throw new E.ArcadeExecutionError(m,E.ExecutionErrorCodes.InvalidParameter,n);})};h.functions.insert=function(m,n){return h.standardFunction(m,n,(H,B,c)=>{b.pcCheck(c,3,3,m,n);if(b.isArray(c[0])){H=b.toNumber(c[1]);if(isNaN(H)||!1===b.isInteger(H))throw new E.ArcadeExecutionError(m,
E.ExecutionErrorCodes.InvalidParameter,n);B=c[2];c=c[0];if(H>c.length)throw new E.ArcadeExecutionError(m,E.ExecutionErrorCodes.OutOfBounds,n);if(0>H&&H<-1*c.length)throw new E.ArcadeExecutionError(m,E.ExecutionErrorCodes.OutOfBounds,n);if(H===c.length)return c[H]=B,b.voidOperation;c.splice(H,0,B);return b.voidOperation}throw new E.ArcadeExecutionError(m,E.ExecutionErrorCodes.InvalidParameter,n);})};h.functions.resize=function(m,n){return h.standardFunction(m,n,(H,B,c)=>{b.pcCheck(c,2,3,m,n);if(b.isArray(c[0])){B=
b.toNumber(c[1]);if(isNaN(B)||!1===b.isInteger(B))throw new E.ArcadeExecutionError(m,E.ExecutionErrorCodes.InvalidParameter,n);if(0>B)throw new E.ArcadeExecutionError(m,E.ExecutionErrorCodes.InvalidParameter,n);H=b.defaultUndefined(c[2],null);c=c[0];if(c.length>=B)return c.length=B,b.voidOperation;const l=c.length;c.length=B;for(B=l;B<c.length;B++)c[B]=H;return b.voidOperation}throw new E.ArcadeExecutionError(m,E.ExecutionErrorCodes.InvalidParameter,n);})};h.functions.includes=function(m,n){return h.standardFunction(m,
n,(H,B,c)=>{b.pcCheck(c,2,2,m,n);if(b.isArray(c[0])){const l=c[1];return-1<c[0].findIndex(t=>b.equalityTest(t,l))?!0:!1}if(b.isImmutableArray(c[0])){const l=c[1];return-1<c[0].toArray().findIndex(t=>b.equalityTest(t,l))?!0:!1}throw new E.ArcadeExecutionError(m,E.ExecutionErrorCodes.InvalidParameter,n);})};h.functions.slice=function(m,n){return h.standardFunction(m,n,(H,B,c)=>{b.pcCheck(c,1,3,m,n);if(b.isArray(c[0])){H=b.toNumber(b.defaultUndefined(c[1],0));B=b.toNumber(b.defaultUndefined(c[2],c[0].length));
if(isNaN(H)||!1===b.isInteger(H))throw new E.ArcadeExecutionError(m,E.ExecutionErrorCodes.InvalidParameter,n);if(isNaN(B)||!1===b.isInteger(B))throw new E.ArcadeExecutionError(m,E.ExecutionErrorCodes.InvalidParameter,n);return c[0].slice(H,B)}if(b.isImmutableArray(c[0])){H=c[0];B=b.toNumber(b.defaultUndefined(c[1],0));c=b.toNumber(b.defaultUndefined(c[2],H.length()));if(isNaN(B)||!1===b.isInteger(B))throw new E.ArcadeExecutionError(m,E.ExecutionErrorCodes.InvalidParameter,n);if(isNaN(c)||!1===b.isInteger(c))throw new E.ArcadeExecutionError(m,
E.ExecutionErrorCodes.InvalidParameter,n);return H.toArray().slice(B,c)}throw new E.ArcadeExecutionError(m,E.ExecutionErrorCodes.InvalidParameter,n);})};h.functions.splice=function(m,n){return h.standardFunction(m,n,(H,B,c)=>{H=[];for(B=0;B<c.length;B++)b.isArray(c[B])?H.push(...c[B]):b.isImmutableArray(c[B])?H.push(...c[B].toArray()):H.push(c[B]);return H})};h.functions.top=function(m,n){return h.standardFunction(m,n,(H,B,c)=>{b.pcCheck(c,2,2,m,n);if(b.isArray(c[0]))return b.toNumber(c[1])>=c[0].length?
c[0].slice(0):c[0].slice(0,b.toNumber(c[1]));if(b.isImmutableArray(c[0]))return b.toNumber(c[1])>=c[0].length()?c[0].slice(0):c[0].slice(0,b.toNumber(c[1]));throw new E.ArcadeExecutionError(m,E.ExecutionErrorCodes.InvalidParameter,n);})};h.functions.first=function(m,n){return h.standardFunction(m,n,(H,B,c)=>{b.pcCheck(c,1,1,m,n);return b.isArray(c[0])?0===c[0].length?null:c[0][0]:b.isImmutableArray(c[0])?0===c[0].length()?null:c[0].get(0):null})};"sync"===h.mode&&(h.functions.sort=function(m,n){return h.standardFunction(m,
n,(H,B,c)=>A(m,n,c,!1))},h.functions.any=function(m,n){return h.standardFunction(m,n,(H,B,c)=>{b.pcCheck(c,2,2,m,n);H=c[1].createFunction(m);c=G(c[0],m,n);for(const l of c)if(c=H(l),b.isBoolean(c)&&!0===c)return!0;return!1})},h.functions.all=function(m,n){return h.standardFunction(m,n,(H,B,c)=>{b.pcCheck(c,2,2,m,n);H=c[1].createFunction(m);c=G(c[0],m,n);for(const l of c)if(!0!==H(l))return!1;return!0})},h.functions.none=function(m,n){return h.standardFunction(m,n,(H,B,c)=>{b.pcCheck(c,2,2,m,n);H=
c[1].createFunction(m);c=G(c[0],m,n);for(const l of c)if(!0===H(l))return!1;return!0})},h.functions.reduce=function(m,n){return h.standardFunction(m,n,(H,B,c)=>{b.pcCheck(c,2,3,m,n);const l=c[1].createFunction(m);H=G(c[0],m,n);return 2===c.length?0===H.length?null:H.reduce((t,v)=>{t=l(t,v);return t=void 0!==t&&t!==b.voidOperation?t:null}):H.reduce((t,v)=>{t=l(t,v);return t=void 0!==t&&t!==b.voidOperation?t:null},c[2])})},h.functions.map=function(m,n){return h.standardFunction(m,n,(H,B,c)=>{b.pcCheck(c,
2,2,m,n);H=c[1].createFunction(m);B=G(c[0],m,n);c=[];for(const l of B)B=H(l),void 0!==B&&B!==b.voidOperation?c.push(B):c.push(null);return c})},h.functions.filter=function(m,n){return h.standardFunction(m,n,(H,B,c)=>{b.pcCheck(c,2,2,m,n);H=c[1].createFunction(m);c=G(c[0],m,n);B=[];for(const l of c)!0===H(l)&&B.push(l);return B})});"async"===h.mode&&(h.functions.sort=function(m,n){return h.standardFunctionAsync(m,n,(H,B,c)=>A(m,n,c,!0))},h.functions.any=function(m,n){return h.standardFunctionAsync(m,
n,function(){var H=I._asyncToGenerator(function*(B,c,l){b.pcCheck(l,2,2,m,n);B=l[1].createFunction(m);l=G(l[0],m,n);for(const t of l)if(l=yield B(t),c=null,c=e.isPromiseLike(c)?yield l:l,b.isBoolean(c)&&!0===c)return!0;return!1});return function(B,c,l){return H.apply(this,arguments)}}())},h.functions.all=function(m,n){return h.standardFunctionAsync(m,n,function(){var H=I._asyncToGenerator(function*(B,c,l){b.pcCheck(l,2,2,m,n);B=l[1].createFunction(m);l=G(l[0],m,n);for(const t of l)if(l=yield B(t),
c=null,c=e.isPromiseLike(c)?yield l:l,!0!==c)return!1;return!0});return function(B,c,l){return H.apply(this,arguments)}}())},h.functions.none=function(m,n){return h.standardFunctionAsync(m,n,function(){var H=I._asyncToGenerator(function*(B,c,l){b.pcCheck(l,2,2,m,n);B=l[1].createFunction(m);l=G(l[0],m,n);for(const t of l)if(l=yield B(t),c=null,c=e.isPromiseLike(c)?yield l:l,!0===c)return!1;return!0});return function(B,c,l){return H.apply(this,arguments)}}())},h.functions.filter=function(m,n){return h.standardFunctionAsync(m,
n,function(){var H=I._asyncToGenerator(function*(B,c,l){b.pcCheck(l,2,2,m,n);B=l[1].createFunction(m);c=G(l[0],m,n);l=[];for(const t of c){c=yield B(t);let v=null;v=e.isPromiseLike(v)?yield c:c;!0===v&&l.push(t)}return l});return function(B,c,l){return H.apply(this,arguments)}}())},h.functions.reduce=function(m,n){return h.standardFunctionAsync(m,n,(H,B,c)=>{b.pcCheck(c,2,3,m,n);const l=c[1].createFunction(m);H=G(c[0],m,n);B=null;if(2<c.length)c=b.defaultUndefined(c[2],null),B=H.reduce(function(){var t=
I._asyncToGenerator(function*(v,r){v=yield v;if(void 0===v||v===b.voidOperation)v=null;return l(v,r)});return function(v,r){return t.apply(this,arguments)}}(),Promise.resolve(c));else{if(0===H.length)return null;B=H.reduce(function(){var t=I._asyncToGenerator(function*(v,r,P){if(1>=P)return l(v,r);v=yield v;if(void 0===v||v===b.voidOperation)v=null;return l(v,r)});return function(v,r,P){return t.apply(this,arguments)}}())}return B.then(t=>void 0!==t&&t!==b.voidOperation?t:null)})},h.functions.map=
function(m,n){return h.standardFunctionAsync(m,n,function(){var H=I._asyncToGenerator(function*(B,c,l){b.pcCheck(l,2,2,m,n);B=l[1].createFunction(m);c=G(l[0],m,n);l=[];for(const t of c){c=yield B(t);let v=null;v=e.isPromiseLike(v)?yield c:c;void 0!==v&&v!==b.voidOperation?l.push(v):l.push(null)}return l});return function(B,c,l){return H.apply(this,arguments)}}())})}const F=Object.freeze(Object.defineProperty({__proto__:null,registerFunctions:J},Symbol.toStringTag,{value:"Module"}));x.ArrayFunctions=
F;x.registerFunctions=J})},"esri/arcade/functions/date":function(){define(["exports","../../chunks/languageUtils","../executionError","../../intl/locale","../../chunks/datetime"],function(x,I,E,z,b){function e(q){q=new Date(q.getTime());const w=q.getFullYear();var g=new Date(0);g.setFullYear(w+1,0,4);g.setHours(0,0,0,0);g=J(g);var d=new Date(0);d.setFullYear(w,0,4);d.setHours(0,0,0,0);d=J(d);return q.getTime()>=g.getTime()?w+1:q.getTime()>=d.getTime()?w:w-1}function J(q){q=new Date(q.getTime());var w=
q.getDay();w=(1>w?7:0)+w-1;q.setDate(q.getDate()-w);q.setHours(0,0,0,0);return q}function F(q){return null===q?q:isNaN(q.getTime())?null:q}const h=[0,31,59,90,120,151,181,212,243,273,304,334],G=[0,31,60,91,121,152,182,213,244,274,305,335];x.registerFunctions=function(q,w){q.today=function(g,d){return w(g,d,(f,A,m)=>{I.pcCheck(m,0,0,g,d);f=new Date;f.setHours(0,0,0,0);return f})};q.now=function(g,d){return w(g,d,(f,A,m)=>{I.pcCheck(m,0,0,g,d);return new Date})};q.timestamp=function(g,d){return w(g,
d,(f,A,m)=>{I.pcCheck(m,0,0,g,d);f=new Date;return f=new Date(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate(),f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds())})};q.toutc=function(g,d){return w(g,d,(f,A,m)=>{I.pcCheck(m,1,1,g,d);f=I.toDate(m[0]);return null===f?null:new Date(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate(),f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds())})};q.tolocal=function(g,d){return w(g,d,(f,A,m)=>{I.pcCheck(m,1,1,g,d);
f=I.toDate(m[0]);return null===f?null:b.DateTime.utc(f.getFullYear(),f.getMonth()+1,f.getDate(),f.getHours(),f.getMinutes(),f.getSeconds(),f.getMilliseconds()).toJSDate()})};q.day=function(g,d){return w(g,d,(f,A,m)=>{I.pcCheck(m,1,1,g,d);f=I.toDate(m[0]);return null===f?NaN:f.getDate()})};q.month=function(g,d){return w(g,d,(f,A,m)=>{I.pcCheck(m,1,1,g,d);f=I.toDate(m[0]);return null===f?NaN:f.getMonth()})};q.year=function(g,d){return w(g,d,(f,A,m)=>{I.pcCheck(m,1,1,g,d);f=I.toDate(m[0]);return null===
f?NaN:f.getFullYear()})};q.hour=function(g,d){return w(g,d,(f,A,m)=>{I.pcCheck(m,1,1,g,d);f=I.toDate(m[0]);return null===f?NaN:f.getHours()})};q.second=function(g,d){return w(g,d,(f,A,m)=>{I.pcCheck(m,1,1,g,d);f=I.toDate(m[0]);return null===f?NaN:f.getSeconds()})};q.millisecond=function(g,d){return w(g,d,(f,A,m)=>{I.pcCheck(m,1,1,g,d);f=I.toDate(m[0]);return null===f?NaN:f.getMilliseconds()})};q.minute=function(g,d){return w(g,d,(f,A,m)=>{I.pcCheck(m,1,1,g,d);f=I.toDate(m[0]);return null===f?NaN:
f.getMinutes()})};q.week=function(g,d){return w(g,d,(f,A,m)=>{I.pcCheck(m,1,2,g,d);f=I.toDate(m[0]);if(null===f)return NaN;m=I.toNumber(I.defaultUndefined(m[1],0));if(0>m||6<m)throw new E.ArcadeExecutionError(g,E.ExecutionErrorCodes.InvalidParameter,d);A=f.getDate();var n=f.getMonth();const H=f.getFullYear();f=f.getDay();A=A+(0!==H%4||0===H%100&&0!==H%400?h:G)[n]-1;n=Math.floor(A/7);return f-m+(0>f-m?7:0)<A-7*n?n+1:n})};q.weekday=function(g,d){return w(g,d,(f,A,m)=>{I.pcCheck(m,1,1,g,d);f=I.toDate(m[0]);
return null===f?NaN:f.getDay()})};q.isoweekday=function(g,d){return w(g,d,(f,A,m)=>{I.pcCheck(m,1,1,g,d);f=I.toDate(m[0]);if(null===f)return NaN;f=f.getDay();0===f&&(f=7);return f})};q.isomonth=function(g,d){return w(g,d,(f,A,m)=>{I.pcCheck(m,1,1,g,d);f=I.toDate(m[0]);return null===f?NaN:f.getMonth()+1})};q.isoweek=function(g,d){return w(g,d,(f,A,m)=>{I.pcCheck(m,1,1,g,d);A=I.toDate(m[0]);if(null===A)return NaN;f=J(A).getTime();A=e(A);m=new Date(0);m.setFullYear(A,0,4);m.setHours(0,0,0,0);A=J(m);
f-=A.getTime();return Math.round(f/6048E5)+1})};q.isoyear=function(g,d){return w(g,d,(f,A,m)=>{I.pcCheck(m,1,1,g,d);f=I.toDate(m[0]);return null===f?NaN:e(f)})};q.date=function(g,d){return w(g,d,(f,A,m)=>{I.pcCheck(m,0,7,g,d);if(3===m.length)return F(new Date(I.toNumber(m[0]),I.toNumber(m[1]),I.toNumber(m[2]),0,0,0,0));if(4===m.length)return F(new Date(I.toNumber(m[0]),I.toNumber(m[1]),I.toNumber(m[2]),I.toNumber(m[3]),0,0,0));if(5===m.length)return F(new Date(I.toNumber(m[0]),I.toNumber(m[1]),I.toNumber(m[2]),
I.toNumber(m[3]),I.toNumber(m[4]),0,0));if(6===m.length)return F(new Date(I.toNumber(m[0]),I.toNumber(m[1]),I.toNumber(m[2]),I.toNumber(m[3]),I.toNumber(m[4]),I.toNumber(m[5]),0));if(7===m.length)return F(new Date(I.toNumber(m[0]),I.toNumber(m[1]),I.toNumber(m[2]),I.toNumber(m[3]),I.toNumber(m[4]),I.toNumber(m[5]),I.toNumber(m[6])));if(2===m.length){f=I.toString(m[1]);if(""===f)return null;f=I.standardiseDateFormat(f);m="X"===f?b.DateTime.fromSeconds(I.toNumber(m[0])):"x"===f?b.DateTime.fromMillis(I.toNumber(m[0])):
b.DateTime.fromFormat(I.toString(m[0]),f,{locale:z.getLocale(),numberingSystem:"latn"});return m.isValid?m.toJSDate():null}if(1===m.length){if(I.isString(m[0])){if(""===m[0].replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))return null;if(!0===/^[0-9][0-9][0-9][0-9]$/.test(m[0]))return I.toDate(m[0]+"-01-01")}f=I.toNumber(m[0]);return!1===isNaN(f)?F(new Date(f)):I.toDate(m[0])}if(0===m.length)return new Date})};q.datediff=function(g,d){return w(g,d,(f,A,m)=>{I.pcCheck(m,2,3,g,d);f=I.toDateTime(m[0]);
A=I.toDateTime(m[1]);if(null===f||null===A)return NaN;switch(I.toString(m[2]).toLowerCase()){case "days":case "day":case "d":return f.diff(A,"days").days;case "months":case "month":return f.diff(A,"months").months;case "minutes":case "minute":case "m":return"M"===m[2]?f.diff(A,"months").months:f.diff(A,"minutes").minutes;case "seconds":case "second":case "s":return f.diff(A,"seconds").seconds;case "milliseconds":case "millisecond":case "ms":return f.diff(A).milliseconds;case "hours":case "hour":case "h":return f.diff(A,
"hours").hours;case "years":case "year":case "y":return f.diff(A,"years").years;default:return f.diff(A).milliseconds}})};q.dateadd=function(g,d){return w(g,d,(f,A,m)=>{I.pcCheck(m,2,3,g,d);f=I.toDateTime(m[0]);if(null===f)return null;A=I.toNumber(m[1]);if(isNaN(A))return f.toJSDate();let n="milliseconds";switch(I.toString(m[2]).toLowerCase()){case "days":case "day":case "d":n="days";A=I.absRound(A);break;case "months":case "month":n="months";A=I.absRound(A);break;case "minutes":case "minute":case "m":n=
"M"===m[2]?"months":"minutes";break;case "seconds":case "second":case "s":n="seconds";break;case "milliseconds":case "millisecond":case "ms":n="milliseconds";break;case "hours":case "hour":case "h":n="hours";break;case "years":case "year":case "y":n="years"}return f.plus({[n]:A}).toJSDate()})}};Object.defineProperties(x,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/functions/geometry":function(){define("exports ../Dictionary ../Feature ../ImmutablePointArray ../../chunks/languageUtils ../../geometry/Extent ../../geometry/Geometry ../../geometry/Multipoint ../../geometry/Point ../../geometry/Polygon ../../geometry/Polyline ./centroid ../../geometry/support/jsonUtils ../executionError ../ImmutablePathArray ../../geometry/support/coordsUtils".split(" "),
function(x,I,E,z,b,e,J,F,h,G,q,w,g,d,f,A){function m(B){return B&&"esri.arcade.Feature"===B.arcadeDeclaredClass}function n(B,c,l,t,v=1){c=c.toLowerCase();switch(c){case "hasz":return B=B.hasZ,void 0===B?!1:B;case "hasm":return B=B.hasM,void 0===B?!1:B;case "spatialreference":return c=B.spatialReference._arcadeCacheId,void 0===c&&(l=!0,Object.freeze&&Object.isFrozen(B.spatialReference)&&(l=!1),l&&(H++,c=B.spatialReference._arcadeCacheId=H)),B=new I({wkt:B.spatialReference.wkt,wkid:B.spatialReference.wkid}),
void 0!==c&&(B._arcadeCacheId="SPREF"+c.toString()),B}switch(B.type){case "extent":switch(c){case "xmin":case "xmax":case "ymin":case "ymax":case "zmin":case "zmax":case "mmin":case "mmax":return B=B[c],void 0!==B?B:null;case "type":return"Extent"}break;case "polygon":switch(c){case "rings":return c=B.cache._arcadeCacheId,void 0===c&&(H++,c=H,B.cache._arcadeCacheId=c),new f(B.rings,B.spatialReference,!0===B.hasZ,!0===B.hasM,c);case "type":return"Polygon"}break;case "point":switch(c){case "x":case "y":case "z":case "m":return void 0!==
B[c]?B[c]:null;case "type":return"Point"}break;case "polyline":switch(c){case "paths":return c=B.cache._arcadeCacheId,void 0===c&&(H++,c=H,B.cache._arcadeCacheId=c),new f(B.paths,B.spatialReference,!0===B.hasZ,!0===B.hasM,c);case "type":return"Polyline"}break;case "multipoint":switch(c){case "points":return c=B.cache._arcadeCacheId,void 0===c&&(H++,c=H,B.cache._arcadeCacheId=c),new z(B.points,B.spatialReference,!0===B.hasZ,!0===B.hasM,c,1);case "type":return"Multipoint"}}if(1===v)throw new d.ArcadeExecutionError(l,
d.ExecutionErrorCodes.InvalidIdentifier,t);return 2===v?{keystate:"notfound"}:null}let H=0;x.geometryMember=n;x.registerFunctions=function(B,c){B.ringisclockwise=function(l,t){return c(l,t,(v,r,P)=>{b.pcCheck(P,1,1,l,t);v=[];let na=r=!1;if(null===P[0])return!1;if(b.isArray(P[0])){for(const ia of P[0])if(ia instanceof h)v.push(ia.hasZ?ia.hasM?[ia.x,ia.y,ia.z,ia.m]:[ia.x,ia.y,ia.z]:[ia.x,ia.y]);else throw new d.ArcadeExecutionError(l,d.ExecutionErrorCodes.InvalidParameter,t);0<v.length&&(r=P[0][0].hasZ,
na=P[0][0].hasM)}else if(P[0]instanceof z)v=P[0]._elements,0<v.length&&(r=P[0]._hasZ,na=P[0]._hasM);else if(b.isImmutableArray(P[0])){for(const ia of P[0].toArray())if(ia instanceof h)v.push(ia.hasZ?ia.hasM?[ia.x,ia.y,ia.z,ia.m]:[ia.x,ia.y,ia.z]:[ia.x,ia.y]);else throw new d.ArcadeExecutionError(l,d.ExecutionErrorCodes.InvalidParameter,t);0<v.length&&(r=P[0].get(0).hasZ,na=P[0].get(0).hasM)}else throw new d.ArcadeExecutionError(l,d.ExecutionErrorCodes.InvalidParameter,t);return 3>v.length?!1:A.isClockwise(v,
na,r)})};B.polygon=function(l,t){return c(l,t,(v,r,P)=>{b.pcCheck(P,1,1,l,t);v=null;if(P[0]instanceof I){if(v=b.fixSpatialReference(E.parseGeometryFromDictionary(P[0]),l.spatialReference),!1===v instanceof G)throw new d.ArcadeExecutionError(l,d.ExecutionErrorCodes.InvalidParameter,t);}else v=P[0]instanceof G?g.fromJSON(P[0].toJSON()):b.fixSpatialReference(new G(JSON.parse(P[0])),l.spatialReference);if(null!==v&&!1===v.spatialReference.equals(l.spatialReference))throw new d.ArcadeExecutionError(l,
d.ExecutionErrorCodes.WrongSpatialReference,t);return b.fixNullGeometry(v)})};B.polyline=function(l,t){return c(l,t,(v,r,P)=>{b.pcCheck(P,1,1,l,t);v=null;if(P[0]instanceof I){if(v=b.fixSpatialReference(E.parseGeometryFromDictionary(P[0]),l.spatialReference),!1===v instanceof q)throw new d.ArcadeExecutionError(l,d.ExecutionErrorCodes.InvalidParameter,t);}else v=P[0]instanceof q?g.fromJSON(P[0].toJSON()):b.fixSpatialReference(new q(JSON.parse(P[0])),l.spatialReference);if(null!==v&&!1===v.spatialReference.equals(l.spatialReference))throw new d.ArcadeExecutionError(l,
d.ExecutionErrorCodes.WrongSpatialReference,t);return b.fixNullGeometry(v)})};B.point=function(l,t){return c(l,t,(v,r,P)=>{b.pcCheck(P,1,1,l,t);v=null;if(P[0]instanceof I){if(v=b.fixSpatialReference(E.parseGeometryFromDictionary(P[0]),l.spatialReference),!1===v instanceof h)throw new d.ArcadeExecutionError(l,d.ExecutionErrorCodes.InvalidParameter,t);}else v=P[0]instanceof h?g.fromJSON(P[0].toJSON()):b.fixSpatialReference(new h(JSON.parse(P[0])),l.spatialReference);if(null!==v&&!1===v.spatialReference.equals(l.spatialReference))throw new d.ArcadeExecutionError(l,
d.ExecutionErrorCodes.WrongSpatialReference,t);return b.fixNullGeometry(v)})};B.multipoint=function(l,t){return c(l,t,(v,r,P)=>{b.pcCheck(P,1,1,l,t);v=null;if(P[0]instanceof I){if(v=b.fixSpatialReference(E.parseGeometryFromDictionary(P[0]),l.spatialReference),!1===v instanceof F)throw new d.ArcadeExecutionError(l,d.ExecutionErrorCodes.InvalidParameter,t);}else v=P[0]instanceof F?g.fromJSON(P[0].toJSON()):b.fixSpatialReference(new F(JSON.parse(P[0])),l.spatialReference);if(null!==v&&!1===v.spatialReference.equals(l.spatialReference))throw new d.ArcadeExecutionError(l,
d.ExecutionErrorCodes.WrongSpatialReference,t);return b.fixNullGeometry(v)})};B.extent=function(l,t){return c(l,t,(v,r,P)=>{P=b.autoCastFeatureToGeometry(P);b.pcCheck(P,1,1,l,t);v=null;P[0]instanceof I?v=b.fixSpatialReference(E.parseGeometryFromDictionary(P[0]),l.spatialReference):P[0]instanceof h?(v={xmin:P[0].x,ymin:P[0].y,xmax:P[0].x,ymax:P[0].y,spatialReference:P[0].spatialReference.toJSON()},P=P[0],P.hasZ?(v.zmin=P.z,v.zmax=P.z):P.hasM&&(v.mmin=P.m,v.mmax=P.m),v=g.fromJSON(v)):v=P[0]instanceof
G?g.fromJSON(P[0].extent?.toJSON()):P[0]instanceof q?g.fromJSON(P[0].extent?.toJSON()):P[0]instanceof F?g.fromJSON(P[0].extent?.toJSON()):P[0]instanceof e?g.fromJSON(P[0].toJSON()):b.fixSpatialReference(new e(JSON.parse(P[0])),l.spatialReference);if(null!==v&&!1===v.spatialReference.equals(l.spatialReference))throw new d.ArcadeExecutionError(l,d.ExecutionErrorCodes.WrongSpatialReference,t);return b.fixNullGeometry(v)})};B.geometry=function(l,t){return c(l,t,(v,r,P)=>{b.pcCheck(P,1,1,l,t);v=null;if(null===
P[0])return null;v=m(P[0])?b.fixSpatialReference(P[0].geometry(),l.spatialReference):P[0]instanceof I?b.fixSpatialReference(E.parseGeometryFromDictionary(P[0]),l.spatialReference):b.fixSpatialReference(g.fromJSON(JSON.parse(P[0])),l.spatialReference);if(null!==v&&!1===v.spatialReference.equals(l.spatialReference))throw new d.ArcadeExecutionError(l,d.ExecutionErrorCodes.WrongSpatialReference,t);return b.fixNullGeometry(v)})};B.setgeometry=function(l,t){return c(l,t,(v,r,P)=>{b.pcCheck(P,2,2,l,t);if(m(P[0])){if(!0===
P[0].immutable)throw new d.ArcadeExecutionError(l,d.ExecutionErrorCodes.Immutable,t);if(P[1]instanceof J||null===P[1])P[0]._geometry=P[1];else throw new d.ArcadeExecutionError(l,d.ExecutionErrorCodes.InvalidParameter,t);}else throw new d.ArcadeExecutionError(l,d.ExecutionErrorCodes.InvalidParameter,t);return b.voidOperation})};B.feature=function(l,t){return c(l,t,(v,r,P)=>{if(0===P.length)throw new d.ArcadeExecutionError(l,d.ExecutionErrorCodes.WrongNumberOfParameters,t);v=null;if(1===P.length)if(b.isString(P[0]))v=
E.fromJson(JSON.parse(P[0]));else if(m(P[0]))v=E.createFromArcadeFeature(P[0]);else if(P[0]instanceof J)v=E.createFromGraphicLikeObject(P[0],null,null);else if(P[0]instanceof I)v=P[0].hasField("geometry")?P[0].field("geometry"):null,P=P[0].hasField("attributes")?P[0].field("attributes"):null,null!==v&&v instanceof I&&(v=E.parseGeometryFromDictionary(v)),null!==P&&(P=E.parseAttributesFromDictionary(P)),v=E.createFromGraphicLikeObject(v,P,null);else throw new d.ArcadeExecutionError(l,d.ExecutionErrorCodes.InvalidParameter,
t);else if(2===P.length){r=v=null;if(null!==P[0])if(P[0]instanceof J)v=P[0];else if(v instanceof I)v=E.parseGeometryFromDictionary(P[0]);else throw new d.ArcadeExecutionError(l,d.ExecutionErrorCodes.InvalidParameter,t);if(null!==P[1])if(P[1]instanceof I)r=E.parseAttributesFromDictionary(P[1]);else throw new d.ArcadeExecutionError(l,d.ExecutionErrorCodes.InvalidParameter,t);v=E.createFromGraphicLikeObject(v,r,null)}else{v=null;r={};if(null!==P[0])if(P[0]instanceof J)v=P[0];else if(v instanceof I)v=
E.parseGeometryFromDictionary(P[0]);else throw new d.ArcadeExecutionError(l,d.ExecutionErrorCodes.InvalidParameter,t);for(let na=1;na<P.length;na+=2){const ia=b.toString(P[na]),oa=P[na+1];if(null===oa||void 0===oa||b.isString(oa)||isNaN(oa)||b.isDate(oa)||b.isNumber(oa)||b.isBoolean(oa)){if(b.isFunctionParameter(oa)||!1===b.isSimpleType(oa))throw new d.ArcadeExecutionError(l,d.ExecutionErrorCodes.InvalidParameter,t);r[ia]=oa===b.voidOperation?null:oa}else throw new d.ArcadeExecutionError(l,d.ExecutionErrorCodes.InvalidParameter,
t);}v=E.createFromGraphicLikeObject(v,r,null)}v._geometry=b.fixSpatialReference(v.geometry(),l.spatialReference);v.immutable=!1;return v})};B.dictionary=function(l,t){return c(l,t,(v,r,P)=>{if(0===P.length)return P=new I,P.immutable=!1,P;if(1===P.length&&b.isString(P[0]))try{var na=JSON.parse(P[0]),ia=I.convertObjectToArcadeDictionary(na,!1);ia.immutable=!1;return ia}catch(oa){throw new d.ArcadeExecutionError(l,d.ExecutionErrorCodes.InvalidParameter,t);}if(0!==P.length%2)throw new d.ArcadeExecutionError(l,
d.ExecutionErrorCodes.WrongNumberOfParameters,t);v={};for(r=0;r<P.length;r+=2)if(na=b.toString(P[r]),ia=P[r+1],null===ia||void 0===ia||b.isString(ia)||isNaN(ia)||b.isDate(ia)||b.isNumber(ia)||b.isBoolean(ia)||b.isArray(ia)||b.isImmutableArray(ia)){if(b.isFunctionParameter(ia))throw new d.ArcadeExecutionError(l,d.ExecutionErrorCodes.InvalidParameter,t);v[na]=ia===b.voidOperation?null:ia}else throw new d.ArcadeExecutionError(l,d.ExecutionErrorCodes.InvalidParameter,t);P=new I(v);P.immutable=!1;return P})};
B.haskey=function(l,t){return c(l,t,(v,r,P)=>{b.pcCheck(P,2,2,l,t);v=b.toString(P[1]);if(m(P[0])||P[0]instanceof I)return P[0].hasField(v);if(P[0]instanceof J)return(P=n(P[0],v,null,null,2))&&"notfound"===P.keystate?!1:!0;throw new d.ArcadeExecutionError(l,d.ExecutionErrorCodes.InvalidParameter,t);})};B.hasvalue=function(l,t){return c(l,t,(v,r,P)=>{b.pcCheck(P,2,2,l,t);if(null===P[0]||null===P[1])return!1;v=b.toString(P[1]);return b.isFeature(P[0])||P[0]instanceof I?P[0].hasField(v)&&null!==P[0].field(v)?
!0:!1:P[0]instanceof J?null===n(P[0],v,null,null,0)?!1:!0:!1})};B.indexof=function(l,t){return c(l,t,(v,r,P)=>{b.pcCheck(P,2,2,l,t);v=P[1];if(b.isArray(P[0])){for(r=0;r<P[0].length;r++)if(b.equalityTest(v,P[0][r]))return r;return-1}if(b.isImmutableArray(P[0])){r=P[0].length();for(let na=0;na<r;na++)if(b.equalityTest(v,P[0].get(na)))return na;return-1}throw new d.ArcadeExecutionError(l,d.ExecutionErrorCodes.InvalidParameter,t);})};B.angle=function(l,t){return c(l,t,(v,r,P)=>{P=b.autoCastFeatureToGeometry(P);
b.pcCheck(P,2,3,l,t);if(!(P[0]instanceof h))throw new d.ArcadeExecutionError(l,d.ExecutionErrorCodes.InvalidParameter,t);if(!(P[1]instanceof h))throw new d.ArcadeExecutionError(l,d.ExecutionErrorCodes.InvalidParameter,t);if(2<P.length&&!(P[2]instanceof h))throw new d.ArcadeExecutionError(l,d.ExecutionErrorCodes.InvalidParameter,t);return 2===P.length?w.angle2D(P[0],P[1]):w.angleBetween2D(P[0],P[1],P[2])})};B.bearing=function(l,t){return c(l,t,(v,r,P)=>{P=b.autoCastFeatureToGeometry(P);b.pcCheck(P,
2,3,l,t);if(!(P[0]instanceof h))throw new d.ArcadeExecutionError(l,d.ExecutionErrorCodes.InvalidParameter,t);if(!(P[1]instanceof h))throw new d.ArcadeExecutionError(l,d.ExecutionErrorCodes.InvalidParameter,t);if(2<P.length&&!(P[2]instanceof h))throw new d.ArcadeExecutionError(l,d.ExecutionErrorCodes.InvalidParameter,t);return 2===P.length?w.bearing2D(P[0],P[1]):w.bearingBetween2D(P[0],P[1],P[2])})};B.isselfintersecting=function(l,t){return c(l,t,(v,r,P)=>{P=b.autoCastFeatureToGeometry(P);b.pcCheck(P,
1,1,l,t);v=P[0];if(v instanceof G)return v.isSelfIntersecting;if(v instanceof q)return v=v.paths,w.pathsSelfIntersecting(v);if(v instanceof F)for(r=v.points,P=0;P<r.length;P++)for(let na=0;na<r.length;na++)if(na!==P){let ia=!0;for(let oa=0;oa<r[P].length;oa++)if(r[P][oa]!==r[na][oa]){ia=!1;break}if(!0===ia)return!0}return b.isArray(v)||b.isImmutableArray(v)?(v=b.autoCastArrayOfPointsToPolyline(v,l.spatialReference),null!==v&&(v=v.paths),w.pathsSelfIntersecting(v)):!1})}};Object.defineProperties(x,
{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/functions/centroid":function(){define(["exports","../../geometry/Point","../../geometry/support/intersectsBase"],function(x,I,E){function z(w,g,d){const f={x:0,y:0};g&&(f.z=0);d&&(f.m=0);let A=0;var m=w[0];for(let l=0;l<w.length;l++){const t=w[l];a:if(t.length!==m.length)var n=!1;else{for(n=0;n<t.length;n++)if(t[n]!==m[n]){n=!1;break a}n=!0}if(!1===n){n=b(m,t,g);var H=t,B=g,c=d;const v={x:(m[0]+H[0])/2,y:(m[1]+H[1])/2};
B&&(v.z=(m[2]+H[2])/2);B&&c?v.m=(m[3]+H[3])/2:c&&(v.m=(m[2]+H[2])/2);m=v;m.x*=n;m.y*=n;f.x+=m.x;f.y+=m.y;g&&(m.z*=n,f.z+=m.z);d&&(m.m*=n,f.m+=m.m);A+=n;m=t}}0<A?(f.x/=A,f.y/=A,g&&(f.z/=A),d&&(f.m/=A)):(f.x=w[0][0],f.y=w[0][1],g&&(f.z=w[0][2]),d&&g?f.m=w[0][3]:d&&(f.m=w[0][2]));return f}function b(w,g,d){const f=g[0]-w[0];w=g[1]-w[1];return d?(g=g[2]-g[2],Math.sqrt(f*f+w*w+g*g)):Math.sqrt(f*f+w*w)}function e(w,g,d=0){for(;w<d;)w+=g;for(d+=g;w>=d;)w-=g;return w}function J(w,g){return Math.atan2(g.y-
w.y,g.x-w.x)}function F(w,g,d){var f=w.x-g.x;w=w.y-g.y;var A=d.x-g.x;g=d.y-g.y;return Math.atan2(f*g-A*w,f*A+w*g)}const h=[];for(const w of[[9002,56146130,6131,6132,8050,8051,8228],[9003,5702,6358,6359,6360,8052,8053],[9095,5754]]){const g=w[0];for(let d=1;d<w.length;d++)h[w[d]]=g}const G=[];G[9002]=.3048;G[9003]=.3048006096012192;G[9095]=.3048007491;const q=[0,0];x.angle2D=function(w,g){return e(J(w,g),2*Math.PI)*(180/Math.PI)};x.angleBetween2D=function(w,g,d){return e(F(w,g,d),2*Math.PI)*(180/Math.PI)};
x.angleBetweenRad=F;x.angleRad=J;x.bearing2D=function(w,g){return e(Math.PI/2-J(w,g),2*Math.PI)*(180/Math.PI)};x.bearingBetween2D=function(w,g,d){return e(-1*F(w,g,d),2*Math.PI)*(180/Math.PI)};x.centroidMultiPoint=function(w){if(0===w.points.length)return null;var g=0;let d=0,f=0,A=0;for(let m=0;m<w.points.length;m++){const n=w.getPoint(m);!0===n.hasZ&&(f+=n.z);!0===n.hasM&&(A+=n.m);g+=n.x;d+=n.y;A+=n.m}g={x:g/w.points.length,y:d/w.points.length,spatialReference:null};g.spatialReference=w.spatialReference.toJSON();
!0===w.hasZ&&(g.z=f/w.points.length);!0===w.hasM&&(g.m=A/w.points.length);return new I(g)};x.centroidPolyline=function(w){const g={x:0,y:0,spatialReference:w.spatialReference.toJSON()},d={x:0,y:0,spatialReference:w.spatialReference.toJSON()};let f=0,A=0;for(let H=0;H<w.paths.length;H++)if(0!==w.paths[H].length){a:{var m=w.paths[H];var n=!0===w.hasZ;if(1>=m.length){m=0;break a}let B=0;for(let c=1;c<m.length;c++)B+=b(m[c-1],m[c],n);m=B}0===m?(m=z(w.paths[H],!0===w.hasZ,!0===w.hasM),g.x+=m.x,g.y+=m.y,
!0===w.hasZ&&(g.z+=m.z),!0===w.hasM&&(g.m+=m.m),++f):(n=z(w.paths[H],!0===w.hasZ,!0===w.hasM),d.x+=n.x*m,d.y+=n.y*m,!0===w.hasZ&&(d.z+=n.z*m),!0===w.hasM&&(d.m+=n.m*m),A+=m)}return 0<A?(d.x/=A,d.y/=A,!0===w.hasZ&&(d.z/=A),!0===w.hasM&&(d.m/=A),new I(d)):0<f?(g.x/=f,g.y/=f,!0===w.hasZ&&(d.z/=f),!0===w.hasM&&(g.m/=f),new I(g)):null};x.getMetersPerVerticalUnitForSR=function(w){return w.vcsWkid&&void 0!==h[w.vcsWkid]?G[h[w.vcsWkid]]:w.latestVcsWkid&&void 0!==h[w.latestVcsWkid]?G[h[w.latestVcsWkid]]:1};
x.pathsSelfIntersecting=function(w){for(let B=0;B<w.length;B++){const c=w[B];for(var g=0;g<c.length-1;g++){var d=c[g],f=c[g+1];for(var A=B+1;A<w.length;A++)for(var m=0;m<w[A].length-1;m++){var n=w[A][m],H=w[A][m+1];if(E.segmentIntersects(d,f,n,H,q)&&!(q[0]===d[0]&&q[1]===d[1]||q[0]===n[0]&&q[1]===n[1]||q[0]===f[0]&&q[1]===f[1]||q[0]===H[0]&&q[1]===H[1]))return!0}}g=c.length;if(!(3>g))for(d=0;d<=g-2;d++)for(f=c[d],A=c[d+1],m=d+2;m<=g-2;m++)if(n=c[m],H=c[m+1],E.segmentIntersects(f,A,n,H,q)&&!(q[0]===
f[0]&&q[1]===f[1]||q[0]===n[0]&&q[1]===n[1]||q[0]===A[0]&&q[1]===A[1]||q[0]===H[0]&&q[1]===H[1]))return!0}return!1};x.segmentLength3d=function(w,g,d){return Math.sqrt((w[0]-g[0])**2+(w[1]-g[1])**2+(void 0!==w[2]&&void 0!==g[2]?(w[2]*d-g[2]*d)**2:0))};Object.defineProperties(x,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/functions/geomsync":function(){define("exports ../../kernel ../kernel ../../chunks/languageUtils ./centroid ../../geometry/Extent ../../geometry/Geometry ../../geometry/Multipoint ../../geometry/Point ../../geometry/Polygon ../../geometry/Polyline ../../geometry/support/jsonUtils ../executionError ../../core/unitUtils".split(" "),
function(x,I,E,z,b,e,J,F,h,G,q,w,g,d){function f(n){return 0===I.version.indexOf("4.")?G.fromExtent(n):new G({spatialReference:n.spatialReference,rings:[[[n.xmin,n.ymin],[n.xmin,n.ymax],[n.xmax,n.ymax],[n.xmax,n.ymin],[n.xmin,n.ymin]]]})}function A(n,H){if("polygon"!==n.type&&"polyline"!==n.type&&"extent"!==n.type)return 0;var B=1;if(n.spatialReference.vcsWkid||n.spatialReference.latestVcsWkid){B=b.getMetersPerVerticalUnitForSR(n.spatialReference);var c=d.getMetersPerUnitForSR(n.spatialReference);
B/=c}c=0;if("polyline"===n.type)for(var l of n.paths)for(var t=1;t<l.length;t++)c+=b.segmentLength3d(l[t],l[t-1],B);else if("polygon"===n.type)for(t of n.rings){for(l=1;l<t.length;l++)c+=b.segmentLength3d(t[l],t[l-1],B);if(t[0][0]!==t[t.length-1][0]||t[0][1]!==t[t.length-1][1]||void 0!==t[0][2]&&t[0][2]!==t[t.length-1][2])c+=b.segmentLength3d(t[0],t[t.length-1],B)}else"extent"===n.type&&(c+=2*b.segmentLength3d([n.xmin,n.ymin,0],[n.xmax,n.ymin,0],B),c+=2*b.segmentLength3d([n.xmin,n.ymin,0],[n.xmin,
n.ymax,0],B),c=2*c+4*Math.abs(z.defaultUndefined(n.zmax,0)*B-z.defaultUndefined(n.zmin,0)*B));n=new q({hasZ:!1,hasM:!1,spatialReference:n.spatialReference,paths:[[0,0],[0,c]]});return m.planarLength(n,H)}let m=null;x.registerFunctions=function(n,H){function B(c,l,t){z.pcCheck(t,2,2,c,l);if(!(t[0]instanceof J&&t[1]instanceof J||t[0]instanceof J&&null===t[1]||t[1]instanceof J&&null===t[0]||null===t[0]&&null===t[1]))throw new g.ArcadeExecutionError(c,g.ExecutionErrorCodes.InvalidParameter,l);}n.disjoint=
function(c,l){return H(c,l,(t,v,r)=>{r=z.autoCastFeatureToGeometry(r);B(c,l,r);return null===r[0]||null===r[1]?!0:m.disjoint(r[0],r[1])})};n.intersects=function(c,l){return H(c,l,(t,v,r)=>{r=z.autoCastFeatureToGeometry(r);B(c,l,r);return null===r[0]||null===r[1]?!1:m.intersects(r[0],r[1])})};n.touches=function(c,l){return H(c,l,(t,v,r)=>{r=z.autoCastFeatureToGeometry(r);B(c,l,r);return null===r[0]||null===r[1]?!1:m.touches(r[0],r[1])})};n.crosses=function(c,l){return H(c,l,(t,v,r)=>{r=z.autoCastFeatureToGeometry(r);
B(c,l,r);return null===r[0]||null===r[1]?!1:m.crosses(r[0],r[1])})};n.within=function(c,l){return H(c,l,(t,v,r)=>{r=z.autoCastFeatureToGeometry(r);B(c,l,r);return null===r[0]||null===r[1]?!1:m.within(r[0],r[1])})};n.contains=function(c,l){return H(c,l,(t,v,r)=>{r=z.autoCastFeatureToGeometry(r);B(c,l,r);return null===r[0]||null===r[1]?!1:m.contains(r[0],r[1])})};n.overlaps=function(c,l){return H(c,l,(t,v,r)=>{r=z.autoCastFeatureToGeometry(r);B(c,l,r);return null===r[0]||null===r[1]?!1:m.overlaps(r[0],
r[1])})};n.equals=function(c,l){return H(c,l,(t,v,r)=>{z.pcCheck(r,2,2,c,l);return r[0]===r[1]?!0:r[0]instanceof J&&r[1]instanceof J?m.equals(r[0],r[1]):z.isDate(r[0])&&z.isDate(r[1])?r[0].getTime()===r[1].getTime():!1})};n.relate=function(c,l){return H(c,l,(t,v,r)=>{r=z.autoCastFeatureToGeometry(r);z.pcCheck(r,3,3,c,l);if(r[0]instanceof J&&r[1]instanceof J)return m.relate(r[0],r[1],z.toString(r[2]));if(r[0]instanceof J&&null===r[1]||r[1]instanceof J&&null===r[0]||null===r[0]&&null===r[1])return!1;
throw new g.ArcadeExecutionError(c,g.ExecutionErrorCodes.InvalidParameter,l);})};n.intersection=function(c,l){return H(c,l,(t,v,r)=>{r=z.autoCastFeatureToGeometry(r);B(c,l,r);return null===r[0]||null===r[1]?null:m.intersect(r[0],r[1])})};n.union=function(c,l){return H(c,l,(t,v,r)=>{r=z.autoCastFeatureToGeometry(r);t=[];if(0===r.length)throw new g.ArcadeExecutionError(c,g.ExecutionErrorCodes.WrongNumberOfParameters,l);if(1===r.length)if(z.isArray(r[0]))for(r=z.autoCastFeatureToGeometry(r[0]),v=0;v<
r.length;v++){if(null!==r[v]){if(!(r[v]instanceof J))throw new g.ArcadeExecutionError(c,g.ExecutionErrorCodes.InvalidParameter,l);t.push(r[v])}}else if(z.isImmutableArray(r[0]))for(r=z.autoCastFeatureToGeometry(r[0].toArray()),v=0;v<r.length;v++){if(null!==r[v]){if(!(r[v]instanceof J))throw new g.ArcadeExecutionError(c,g.ExecutionErrorCodes.InvalidParameter,l);t.push(r[v])}}else{if(r[0]instanceof J)return z.fixSpatialReference(E.cloneGeometry(r[0]),c.spatialReference);if(null===r[0])return null;throw new g.ArcadeExecutionError(c,
g.ExecutionErrorCodes.InvalidParameter,l);}else for(v=0;v<r.length;v++)if(null!==r[v]){if(!(r[v]instanceof J))throw new g.ArcadeExecutionError(c,g.ExecutionErrorCodes.InvalidParameter,l);t.push(r[v])}return 0===t.length?null:m.union(t)})};n.difference=function(c,l){return H(c,l,(t,v,r)=>{r=z.autoCastFeatureToGeometry(r);B(c,l,r);return null!==r[0]&&null===r[1]?E.cloneGeometry(r[0]):null===r[0]?null:m.difference(r[0],r[1])})};n.symmetricdifference=function(c,l){return H(c,l,(t,v,r)=>{r=z.autoCastFeatureToGeometry(r);
B(c,l,r);return null===r[0]&&null===r[1]?null:null===r[0]?E.cloneGeometry(r[1]):null===r[1]?E.cloneGeometry(r[0]):m.symmetricDifference(r[0],r[1])})};n.clip=function(c,l){return H(c,l,(t,v,r)=>{r=z.autoCastFeatureToGeometry(r);z.pcCheck(r,2,2,c,l);if(!(r[1]instanceof e)&&null!==r[1])throw new g.ArcadeExecutionError(c,g.ExecutionErrorCodes.InvalidParameter,l);if(null===r[0])return null;if(!(r[0]instanceof J))throw new g.ArcadeExecutionError(c,g.ExecutionErrorCodes.InvalidParameter,l);return null===
r[1]?null:m.clip(r[0],r[1])})};n.cut=function(c,l){return H(c,l,(t,v,r)=>{r=z.autoCastFeatureToGeometry(r);z.pcCheck(r,2,2,c,l);if(!(r[1]instanceof q)&&null!==r[1])throw new g.ArcadeExecutionError(c,g.ExecutionErrorCodes.InvalidParameter,l);if(null===r[0])return[];if(!(r[0]instanceof J))throw new g.ArcadeExecutionError(c,g.ExecutionErrorCodes.InvalidParameter,l);return null===r[1]?[E.cloneGeometry(r[0])]:m.cut(r[0],r[1])})};n.area=function(c,l){return H(c,l,(t,v,r)=>{z.pcCheck(r,1,2,c,l);r=z.autoCastFeatureToGeometry(r);
if(null===r[0])return 0;if(z.isArray(r[0])||z.isImmutableArray(r[0]))return t=z.autoCastArrayOfPointsToPolygon(r[0],c.spatialReference),null===t?0:m.planarArea(t,E.convertSquareUnitsToCode(z.defaultUndefined(r[1],-1)));if(!(r[0]instanceof J))throw new g.ArcadeExecutionError(c,g.ExecutionErrorCodes.InvalidParameter,l);return m.planarArea(r[0],E.convertSquareUnitsToCode(z.defaultUndefined(r[1],-1)))})};n.areageodetic=function(c,l){return H(c,l,(t,v,r)=>{z.pcCheck(r,1,2,c,l);r=z.autoCastFeatureToGeometry(r);
if(null===r[0])return 0;if(z.isArray(r[0])||z.isImmutableArray(r[0]))return t=z.autoCastArrayOfPointsToPolygon(r[0],c.spatialReference),null===t?0:m.geodesicArea(t,E.convertSquareUnitsToCode(z.defaultUndefined(r[1],-1)));if(!(r[0]instanceof J))throw new g.ArcadeExecutionError(c,g.ExecutionErrorCodes.InvalidParameter,l);return m.geodesicArea(r[0],E.convertSquareUnitsToCode(z.defaultUndefined(r[1],-1)))})};n.length=function(c,l){return H(c,l,(t,v,r)=>{z.pcCheck(r,1,2,c,l);r=z.autoCastFeatureToGeometry(r);
if(null===r[0])return 0;if(z.isArray(r[0])||z.isImmutableArray(r[0]))return t=z.autoCastArrayOfPointsToPolyline(r[0],c.spatialReference),null===t?0:m.planarLength(t,E.convertLinearUnitsToCode(z.defaultUndefined(r[1],-1)));if(!(r[0]instanceof J))throw new g.ArcadeExecutionError(c,g.ExecutionErrorCodes.InvalidParameter,l);return m.planarLength(r[0],E.convertLinearUnitsToCode(z.defaultUndefined(r[1],-1)))})};n.length3d=function(c,l){return H(c,l,(t,v,r)=>{z.pcCheck(r,1,2,c,l);r=z.autoCastFeatureToGeometry(r);
if(null===r[0])return 0;if(z.isArray(r[0])||z.isImmutableArray(r[0]))return t=z.autoCastArrayOfPointsToPolyline(r[0],c.spatialReference),null===t?0:!0===t.hasZ?A(t,E.convertLinearUnitsToCode(z.defaultUndefined(r[1],-1))):m.planarLength(t,E.convertLinearUnitsToCode(z.defaultUndefined(r[1],-1)));if(!(r[0]instanceof J))throw new g.ArcadeExecutionError(c,g.ExecutionErrorCodes.InvalidParameter,l);return!0===r[0].hasZ?A(r[0],E.convertLinearUnitsToCode(z.defaultUndefined(r[1],-1))):m.planarLength(r[0],E.convertLinearUnitsToCode(z.defaultUndefined(r[1],
-1)))})};n.lengthgeodetic=function(c,l){return H(c,l,(t,v,r)=>{z.pcCheck(r,1,2,c,l);r=z.autoCastFeatureToGeometry(r);if(null===r[0])return 0;if(z.isArray(r[0])||z.isImmutableArray(r[0]))return t=z.autoCastArrayOfPointsToPolyline(r[0],c.spatialReference),null===t?0:m.geodesicLength(t,E.convertLinearUnitsToCode(z.defaultUndefined(r[1],-1)));if(!(r[0]instanceof J))throw new g.ArcadeExecutionError(c,g.ExecutionErrorCodes.InvalidParameter,l);return m.geodesicLength(r[0],E.convertLinearUnitsToCode(z.defaultUndefined(r[1],
-1)))})};n.distance=function(c,l){return H(c,l,(t,v,r)=>{r=z.autoCastFeatureToGeometry(r);z.pcCheck(r,2,3,c,l);t=r[0];if(z.isArray(r[0])||z.isImmutableArray(r[0]))t=z.autoCastArrayOfPointsToMultiPoint(r[0],c.spatialReference);v=r[1];if(z.isArray(r[1])||z.isImmutableArray(r[1]))v=z.autoCastArrayOfPointsToMultiPoint(r[1],c.spatialReference);if(!(t instanceof J))throw new g.ArcadeExecutionError(c,g.ExecutionErrorCodes.InvalidParameter,l);if(!(v instanceof J))throw new g.ArcadeExecutionError(c,g.ExecutionErrorCodes.InvalidParameter,
l);return m.distance(t,v,E.convertLinearUnitsToCode(z.defaultUndefined(r[2],-1)))})};n.distancegeodetic=function(c,l){return H(c,l,(t,v,r)=>{r=z.autoCastFeatureToGeometry(r);z.pcCheck(r,2,3,c,l);t=r[0];v=r[1];if(!(t instanceof h))throw new g.ArcadeExecutionError(c,g.ExecutionErrorCodes.InvalidParameter,l);if(!(v instanceof h))throw new g.ArcadeExecutionError(c,g.ExecutionErrorCodes.InvalidParameter,l);const P=new q({paths:[],spatialReference:t.spatialReference});P.addPath([t,v]);return m.geodesicLength(P,
E.convertLinearUnitsToCode(z.defaultUndefined(r[2],-1)))})};n.densify=function(c,l){return H(c,l,(t,v,r)=>{r=z.autoCastFeatureToGeometry(r);z.pcCheck(r,2,3,c,l);if(null===r[0])return null;if(!(r[0]instanceof J))throw new g.ArcadeExecutionError(c,g.ExecutionErrorCodes.InvalidParameter,l);t=z.toNumber(r[1]);if(isNaN(t))throw new g.ArcadeExecutionError(c,g.ExecutionErrorCodes.InvalidParameter,l);if(0>=t)throw new g.ArcadeExecutionError(c,g.ExecutionErrorCodes.InvalidParameter,l);return r[0]instanceof
G||r[0]instanceof q?m.densify(r[0],t,E.convertLinearUnitsToCode(z.defaultUndefined(r[2],-1))):r[0]instanceof e?m.densify(f(r[0]),t,E.convertLinearUnitsToCode(z.defaultUndefined(r[2],-1))):r[0]})};n.densifygeodetic=function(c,l){return H(c,l,(t,v,r)=>{r=z.autoCastFeatureToGeometry(r);z.pcCheck(r,2,3,c,l);if(null===r[0])return null;if(!(r[0]instanceof J))throw new g.ArcadeExecutionError(c,g.ExecutionErrorCodes.InvalidParameter,l);t=z.toNumber(r[1]);if(isNaN(t))throw new g.ArcadeExecutionError(c,g.ExecutionErrorCodes.InvalidParameter,
l);if(0>=t)throw new g.ArcadeExecutionError(c,g.ExecutionErrorCodes.InvalidParameter,l);return r[0]instanceof G||r[0]instanceof q?m.geodesicDensify(r[0],t,E.convertLinearUnitsToCode(z.defaultUndefined(r[2],-1))):r[0]instanceof e?m.geodesicDensify(f(r[0]),t,E.convertLinearUnitsToCode(z.defaultUndefined(r[2],-1))):r[0]})};n.generalize=function(c,l){return H(c,l,(t,v,r)=>{r=z.autoCastFeatureToGeometry(r);z.pcCheck(r,2,4,c,l);if(null===r[0])return null;if(!(r[0]instanceof J))throw new g.ArcadeExecutionError(c,
g.ExecutionErrorCodes.InvalidParameter,l);t=z.toNumber(r[1]);if(isNaN(t))throw new g.ArcadeExecutionError(c,g.ExecutionErrorCodes.InvalidParameter,l);return m.generalize(r[0],t,z.toBoolean(z.defaultUndefined(r[2],!0)),E.convertLinearUnitsToCode(z.defaultUndefined(r[3],-1)))})};n.buffer=function(c,l){return H(c,l,(t,v,r)=>{r=z.autoCastFeatureToGeometry(r);z.pcCheck(r,2,3,c,l);if(null===r[0])return null;if(!(r[0]instanceof J))throw new g.ArcadeExecutionError(c,g.ExecutionErrorCodes.InvalidParameter,
l);t=z.toNumber(r[1]);if(isNaN(t))throw new g.ArcadeExecutionError(c,g.ExecutionErrorCodes.InvalidParameter,l);return 0===t?E.cloneGeometry(r[0]):m.buffer(r[0],t,E.convertLinearUnitsToCode(z.defaultUndefined(r[2],-1)))})};n.buffergeodetic=function(c,l){return H(c,l,(t,v,r)=>{r=z.autoCastFeatureToGeometry(r);z.pcCheck(r,2,3,c,l);if(null===r[0])return null;if(!(r[0]instanceof J))throw new g.ArcadeExecutionError(c,g.ExecutionErrorCodes.InvalidParameter,l);t=z.toNumber(r[1]);if(isNaN(t))throw new g.ArcadeExecutionError(c,
g.ExecutionErrorCodes.InvalidParameter,l);return 0===t?E.cloneGeometry(r[0]):m.geodesicBuffer(r[0],t,E.convertLinearUnitsToCode(z.defaultUndefined(r[2],-1)))})};n.offset=function(c,l){return H(c,l,(t,v,r)=>{r=z.autoCastFeatureToGeometry(r);z.pcCheck(r,2,6,c,l);if(null===r[0])return null;if(!(r[0]instanceof G||r[0]instanceof q))throw new g.ArcadeExecutionError(c,g.ExecutionErrorCodes.InvalidParameter,l);t=z.toNumber(r[1]);if(isNaN(t))throw new g.ArcadeExecutionError(c,g.ExecutionErrorCodes.InvalidParameter,
l);v=z.toNumber(z.defaultUndefined(r[4],10));if(isNaN(v))throw new g.ArcadeExecutionError(c,g.ExecutionErrorCodes.InvalidParameter,l);const P=z.toNumber(z.defaultUndefined(r[5],0));if(isNaN(P))throw new g.ArcadeExecutionError(c,g.ExecutionErrorCodes.InvalidParameter,l);return m.offset(r[0],t,E.convertLinearUnitsToCode(z.defaultUndefined(r[2],-1)),z.toString(z.defaultUndefined(r[3],"round")).toLowerCase(),v,P)})};n.rotate=function(c,l){return H(c,l,(t,v,r)=>{r=z.autoCastFeatureToGeometry(r);z.pcCheck(r,
2,3,c,l);t=r[0];if(null===t)return null;if(!(t instanceof J))throw new g.ArcadeExecutionError(c,g.ExecutionErrorCodes.InvalidParameter,l);t instanceof e&&(t=G.fromExtent(t));v=z.toNumber(r[1]);if(isNaN(v))throw new g.ArcadeExecutionError(c,g.ExecutionErrorCodes.InvalidParameter,l);r=z.defaultUndefined(r[2],null);if(null===r)return m.rotate(t,v);if(r instanceof h)return m.rotate(t,v,r);throw new g.ArcadeExecutionError(c,g.ExecutionErrorCodes.InvalidParameter,l);})};n.centroid=function(c,l){return H(c,
l,(t,v,r)=>{r=z.autoCastFeatureToGeometry(r);z.pcCheck(r,1,1,c,l);if(null===r[0])return null;t=r[0];if(z.isArray(r[0])||z.isImmutableArray(r[0]))t=z.autoCastArrayOfPointsToMultiPoint(r[0],c.spatialReference);if(null===t)return null;if(!(t instanceof J))throw new g.ArcadeExecutionError(c,g.ExecutionErrorCodes.InvalidParameter,l);return t instanceof h?z.fixSpatialReference(E.cloneGeometry(r[0]),c.spatialReference):t instanceof G?t.centroid:t instanceof q?b.centroidPolyline(t):t instanceof F?b.centroidMultiPoint(t):
t instanceof e?t.center:null})};n.multiparttosinglepart=function(c,l){return H(c,l,(t,v,r)=>{r=z.autoCastFeatureToGeometry(r);z.pcCheck(r,1,1,c,l);v=[];if(null===r[0])return null;if(!(r[0]instanceof J))throw new g.ArcadeExecutionError(c,g.ExecutionErrorCodes.InvalidParameter,l);if(r[0]instanceof h||r[0]instanceof e)return[z.fixSpatialReference(E.cloneGeometry(r[0]),c.spatialReference)];t=m.simplify(r[0]);if(t instanceof G){r=[];v=[];for(var P=0;P<t.rings.length;P++)if(t.isClockwise(t.rings[P])){const na=
w.fromJSON({rings:[t.rings[P]],hasZ:!0===t.hasZ,hasM:!0===t.hasM,spatialReference:t.spatialReference.toJSON()});r.push(na)}else v.push({ring:t.rings[P],pt:t.getPoint(P,0)});for(t=0;t<v.length;t++)for(P=0;P<r.length;P++)if(r[P].contains(v[t].pt)){r[P].addRing(v[t].ring);break}return r}if(t instanceof q){r=[];for(v=0;v<t.paths.length;v++)P=w.fromJSON({paths:[t.paths[v]],hasZ:!0===t.hasZ,hasM:!0===t.hasM,spatialReference:t.spatialReference.toJSON()}),r.push(P);return r}if(r[0]instanceof F){t=z.fixSpatialReference(E.cloneGeometry(r[0]),
c.spatialReference);for(r=0;r<t.points.length;r++)v.push(t.getPoint(r));return v}return null})};n.issimple=function(c,l){return H(c,l,(t,v,r)=>{r=z.autoCastFeatureToGeometry(r);z.pcCheck(r,1,1,c,l);if(null===r[0])return!0;if(!(r[0]instanceof J))throw new g.ArcadeExecutionError(c,g.ExecutionErrorCodes.InvalidParameter,l);return m.isSimple(r[0])})};n.simplify=function(c,l){return H(c,l,(t,v,r)=>{r=z.autoCastFeatureToGeometry(r);z.pcCheck(r,1,1,c,l);if(null===r[0])return null;if(!(r[0]instanceof J))throw new g.ArcadeExecutionError(c,
g.ExecutionErrorCodes.InvalidParameter,l);return m.simplify(r[0])})};n.convexhull=function(c,l){return H(c,l,(t,v,r)=>{r=z.autoCastFeatureToGeometry(r);z.pcCheck(r,1,1,c,l);if(null===r[0])return null;if(!(r[0]instanceof J))throw new g.ArcadeExecutionError(c,g.ExecutionErrorCodes.InvalidParameter,l);return m.convexHull(r[0])})}};x.setGeometryEngine=function(n){m=n};Object.defineProperties(x,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/kernel":function(){define(["exports",
"../geometry/Extent"],function(x,I){x.cloneGeometry=function(E){if(null==E)return null;const z=E.clone();void 0!==E.cache._geVersion&&(z.cache._geVersion=E.cache._geVersion);return z};x.convertLinearUnitsToCode=function(E){if(null==E)return null;if("number"===typeof E)return E;E=E.toLowerCase();E=E.replace(/\s/g,"");E=E.replace(/-/g,"");switch(E){case "meters":case "meter":case "m":case "squaremeters":case "squaremeter":return 9001;case "miles":case "mile":case "squaremile":case "squaremiles":return 9093;
case "kilometers":case "kilometer":case "squarekilometers":case "squarekilometer":case "km":return 9036;case "yard":case "yd":case "yards":case "squareyards":case "squareyard":return 9096;case "feet":case "ft":case "foot":case "squarefeet":case "squarefoot":return 9002;case "nm":case "nmi":case "nauticalmile":case "nauticalmiles":case "squarenauticalmile":case "squarenauticalmiles":return 9030}return null};x.convertSquareUnitsToCode=function(E){if(null==E)return null;if("number"===typeof E)return E;
E=E.toLowerCase();E=E.replace(/\s/g,"");E=E.replace(/-/g,"");switch(E){case "meters":case "meter":case "m":case "squaremeters":case "squaremeter":return 109404;case "miles":case "mile":case "squaremile":case "squaremiles":return 109439;case "kilometers":case "kilometer":case "squarekilometers":case "squarekilometer":case "km":return 109414;case "acres":case "acre":case "ac":return 109402;case "hectares":case "hectare":case "ha":return 109401;case "yard":case "yd":case "yards":case "squareyards":case "squareyard":return 109442;
case "feet":case "ft":case "foot":case "squarefeet":case "squarefoot":return 109405;case "nm":case "nmi":case "nauticalmile":case "nauticalmiles":case "squarenauticalmile":case "squarenauticalmiles":return 109409}return null};x.sameGeomType=function(E,z){return E===z||"point"===E&&"esriGeometryPoint"===z||"polyline"===E&&"esriGeometryPolyline"===z||"polygon"===E&&"esriGeometryPolygon"===z||"extent"===E&&"esriGeometryEnvelope"===z||"multipoint"===E&&"esriGeometryMultipoint"===z||"point"===z&&"esriGeometryPoint"===
E||"polyline"===z&&"esriGeometryPolyline"===E||"polygon"===z&&"esriGeometryPolygon"===E||"extent"===z&&"esriGeometryEnvelope"===E||"multipoint"===z&&"esriGeometryMultipoint"===E?!0:!1};x.shapeExtent=function(E){if(null==E)return null;switch(E.type){case "polygon":case "multipoint":case "polyline":return E.extent;case "point":return new I({xmin:E.x,ymin:E.y,xmax:E.x,ymax:E.y,spatialReference:E.spatialReference});case "extent":return E}return null};Object.defineProperties(x,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/arcade/functions/maths":function(){define(["exports","../../chunks/languageUtils","../../core/number"],function(x,I,E){function z(b,e,J){if("undefined"===typeof J||0===+J)return Math[b](e);e=+e;J=+J;if(isNaN(e)||"number"!==typeof J||0!==J%1)return NaN;e=e.toString().split("e");e=Math[b](+(e[0]+"e"+(e[1]?+e[1]-J:-J)));e=e.toString().split("e");return+(e[0]+"e"+(e[1]?+e[1]+J:J))}x.registerFunctions=function(b,e){function J(F,h,G){F=I.toNumber(F);return isNaN(F)?F:isNaN(h)||isNaN(G)||h>G?NaN:F<
h?h:F>G?G:F}b.number=function(F,h){return e(F,h,(G,q,w)=>{I.pcCheck(w,1,2,F,h);G=w[0];return I.isNumber(G)?G:null===G?0:I.isDate(G)||I.isBoolean(G)?Number(G):I.isArray(G)?NaN:""===G||void 0===G?Number(G):I.isString(G)?void 0!==w[1]?(w=I.multiReplace(w[1],"\u2030",""),w=I.multiReplace(w,"\u00a4",""),E.parse(G,{pattern:w})):Number(G.trim()):Number(G)})};b.abs=function(F,h){return e(F,h,(G,q,w)=>{I.pcCheck(w,1,1,F,h);return Math.abs(I.toNumber(w[0]))})};b.acos=function(F,h){return e(F,h,(G,q,w)=>{I.pcCheck(w,
1,1,F,h);return Math.acos(I.toNumber(w[0]))})};b.asin=function(F,h){return e(F,h,(G,q,w)=>{I.pcCheck(w,1,1,F,h);return Math.asin(I.toNumber(w[0]))})};b.atan=function(F,h){return e(F,h,(G,q,w)=>{I.pcCheck(w,1,1,F,h);return Math.atan(I.toNumber(w[0]))})};b.atan2=function(F,h){return e(F,h,(G,q,w)=>{I.pcCheck(w,2,2,F,h);return Math.atan2(I.toNumber(w[0]),I.toNumber(w[1]))})};b.ceil=function(F,h){return e(F,h,(G,q,w)=>{I.pcCheck(w,1,2,F,h);return 2===w.length?(G=I.toNumber(w[1]),isNaN(G)&&(G=0),z("ceil",
I.toNumber(w[0]),-1*G)):Math.ceil(I.toNumber(w[0]))})};b.round=function(F,h){return e(F,h,(G,q,w)=>{I.pcCheck(w,1,2,F,h);return 2===w.length?(G=I.toNumber(w[1]),isNaN(G)&&(G=0),z("round",I.toNumber(w[0]),-1*G)):Math.round(I.toNumber(w[0]))})};b.floor=function(F,h){return e(F,h,(G,q,w)=>{I.pcCheck(w,1,2,F,h);return 2===w.length?(G=I.toNumber(w[1]),isNaN(G)&&(G=0),z("floor",I.toNumber(w[0]),-1*G)):Math.floor(I.toNumber(w[0]))})};b.cos=function(F,h){return e(F,h,(G,q,w)=>{I.pcCheck(w,1,1,F,h);return Math.cos(I.toNumber(w[0]))})};
b.isnan=function(F,h){return e(F,h,(G,q,w)=>{I.pcCheck(w,1,1,F,h);return"number"===typeof w[0]&&isNaN(w[0])})};b.exp=function(F,h){return e(F,h,(G,q,w)=>{I.pcCheck(w,1,1,F,h);return Math.exp(I.toNumber(w[0]))})};b.log=function(F,h){return e(F,h,(G,q,w)=>{I.pcCheck(w,1,1,F,h);return Math.log(I.toNumber(w[0]))})};b.pow=function(F,h){return e(F,h,(G,q,w)=>{I.pcCheck(w,2,2,F,h);return I.toNumber(w[0])**I.toNumber(w[1])})};b.random=function(F,h){return e(F,h,(G,q,w)=>{I.pcCheck(w,0,0,F,h);return Math.random()})};
b.sin=function(F,h){return e(F,h,(G,q,w)=>{I.pcCheck(w,1,1,F,h);return Math.sin(I.toNumber(w[0]))})};b.sqrt=function(F,h){return e(F,h,(G,q,w)=>{I.pcCheck(w,1,1,F,h);return Math.sqrt(I.toNumber(w[0]))})};b.tan=function(F,h){return e(F,h,(G,q,w)=>{I.pcCheck(w,1,1,F,h);return Math.tan(I.toNumber(w[0]))})};b.defaultvalue=function(F,h){return e(F,h,(G,q,w)=>{I.pcCheck(w,2,2,F,h);return null===w[0]||""===w[0]||void 0===w[0]?w[1]:w[0]})};b.isempty=function(F,h){return e(F,h,(G,q,w)=>{I.pcCheck(w,1,1,F,
h);return null===w[0]||""===w[0]||void 0===w[0]?!0:!1})};b["boolean"]=function(F,h){return e(F,h,(G,q,w)=>{I.pcCheck(w,1,1,F,h);return I.toBoolean(w[0])})};b.constrain=function(F,h){return e(F,h,(G,q,w)=>{I.pcCheck(w,3,3,F,h);G=I.toNumber(w[1]);q=I.toNumber(w[2]);if(I.isArray(w[0])){var g=[];for(var d of w[0])g.push(J(d,G,q));return g}if(I.isImmutableArray(w[0])){d=[];for(g=0;g<w[0].length();g++)d.push(J(w[0].get(g),G,q));return d}return J(w[0],G,q)})}};Object.defineProperties(x,{__esModule:{value:!0},
[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/functions/stats":function(){define(["exports","../executionError","../../chunks/languageUtils","./fieldStats"],function(x,I,E,z){function b(e,J,F,h){if(1===h.length){if(E.isArray(h[0]))return z.calculateStat(e,h[0],-1);if(E.isImmutableArray(h[0]))return z.calculateStat(e,h[0].toArray(),-1)}return z.calculateStat(e,h,-1)}x.registerFunctions=function(e,J){e.stdev=function(F,h){return J(F,h,(G,q,w)=>b("stdev",G,q,w))};e.variance=function(F,h){return J(F,
h,(G,q,w)=>b("variance",G,q,w))};e.average=function(F,h){return J(F,h,(G,q,w)=>b("mean",G,q,w))};e.mean=function(F,h){return J(F,h,(G,q,w)=>b("mean",G,q,w))};e.sum=function(F,h){return J(F,h,(G,q,w)=>b("sum",G,q,w))};e.min=function(F,h){return J(F,h,(G,q,w)=>b("min",G,q,w))};e.max=function(F,h){return J(F,h,(G,q,w)=>b("max",G,q,w))};e.distinct=function(F,h){return J(F,h,(G,q,w)=>b("distinct",G,q,w))};e.count=function(F,h){return J(F,h,(G,q,w)=>{E.pcCheck(w,1,1,F,h);if(E.isArray(w[0])||E.isString(w[0]))return w[0].length;
if(E.isImmutableArray(w[0]))return w[0].length();throw new I.ArcadeExecutionError(F,I.ExecutionErrorCodes.InvalidParameter,h);})}};Object.defineProperties(x,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/functions/fieldStats":function(){define(["exports","../../chunks/languageUtils"],function(x,I){function E(b){let e=0;for(let J=0;J<b.length;J++)e+=b[J];return e/b.length}function z(b){const e=E(b);let J=0;for(let F=0;F<b.length;F++)J+=(e-b[F])**2;return J/b.length}
x.calculateStat=function(b,e,J=1E3){switch(b.toLowerCase()){case "distinct":a:{b=[];const F={},h=[];for(let G=0;G<e.length;G++){if(void 0!==e[G]&&null!==e[G]&&e[G]!==I.voidOperation){const q=e[G];if(I.isNumber(q)||I.isString(q))void 0===F[q]&&(b.push(q),F[q]=1);else{let w=!1;for(let g=0;g<h.length;g++)!0===I.equalityTest(h[g],q)&&(w=!0);!1===w&&(h.push(q),b.push(q))}}if(b.length>=J&&-1!==J){e=b;break a}}e=b}return e;case "avg":case "mean":return E(I.toNumberArray(e));case "min":return Math.min.apply(Math,
I.toNumberArray(e));case "sum":e=I.toNumberArray(e);J=0;for(b=0;b<e.length;b++)J+=e[b];return J;case "max":return Math.max.apply(Math,I.toNumberArray(e));case "stdev":case "stddev":return Math.sqrt(z(I.toNumberArray(e)));case "var":case "variance":return z(I.toNumberArray(e));case "count":return e.length}return 0};x.decodeStatType=function(b){switch(b.toLowerCase()){case "distinct":return"distinct";case "avg":case "mean":return"avg";case "min":return"min";case "sum":return"sum";case "max":return"max";
case "stdev":case "stddev":return"stddev";case "var":case "variance":return"var";case "count":return"count"}return""};Object.defineProperties(x,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/functions/string":function(){define("exports ../ArcadePortal ../Attachment ../Dictionary ../executionError ../../chunks/languageUtils ../featureset/support/shared ./convertdirection ./hash ../../geometry/Extent ../../geometry/Multipoint ../../geometry/Point ../../geometry/Polygon ../../geometry/Polyline ../../geometry/SpatialReference".split(" "),
function(x,I,E,z,b,e,J,F,h,G,q,w,g,d,f){function A(n,H){if(!n||!H)return n===H;if(n.x===H.x&&n.y===H.y){if(n.hasZ){if(n.z!==H.z)return!1}else if(H.hasZ)return!1;if(n.hasM){if(n.m!==H.m)return!1}else if(H.hasM)return!1;return!0}return!1}function m(n,H,B){if(null===n)H.updateUint8Array([0,139]);else if(e.isArray(n)){H.updateUint8Array([61]);if(B.map.has(n))n=B.map.get(n),H.updateIntArray([n^61237541]);else{B.map.set(n,B.currentLength++);for(var c of n)m(c,H,B);B.map.delete(n);B.currentLength--}H.updateUint8Array([199])}else if(e.isImmutableArray(n)){H.updateUint8Array([61]);
if(B.map.has(n))n=B.map.get(n),H.updateIntArray([n^61237541]);else{B.map.set(n,B.currentLength++);for(var l of n.toArray())m(l,H,B);B.map.delete(n);B.currentLength--}H.updateUint8Array([199])}else if(e.isDate(n))H.updateIntArray([n.getTime()]),H.updateUint8Array([241]);else if(e.isString(n))H.updateIntArray([n.length]),H.updateWithString(n),H.updateUint8Array([41]);else if(e.isBoolean(n))H.updateUint8Array([!0===n?1:0,113]);else if(e.isNumber(n))H.updateFloatArray([n]),H.updateUint8Array([173]);else{if(n instanceof
E)throw new b.ArcadeExecutionError(B.context,b.ExecutionErrorCodes.UnsupportedHashType,B.node);if(n instanceof I)throw new b.ArcadeExecutionError(B.context,b.ExecutionErrorCodes.UnsupportedHashType,B.node);if(n instanceof z){H.updateUint8Array([223]);if(B.map.has(n))n=B.map.get(n),H.updateIntArray([n^61237541]);else{B.map.set(n,B.currentLength++);for(var t of n.keys())H.updateIntArray([t.length]),H.updateWithString(t),H.updateUint8Array([251]),c=n.field(t),m(c,H,B),H.updateUint8Array([239]);B.map.delete(n);
B.currentLength--}H.updateUint8Array([73])}else{if(e.isFeature(n))throw new b.ArcadeExecutionError(B.context,b.ExecutionErrorCodes.UnsupportedHashType,B.node);if(n instanceof w)H.updateIntArray([3833836621]),H.updateIntArray([0]),H.updateFloatArray([n.x]),H.updateIntArray([1]),H.updateFloatArray([n.y]),n.hasZ&&(H.updateIntArray([2]),H.updateFloatArray([n.z])),n.hasM&&(H.updateIntArray([3]),H.updateFloatArray([n.m])),H.updateIntArray([3765347959]),m(n.spatialReference.wkid,H,B);else if(n instanceof
g){H.updateIntArray([1266616829]);for(t=0;t<n.rings.length;t++){l=n.rings[t];c=[];var v=null;let r=null;for(let P=0;P<l.length;P++){const na=n.getPoint(t,P);if(0===P)v=na;else if(A(r,na))continue;r=na;P===l.length-1&&A(v,na)||c.push(na)}H.updateIntArray([1397116793,c.length]);for(l=0;l<c.length;l++)v=c[l],H.updateIntArray([3962308117,l]),m(v,H,B),H.updateIntArray([2716288009]);H.updateIntArray([2278822459])}H.updateIntArray([3878477243]);m(n.spatialReference.wkid,H,B)}else if(n instanceof d){H.updateIntArray([4106883559]);
for(t=0;t<n.paths.length;t++){c=n.paths[t];H.updateIntArray([1397116793,c.length]);for(l=0;l<c.length;l++)H.updateIntArray([3962308117,l]),m(n.getPoint(t,l),H,B),H.updateIntArray([2716288009]);H.updateIntArray([2278822459])}H.updateIntArray([2568784753]);m(n.spatialReference.wkid,H,B)}else if(n instanceof q){H.updateIntArray([588535921,n.points.length]);for(t=0;t<n.points.length;t++)c=n.getPoint(t),H.updateIntArray([t]),m(c,H,B);H.updateIntArray([1700171621]);m(n.spatialReference.wkid,H,B)}else if(n instanceof
G)H.updateIntArray([3483648373]),H.updateIntArray([0]),H.updateFloatArray([n.xmax]),H.updateIntArray([1]),H.updateFloatArray([n.xmin]),H.updateIntArray([2]),H.updateFloatArray([n.ymax]),H.updateIntArray([3]),H.updateFloatArray([n.ymin]),n.hasZ&&(H.updateIntArray([4]),H.updateFloatArray([n.zmax]),H.updateIntArray([5]),H.updateFloatArray([n.zmin])),n.hasM&&(H.updateIntArray([6]),H.updateFloatArray([n.mmax]),H.updateIntArray([7]),H.updateFloatArray([n.mmin])),H.updateIntArray([3622027469]),m(n.spatialReference.wkid,
H,B);else if(n instanceof f)H.updateIntArray([14]),void 0!==n.wkid&&null!==n.wkid&&H.updateIntArray([n.wkid]),n.wkt&&H.updateWithString(n.wkt);else{if(e.isFunctionParameter(n))throw new b.ArcadeExecutionError(B.context,b.ExecutionErrorCodes.UnsupportedHashType,B.node);if(e.isFeatureSet(n))throw new b.ArcadeExecutionError(B.context,b.ExecutionErrorCodes.UnsupportedHashType,B.node);e.isFeatureSetCollection(n);throw new b.ArcadeExecutionError(B.context,b.ExecutionErrorCodes.UnsupportedHashType,B.node);
}}}}x.registerFunctions=function(n,H){n.portal=function(B,c){return H(B,c,(l,t,v)=>{e.pcCheck(v,1,1,B,c);return new I(e.toString(v[0]))})};n.typeof=function(B,c){return H(B,c,(l,t,v)=>{e.pcCheck(v,1,1,B,c);l=e.getType(v[0]);if("Unrecognised Type"===l)throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.UnrecognisedType,c);return l})};n.trim=function(B,c){return H(B,c,(l,t,v)=>{e.pcCheck(v,1,1,B,c);return e.toString(v[0]).trim()})};n.tohex=function(B,c){return H(B,c,(l,t,v)=>{e.pcCheck(v,1,1,B,
c);l=e.toNumber(v[0]);return isNaN(l)?l:l.toString(16)})};n.upper=function(B,c){return H(B,c,(l,t,v)=>{e.pcCheck(v,1,1,B,c);return e.toString(v[0]).toUpperCase()})};n.proper=function(B,c){return H(B,c,(l,t,v)=>{e.pcCheck(v,1,2,B,c);l=1;2===v.length&&"firstword"===e.toString(v[1]).toLowerCase()&&(l=2);t=/\s/;v=e.toString(v[0]);let r="",P=!0;for(let na=0;na<v.length;na++){let ia=v[na];t.test(ia)?1===l&&(P=!0):ia.toUpperCase()!==ia.toLowerCase()&&(P?(ia=ia.toUpperCase(),P=!1):ia=ia.toLowerCase());r+=
ia}return r})};n.lower=function(B,c){return H(B,c,(l,t,v)=>{e.pcCheck(v,1,1,B,c);return e.toString(v[0]).toLowerCase()})};n.guid=function(B,c){return H(B,c,(l,t,v)=>{e.pcCheck(v,0,1,B,c);if(0<v.length)switch(e.toString(v[0]).toLowerCase()){case "digits":return e.generateUUID().replace("-","").replace("-","").replace("-","").replace("-","");case "digits-hyphen":return e.generateUUID();case "digits-hyphen-parentheses":return"("+e.generateUUID()+")"}return"{"+e.generateUUID()+"}"})};n.standardizeguid=
function(B,c){return H(B,c,(l,t,v)=>{e.pcCheck(v,2,2,B,c);l=e.toString(v[0]);if(""===l||null===l)return"";l=/^(\{|\()?(?<partA>[0-9a-z]{8})(\-?)(?<partB>[0-9a-z]{4})(\-?)(?<partC>[0-9a-z]{4})(\-?)(?<partD>[0-9a-z]{4})(\-?)(?<partE>[0-9a-z]{12})(\}|\))?$/gim.exec(l);if(!l)return"";l=l.groups;l=l.partA+"-"+l.partB+"-"+l.partC+"-"+l.partD+"-"+l.partE;switch(e.toString(v[1]).toLowerCase()){case "digits":return l.replace("-","").replace("-","").replace("-","").replace("-","");case "digits-hyphen":return l;
case "digits-hyphen-parentheses":return"("+l+")"}return"{"+l+"}"})};n.console=function(B,c){return H(B,c,(l,t,v)=>{0!==v.length&&(1===v.length?B.console(e.toString(v[0])):B.console(e.toString(v)));return e.voidOperation})};n.mid=function(B,c){return H(B,c,(l,t,v)=>{e.pcCheck(v,2,3,B,c);l=e.toNumber(v[1]);if(isNaN(l))return"";0>l&&(l=0);if(2===v.length)return e.toString(v[0]).substr(l);t=e.toNumber(v[2]);if(isNaN(t))return"";0>t&&(t=0);return e.toString(v[0]).substr(l,t)})};n.find=function(B,c){return H(B,
c,(l,t,v)=>{e.pcCheck(v,2,3,B,c);l=0;if(2<v.length){l=e.toNumber(e.defaultUndefined(v[2],0));if(isNaN(l))return-1;0>l&&(l=0)}return e.toString(v[1]).indexOf(e.toString(v[0]),l)})};n.left=function(B,c){return H(B,c,(l,t,v)=>{e.pcCheck(v,2,2,B,c);l=e.toNumber(v[1]);if(isNaN(l))return"";0>l&&(l=0);return e.toString(v[0]).substr(0,l)})};n.right=function(B,c){return H(B,c,(l,t,v)=>{e.pcCheck(v,2,2,B,c);l=e.toNumber(v[1]);if(isNaN(l))return"";0>l&&(l=0);return e.toString(v[0]).substr(-1*l,l)})};n.split=
function(B,c){return H(B,c,(l,t,v)=>{e.pcCheck(v,2,4,B,c);l=e.toNumber(e.defaultUndefined(v[2],-1));t=e.toBoolean(e.defaultUndefined(v[3],!1));-1===l||null===l||!0===t?v=e.toString(v[0]).split(e.toString(v[1])):(isNaN(l)&&(l=-1),-1>l&&(l=-1),v=e.toString(v[0]).split(e.toString(v[1]),l));if(!1===t)return v;t=[];for(let r=0;r<v.length&&!(-1!==l&&t.length>=l);r++)""!==v[r]&&void 0!==v[r]&&t.push(v[r]);return t})};n.text=function(B,c){return H(B,c,(l,t,v)=>{e.pcCheck(v,1,2,B,c);return e.toStringExplicit(v[0],
v[1])})};n.concatenate=function(B,c){return H(B,c,(l,t,v)=>{l=[];if(1>v.length)return"";if(e.isArray(v[0])){t=e.defaultUndefined(v[2],"");for(var r=0;r<v[0].length;r++)l[r]=e.toStringExplicit(v[0][r],t);return 1<v.length?l.join(v[1]):l.join("")}if(e.isImmutableArray(v[0])){t=e.defaultUndefined(v[2],"");for(r=0;r<v[0].length();r++)l[r]=e.toStringExplicit(v[0].get(r),t);return 1<v.length?l.join(v[1]):l.join("")}for(t=0;t<v.length;t++)l[t]=e.toStringExplicit(v[t]);return l.join("")})};n.reverse=function(B,
c){return H(B,c,(l,t,v)=>{e.pcCheck(v,1,1,B,c);if(e.isArray(v[0]))return l=v[0].slice(0),l.reverse(),l;if(e.isImmutableArray(v[0]))return l=v[0].toArray().slice(0),l.reverse(),l;throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.InvalidParameter,c);})};n.replace=function(B,c){return H(B,c,(l,t,v)=>{e.pcCheck(v,3,4,B,c);l=e.toString(v[0]);t=e.toString(v[1]);const r=e.toString(v[2]);return(4===v.length?e.toBoolean(v[3]):1)?e.multiReplace(l,t,r):l.replace(t,r)})};n.schema=function(B,c){return H(B,
c,(l,t,v)=>{if(e.isFeature(v[0]))return(l=e.featureSchema(v[0]))?z.convertObjectToArcadeDictionary(l):null;throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.InvalidParameter,c);})};n.subtypes=function(B,c){return H(B,c,(l,t,v)=>{e.pcCheck(v,1,1,B,c);if(e.isFeature(v[0]))return(l=e.featureSubtypes(v[0]))?z.convertObjectToArcadeDictionary(l):null;throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.InvalidParameter,c);})};n.subtypecode=function(B,c){return H(B,c,(l,t,v)=>{e.pcCheck(v,1,1,
B,c);if(e.isFeature(v[0])){l=e.featureSubtypes(v[0]);if(!l)return null;if(l.subtypeField&&v[0].hasField(l.subtypeField)){v=v[0].field(l.subtypeField);for(const r of l.subtypes)if(r.code===v)return r.code}return null}throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.InvalidParameter,c);})};n.subtypename=function(B,c){return H(B,c,(l,t,v)=>{e.pcCheck(v,1,1,B,c);if(e.isFeature(v[0])){l=e.featureSubtypes(v[0]);if(!l)return"";if(l.subtypeField&&v[0].hasField(l.subtypeField)){v=v[0].field(l.subtypeField);
for(const r of l.subtypes)if(r.code===v)return r.name}return""}throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.InvalidParameter,c);})};n.gdbversion=function(B,c){return H(B,c,(l,t,v)=>{e.pcCheck(v,1,1,B,c);if(e.isFeature(v[0]))return v[0].gdbVersion();throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.InvalidParameter,c);})};n.domain=function(B,c){return H(B,c,(l,t,v)=>{e.pcCheck(v,2,3,B,c);if(e.isFeature(v[0]))return(l=e.featureFullDomain(v[0],e.toString(v[1]),void 0===v[2]?void 0:
e.toNumber(v[2])))&&l.domain?"coded-value"===l.domain.type||"codedValue"===l.domain.type?z.convertObjectToArcadeDictionary({type:"codedValue",name:l.domain.name,dataType:J.layerFieldEsriConstants[l.field.type],codedValues:l.domain.codedValues.map(r=>({name:r.name,code:r.code}))}):z.convertObjectToArcadeDictionary({type:"range",name:l.domain.name,dataType:J.layerFieldEsriConstants[l.field.type],min:l.domain.min,max:l.domain.max}):null;throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.InvalidParameter,
c);})};n.domainname=function(B,c){return H(B,c,(l,t,v)=>{e.pcCheck(v,2,4,B,c);if(e.isFeature(v[0]))return e.featureDomainValueLookup(v[0],e.toString(v[1]),v[2],void 0===v[3]?void 0:e.toNumber(v[3]));throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.InvalidParameter,c);})};n.domaincode=function(B,c){return H(B,c,(l,t,v)=>{e.pcCheck(v,2,4,B,c);if(e.isFeature(v[0]))return e.featureDomainCodeLookup(v[0],e.toString(v[1]),v[2],void 0===v[3]?void 0:e.toNumber(v[3]));throw new b.ArcadeExecutionError(B,
b.ExecutionErrorCodes.InvalidParameter,c);})};n.urlencode=function(B,c){return H(B,c,(l,t,v)=>{e.pcCheck(v,1,1,B,c);if(null===v[0])return"";if(v[0]instanceof z){l="";for(const r of v[0].keys())t=v[0].field(r),""!==l&&(l+="\x26"),l=null===t?l+(encodeURIComponent(r)+"\x3d"):l+(encodeURIComponent(r)+"\x3d"+encodeURIComponent(t));return l}return encodeURIComponent(e.toString(v[0]))})};n.hash=function(B,c){return H(B,c,(l,t,v)=>{e.pcCheck(v,1,1,B,c);l=new h.XXH(0);m(v[0],l,{context:B,node:c,map:new Map,
currentLength:0});return l.digest()})};n.convertdirection=function(B,c){return H(B,c,(l,t,v)=>{e.pcCheck(v,3,3,B,c);return F.convertDirection(v[0],v[1],v[2])})};n.fromjson=function(B,c){return H(B,c,(l,t,v)=>{e.pcCheck(v,1,1,B,c);if(!1===e.isString(v[0]))throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.InvalidParameter,c);return z.convertJsonToArcade(JSON.parse(e.toString(v[0])))})};n.expects=function(B,c){return H(B,c,(l,t,v)=>{if(1>v.length)throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.WrongNumberOfParameters,
c);return e.voidOperation})};n.tocharcode=function(B,c){return H(B,c,(l,t,v)=>{e.pcCheck(v,1,2,B,c);l=e.toNumber(e.defaultUndefined(v[1],0));t=e.toString(v[0]);if(0===t.length&&1===v.length)return null;if(t.length<=l||0>l)throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.OutOfBounds,c);return t.charCodeAt(l)})};n.tocodepoint=function(B,c){return H(B,c,(l,t,v)=>{e.pcCheck(v,1,2,B,c);l=e.toNumber(e.defaultUndefined(v[1],0));t=e.toString(v[0]);if(0===t.length&&1===v.length)return null;if(t.length<=
l||0>l)throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.OutOfBounds,c);return t.codePointAt(l)})};n.fromcharcode=function(B,c){return H(B,c,(l,t,v)=>{if(1>v.length)throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.WrongNumberOfParameters,c);l=v.map(r=>Math.trunc(e.toNumber(r))).filter(r=>0<=r&&65535>=r);return 0===l.length?null:String.fromCharCode.apply(null,l)})};n.fromcodepoint=function(B,c){return H(B,c,(l,t,v)=>{if(1>v.length)throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.WrongNumberOfParameters,
c);let r;try{r=v.map(P=>Math.trunc(e.toNumber(P))).filter(P=>1114111>=P&&P>>>0===P)}catch(P){return null}return 0===r.length?null:String.fromCodePoint.apply(null,r)})}};Object.defineProperties(x,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/ArcadePortal":function(){define(["../chunks/_rollupPluginBabelHelpers","./Dictionary"],function(x,I){return function(E){function z(b){var e=E.call(this)||this;e.declaredClass="esri.arcade.Portal";e.immutable=!1;e.setField("url",
b);e.immutable=!0;return e}x._inheritsLoose(z,E);return z}(I)})},"esri/arcade/Attachment":function(){define(["../chunks/_rollupPluginBabelHelpers","./Dictionary"],function(x,I){return function(E){function z(b,e,J,F,h,G){var q=E.call(this)||this;q.attachmentUrl=h;q.declaredClass="esri.arcade.Attachment";q.immutable=!1;q.setField("id",b);q.setField("name",e);q.setField("contenttype",J);q.setField("size",F);q.setField("exifinfo",G);q.immutable=!0;return q}x._inheritsLoose(z,E);return z}(I)})},"esri/arcade/functions/convertdirection":function(){define(["exports",
"../Dictionary","../executionError","../../chunks/languageUtils","../../core/maybe"],function(x,I,E,z,b){function e(D){if(!1===z.isString(D))throw new E.ArcadeExecutionError(null,E.ExecutionErrorCodes.InvalidParameter,null);return D}function J(D,T){T=10**T;return Math.round(D*T)/T}function F(D){const T=parseFloat(D.toString().replace(Math.trunc(D).toString(),"0"))*Math.sign(D);return 0>D?{fraction:T,integer:Math.ceil(D)}:{fraction:T,integer:Math.floor(D)}}function h(D,T){switch(D){case ta.north:return"SHORT"===
T?"N":"North";case ta.east:return"SHORT"===T?"E":"East";case ta.south:return"SHORT"===T?"S":"South";case ta.west:return"SHORT"===T?"W":"West"}}function G(D,T,U){for(;D.length<U;)D=T+D;return D}function q(D,T){return D-Math.floor(D/T)*T}function w(D){switch(D){case ea.truncated_degrees:case ea.decimal_degrees:return 360;case ea.radians:return Ea;case ea.gradians:return 400;case ea.seconds:return 1296E3;case ea.fractional_degree_minutes:return 60;case ea.fractional_minute_seconds:return 60;default:throw new E.ArcadeExecutionError(null,
E.ExecutionErrorCodes.LogicError,null,{reason:"unsupported evaluations"});}}function g(D){switch(D.toUpperCase().trim()){case "NORTH":case "NORTHAZIMUTH":case "NORTH AZIMUTH":return pa.north_azimuth;case "POLAR":return pa.polar;case "QUADRANT":return pa.quadrant;case "SOUTH":case "SOUTHAZIMUTH":case "SOUTH AZIMUTH":return pa.south_azimuth}throw new E.ArcadeExecutionError(null,E.ExecutionErrorCodes.LogicError,null,{reason:"unsupported directionType"});}function d(D){switch(D.toUpperCase().trim()){case "D":case "DD":case "DECIMALDEGREE":case "DECIMAL DEGREE":case "DEGREE":case "DECIMALDEGREES":case "DECIMAL DEGREES":case "DEGREES":return ea.decimal_degrees;
case "DMS":case "DEGREESMINUTESSECONDS":case "DEGREES MINUTES SECONDS":return ea.degrees_minutes_seconds;case "R":case "RAD":case "RADS":case "RADIAN":case "RADIANS":return ea.radians;case "G":case "GON":case "GONS":case "GRAD":case "GRADS":case "GRADIAN":case "GRADIANS":return ea.gradians}throw new E.ArcadeExecutionError(null,E.ExecutionErrorCodes.LogicError,null,{reason:"unsupported units"});}function f(D,T,U){let X=null;switch(T){case ea.decimal_degrees:X=oa(D,3600);break;case ea.seconds:X=D;break;
case ea.gradians:X=oa(D,3240);break;case ea.radians:X=oa(D,Xa);break;default:throw new E.ArcadeExecutionError(null,E.ExecutionErrorCodes.LogicError,null,{reason:"unexpected evaluation"});}switch(U){case ea.decimal_degrees:return Ua(X,3600);case ea.seconds:return X;case ea.gradians:return Ua(X,3240);case ea.radians:return X/Xa;default:throw new E.ArcadeExecutionError(null,E.ExecutionErrorCodes.LogicError,null,{reason:"unexpected evaluation"});}}function A(D){b.assertIsSome(D);switch(D){case ea.decimal_degrees:case ea.truncated_degrees:case ea.degrees_minutes_seconds:return ea.decimal_degrees;
case ea.gradians:return ea.gradians;case ea.fractional_degree_minutes:return ea.fractional_degree_minutes;case ea.radians:return ea.radians;case ea.seconds:case ea.fractional_minute_seconds:return ea.seconds}}function m(D){switch(z.toNumber(D)){case 1:return{first:ta.north,second:ta.east};case 2:return{first:ta.south,second:ta.east};case 3:return{first:ta.south,second:ta.west};case 4:return{first:ta.north,second:ta.west}}return null}function n(D){switch(D.toUpperCase().trim()){case "N":case "NORTH":return ta.north;
case "E":case "EAST":return ta.east;case "S":case "SOUTH":return ta.south;case "W":case "WEST":return ta.west}return null}function H(D){D=parseFloat(D);if(z.isNumber(D)){if(isNaN(D))throw new E.ArcadeExecutionError(null,E.ExecutionErrorCodes.LogicError,null,{reason:"invalid conversion"});return D}throw new E.ArcadeExecutionError(null,E.ExecutionErrorCodes.LogicError,null,{reason:"invalid conversion"});}function B(D,T,U){const X=U===pa.quadrant;let la=null;var qa=null;let ca=0;var p=0;p=0;if(X){if(2>
D.length)throw new E.ArcadeExecutionError(null,E.ExecutionErrorCodes.LogicError,null,{reason:"conversion error"});p=1;(qa=m(z.toString(D[D.length-1])))?(la=qa.first,qa=qa.second):(ca=1,la=n(z.toString(D[0])),qa=n(z.toString(D[D.length-1])));if(null===la||null===qa)throw new E.ArcadeExecutionError(null,E.ExecutionErrorCodes.LogicError,null,{reason:"invalid conversion"});}switch(T){case ea.decimal_degrees:case ea.radians:case ea.gradians:if(0===D.length)break;return X?M.createFromAngleMeridianAndDirection(K.createFromAngleAndUnits(H(D[ca]),
A(T)),la,qa):M.createFromAngleAndDirection(K.createFromAngleAndUnits(H(D[ca]),A(T)),U);case ea.degrees_minutes_seconds:p=D.length-p-ca;if(3===p)return D=K.createFromDegreesMinutesSeconds(H(D[ca]),H(D[ca+1]),H(D[ca+2])),X?M.createFromAngleMeridianAndDirection(D,la,qa):M.createFromAngleAndDirection(D,U);if(1===p)return D=H(D[ca]),D=Ba.numberToDms(D),D=K.createFromDegreesMinutesSeconds(D.m_degrees,D.m_minutes,D.m_seconds),X?M.createFromAngleMeridianAndDirection(D,la,qa):M.createFromAngleAndDirection(D,
U)}throw new E.ArcadeExecutionError(null,E.ExecutionErrorCodes.LogicError,null,{reason:"invalid conversion"});}function c(D){const T=[" ","-","/","'",'"',"\\","^","\u00b0",Ha,"\t","\r","\n","*"];let U="";for(let X=0;X<D.length;X++){const la=D.charAt(X);U=T.includes(la)?U+"RRSPLITRRSPLITRR":U+la}return U.split("RRSPLITRRSPLITRR").filter(X=>""!==X)}function l(D,T,U){const X={padding:0,rounding:0,newpos:T};let la=!1;for(;T<D.length;){const qa=D[T];if(qa===U)la?X.rounding++:X.padding++,T++;else if("."===
qa)la=!0,T++;else break}X.newpos=T-1;return X}const t=D=>(T,U,X)=>{X=X||14;return+D(T,U).toFixed(X)},v=(D,T)=>D+T,r=(D,T)=>D-T,P=(D,T)=>D*T,na=(D,T)=>D/T,ia=(D,T,U)=>t(v)(D,T,U),oa=(D,T,U)=>t(P)(D,T,U),Ua=(D,T,U)=>t(na)(D,T,U),Ea=2*Math.PI,Xa=648E3/Math.PI,Ha=String.fromCharCode(7501);var ta;(function(D){D[D.north=0]="north";D[D.east=1]="east";D[D.south=2]="south";D[D.west=3]="west"})(ta||(ta={}));var ea;(function(D){D[D.decimal_degrees=1]="decimal_degrees";D[D.seconds=2]="seconds";D[D.degrees_minutes_seconds=
3]="degrees_minutes_seconds";D[D.radians=4]="radians";D[D.gradians=5]="gradians";D[D.truncated_degrees=6]="truncated_degrees";D[D.fractional_degree_minutes=7]="fractional_degree_minutes";D[D.fractional_minute_seconds=8]="fractional_minute_seconds"})(ea||(ea={}));var pa;(function(D){D[D.north_azimuth=1]="north_azimuth";D[D.polar=2]="polar";D[D.quadrant=3]="quadrant";D[D.south_azimuth=4]="south_azimuth"})(pa||(pa={}));var Pa;(function(D){D[D.meridian=0]="meridian";D[D.direction=1]="direction"})(Pa||
(Pa={}));let Ba=function(){function D(U,X,la){this.m_degrees=U;this.m_minutes=X;this.m_seconds=la}var T=D.prototype;T.getField=function(U){switch(U){case ea.decimal_degrees:case ea.truncated_degrees:return this.m_degrees;case ea.fractional_degree_minutes:return this.m_minutes;case ea.seconds:case ea.fractional_minute_seconds:return this.m_seconds;default:throw new E.ArcadeExecutionError(null,E.ExecutionErrorCodes.LogicError,null,{reason:"unexpected evaluation"});}};D.secondsToDMS=function(U){const X=
F(U).fraction;U=F(U).integer;const la=Math.floor(U/3600);U-=3600*la;const qa=Math.floor(U/60);return new D(la,qa,U-60*qa+X)};D.numberToDms=function(U){var X=F(U).fraction;U=F(U).integer;const la=oa(F(100*X).fraction,100);X=F(100*X).integer;return new D(U,X,la)};T.format=function(U,X){X=J(this.m_seconds,X);let la=this.m_minutes,qa=this.m_degrees;if(U===ea.seconds||U===ea.fractional_minute_seconds)60<=X&&(X-=60,++la),60<=la&&(la=0,++qa),360<=qa&&(qa=0);else if(U===ea.fractional_degree_minutes)X=0,la=
30<=this.m_seconds?this.m_minutes+1:this.m_minutes,qa=this.m_degrees,60<=la&&(la=0,++qa),360<=qa&&(qa=0);else if(U===ea.decimal_degrees||U===ea.truncated_degrees)U=Ua(this.m_seconds,3600),X=Ua(this.m_minutes,60),qa=Math.round(this.m_degrees+X+U),X=la=0;return new D(qa,la,X)};D.dmsToSeconds=function(U,X,la){return 3600*U+60*X+la};return D}(),Ka=function(){function D(T,U,X){this.meridian=T;this.angle=U;this.direction=X}D.prototype.fetchAzimuth=function(T){return T===Pa.meridian?this.meridian:this.direction};
return D}(),M=function(){function D(U){this._angle=U}D.createFromAngleAndDirection=function(U,X){return new D(new K(D._convertDirectionFormat(U.extractAngularUnits(ea.seconds),X,pa.north_azimuth)))};var T=D.prototype;T.getAngle=function(U){const X=this._angle.extractAngularUnits(ea.seconds);switch(U){case pa.north_azimuth:case pa.south_azimuth:case pa.polar:return new K(D._convertDirectionFormat(X,pa.north_azimuth,U));case pa.quadrant:return U=D.secondsNorthAzimuthToQuadrant(X),new K(U.angle)}};T.getMeridian=
function(U){const X=this._angle.extractAngularUnits(ea.seconds);switch(U){case pa.north_azimuth:return ta.north;case pa.south_azimuth:return ta.south;case pa.polar:return ta.east;case pa.quadrant:return D.secondsNorthAzimuthToQuadrant(X).meridian}};T.getDirection=function(U){const X=this._angle.extractAngularUnits(ea.seconds);switch(U){case pa.north_azimuth:return ta.east;case pa.south_azimuth:return ta.west;case pa.polar:return ta.north;case pa.quadrant:return D.secondsNorthAzimuthToQuadrant(X).direction}};
D.secondsNorthAzimuthToQuadrant=function(U){const X=324E3>=U||972E3<=U?ta.north:ta.south;return new Ka(X,X===ta.north?Math.min(1296E3-U,U):Math.abs(U-648E3),648E3<U?ta.west:ta.east)};D.createFromAngleMeridianAndDirection=function(U,X,la){return new D(new K(D.secondsQuadrantToNorthAzimuth(U.extractAngularUnits(ea.seconds),X,la)))};D.secondsQuadrantToNorthAzimuth=function(U,X,la){return X===ta.north?la===ta.east?U:1296E3-U:la===ta.east?648E3-U:648E3+U};D._convertDirectionFormat=function(U,X,la){let qa=
0;switch(X){case pa.north_azimuth:qa=U;break;case pa.polar:qa=324E3-U;break;case pa.quadrant:throw new E.ArcadeExecutionError(null,E.ExecutionErrorCodes.LogicError,null,{reason:"unexpected evaluation"});case pa.south_azimuth:qa=U+648E3}U=0;switch(la){case pa.north_azimuth:U=qa;break;case pa.polar:U=324E3-qa;break;case pa.quadrant:throw new E.ArcadeExecutionError(null,E.ExecutionErrorCodes.LogicError,null,{reason:"unexpected evaluation"});case pa.south_azimuth:U=qa-648E3}U%=1296E3;return 0>U?1296E3+
U:U};return D}(),K=function(){function D(T){this._seconds=T}D.createFromAngleAndUnits=function(T,U){return new D(f(T,U,ea.seconds))};D.prototype.extractAngularUnits=function(T){return f(this._seconds,ea.seconds,A(T))};D.createFromDegreesMinutesSeconds=function(T,U,X){return new D(ia(ia(oa(T,3600),oa(U,60)),X))};return D}(),O=function(){function D(U,X,la,qa){this.view=U;this.angle=X;this.merdian=la;this.direction=qa;this._formattedDms=this._dms=null}D.createFromStringAndBearing=function(U,X,la){return new D(U,
X.getAngle(la),X.getMeridian(la),X.getDirection(la))};var T=D.prototype;T.fetchAngle=function(){return this.angle};T.fetchMeridian=function(){return this.merdian};T.fetchDirection=function(){return this.direction};T.fetchView=function(){return this.view};T.fetchDms=function(){null===this._dms&&this._calculateDms();return this._dms};T.fetchFormattedDms=function(){null===this._formattedDms&&this._calculateDms();return this._formattedDms};T._calculateDms=function(){var U=null;let X=ea.truncated_degrees,
la=0;for(U=0;U<this.view.length;U++){const qa=this.view[U];switch(qa){case "m":U=l(this.view,U,qa);X=X===ea.truncated_degrees?ea.fractional_degree_minutes:X;U=U.newpos;continue;case "s":U=l(this.view,U,qa),X=ea.fractional_minute_seconds,la=la<U.rounding?U.rounding:la,U=U.newpos}}this._dms=Ba.secondsToDMS(this.angle.extractAngularUnits(ea.seconds));this._formattedDms=Ba.secondsToDMS(this.angle.extractAngularUnits(ea.seconds)).format(X,la)};return D}();x.convertDirection=function(D,T,U){if(!(T instanceof
I))throw new E.ArcadeExecutionError(null,E.ExecutionErrorCodes.InvalidParameter,null);if(!1===T.hasField("directionType"))throw new E.ArcadeExecutionError(null,E.ExecutionErrorCodes.LogicError,null,{reason:"missing directionType"});if(!1===T.hasField("angleType"))throw new E.ArcadeExecutionError(null,E.ExecutionErrorCodes.LogicError,null,{reason:"missing angleType"});var X=g(e(T.field("directiontype")));T=d(e(T.field("angletype")));if(z.isNumber(D)){D=z.toNumber(D);if(X===pa.quadrant)throw new E.ArcadeExecutionError(null,
E.ExecutionErrorCodes.LogicError,null,{reason:"conversion error"});T===ea.degrees_minutes_seconds?(D=Ba.numberToDms(D),X=M.createFromAngleAndDirection(K.createFromDegreesMinutesSeconds(D.m_degrees,D.m_minutes,D.m_seconds),X)):X=M.createFromAngleAndDirection(K.createFromAngleAndUnits(D,A(T)),X)}else if(z.isString(D))X=B(c(D),T,X);else if(z.isArray(D))X=B(D,T,X);else if(z.isImmutableArray(D))X=B(D.toArray(),T,X);else throw new E.ArcadeExecutionError(null,E.ExecutionErrorCodes.LogicError,null,{reason:"conversion error"});
if(!(U instanceof I))throw new E.ArcadeExecutionError(null,E.ExecutionErrorCodes.InvalidParameter,null);if(!1===U.hasField("directionType"))throw new E.ArcadeExecutionError(null,E.ExecutionErrorCodes.LogicError,null,{reason:"missing directionType"});if(!1===U.hasField("outputType"))throw new E.ArcadeExecutionError(null,E.ExecutionErrorCodes.LogicError,null,{reason:"missing angleType"});D=g(e(U.field("directiontype")));T=U.hasField("angleType")?d(e(U.field("angletype"))):null;var la=e(U.field("outputType")).toUpperCase().trim();
if(!D||!la)throw new E.ArcadeExecutionError(null,E.ExecutionErrorCodes.LogicError,null,{reason:"conversion error"});if(!(T||"TEXT"===la&&U.hasField("format")))throw new E.ArcadeExecutionError(null,E.ExecutionErrorCodes.LogicError,null,{reason:"invalid unit"});switch(la){case "VALUE":if(D===pa.quadrant||T===ea.degrees_minutes_seconds)return U=X.getAngle(D),D===pa.quadrant&&T===ea.degrees_minutes_seconds?(U=Ba.secondsToDMS(U.extractAngularUnits(ea.seconds)),X=[h(X.getMeridian(D),"SHORT"),U.m_degrees,
U.m_minutes,U.m_seconds,h(X.getDirection(D),"SHORT")]):T===ea.degrees_minutes_seconds?(X=Ba.secondsToDMS(U.extractAngularUnits(ea.seconds)),X=[X.m_degrees,X.m_minutes,X.m_seconds]):X=D===pa.quadrant?[h(X.getMeridian(D),"SHORT"),U.extractAngularUnits(T),h(X.getDirection(D),"SHORT")]:[U.extractAngularUnits(T)],X;if((U=A(T))&&T!==ea.degrees_minutes_seconds)X=X.getAngle(D).extractAngularUnits(U);else throw new E.ArcadeExecutionError(null,E.ExecutionErrorCodes.LogicError,null,{reason:"conversion error"});
return X;case "TEXT":la="";U.hasField("format")&&(la=z.toString(U.field("format")));if(null===la||""===la){U="";switch(T){case ea.decimal_degrees:U=D===pa.quadrant?"DD.DD\u00b0":"DDD.DD\u00b0";break;case ea.degrees_minutes_seconds:U=D===pa.quadrant?"dd\u00b0 mm' ss\"":"ddd\u00b0 mm' ss.ss\"";break;case ea.radians:U="R.RR";break;case ea.gradians:U="GGG.GG"+Ha;break;default:throw new E.ArcadeExecutionError(null,E.ExecutionErrorCodes.LogicError,null,{reason:"conversion error"});}D===pa.quadrant&&(U=
"p "+U+" b");la=U}U=la;var qa="",ca=null,p=null;T=O.createFromStringAndBearing(U,X,D);la={D:ea.decimal_degrees,d:ea.truncated_degrees,m:ea.fractional_degree_minutes,s:ea.fractional_minute_seconds,R:ea.radians,G:ea.gradians};for(p=0;p<U.length;p++){var u=U[p];switch(u){case "[":ca=U;u={escaped:"",newpos:p};for(p++;p<ca.length;){var R=ca[p];p++;if("]"===R)break;u.escaped+=R}u.newpos=p-1;ca=u;qa+=ca.escaped;p=ca.newpos;continue;case "D":case "d":case "m":case "s":case "R":case "G":ca=l(U,p,u);p=X.getAngle(D);
a:{u=la[u];R=ca.padding;var S=ca.rounding,Z=T;let ua=null;switch(u){case ea.decimal_degrees:case ea.radians:case ea.gradians:ua=q(J(p.extractAngularUnits(u),S),w(u));p=G(ua.toFixed(S),"0",R+S+(0<S?1:0));break a;case ea.truncated_degrees:case ea.fractional_degree_minutes:ua=q(Z.fetchFormattedDms().getField(u),w(u));p=G(ua.toFixed(S),"0",R+S+(0<S?1:0));break a;case ea.fractional_minute_seconds:ua=q(J(Z.fetchDms().getField(u),S),w(u));p=G(ua.toFixed(S),"0",R+S+(0<S?1:0));break a;default:throw new E.ArcadeExecutionError(null,
E.ExecutionErrorCodes.LogicError,null,{reason:"unexpected evaluation"});}}qa+=p;p=ca.newpos;continue;case "P":case "p":qa+=h(T.fetchMeridian(),"p"===u?"SHORT":"LONG");continue;case "B":case "b":qa+=h(T.fetchDirection(),"b"===u?"SHORT":"LONG");continue;default:qa+=u}}return qa;default:throw new E.ArcadeExecutionError(null,E.ExecutionErrorCodes.InvalidParameter,null);}};x.preciseAdd=ia;x.preciseDivide=Ua;x.preciseMinus=(D,T,U)=>t(r)(D,T,U);x.preciseMultiply=oa;Object.defineProperties(x,{__esModule:{value:!0},
[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/functions/hash":function(){define(["exports"],function(x){function I(z){const b=[];for(let e=0,J=z.length;e<J;e++){let F=z.charCodeAt(e);128>F?b.push(F):2048>F?b.push(192|F>>6,128|F&63):55296>F||57344<=F?b.push(224|F>>12,128|F>>6&63,128|F&63):(e++,F=65536+((F&1023)<<10|z.charCodeAt(e)&1023),b.push(240|F>>18,128|F>>12&63,128|F>>6&63,128|F&63))}return new Uint8Array(b)}let E=function(){function z(e){this._seed=e;this._totallen=0;this._bufs=[];
this.init()}var b=z.prototype;b.init=function(){this._bufs=[];this._totallen=0;return this};b.updateFloatArray=function(e){const J=[];for(const F of e)isNaN(F)?J.push("NaN"):Infinity===F?J.push("Infinity"):-Infinity===F?J.push("-Infinity"):0===F?J.push("0"):J.push(F.toString(16));this.update(I(J.join("")))};b.updateIntArray=function(e){e=Int32Array.from(e);this.update(new Uint8Array(e.buffer))};b.updateUint8Array=function(e){this.update(Uint8Array.from(e))};b.updateWithString=function(e){return this.update(I(e))};
b.update=function(e){this._bufs.push(e);this._totallen+=e.length;return this};b.digest=function(){const e=new Uint8Array(this._totallen);let J=0;for(const F of this._bufs)e.set(F,J),J+=F.length;this.init();return this._xxHash32(e,this._seed)};b._xxHash32=function(e,J=0){var F=J+374761393&4294967295;let h=0;if(16<=e.length){F=[J+2654435761+2246822519&4294967295,J+2246822519&4294967295,J+0&4294967295,J-2654435761&4294967295];J=e.length-16;var G=0;for(h=0;(h&4294967280)<=J;h+=4){var q=h;q=F[G]+(2246822519*
(e[q+0]+(e[q+1]<<8))+(2246822519*(e[q+2]+(e[q+3]<<8))<<16))&4294967295;q=q<<13|q>>>19;F[G]=2654435761*(q&65535)+(2654435761*(q>>>16)<<16)&4294967295;G=G+1&3}F=(F[0]<<1|F[0]>>>31)+(F[1]<<7|F[1]>>>25)+(F[2]<<12|F[2]>>>20)+(F[3]<<18|F[3]>>>14)&4294967295}F=F+e.length&4294967295;for(J=e.length-4;h<=J;h+=4)G=h,F=F+(3266489917*(e[G+0]+(e[G+1]<<8))+(3266489917*(e[G+2]+(e[G+3]<<8))<<16))&4294967295,F=F<<17|F>>>15,F=668265263*(F&65535)+(668265263*(F>>>16)<<16)&4294967295;for(;h<e.length;++h)F+=374761393*e[h],
F=F<<11|F>>>21,F=2654435761*(F&65535)+(2654435761*(F>>>16)<<16)&4294967295;F^=F>>>15;F=(2246822519*(F&65535)&4294967295)+(2246822519*(F>>>16)<<16);F^=F>>>13;F=(3266489917*(F&65535)&4294967295)+(3266489917*(F>>>16)<<16);F^=F>>>16;return 0>F?F+4294967296:F};return z}();x.XXH=E;Object.defineProperties(x,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/ArcadeModuleLoader":function(){define(["exports"],function(x){let I=function(){function E(z,b){this._moduleSingletons=z;
this._syntaxModules=b}E.prototype.loadLibrary=function(z){return null==this._syntaxModules?null:(z=this._syntaxModules[z.toLowerCase()])?{syntax:z.script,uri:z.uri}:null};return E}();x.ArcadeModuleLoader=I;Object.defineProperties(x,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/ArcadeModuleResolver":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../request ../portal/Portal ./parser ./featureset/support/RecentlyUsedCache ./executionError".split(" "),
function(x,I,E,z,b,e,J){let F=function(){function h(q){this.portalUri=q}var G=h.prototype;G.normalizeModuleUri=function(q){const w=/^[a-z0-9A-Z]+(@[0-9]+\.[0-9]+\.[0-9]+)?([\?|\/].*)?$/gi;var g=/(?<portalurl>.+)\/home\/item\.html\?id=(?<itemid>.+)$/gi;const d=/(?<portalurl>.+)\/sharing\/rest\/content\/users\/[a-zA-Z0-9]+\/items\/(?<itemid>.+)$/gi,f=/(?<portalurl>.+)\/sharing\/rest\/content\/items\/(?<itemid>.+)$/gi;var A=/(?<itemid>.*)@(?<versionstring>[0-9]+\.[0-9]+\.[0-9]+)([\?|\/].*)?$/gi;if(q.startsWith("portal+")){let H=
q.substring(7);var m="",n=H;let B=!1;for(const c of[g,f,d])if(g=c.exec(H),null!==g){m=g.groups;n=m.itemid;m=m.portalurl;B=!0;break}if(!1===B)if(w.test(H))n=H,m=this.portalUri;else throw new J.ModuleError(J.ModuleErrorCodes.UnsupportedUriProtocol,{uri:q});n.includes("/")&&(n=n.split("/")[0]);n.includes("?")&&(n=n.split("?")[0]);q="current";A=A.exec(n);null!==A&&(q=A.groups,n=q.itemid,q=q.versionstring);H=(new z({url:m})).restUrl+"/content/items/"+n+"/resources/"+q+".arc";return{url:H,scheme:"portal",
uri:"PO:"+H}}if(q.startsWith("mock")){if("mock"===q)return{url:"",scheme:"mock",data:'\n      export var hello \x3d 1;\n      export function helloWorld() {\n          return "Hello World " + hello;\n      }\n  ',uri:"mock"};n=q.replace("mock:","");if(void 0!==h.mocks[n])return{url:"",scheme:"mock",data:h.mocks[n],uri:q}}throw new J.ModuleError(J.ModuleErrorCodes.UnrecognisedUri,{uri:q});};G.fetchModule=function(){var q=I._asyncToGenerator(function*(w){var g=h.cachedModules.getFromCache(w.uri);if(g)return g;
g=this.fetchSource(w);h.cachedModules.addToCache(w.uri,g);let d=null;try{d=yield g}catch(f){throw h.cachedModules.removeFromCache(w.uri),f;}return d});return function(w){return q.apply(this,arguments)}}();G.fetchSource=function(){var q=I._asyncToGenerator(function*(w){if("portal"===w.scheme){const g=yield E(w.url,{responseType:"text",query:{}});if(g.data)return b.parseScript(g.data,[])}if("mock"===w.scheme)return b.parseScript(w.data??"",[]);throw new J.ModuleError(J.ModuleErrorCodes.UnsupportedUriProtocol);
});return function(w){return q.apply(this,arguments)}}();h.create=function(q){return new h(q)};h.getDefault=function(){return this._default??(h._default=h._moduleResolverFactory())};I._createClass(h,null,[{key:"moduleResolverClass",set:function(q){this._moduleResolverFactory=q;this._default=null}}]);return h}();F.mocks={};F.cachedModules=new e(30);F._default=null;F._moduleResolverFactory=()=>{const h=z.getDefault();return new F(h.url)};x.ArcadeModuleResolver=F;Object.defineProperties(x,{__esModule:{value:!0},
[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/parser":function(){define(["exports","./treeAnalysis","./lib/arcade-parser","./lib/types"],function(x,I,E,z){x.parseScript=function(b,e=[]){b=E.parse(b);if(null===b.body||void 0===b.body)throw new z.ParsingError({index:0,line:0,column:0,data:null,description:"",code:z.ParsingErrorCodes.InvalidExpression});if(0===b.body.length)throw new z.ParsingError({index:0,line:0,column:0,data:null,description:"",code:z.ParsingErrorCodes.InvalidExpression});
if(0===b.body.length)throw new z.ParsingError({index:0,line:0,column:0,data:null,description:"",code:z.ParsingErrorCodes.InvalidExpression});b.loadedModules={};I.findScriptDependencies(b,e);return b};Object.defineProperties(x,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/lib/arcade-parser":function(){define(["exports","./parser","./tokenizer","./types"],function(x,I,E,z){x.AssignmentOperators=z.AssignmentOperators;x.BinaryOperators=z.BinaryOperators;x.LogicalOperators=
z.LogicalOperators;x.OperatorPrecedence=z.OperatorPrecedence;x.ParsingError=z.ParsingError;Object.defineProperty(x,"ParsingErrorCodes",{enumerable:!0,get:()=>z.ParsingErrorCodes});x.ParsingErrorMessages=z.ParsingErrorMessages;Object.defineProperty(x,"Syntax",{enumerable:!0,get:()=>z.Syntax});x.TokenNames=z.TokenNames;Object.defineProperty(x,"TokenType",{enumerable:!0,get:()=>z.TokenType});x.UnaryOperators=z.UnaryOperators;x.UpdateOperators=z.UpdateOperators;x.isArrayExpression=z.isArrayExpression;
x.isAssignmentExpression=z.isAssignmentExpression;x.isBinaryExpression=z.isBinaryExpression;x.isBlockComment=z.isBlockComment;x.isBlockStatement=z.isBlockStatement;x.isBreakStatement=z.isBreakStatement;x.isCallExpression=z.isCallExpression;x.isContinueStatement=z.isContinueStatement;x.isEmptyStatement=z.isEmptyStatement;x.isExpression=z.isExpression;x.isExpressionStatement=z.isExpressionStatement;x.isForInStatement=z.isForInStatement;x.isForStatement=z.isForStatement;x.isFunctionDeclaration=z.isFunctionDeclaration;
x.isIdentifier=z.isIdentifier;x.isIfStatement=z.isIfStatement;x.isLiteral=z.isLiteral;x.isLogicalExpression=z.isLogicalExpression;x.isMemberExpression=z.isMemberExpression;x.isObjectExpression=z.isObjectExpression;x.isProgram=z.isProgram;x.isProperty=z.isProperty;x.isReturnStatement=z.isReturnStatement;x.isStatement=z.isStatement;x.isTemplateElement=z.isTemplateElement;x.isTemplateLiteral=z.isTemplateLiteral;x.isUnaryExpression=z.isUnaryExpression;x.isUpdateExpression=z.isUpdateExpression;x.isVariableDeclaration=
z.isVariableDeclaration;x.isVariableDeclarator=z.isVariableDeclarator;x.parse=function(b,e,J){return(new I.Parser(b,e,J)).parseScript()};x.tokenize=function(b,e,J){b=new E.Tokenizer(b,e);e=[];let F=void 0;try{let h;for(;h=b.getNextToken();)J&&(h=J(h)),e.push(h)}catch(h){b.errorHandler.tolerate(h)}b.errorHandler.tolerant&&(F=b.errors());return{tokens:e,errors:F}};Object.defineProperties(x,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/lib/parser":function(){define(["exports",
"./comment-handler","./error-handler","./scanner","./types"],function(x,I,E,z,b){function e(w,g=0){let d=w.start-w.lineStart,f=w.lineNumber;0>d&&(d+=g,f--);return{index:w.start,line:f,column:d}}function J(w){return[{index:w.range[0],...w.loc.start},{index:w.range[1],...w.loc.end}]}function F(w){return b.OperatorPrecedence[w]??0}var h;(function(w){w[w.None=0]="None";w[w.Function=1]="Function";w[w.IfClause=2]="IfClause";w[w.ForLoop=4]="ForLoop";w[w.WhileLoop=8]="WhileLoop"})(h||(h={}));var G;(function(w){w[w.AsObject=
0]="AsObject";w[w.Automatic=1]="Automatic"})(G||(G={}));let q=function(){function w(d,f={},A){this.delegate=A;this.hasLineTerminator=!1;this.options={tokens:"boolean"===typeof f.tokens&&f.tokens,comments:"boolean"===typeof f.comments&&f.comments,tolerant:"boolean"===typeof f.tolerant&&f.tolerant};this.options.comments&&(this.commentHandler=new I.CommentHandler);this.errorHandler=new E.ErrorHandler(this.options.tolerant);this.scanner=new z.Scanner(d,this.errorHandler);this.context={isAssignmentTarget:!1,
blockContext:h.None,curlyParsingType:G.AsObject};this.rawToken={type:b.TokenType.EOF,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0};this.tokens=[];this.startMarker={index:0,line:this.scanner.lineNumber,column:0};this.endMarker={index:0,line:this.scanner.lineNumber,column:0};this.readNextRawToken();this.endMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}var g=w.prototype;g.throwIfInvalidType=function(d,f,{validTypes:A,
invalidTypes:m}){A?.some(n=>d.type===n)||m?.some(n=>d.type===n)&&this.throwError(b.ParsingErrorCodes.InvalidExpression,f)};g.throwError=function(d,f,A=this.endMarker){const {index:m,line:n,column:H}=f;this.errorHandler.throwError({code:d,index:m,line:n,column:H+1,len:A.index-m-1})};g.tolerateError=function(d,f){throw Error("######################################### !!!");};g.unexpectedTokenError=function(d={}){const {rawToken:f}=d;let {code:A,data:m}=d;if(f){if(!A)switch(f.type){case b.TokenType.EOF:A=
b.ParsingErrorCodes.UnexpectedEndOfScript;break;case b.TokenType.Identifier:A=b.ParsingErrorCodes.UnexpectedIdentifier;break;case b.TokenType.NumericLiteral:A=b.ParsingErrorCodes.UnexpectedNumber;break;case b.TokenType.StringLiteral:A=b.ParsingErrorCodes.UnexpectedString;break;case b.TokenType.Template:A=b.ParsingErrorCodes.UnexpectedTemplate}d=f.value.toString()}else d="ILLEGAL";A=A??b.ParsingErrorCodes.UnexpectedToken;m||(m={value:d});d=E.formatErrorDescription(A,m);if(f)return new b.ParsingError({code:A,
index:f.start,line:f.lineNumber,column:f.start-f.lineStart+1,len:f.end-f.start-1,data:m,description:d});const {index:n,line:H}=this.endMarker;return new b.ParsingError({code:A,index:n,line:H,column:this.endMarker.column+1,data:m,description:d})};g.throwUnexpectedToken=function(d={}){d.rawToken=d.rawToken??this.rawToken;throw this.unexpectedTokenError(d);};g.collectComments=function(d){const {commentHandler:f}=this;f&&d?.length&&d.forEach(A=>{A={type:A.multiLine?b.Syntax.BlockComment:b.Syntax.LineComment,
value:this.getSourceValue(A),range:A.range,loc:A.loc};f.collectComment(A)})};g.peekAhead=function(d){const f=this.scanner.saveState();d=d.call(this,()=>{this.scanner.scanComments();return this.scanner.lex()});this.scanner.restoreState(f);return d};g.getSourceValue=function(d){return this.scanner.source.slice(d.start,d.end)};g.convertToToken=function(d){return{type:b.TokenNames[d.type],value:this.getSourceValue(d),range:[d.start,d.end],loc:{start:{line:this.startMarker.line,column:this.startMarker.column},
end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}}};g.readNextRawToken=function(){this.endMarker.index=this.scanner.index;this.endMarker.line=this.scanner.lineNumber;this.endMarker.column=this.scanner.index-this.scanner.lineStart;const d=this.rawToken;this.collectComments(this.scanner.scanComments());this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-
this.scanner.lineStart);this.rawToken=this.scanner.lex();this.hasLineTerminator=d.lineNumber!==this.rawToken.lineNumber;this.options.tokens&&this.rawToken.type!==b.TokenType.EOF&&this.tokens.push(this.convertToToken(this.rawToken))};g.captureStartMarker=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}};g.getItemLocation=function(d){return{range:[d.index,this.endMarker.index],loc:{start:{line:d.line,column:d.column},end:{line:this.endMarker.line,
column:this.endMarker.column}}}};g.finalize=function(d){if(this.delegate||this.commentHandler)this.commentHandler?.attachComments(d),this.delegate?.(d);return d};g.expectPunctuator=function(d){const f=this.rawToken;this.matchPunctuator(d)?this.readNextRawToken():this.throwUnexpectedToken({rawToken:f,code:b.ParsingErrorCodes.PunctuatorExpected,data:{value:d}})};g.expectKeyword=function(d){this.rawToken.type===b.TokenType.Keyword&&this.rawToken.value.toLowerCase()===d?this.readNextRawToken():this.throwUnexpectedToken({rawToken:this.rawToken})};
g.expectContextualKeyword=function(d){this.rawToken.type===b.TokenType.Identifier&&this.rawToken.value.toLowerCase()===d?this.readNextRawToken():this.throwUnexpectedToken({rawToken:this.rawToken})};g.matchKeyword=function(d){return this.rawToken.type===b.TokenType.Keyword&&this.rawToken.value.toLowerCase()===d};g.matchContextualKeyword=function(d){return this.rawToken.type===b.TokenType.Identifier&&this.rawToken.value===d};g.matchPunctuator=function(d){return this.rawToken.type===b.TokenType.Punctuator&&
this.rawToken.value===d};g.getMatchingPunctuator=function(d){"string"===typeof d&&(d=d.split(""));if(this.rawToken.type===b.TokenType.Punctuator&&d?.length)return d.find(this.matchPunctuator,this)};g.isolateCoverGrammar=function(d){const f=this.context.isAssignmentTarget;this.context.isAssignmentTarget=!0;d=d.call(this);this.context.isAssignmentTarget=f;return d};g.inheritCoverGrammar=function(d){const f=this.context.isAssignmentTarget;this.context.isAssignmentTarget=!0;d=d.call(this);this.context.isAssignmentTarget=
this.context.isAssignmentTarget&&f;return d};g.withBlockContext=function(d,f){const A=this.context.blockContext;this.context.blockContext|=d;d=this.context.curlyParsingType;this.context.curlyParsingType=G.Automatic;f=f.call(this);this.context.blockContext=A;this.context.curlyParsingType=d;return f};g.consumeSemicolon=function(){this.matchPunctuator(";")?this.readNextRawToken():this.hasLineTerminator||(this.rawToken.type===b.TokenType.EOF||this.matchPunctuator("}")?(this.endMarker.index=this.startMarker.index,
this.endMarker.line=this.startMarker.line,this.endMarker.column=this.startMarker.column):this.throwUnexpectedToken({rawToken:this.rawToken}))};g.parsePrimaryExpression=function(){const d=this.captureStartMarker(),f=this.rawToken;switch(f.type){case b.TokenType.Identifier:return this.readNextRawToken(),this.finalize({type:b.Syntax.Identifier,name:f.value,...this.getItemLocation(d)});case b.TokenType.NumericLiteral:case b.TokenType.StringLiteral:return this.context.isAssignmentTarget=!1,this.readNextRawToken(),
this.finalize({type:b.Syntax.Literal,value:f.value,raw:this.getSourceValue(f),isString:"string"===typeof f.value,...this.getItemLocation(d)});case b.TokenType.BooleanLiteral:return this.context.isAssignmentTarget=!1,this.readNextRawToken(),this.finalize({type:b.Syntax.Literal,value:"true"===f.value.toLowerCase(),raw:this.getSourceValue(f),isString:!1,...this.getItemLocation(d)});case b.TokenType.NullLiteral:return this.context.isAssignmentTarget=!1,this.readNextRawToken(),this.finalize({type:b.Syntax.Literal,
value:null,raw:this.getSourceValue(f),isString:!1,...this.getItemLocation(d)});case b.TokenType.Template:return this.parseTemplateLiteral();case b.TokenType.Punctuator:switch(f.value){case "(":return this.inheritCoverGrammar(this.parseGroupExpression);case "[":return this.inheritCoverGrammar(this.parseArrayInitializer);case "{":return this.inheritCoverGrammar(this.parseObjectExpression);default:return this.throwUnexpectedToken({rawToken:this.rawToken})}case b.TokenType.Keyword:return this.context.isAssignmentTarget=
!1,this.throwUnexpectedToken({rawToken:this.rawToken});default:return this.throwUnexpectedToken({rawToken:this.rawToken})}};g.parseArrayInitializer=function(){const d=this.captureStartMarker();this.expectPunctuator("[");const f=[];for(;!this.matchPunctuator("]");)this.matchPunctuator(",")?(this.readNextRawToken(),f.push(null)):(f.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.matchPunctuator("]")||this.expectPunctuator(","));this.expectPunctuator("]");return this.finalize({type:b.Syntax.ArrayExpression,
elements:f,...this.getItemLocation(d)})};g.parseObjectPropertyKey=function(){const d=this.captureStartMarker(),f=this.rawToken;switch(f.type){case b.TokenType.StringLiteral:return this.readNextRawToken(),this.finalize({type:b.Syntax.Literal,value:f.value,raw:this.getSourceValue(f),isString:!0,...this.getItemLocation(d)});case b.TokenType.Identifier:case b.TokenType.BooleanLiteral:case b.TokenType.NullLiteral:case b.TokenType.Keyword:return this.readNextRawToken(),this.finalize({type:b.Syntax.Identifier,
name:f.value,...this.getItemLocation(d)});default:this.throwError(b.ParsingErrorCodes.KeyMustBeString,d)}};g.parseObjectProperty=function(){const d=this.rawToken,f=this.captureStartMarker(),A=this.parseObjectPropertyKey();let m=!1,n=null;this.matchPunctuator(":")?(this.readNextRawToken(),n=this.inheritCoverGrammar(this.parseAssignmentExpression)):d.type===b.TokenType.Identifier?(m=!0,n=this.finalize({type:b.Syntax.Identifier,name:d.value,...this.getItemLocation(f)})):this.throwUnexpectedToken({rawToken:this.rawToken});
return this.finalize({type:b.Syntax.Property,kind:"init",key:A,value:n,shorthand:m,...this.getItemLocation(f)})};g.parseObjectExpression=function(){const d=this.captureStartMarker();this.expectPunctuator("{");const f=[];for(;!this.matchPunctuator("}");)f.push(this.parseObjectProperty()),this.matchPunctuator("}")||this.expectPunctuator(",");this.expectPunctuator("}");return this.finalize({type:b.Syntax.ObjectExpression,properties:f,...this.getItemLocation(d)})};g.parseTemplateElement=function(d=!1){var f=
this.rawToken;f.type!==b.TokenType.Template&&this.throwUnexpectedToken({rawToken:f});d&&!f.head&&this.throwUnexpectedToken({code:b.ParsingErrorCodes.InvalidTemplateHead,rawToken:f});d=this.captureStartMarker();this.readNextRawToken();const {value:A,cooked:m,tail:n}=f;f=this.finalize({type:b.Syntax.TemplateElement,value:{raw:A,cooked:m},tail:n,...this.getItemLocation(d)});f.loc.start.column++;f.loc.end.column-=n?1:2;return f};g.parseTemplateLiteral=function(){const d=this.captureStartMarker(),f=[],
A=[];let m=this.parseTemplateElement(!0);for(A.push(m);!m.tail;)f.push(this.parseExpression()),m=this.parseTemplateElement(),A.push(m);return this.finalize({type:b.Syntax.TemplateLiteral,quasis:A,expressions:f,...this.getItemLocation(d)})};g.parseGroupExpression=function(){this.expectPunctuator("(");const d=this.inheritCoverGrammar(this.parseAssignmentExpression);this.expectPunctuator(")");return d};g.parseArguments=function(){this.expectPunctuator("(");const d=[];if(!this.matchPunctuator(")"))for(;;){const f=
this.isolateCoverGrammar(this.parseAssignmentExpression);d.push(f);if(this.matchPunctuator(")"))break;this.expectPunctuator(",");if(this.matchPunctuator(")"))break}this.expectPunctuator(")");return d};g.parseMemberName=function(){const d=this.rawToken,f=this.captureStartMarker();this.readNextRawToken();d.type!==b.TokenType.NullLiteral&&d.type!==b.TokenType.Identifier&&d.type!==b.TokenType.Keyword&&d.type!==b.TokenType.BooleanLiteral&&this.throwUnexpectedToken({rawToken:d});return this.finalize({type:b.Syntax.Identifier,
name:d.value,...this.getItemLocation(f)})};g.parseLeftHandSideExpression=function(){const d=this.captureStartMarker();let f=this.inheritCoverGrammar(this.parsePrimaryExpression);const A=this.captureStartMarker();for(var m;m=this.getMatchingPunctuator("([.");)switch(m){case "(":this.context.isAssignmentTarget=!1;f.type!==b.Syntax.Identifier&&f.type!==b.Syntax.MemberExpression&&this.throwError(b.ParsingErrorCodes.IdentiferExpected,d,A);m=this.parseArguments();f=this.finalize({type:b.Syntax.CallExpression,
callee:f,arguments:m,...this.getItemLocation(d)});continue;case "[":this.context.isAssignmentTarget=!0;this.expectPunctuator("[");m=this.isolateCoverGrammar(this.parseExpression);this.expectPunctuator("]");f=this.finalize({type:b.Syntax.MemberExpression,computed:!0,object:f,property:m,...this.getItemLocation(d)});continue;case ".":this.context.isAssignmentTarget=!0,this.expectPunctuator("."),m=this.parseMemberName(),f=this.finalize({type:b.Syntax.MemberExpression,computed:!1,object:f,property:m,...this.getItemLocation(d)})}return f};
g.parseUpdateExpression=function(){const d=this.captureStartMarker();let f=this.getMatchingPunctuator(b.UpdateOperators);if(f){this.readNextRawToken();var A=this.captureStartMarker(),m=this.inheritCoverGrammar(this.parseUnaryExpression);m.type!==b.Syntax.Identifier&&m.type!==b.Syntax.MemberExpression&&m.type!==b.Syntax.CallExpression&&this.throwError(b.ParsingErrorCodes.InvalidExpression,A);this.context.isAssignmentTarget||this.tolerateError(b.ParsingErrorCodes.InvalidLeftHandSideInAssignment,d);
this.context.isAssignmentTarget=!1;return this.finalize({type:b.Syntax.UpdateExpression,operator:f,argument:m,prefix:!0,...this.getItemLocation(d)})}A=this.captureStartMarker();m=this.inheritCoverGrammar(this.parseLeftHandSideExpression);const n=this.captureStartMarker();if(this.hasLineTerminator)return m;f=this.getMatchingPunctuator(b.UpdateOperators);if(!f)return m;m.type!==b.Syntax.Identifier&&m.type!==b.Syntax.MemberExpression&&this.throwError(b.ParsingErrorCodes.InvalidExpression,A,n);this.context.isAssignmentTarget||
this.tolerateError(b.ParsingErrorCodes.InvalidLeftHandSideInAssignment,d);this.readNextRawToken();this.context.isAssignmentTarget=!1;return this.finalize({type:b.Syntax.UpdateExpression,operator:f,argument:m,prefix:!1,...this.getItemLocation(d)})};g.parseUnaryExpression=function(){const d=this.getMatchingPunctuator(b.UnaryOperators);if(d){const f=this.captureStartMarker();this.readNextRawToken();const A=this.inheritCoverGrammar(this.parseUnaryExpression);this.context.isAssignmentTarget=!1;return this.finalize({type:b.Syntax.UnaryExpression,
operator:d,argument:A,prefix:!0,...this.getItemLocation(f)})}return this.parseUpdateExpression()};g.parseBinaryExpression=function(){var d=this.rawToken,f=this.inheritCoverGrammar(this.parseUnaryExpression);if(this.rawToken.type!==b.TokenType.Punctuator)return f;var A=this.rawToken.value,m=F(A);if(0===m)return f;this.readNextRawToken();this.context.isAssignmentTarget=!1;d=[d,this.rawToken];var n=this.inheritCoverGrammar(this.parseUnaryExpression);A=[f,A,n];for(var H=[m];this.rawToken.type===b.TokenType.Punctuator&&
0<(m=F(this.rawToken.value));){for(;2<A.length&&m<=H[H.length-1];){n=A.pop();const c=A.pop();H.pop();f=A.pop();d.pop();var B=d[d.length-1];B=e(B,B.lineStart);A.push(this.finalize(this.createBinaryOrLogicalExpression(B,c,f,n)))}A.push(this.rawToken.value);H.push(m);d.push(this.rawToken);this.readNextRawToken();A.push(this.inheritCoverGrammar(this.parseUnaryExpression))}m=A.length-1;f=A[m];for(H=d.pop();1<m;){n=d.pop();if(!n)break;H=e(n,H?.lineStart);f=this.finalize(this.createBinaryOrLogicalExpression(H,
A[m-1],A[m-2],f));m-=2;H=n}return f};g.createBinaryOrLogicalExpression=function(d,f,A,m){const n=b.LogicalOperators.includes(f)?b.Syntax.LogicalExpression:b.Syntax.BinaryExpression;if(n===b.Syntax.BinaryExpression)return{type:n,operator:f,left:A,right:m,...this.getItemLocation(d)};A.type!==b.Syntax.AssignmentExpression&&A.type!==b.Syntax.UpdateExpression||this.throwError(b.ParsingErrorCodes.InvalidExpression,...J(A));m.type!==b.Syntax.AssignmentExpression&&m.type!==b.Syntax.UpdateExpression||this.throwError(b.ParsingErrorCodes.InvalidExpression,
...J(A));return{type:n,operator:f,left:A,right:m,...this.getItemLocation(d)}};g.parseAssignmentExpression=function(){const d=this.captureStartMarker(),f=this.inheritCoverGrammar(this.parseBinaryExpression);var A=this.captureStartMarker();const m=this.getMatchingPunctuator(b.AssignmentOperators);if(!m)return f;f.type!==b.Syntax.Identifier&&f.type!==b.Syntax.MemberExpression&&this.throwError(b.ParsingErrorCodes.InvalidExpression,d,A);this.context.isAssignmentTarget||this.tolerateError(b.ParsingErrorCodes.InvalidLeftHandSideInAssignment,
d);this.matchPunctuator("\x3d")||(this.context.isAssignmentTarget=!1);this.readNextRawToken();A=this.isolateCoverGrammar(this.parseAssignmentExpression);return this.finalize({type:b.Syntax.AssignmentExpression,left:f,operator:m,right:A,...this.getItemLocation(d)})};g.parseExpression=function(){return this.isolateCoverGrammar(this.parseAssignmentExpression)};g.parseStatements=function(d=null){const f=[];for(;this.rawToken.type!==b.TokenType.EOF&&!this.matchPunctuator(d);){const A=this.parseStatementListItem();
b.isEmptyStatement(A)||f.push(A)}return f};g.parseStatementListItem=function(){this.context.isAssignmentTarget=!0;return this.matchKeyword("function")?this.parseFunctionDeclaration():this.matchKeyword("export")?this.parseExportDeclaration():this.matchKeyword("import")?this.parseImportDeclaration():this.parseStatement()};g.parseBlock=function(){const d=this.captureStartMarker();this.expectPunctuator("{");const f=this.parseStatements("}");this.expectPunctuator("}");return this.finalize({type:b.Syntax.BlockStatement,
body:f,...this.getItemLocation(d)})};g.parseObjectStatement=function(){const d=this.captureStartMarker(),f=this.parseObjectExpression();return this.finalize({type:b.Syntax.ExpressionStatement,expression:f,...this.getItemLocation(d)})};g.parseBlockOrObjectStatement=function(){return this.context.curlyParsingType===G.AsObject||this.peekAhead(d=>{let f=d();if(f.type!==b.TokenType.Identifier&&f.type!==b.TokenType.StringLiteral)return!1;f=d();return f.type!==b.TokenType.Punctuator||":"!==f.value?!1:!0})?
this.parseObjectStatement():this.parseBlock()};g.parseIdentifier=function(){const d=this.rawToken;if(d.type!==b.TokenType.Identifier)return null;const f=this.captureStartMarker();this.readNextRawToken();return this.finalize({type:b.Syntax.Identifier,name:d.value,...this.getItemLocation(f)})};g.parseVariableDeclarator=function(){const d=this.captureStartMarker(),f=this.parseIdentifier();f||this.throwUnexpectedToken({code:b.ParsingErrorCodes.IdentiferExpected});let A=null;if(this.matchPunctuator("\x3d")){this.readNextRawToken();
const m=this.rawToken;try{A=this.isolateCoverGrammar(this.parseAssignmentExpression)}catch(n){this.throwUnexpectedToken({rawToken:m,code:b.ParsingErrorCodes.InvalidVariableAssignment})}}return this.finalize({type:b.Syntax.VariableDeclarator,id:f,init:A,...this.getItemLocation(d)})};g.parseVariableDeclarationList=function(){const d=[this.parseVariableDeclarator()];for(;this.matchPunctuator(",");)this.readNextRawToken(),d.push(this.parseVariableDeclarator());return d};g.parseVariableDeclaration=function(){const d=
this.captureStartMarker();this.expectKeyword("var");const f=this.parseVariableDeclarationList();this.consumeSemicolon();return this.finalize({type:b.Syntax.VariableDeclaration,declarations:f,kind:"var",...this.getItemLocation(d)})};g.parseEmptyStatement=function(){const d=this.captureStartMarker();this.expectPunctuator(";");return this.finalize({type:b.Syntax.EmptyStatement,...this.getItemLocation(d)})};g.parseExpressionStatement=function(){const d=this.captureStartMarker(),f=this.parseExpression();
this.consumeSemicolon();return this.finalize({type:b.Syntax.ExpressionStatement,expression:f,...this.getItemLocation(d)})};g.parseIfClause=function(){return this.withBlockContext(h.IfClause,this.parseStatement)};g.parseIfStatement=function(){const d=this.captureStartMarker();this.expectKeyword("if");this.expectPunctuator("(");var f=this.captureStartMarker();const A=this.parseExpression();var m=this.captureStartMarker();this.expectPunctuator(")");A.type!==b.Syntax.AssignmentExpression&&A.type!==b.Syntax.UpdateExpression||
this.throwError(b.ParsingErrorCodes.InvalidExpression,f,m);f=this.parseIfClause();m=null;this.matchKeyword("else")&&(this.readNextRawToken(),m=this.parseIfClause());return this.finalize({type:b.Syntax.IfStatement,test:A,consequent:f,alternate:m,...this.getItemLocation(d)})};g.parseWhileStatement=function(){const d=this.captureStartMarker();this.expectKeyword("while");this.expectPunctuator("(");var f=this.captureStartMarker();const A=this.parseExpression(),m=this.captureStartMarker();this.expectPunctuator(")");
A.type!==b.Syntax.AssignmentExpression&&A.type!==b.Syntax.UpdateExpression||this.throwError(b.ParsingErrorCodes.InvalidExpression,f,m);f=this.withBlockContext(h.WhileLoop,this.parseStatement);return this.finalize({type:b.Syntax.WhileStatement,test:A,body:f,...this.getItemLocation(d)})};g.parseForStatement=function(){let d=null,f=null,A=null,m=null,n=null;const H=this.captureStartMarker();this.expectKeyword("for");this.expectPunctuator("(");if(this.matchPunctuator(";"))this.readNextRawToken();else if(this.matchKeyword("var")){var B=
this.captureStartMarker();this.readNextRawToken();var c=this.parseVariableDeclarationList();1===c.length&&this.matchKeyword("in")?(c[0].init&&this.throwError(b.ParsingErrorCodes.ForInOfLoopInitializer,B),m=this.finalize({type:b.Syntax.VariableDeclaration,declarations:c,kind:"var",...this.getItemLocation(B)}),this.readNextRawToken(),n=this.parseExpression()):(this.matchKeyword("in")&&this.throwError(b.ParsingErrorCodes.InvalidLeftHandSideInForIn,B),d=this.finalize({type:b.Syntax.VariableDeclaration,
declarations:c,kind:"var",...this.getItemLocation(B)}),this.expectPunctuator(";"))}else B=this.context.isAssignmentTarget,c=this.captureStartMarker(),d=this.inheritCoverGrammar(this.parseAssignmentExpression),this.matchKeyword("in")?(this.context.isAssignmentTarget||this.tolerateError(b.ParsingErrorCodes.InvalidLeftHandSideInForIn,c),d.type!==b.Syntax.Identifier&&this.throwError(b.ParsingErrorCodes.InvalidLeftHandSideInForIn,c),this.readNextRawToken(),m=d,n=this.parseExpression(),d=null):(this.context.isAssignmentTarget=
B,this.expectPunctuator(";"));m||(this.matchPunctuator(";")||(f=this.isolateCoverGrammar(this.parseExpression)),this.expectPunctuator(";"),this.matchPunctuator(")")||(A=this.isolateCoverGrammar(this.parseExpression)));this.expectPunctuator(")");B=this.withBlockContext(h.ForLoop,()=>this.isolateCoverGrammar(this.parseStatement));return m&&n?this.finalize({type:b.Syntax.ForInStatement,left:m,right:n,body:B,...this.getItemLocation(H)}):this.finalize({type:b.Syntax.ForStatement,init:d,test:f,update:A,
body:B,...this.getItemLocation(H)})};g.parseContinueStatement=function(){const d=this.captureStartMarker();this.expectKeyword("continue");this.consumeSemicolon();return this.finalize({type:b.Syntax.ContinueStatement,...this.getItemLocation(d)})};g.parseBreakStatement=function(){const d=this.captureStartMarker();this.expectKeyword("break");this.consumeSemicolon();return this.finalize({type:b.Syntax.BreakStatement,...this.getItemLocation(d)})};g.parseReturnStatement=function(){const d=this.captureStartMarker();
this.expectKeyword("return");const f=(this.matchPunctuator(";")||this.matchPunctuator("}")||this.hasLineTerminator||this.rawToken.type===b.TokenType.EOF)&&this.rawToken.type!==b.TokenType.StringLiteral&&this.rawToken.type!==b.TokenType.Template?null:this.parseExpression();this.consumeSemicolon();return this.finalize({type:b.Syntax.ReturnStatement,argument:f,...this.getItemLocation(d)})};g.parseStatement=function(){switch(this.rawToken.type){case b.TokenType.BooleanLiteral:case b.TokenType.NullLiteral:case b.TokenType.NumericLiteral:case b.TokenType.StringLiteral:case b.TokenType.Template:case b.TokenType.Identifier:return this.parseExpressionStatement();
case b.TokenType.Punctuator:return"{"===this.rawToken.value?this.parseBlockOrObjectStatement():"("===this.rawToken.value?this.parseExpressionStatement():";"===this.rawToken.value?this.parseEmptyStatement():this.parseExpressionStatement();case b.TokenType.Keyword:switch(this.rawToken.value.toLowerCase()){case "break":return this.parseBreakStatement();case "continue":return this.parseContinueStatement();case "for":return this.parseForStatement();case "function":return this.parseFunctionDeclaration();
case "if":return this.parseIfStatement();case "return":return this.parseReturnStatement();case "var":return this.parseVariableDeclaration();case "while":return this.parseWhileStatement();default:return this.parseExpressionStatement()}default:return this.throwUnexpectedToken({rawToken:this.rawToken})}};g.parseFormalParameters=function(){const d=[];this.expectPunctuator("(");if(!this.matchPunctuator(")"))for(;this.rawToken.type!==b.TokenType.EOF;){const f=this.parseIdentifier();f||this.throwUnexpectedToken({rawToken:this.rawToken,
code:b.ParsingErrorCodes.IdentiferExpected});d.push(f);if(this.matchPunctuator(")"))break;this.expectPunctuator(",");if(this.matchPunctuator(")"))break}this.expectPunctuator(")");return d};g.parseFunctionDeclaration=function(){(this.context.blockContext&h.Function)===h.Function&&this.throwUnexpectedToken({code:b.ParsingErrorCodes.NoFunctionInsideFunction});(this.context.blockContext&h.WhileLoop)!==h.WhileLoop&&(this.context.blockContext&h.IfClause)!==h.IfClause||this.throwUnexpectedToken({code:b.ParsingErrorCodes.NoFunctionInsideBlock});
const d=this.captureStartMarker();this.expectKeyword("function");const f=this.parseIdentifier();f||this.throwUnexpectedToken({code:b.ParsingErrorCodes.InvalidFunctionIdentifier});const A=this.parseFormalParameters(),m=this.context.blockContext;this.context.blockContext|=h.Function;const n=this.parseBlock();this.context.blockContext=m;return this.finalize({type:b.Syntax.FunctionDeclaration,id:f,params:A,body:n,...this.getItemLocation(d)})};g.parseScript=function(){var d=this.captureStartMarker();const f=
this.parseStatements();d=this.finalize({type:b.Syntax.Program,body:f,...this.getItemLocation(d)});this.options.tokens&&(d.tokens=this.tokens);this.options.tolerant&&(d.errors=this.errorHandler.errors);return d};g.parseExportDeclaration=function(){this.context.blockContext!==h.None&&this.throwUnexpectedToken({code:b.ParsingErrorCodes.ModuleExportRootOnly});let d=null;const f=this.captureStartMarker();this.expectKeyword("export");this.matchKeyword("var")?d=this.parseVariableDeclaration():this.matchKeyword("function")?
d=this.parseFunctionDeclaration():this.throwUnexpectedToken({code:b.ParsingErrorCodes.InvalidExpression});return this.finalize({type:b.Syntax.ExportNamedDeclaration,declaration:d,specifiers:[],source:null,...this.getItemLocation(f)})};g.parseModuleSpecifier=function(){const d=this.captureStartMarker(),f=this.rawToken;if(f.type===b.TokenType.StringLiteral)return this.readNextRawToken(),this.finalize({type:b.Syntax.Literal,value:f.value,raw:this.getSourceValue(f),isString:!0,...this.getItemLocation(d)});
this.throwError(b.ParsingErrorCodes.InvalidModuleUri,d)};g.parseDefaultSpecifier=function(){const d=this.captureStartMarker(),f=this.parseIdentifier();f||this.throwUnexpectedToken({code:b.ParsingErrorCodes.InvalidFunctionIdentifier});return this.finalize({type:b.Syntax.ImportDefaultSpecifier,local:f,...this.getItemLocation(d)})};g.parseImportDeclaration=function(){this.context.blockContext!==h.None&&this.throwUnexpectedToken({code:b.ParsingErrorCodes.ModuleImportRootOnly});const d=this.captureStartMarker();
this.expectKeyword("import");const f=this.parseDefaultSpecifier();this.expectContextualKeyword("from");const A=this.parseModuleSpecifier();return this.finalize({type:b.Syntax.ImportDeclaration,specifiers:[f],source:A,...this.getItemLocation(d)})};return w}();x.Parser=q;x.binaryOperatorPrecedence=F;Object.defineProperties(x,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/lib/comment-handler":function(){define(["exports","./types"],function(x,I){function E(b,e){return e?
e.loc.end.line===b.loc.start.line&&e.loc.end.column<=b.loc.start.column:!1}let z=function(){function b(){this.comments=[];this._nodeStack=[];this._newComments=[]}var e=b.prototype;e.insertInnerComments=function(J){if(I.isBlockStatement(J)&&0===J.body.length){var F=[];for(let h=this._newComments.length-1;0<=h;--h){const G=this._newComments[h];J.range[1]>=G.range[0]&&(F.unshift(G),this._newComments.splice(h,1))}F.length&&(J.innerComments=F)}};e.attachTrailingComments=function(J){if(J){var F=this._nodeStack[this._nodeStack.length-
1];if(I.isBlockStatement(J)&&F.range[0]>=J.range[0]&&F.range[1]<=J.range[1])for(var h=this._newComments.length-1;0<=h;--h){var G=this._newComments[h];G.range[0]>=J.range[0]&&G.range[1]<=J.range[1]&&(F.trailingComments=[...(F.trailingComments??[]),G],this._newComments.splice(h,1))}h=[];if(0<this._newComments.length)for(G=this._newComments.length-1;0<=G;--G){const q=this._newComments[G];E(q,F)?(F.trailingComments=[...(F.trailingComments??[]),q],this._newComments.splice(G,1)):E(q,J)&&(h.unshift(q),this._newComments.splice(G,
1))}F?.trailingComments&&E(F.trailingComments[0],J)&&(h=[...h,...F.trailingComments],delete F.trailingComments);0<h.length&&(J.trailingComments=h)}};e.attachLeadingComments=function(J){if(J){for(var F;0<this._nodeStack.length;){var h=this._nodeStack[this._nodeStack.length-1];if(J.range[0]<=h.range[0])F=h,this._nodeStack.pop();else break}h=[];var G=[];if(F){var q=F.leadingComments?.length??0;for(--q;0<=q;--q){const w=F.leadingComments[q];J.range[0]>=w.range[1]?(h.unshift(w),F.leadingComments.splice(q,
1)):I.isVariableDeclarator(J)&&!I.isBlockComment(w)&&(G.unshift(w),F.leadingComments.splice(q,1))}0===F.leadingComments?.length&&delete F.leadingComments;h.length&&(J.leadingComments=h);G.length&&(J.trailingComments=[...G,...(J.trailingComments??[])])}else{for(F=this._newComments.length-1;0<=F;--F)G=this._newComments[F],J.range[0]>=G.range[0]&&(h.unshift(G),this._newComments.splice(F,1));h.length&&(J.leadingComments=h)}}};e.attachComments=function(J){if(I.isProgram(J)&&0<J.body.length){const F=this._nodeStack[this._nodeStack.length-
1];F?(F.trailingComments=[...(F.trailingComments??[]),...this._newComments],this._newComments.length=0,this._nodeStack.pop()):(J.trailingComments=[...this._newComments],this._newComments.length=0)}else this.attachTrailingComments(J),this.attachLeadingComments(J),this.insertInnerComments(J),this._nodeStack.push(J)};e.collectComment=function(J){this.comments.push(J);this._newComments.push(J)};return b}();x.CommentHandler=z;Object.defineProperties(x,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/arcade/lib/types":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers"],function(x,I){x.Syntax=void 0;(function(b){b.AssignmentExpression="AssignmentExpression";b.ArrayExpression="ArrayExpression";b.BlockComment="BlockComment";b.BlockStatement="BlockStatement";b.BinaryExpression="BinaryExpression";b.BreakStatement="BreakStatement";b.CallExpression="CallExpression";b.ContinueStatement="ContinueStatement";b.EmptyStatement="EmptyStatement";b.ExpressionStatement="ExpressionStatement";
b.ExportNamedDeclaration="ExportNamedDeclaration";b.ExportSpecifier="ExportSpecifier";b.ForStatement="ForStatement";b.ForInStatement="ForInStatement";b.FunctionDeclaration="FunctionDeclaration";b.Identifier="Identifier";b.IfStatement="IfStatement";b.ImportDeclaration="ImportDeclaration";b.ImportDefaultSpecifier="ImportDefaultSpecifier";b.LineComment="LineComment";b.Literal="Literal";b.LogicalExpression="LogicalExpression";b.MemberExpression="MemberExpression";b.ObjectExpression="ObjectExpression";
b.Program="Program";b.Property="Property";b.ReturnStatement="ReturnStatement";b.TemplateElement="TemplateElement";b.TemplateLiteral="TemplateLiteral";b.UnaryExpression="UnaryExpression";b.UpdateExpression="UpdateExpression";b.VariableDeclaration="VariableDeclaration";b.VariableDeclarator="VariableDeclarator";b.WhileStatement="WhileStatement"})(x.Syntax||(x.Syntax={}));x.TokenType=void 0;(function(b){b[b.Unknown=0]="Unknown";b[b.BooleanLiteral=1]="BooleanLiteral";b[b.EOF=2]="EOF";b[b.Identifier=3]=
"Identifier";b[b.Keyword=4]="Keyword";b[b.NullLiteral=5]="NullLiteral";b[b.NumericLiteral=6]="NumericLiteral";b[b.Punctuator=7]="Punctuator";b[b.StringLiteral=8]="StringLiteral";b[b.Template=10]="Template"})(x.TokenType||(x.TokenType={}));x.ParsingErrorCodes=void 0;(function(b){b.InvalidModuleUri="InvalidModuleUri";b.ForInOfLoopInitializer="ForInOfLoopInitializer";b.IdentiferExpected="IdentiferExpected";b.InvalidEscapedReservedWord="InvalidEscapedReservedWord";b.InvalidExpression="InvalidExpression";
b.InvalidFunctionIdentifier="InvalidFunctionIdentifier";b.InvalidHexEscapeSequence="InvalidHexEscapeSequence";b.InvalidLeftHandSideInAssignment="InvalidLeftHandSideInAssignment";b.InvalidLeftHandSideInForIn="InvalidLeftHandSideInForIn";b.InvalidTemplateHead="InvalidTemplateHead";b.InvalidVariableAssignment="InvalidVariableAssignment";b.KeyMustBeString="KeyMustBeString";b.NoFunctionInsideBlock="NoFunctionInsideBlock";b.NoFunctionInsideFunction="NoFunctionInsideFunction";b.ModuleExportRootOnly="ModuleExportRootOnly";
b.ModuleImportRootOnly="ModuleImportRootOnly";b.PunctuatorExpected="PunctuatorExpected";b.TemplateOctalLiteral="TemplateOctalLiteral";b.UnexpectedEndOfScript="UnexpectedEndOfScript";b.UnexpectedIdentifier="UnexpectedIdentifier";b.UnexpectedNumber="UnexpectedNumber";b.UnexpectedString="UnexpectedString";b.UnexpectedTemplate="UnexpectedTemplate";b.UnexpectedToken="UnexpectedToken"})(x.ParsingErrorCodes||(x.ParsingErrorCodes={}));const E={[x.ParsingErrorCodes.InvalidModuleUri]:"Module uri must be a string literal",
[x.ParsingErrorCodes.ForInOfLoopInitializer]:"for-in loop variable declaration may not have an initializer",[x.ParsingErrorCodes.IdentiferExpected]:"Identifier expected",[x.ParsingErrorCodes.InvalidEscapedReservedWord]:"Keyword cannot contain escaped characters",[x.ParsingErrorCodes.InvalidExpression]:"Invalid expression",[x.ParsingErrorCodes.InvalidFunctionIdentifier]:"Invalid function identifier",[x.ParsingErrorCodes.InvalidHexEscapeSequence]:"Invalid hexadecimal escape sequence",[x.ParsingErrorCodes.InvalidLeftHandSideInAssignment]:"Invalid left-hand side in assignment",
[x.ParsingErrorCodes.InvalidLeftHandSideInForIn]:"Invalid left-hand side in for-in",[x.ParsingErrorCodes.InvalidTemplateHead]:"Invalid template structure",[x.ParsingErrorCodes.InvalidVariableAssignment]:"Invalid variable assignment",[x.ParsingErrorCodes.KeyMustBeString]:"Object keys must be a string",[x.ParsingErrorCodes.NoFunctionInsideBlock]:"Functions cannot be declared inside of code blocks",[x.ParsingErrorCodes.NoFunctionInsideFunction]:"Functions cannot be declared inside another function",
[x.ParsingErrorCodes.ModuleExportRootOnly]:"Module exports cannot be declared inside of code blocks",[x.ParsingErrorCodes.ModuleImportRootOnly]:"Module import cannot be declared inside of code blocks",[x.ParsingErrorCodes.PunctuatorExpected]:"'${value}' expected",[x.ParsingErrorCodes.TemplateOctalLiteral]:"Octal literals are not allowed in template strings.",[x.ParsingErrorCodes.UnexpectedEndOfScript]:"Unexpected end of script",[x.ParsingErrorCodes.UnexpectedIdentifier]:"Unexpected identifier",[x.ParsingErrorCodes.UnexpectedNumber]:"Unexpected number",
[x.ParsingErrorCodes.UnexpectedString]:"Unexpected string",[x.ParsingErrorCodes.UnexpectedTemplate]:"Unexpected quasi '${value}'",[x.ParsingErrorCodes.UnexpectedToken]:"Unexpected token"};let z=function(b){function e({code:J,index:F,line:h,column:G,len:q=0,description:w,data:g}){var d=b.call(this,`${w??J}`)||this;d.declaredRootClass="esri.arcade.lib.parsingerror";d.name="ParsingError";d.code=J;d.index=F;d.line=h;d.column=G;d.len=q;d.data=g;d.description=w;d.range={start:{line:h,column:G-1},end:{line:h,
column:G+q}};Error.captureStackTrace?.(I._assertThisInitialized(d),e);return d}I._inheritsLoose(e,b);return e}(I._wrapNativeSuper(Error));x.AssignmentOperators="\x3d /\x3d *\x3d %\x3d +\x3d -\x3d".split(" ");x.BinaryOperators="| \x26 \x3e\x3e \x3c\x3c \x3e\x3e\x3e ^ \x3d\x3d !\x3d \x3c \x3c\x3d \x3e \x3e\x3d + - * / %".split(" ");x.LogicalOperators=["||","\x26\x26"];x.OperatorPrecedence={"||":1,"\x26\x26":2,"|":3,"^":4,"\x26":5,"\x3d\x3d":6,"!\x3d":6,"\x3c":7,"\x3e":7,"\x3c\x3d":7,"\x3e\x3d":7,"\x3c\x3c":8,
"\x3e\x3e":8,"\x3e\x3e\x3e":8,"+":9,"-":9,"*":10,"/":10,"%":10};x.ParsingError=z;x.ParsingErrorMessages=E;x.TokenNames="Unknown Boolean \x3cend\x3e Identifier Keyword Null Numeric Punctuator String RegularExpression Template".split(" ");x.UnaryOperators=["-","+","!","~"];x.UpdateOperators=["++","--"];x.isArrayExpression=function(b){return b?.type===x.Syntax.ArrayExpression};x.isAssignmentExpression=function(b){return b?.type===x.Syntax.AssignmentExpression};x.isBinaryExpression=function(b){return b?.type===
x.Syntax.BinaryExpression};x.isBlockComment=function(b){return b?.type===x.Syntax.BlockComment};x.isBlockStatement=function(b){return b?.type===x.Syntax.BlockStatement};x.isBreakStatement=function(b){return b?.type===x.Syntax.BreakStatement};x.isCallExpression=function(b){return b?.type===x.Syntax.CallExpression};x.isContinueStatement=function(b){return b?.type===x.Syntax.ContinueStatement};x.isEmptyStatement=function(b){return b?.type===x.Syntax.EmptyStatement};x.isExpression=function(b){switch(b?.type){case x.Syntax.ArrayExpression:case x.Syntax.AssignmentExpression:case x.Syntax.BinaryExpression:case x.Syntax.CallExpression:case x.Syntax.Identifier:case x.Syntax.Literal:case x.Syntax.LogicalExpression:case x.Syntax.MemberExpression:case x.Syntax.ObjectExpression:case x.Syntax.TemplateLiteral:case x.Syntax.UpdateExpression:case x.Syntax.UnaryExpression:return!0;
default:return!1}};x.isExpressionStatement=function(b){return b?.type===x.Syntax.ExpressionStatement};x.isForInStatement=function(b){return b?.type===x.Syntax.ForInStatement};x.isForStatement=function(b){return b?.type===x.Syntax.ForStatement};x.isFunctionDeclaration=function(b){return b?.type===x.Syntax.FunctionDeclaration};x.isIdentifier=function(b){return b?.type===x.Syntax.Identifier};x.isIfStatement=function(b){return b?.type===x.Syntax.IfStatement};x.isLiteral=function(b){return b?.type===x.Syntax.Literal};
x.isLogicalExpression=function(b){return b?.type===x.Syntax.LogicalExpression};x.isMemberExpression=function(b){return b?.type===x.Syntax.MemberExpression};x.isObjectExpression=function(b){return b?.type===x.Syntax.ObjectExpression};x.isProgram=function(b){return b?.type===x.Syntax.Program};x.isProperty=function(b){return b?.type===x.Syntax.Property};x.isReturnStatement=function(b){return b?.type===x.Syntax.ReturnStatement};x.isStatement=function(b){switch(b?.type){case x.Syntax.BlockStatement:case x.Syntax.BreakStatement:case x.Syntax.ContinueStatement:case x.Syntax.EmptyStatement:case x.Syntax.ExpressionStatement:case x.Syntax.ForInStatement:case x.Syntax.ForStatement:case x.Syntax.FunctionDeclaration:case x.Syntax.IfStatement:case x.Syntax.ReturnStatement:case x.Syntax.VariableDeclaration:return!0;
default:return!1}};x.isTemplateElement=function(b){return b?.type===x.Syntax.TemplateElement};x.isTemplateLiteral=function(b){return b?.type===x.Syntax.TemplateLiteral};x.isUnaryExpression=function(b){return b?.type===x.Syntax.UnaryExpression};x.isUpdateExpression=function(b){return b?.type===x.Syntax.UpdateExpression};x.isVariableDeclaration=function(b){return b?.type===x.Syntax.VariableDeclaration};x.isVariableDeclarator=function(b){return b?.type===x.Syntax.VariableDeclarator};Object.defineProperties(x,
{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/lib/error-handler":function(){define(["exports","./types"],function(x,I){function E(b,e){b=I.ParsingErrorMessages[b];return e?b.replace(/\${(.*?)}/g,(J,F)=>e[F]?.toString()??""):b}let z=function(){function b(J=!1){this.tolerant=J;this.errors=[]}var e=b.prototype;e.recordError=function(J){this.errors.push(J)};e.tolerate=function(J){if(this.tolerant)this.recordError(J);else throw J;};e.throwError=function(J){J.description=
J.description??E(J.code,J.data);throw new I.ParsingError(J);};e.tolerateError=function(J){J.description=J.description??E(J.code,J.data);J=new I.ParsingError(J);if(this.tolerant)this.recordError(J);else throw J;};return b}();x.ErrorHandler=z;x.formatErrorDescription=E;Object.defineProperties(x,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/lib/scanner":function(){define(["exports","./assert","./character","./types"],function(x,I,E,z){const b=[[],[],[]];z.UpdateOperators.forEach(J=>
b[J.length-1].push(J));z.UnaryOperators.forEach(J=>b[J.length-1].push(J));z.LogicalOperators.forEach(J=>b[J.length-1].push(J));z.AssignmentOperators.forEach(J=>b[J.length-1].push(J));z.BinaryOperators.forEach(J=>b[J.length-1].push(J));let e=function(){function J(h,G){this.source=h;this.errorHandler=G;this._length=h.length;this.index=0;this.lineNumber=1;this.lineStart=0;this.curlyStack=[]}var F=J.prototype;F.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart,
curlyStack:this.curlyStack.slice()}};F.restoreState=function(h){this.index=h.index;this.lineNumber=h.lineNumber;this.lineStart=h.lineStart;this.curlyStack=h.curlyStack};F.eof=function(){return this.index>=this._length};F.throwUnexpectedToken=function(h=z.ParsingErrorCodes.UnexpectedToken){this.errorHandler.throwError({code:h,index:this.index,line:this.lineNumber,column:this.index-this.lineStart+1})};F.tolerateUnexpectedToken=function(h=z.ParsingErrorCodes.UnexpectedToken){this.errorHandler.tolerateError({code:h,
index:this.index,line:this.lineNumber,column:this.index-this.lineStart+1})};F.skipSingleLineComment=function(h){const G=[],q=this.index-h,w={start:{line:this.lineNumber,column:this.index-this.lineStart-h},end:{line:0,column:0}};for(;!this.eof();){const g=this.source.charCodeAt(this.index);++this.index;if(E.Character.isLineTerminator(g))return w&&(w.end={line:this.lineNumber,column:this.index-this.lineStart-1},G.push({multiLine:!1,start:q+h,end:this.index-1,range:[q,this.index-1],loc:w})),13===g&&
10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,G}w&&(w.end={line:this.lineNumber,column:this.index-this.lineStart},G.push({multiLine:!1,start:q+h,end:this.index,range:[q,this.index],loc:w}));return G};F.skipMultiLineComment=function(){const h=[],G=this.index-2,q={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{line:0,column:0}};for(;!this.eof();){const w=this.source.charCodeAt(this.index);if(E.Character.isLineTerminator(w))13===
w&&10===this.source.charCodeAt(this.index+1)&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else{if(42===w&&47===this.source.charCodeAt(this.index+1))return this.index+=2,q&&(q.end={line:this.lineNumber,column:this.index-this.lineStart},h.push({multiLine:!0,start:G+2,end:this.index-2,range:[G,this.index],loc:q})),h;++this.index}}q&&(q.end={line:this.lineNumber,column:this.index-this.lineStart},h.push({multiLine:!0,start:G+2,end:this.index,range:[G,this.index],loc:q}));this.tolerateUnexpectedToken();
return h};F.scanComments=function(){let h=[];for(;!this.eof();){var G=this.source.charCodeAt(this.index);if(E.Character.isWhiteSpace(G))++this.index;else if(E.Character.isLineTerminator(G))++this.index,13===G&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index;else if(47===G)if(G=this.source.charCodeAt(this.index+1),47===G)this.index+=2,G=this.skipSingleLineComment(2),h=[...h,...G];else if(42===G)this.index+=2,G=this.skipMultiLineComment(),h=[...h,...G];
else break;else break}return h};F.isKeyword=function(h){h=h.toLowerCase();switch(h.length){case 2:return"if"===h||"in"===h;case 3:return"var"===h||"for"===h;case 4:return"else"===h;case 5:return"break"===h||"while"===h;case 6:return"return"===h||"import"===h||"export"===h;case 8:return"function"===h||"continue"===h;default:return!1}};F.codePointAt=function(h){let G=this.source.charCodeAt(h);55296<=G&&56319>=G&&(h=this.source.charCodeAt(h+1),56320<=h&&57343>=h&&(G=1024*(G-55296)+h-56320+65536));return G};
F.scanHexEscape=function(h){h="u"===h?4:2;let G=0;for(let q=0;q<h;++q)if(!this.eof()&&E.Character.isHexDigit(this.source.charCodeAt(this.index)))G=16*G+"0123456789abcdef".indexOf(this.source[this.index++].toLowerCase());else return null;return String.fromCharCode(G)};F.scanUnicodeCodePointEscape=function(){let h=this.source[this.index],G=0;for("}"===h&&this.throwUnexpectedToken();!this.eof();){h=this.source[this.index++];if(!E.Character.isHexDigit(h.charCodeAt(0)))break;G=16*G+"0123456789abcdef".indexOf(h.toLowerCase())}(1114111<
G||"}"!==h)&&this.throwUnexpectedToken();return E.Character.fromCodePoint(G)};F.getIdentifier=function(){const h=this.index++;for(;!this.eof();){const G=this.source.charCodeAt(this.index);if(92===G||55296<=G&&57343>G)return this.index=h,this.getComplexIdentifier();if(E.Character.isIdentifierPart(G))++this.index;else break}return this.source.slice(h,this.index)};F.getComplexIdentifier=function(){let h=this.codePointAt(this.index),G=E.Character.fromCodePoint(h);this.index+=G.length;let q;92===h&&(117!==
this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,q=this.scanUnicodeCodePointEscape()):(q=this.scanHexEscape("u"),null!==q&&"\\"!==q&&E.Character.isIdentifierStart(q.charCodeAt(0))||this.throwUnexpectedToken()),G=q);for(;!this.eof();){h=this.codePointAt(this.index);if(!E.Character.isIdentifierPart(h))break;q=E.Character.fromCodePoint(h);G+=q;this.index+=q.length;92===h&&(G=G.substring(0,G.length-1),117!==this.source.charCodeAt(this.index)&&
this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,q=this.scanUnicodeCodePointEscape()):(q=this.scanHexEscape("u"),null!==q&&"\\"!==q&&E.Character.isIdentifierPart(q.charCodeAt(0))||this.throwUnexpectedToken()),G+=q)}return G};F.octalToDecimal=function(h){let G="0"!==h,q="01234567".indexOf(h);!this.eof()&&E.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(G=!0,q=8*q+"01234567".indexOf(this.source[this.index++]),"0123".includes(h)&&!this.eof()&&E.Character.isOctalDigit(this.source.charCodeAt(this.index))&&
(q=8*q+"01234567".indexOf(this.source[this.index++])));return{code:q,octal:G}};F.scanIdentifier=function(){let h;const G=this.index,q=92===this.source.charCodeAt(G)?this.getComplexIdentifier():this.getIdentifier();h=1===q.length?z.TokenType.Identifier:this.isKeyword(q)?z.TokenType.Keyword:"null"===q.toLowerCase()?z.TokenType.NullLiteral:"true"===q.toLowerCase()||"false"===q.toLowerCase()?z.TokenType.BooleanLiteral:z.TokenType.Identifier;if(h!==z.TokenType.Identifier&&G+q.length!==this.index){const w=
this.index;this.index=G;this.tolerateUnexpectedToken(z.ParsingErrorCodes.InvalidEscapedReservedWord);this.index=w}return{type:h,value:q,lineNumber:this.lineNumber,lineStart:this.lineStart,start:G,end:this.index}};F.scanPunctuator=function(){const h=this.index;let G=this.source[this.index];switch(G){case "(":case "{":"{"===G&&this.curlyStack.push("{");++this.index;break;case ".":++this.index;break;case "}":++this.index;this.curlyStack.pop();break;case ")":case ";":case ",":case "[":case "]":case ":":case "?":case "~":++this.index;
break;default:for(let q=b.length;0<q;q--)if(G=this.source.substring(this.index,this.index+q),b[q-1].includes(G)){this.index+=q;break}}this.index===h&&this.throwUnexpectedToken();return{type:z.TokenType.Punctuator,value:G,lineNumber:this.lineNumber,lineStart:this.lineStart,start:h,end:this.index}};F.scanHexLiteral=function(h){let G="";for(;!this.eof()&&E.Character.isHexDigit(this.source.charCodeAt(this.index));)G+=this.source[this.index++];0===G.length&&this.throwUnexpectedToken();E.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&
this.throwUnexpectedToken();return{type:z.TokenType.NumericLiteral,value:parseInt("0x"+G,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:h,end:this.index}};F.scanBinaryLiteral=function(h){let G="";for(;!this.eof();){var q=this.source[this.index];if("0"!==q&&"1"!==q)break;G+=this.source[this.index++]}0===G.length&&this.throwUnexpectedToken();this.eof()||(q=this.source.charCodeAt(this.index),(E.Character.isIdentifierStart(q)||E.Character.isDecimalDigit(q))&&this.throwUnexpectedToken());
return{type:z.TokenType.NumericLiteral,value:parseInt(G,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:h,end:this.index}};F.scanOctalLiteral=function(h,G){let q="",w=!1;E.Character.isOctalDigit(h.charCodeAt(0))?(w=!0,q="0"+this.source[this.index++]):++this.index;for(;!this.eof()&&E.Character.isOctalDigit(this.source.charCodeAt(this.index));)q+=this.source[this.index++];w||0!==q.length||this.throwUnexpectedToken();(E.Character.isIdentifierStart(this.source.charCodeAt(this.index))||E.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&
this.throwUnexpectedToken();return{type:z.TokenType.NumericLiteral,value:parseInt(q,8),lineNumber:this.lineNumber,lineStart:this.lineStart,start:G,end:this.index}};F.scanNumericLiteral=function(){const h=this.index;let G=this.source[h];I.assert(E.Character.isDecimalDigit(G.charCodeAt(0))||"."===G,"Numeric literal must start with a decimal digit or a decimal point");let q="";if("."!==G){q=this.source[this.index++];G=this.source[this.index];if("0"===q){if("x"===G||"X"===G)return++this.index,this.scanHexLiteral(h);
if("b"===G||"B"===G)return++this.index,this.scanBinaryLiteral(h);if("o"===G||"O"===G)return this.scanOctalLiteral(G,h)}for(;E.Character.isDecimalDigit(this.source.charCodeAt(this.index));)q+=this.source[this.index++];G=this.source[this.index]}if("."===G){for(q+=this.source[this.index++];E.Character.isDecimalDigit(this.source.charCodeAt(this.index));)q+=this.source[this.index++];G=this.source[this.index]}if("e"===G||"E"===G){q+=this.source[this.index++];G=this.source[this.index];if("+"===G||"-"===
G)q+=this.source[this.index++];if(E.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;E.Character.isDecimalDigit(this.source.charCodeAt(this.index));)q+=this.source[this.index++];else this.throwUnexpectedToken()}E.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken();return{type:z.TokenType.NumericLiteral,value:parseFloat(q),lineNumber:this.lineNumber,lineStart:this.lineStart,start:h,end:this.index}};F.scanStringLiteral=function(){const h=this.index;
let G=this.source[h];I.assert("'"===G||'"'===G,"String literal must starts with a quote");++this.index;let q="";for(;!this.eof();){var w=this.source[this.index++];if(w===G){G="";break}if("\\"===w)if((w=this.source[this.index++])&&E.Character.isLineTerminator(w.charCodeAt(0)))++this.lineNumber,"\r"===w&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(w){case "u":"{"===this.source[this.index]?(++this.index,q+=this.scanUnicodeCodePointEscape()):(w=this.scanHexEscape(w),
null===w&&this.throwUnexpectedToken(),q+=w);break;case "x":w=this.scanHexEscape(w);null===w&&this.throwUnexpectedToken(z.ParsingErrorCodes.InvalidHexEscapeSequence);q+=w;break;case "n":q+="\n";break;case "r":q+="\r";break;case "t":q+="\t";break;case "b":q+="\b";break;case "f":q+="\f";break;case "v":q+="\v";break;case "8":case "9":q+=w;this.tolerateUnexpectedToken();break;default:w&&E.Character.isOctalDigit(w.charCodeAt(0))?(w=this.octalToDecimal(w),q+=String.fromCharCode(w.code)):q+=w}else if(E.Character.isLineTerminator(w.charCodeAt(0)))break;
else q+=w}""!==G&&(this.index=h,this.throwUnexpectedToken());return{type:z.TokenType.StringLiteral,value:q,lineNumber:this.lineNumber,lineStart:this.lineStart,start:h,end:this.index}};F.scanTemplate=function(){let h="",G=!1;const q=this.index,w="`"===this.source[q];let g=!1,d=2;for(++this.index;!this.eof();){var f=this.source[this.index++];if("`"===f){d=1;G=g=!0;break}if("$"===f){if("{"===this.source[this.index]){this.curlyStack.push("${");++this.index;G=!0;break}h+=f}else if("\\"===f)if(f=this.source[this.index++],
E.Character.isLineTerminator(f.charCodeAt(0)))++this.lineNumber,"\r"===f&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(f){case "n":h+="\n";break;case "r":h+="\r";break;case "t":h+="\t";break;case "u":if("{"===this.source[this.index])++this.index,h+=this.scanUnicodeCodePointEscape();else{const A=this.index,m=this.scanHexEscape(f);null!==m?h+=m:(this.index=A,h+=f)}break;case "x":f=this.scanHexEscape(f);null===f&&this.throwUnexpectedToken(z.ParsingErrorCodes.InvalidHexEscapeSequence);
h+=f;break;case "b":h+="\b";break;case "f":h+="\f";break;case "v":h+="\v";break;default:"0"===f?(E.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(z.ParsingErrorCodes.TemplateOctalLiteral),h+="\x00"):E.Character.isOctalDigit(f.charCodeAt(0))?this.throwUnexpectedToken(z.ParsingErrorCodes.TemplateOctalLiteral):h+=f}else E.Character.isLineTerminator(f.charCodeAt(0))?(++this.lineNumber,"\r"===f&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index,
h+="\n"):h+=f}G||this.throwUnexpectedToken();w||this.curlyStack.pop();return{type:z.TokenType.Template,value:this.source.slice(q+1,this.index-d),cooked:h,head:w,tail:g,lineNumber:this.lineNumber,lineStart:this.lineStart,start:q,end:this.index}};F.lex=function(){if(this.eof())return{type:z.TokenType.EOF,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};const h=this.source.charCodeAt(this.index);return E.Character.isIdentifierStart(h)?this.scanIdentifier():
40===h||41===h||59===h?this.scanPunctuator():39===h||34===h?this.scanStringLiteral():46===h?E.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():E.Character.isDecimalDigit(h)?this.scanNumericLiteral():96===h||125===h&&"${"===this.curlyStack[this.curlyStack.length-1]?this.scanTemplate():55296<=h&&57343>h&&E.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()};return J}();x.Scanner=e;Object.defineProperties(x,
{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/lib/assert":function(){define(["exports"],function(x){x.assert=function(I,E){if(!I)throw Error("ASSERT: "+E);};Object.defineProperties(x,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/lib/character":function(){define(["exports"],function(x){var I=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7C6\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB67\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDEC0-\uDEEB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,
E=/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u07FD\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D3-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CD2\u1CD4-\u1CFA\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7C6\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB67\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD27\uDD30-\uDD39\uDF00-\uDF1C\uDF27\uDF30-\uDF50\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD44-\uDD46\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDC9-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3B-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5E\uDC5F\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDC00-\uDC3A\uDCA0-\uDCE9\uDCFF\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDE1\uDDE3\uDDE4\uDE00-\uDE3E\uDE47\uDE50-\uDE99\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4B\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/;
const z={fromCodePoint(b){return 65536>b?String.fromCharCode(b):String.fromCharCode(55296+(b-65536>>10))+String.fromCharCode(56320+(b-65536&1023))},isWhiteSpace(b){return 32===b||9===b||11===b||12===b||160===b||5760<=b&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(b)},isLineTerminator(b){return 10===b||13===b||8232===b||8233===b},isIdentifierStart(b){return 36===b||95===b||65<=b&&90>=b||97<=b&&122>=b||92===b||128<=b&&I.test(z.fromCodePoint(b))},isIdentifierPart(b){return 36===
b||95===b||65<=b&&90>=b||97<=b&&122>=b||48<=b&&57>=b||92===b||128<=b&&E.test(z.fromCodePoint(b))},isDecimalDigit(b){return 48<=b&&57>=b},isHexDigit(b){return 48<=b&&57>=b||65<=b&&70>=b||97<=b&&102>=b},isOctalDigit(b){return 48<=b&&55>=b}};x.Character=z;Object.defineProperties(x,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/lib/tokenizer":function(){define(["exports","./error-handler","./scanner","./types"],function(x,I,E,z){let b=function(){function e(F,h){this.errorHandler=
new I.ErrorHandler;this.errorHandler.tolerant=h?"boolean"===typeof h.tolerant&&h.tolerant:!1;this.scanner=new E.Scanner(F,this.errorHandler);this.trackComments=h?"boolean"===typeof h.comment&&h.comment:!1;this.buffer=[]}var J=e.prototype;J.errors=function(){return this.errorHandler.errors};J.getNextToken=function(){if(0===this.buffer.length){var F=this.scanner.scanComments();this.trackComments&&F&&F.forEach(h=>{const G=this.scanner.source.slice(h.start,h.end);this.buffer.push({type:h.multiLine?z.Syntax.BlockComment:
z.Syntax.LineComment,value:G,range:h.range,loc:h.loc})});if(!this.scanner.eof()){F={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart};const h=this.scanner.lex(),G={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart};F={type:z.TokenNames[h.type],value:this.scanner.source.slice(h.start,h.end),range:[h.start,h.end],loc:{start:F,end:G}};this.buffer.push(F)}}return this.buffer.shift()};return e}();x.Tokenizer=b;Object.defineProperties(x,{__esModule:{value:!0},
[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/featureset/support/RecentlyUsedCache":function(){define(function(){let x=function(){function E(b){const e=this;e._keys=[];e._values=[];e.length=0;b&&b.forEach(J=>{e.set(J[0],J[1])})}var z=E.prototype;z.entries=function(){return[].slice.call(this.keys().map((b,e)=>[b,this._values[e]]))};z.keys=function(){return[].slice.call(this._keys)};z.values=function(){return[].slice.call(this._values)};z.has=function(b){return this._keys.includes(b)};z.get=
function(b){b=this._keys.indexOf(b);return-1<b?this._values[b]:null};z.deepGet=function(b){if(!b||!b.length)return null;const e=(J,F)=>null==J?null:F.length?e(J instanceof E?J.get(F[0]):J[F[0]],F.slice(1)):J;return e(this.get(b[0]),b.slice(1))};z.set=function(b,e){const J=this._keys.indexOf(b);-1<J?this._values[J]=e:(this._keys.push(b),this._values.push(e),this.length=this._values.length);return this};z.sortedSet=function(b,e,J,F){var h=this._keys.length;J=J||0;F=void 0!==F?F:h-1;if(0===h)return this._keys.push(b),
this._values.push(e),this;if(b===this._keys[J])return this._values.splice(J,0,e),this;if(b===this._keys[F])return this._values.splice(F,0,e),this;if(b>this._keys[F])return this._keys.splice(F+1,0,b),this._values.splice(F+1,0,e),this;if(b<this._keys[J])return this._values.splice(J,0,e),this._keys.splice(J,0,b),this;if(J>=F)return this;h=J+Math.floor((F-J)/2);return b<this._keys[h]?this.sortedSet(b,e,J,h-1):b>this._keys[h]?this.sortedSet(b,e,h+1,F):this};z.size=function(){return this.length};z.clear=
function(){this._keys.length=this.length=this._values.length=0;return this};z.delete=function(b){b=this._keys.indexOf(b);return-1<b?(this._keys.splice(b,1),this._values.splice(b,1),this.length=this._keys.length,!0):!1};z.forEach=function(b){this._keys.forEach((e,J)=>{b(this._values[J],e,J)})};z.map=function(b){return this.keys().map((e,J)=>b(this._values[J],e,J))};z.filter=function(b){const e=this;e._keys.forEach((J,F)=>{!1===b(e._values[F],J,F)&&e.delete(J)});return this};z.clone=function(){return new E(this.entries())};
return E}(),I=function(){function E(b=20){this._maxEntries=b;this._values=new x}var z=E.prototype;z.delete=function(b){this._values.has(b)&&this._values.delete(b)};z.get=function(b){let e=null;this._values.has(b)&&(e=this._values.get(b),this._values.delete(b),this._values.set(b,e));return e};z.put=function(b,e){if(this._values.size()>=this._maxEntries){const J=this._values.keys()[0];this._values.delete(J)}this._values.set(b,e)};return E}();return function(){function E(b=20){this._maxEntries=b;this._cache=
new I(this._maxEntries)}var z=E.prototype;z.clear=function(){this._cache=new I(this._maxEntries)};z.addToCache=function(b,e){this._cache.put(b,e)};z.removeFromCache=function(b){this._cache.delete(b)};z.getFromCache=function(b){return this._cache.get(b)};return E}()})},"esri/arcade/arcadeRuntime":function(){define("exports ../chunks/_rollupPluginBabelHelpers ./ArcadeModule ./ArcadeModuleLoader ./Dictionary ./executionError ./Feature ./FunctionWrapper ../chunks/languageUtils ./treeAnalysis ../chunks/array ./functions/date ./functions/geometry ./functions/geomsync ./functions/maths ./functions/stats ./functions/string ../geometry/Geometry ../geometry/SpatialReference".split(" "),
function(x,I,E,z,b,e,J,F,h,G,q,w,g,d,f,A,m,n,H){function B(M,K){const O=[];for(let D=0;D<K.arguments.length;D++)O.push(l(M,K.arguments[D]));return O}function c(M,K,O){try{return!0===K.preparsed?O(M,null,K.arguments):O(M,K,B(M,K))}catch(D){throw D;}}function l(M,K){try{switch(K?.type){case "EmptyStatement":return h.voidOperation;case "VariableDeclarator":let ba=null===K.init?null:l(M,K.init);ba===h.voidOperation&&(ba=null);if("Identifier"!==K.id.type)throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.InvalidIdentifier,
K);const za=K.id.name.toLowerCase();null!=M.localScope?M.localScope[za]={value:ba,valueset:!0,node:K.init}:M.globalScope[za]={value:ba,valueset:!0,node:K.init};return h.voidOperation;case "VariableDeclaration":for(var O=0;O<K.declarations.length;O++)l(M,K.declarations[O]);return h.voidOperation;case "ImportDeclaration":const va=K.specifiers[0].local.name.toLowerCase(),Fa=M.libraryResolver.loadLibrary(va);O=null;M.libraryResolver._moduleSingletons?.has(Fa.uri)?O=M.libraryResolver._moduleSingletons.get(Fa.uri):
(O=new Pa(Fa),O.loadModule(M),M.libraryResolver._moduleSingletons?.set(Fa.uri,O));M.globalScope[va]={value:O,valueset:!0,node:K};return h.voidOperation;case "ExportNamedDeclaration":l(M,K.declaration);if("FunctionDeclaration"===K.declaration.type)M.exports[K.declaration.id.name.toLowerCase()]="function";else if("VariableDeclaration"===K.declaration.type)for(const ja of K.declaration.declarations)M.exports[ja.id.name.toLowerCase()]="variable";return h.voidOperation;case "BlockStatement":case "Program":a:{let ja=
h.voidOperation;for(O=0;O<K.body.length;O++)if(ja=l(M,K.body[O]),ja instanceof h.ReturnResult||ja===h.breakResult||ja===h.continueResult){var D=ja;break a}D=ja}return D;case "FunctionDeclaration":const Ma=K.id.name.toLowerCase();M.globalScope[Ma]={valueset:!0,node:null,value:new pa(K,M)};return h.voidOperation;case "ReturnStatement":if(null===K.argument)var T=new h.ReturnResult(h.voidOperation);else{var U=l(M,K.argument);T=new h.ReturnResult(U)}return T;case "IfStatement":{const ja=l(M,K.test);if(!0===
ja)var X=l(M,K.consequent);else if(!1===ja)X=null!==K.alternate?l(M,K.alternate):h.voidOperation;else throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.BooleanConditionRequired,K);}return X;case "ExpressionStatement":if("AssignmentExpression"===K.expression.type||"UpdateExpression"===K.expression.type)var la=l(M,K.expression);else if("CallExpression"===K.expression.type){const ja=l(M,K.expression);la=ja===h.voidOperation?h.voidOperation:new h.ImplicitResult(ja)}else{var qa=l(M,K.expression);
la=qa===h.voidOperation?h.voidOperation:new h.ImplicitResult(qa)}return la;case "AssignmentExpression":{const ja=l(M,K.right);O=null;var ca="";if("MemberExpression"===K.left.type){O=l(M,K.left.object);if(!0===K.left.computed)ca=l(M,K.left.property);else if("Identifier"===K.left.property.type)ca=K.left.property.name;else throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.InvalidIdentifier,K);if(h.isArray(O))if(h.isNumber(ca)){0>ca&&(ca=O.length+ca);if(0>ca||ca>O.length)throw new e.ArcadeExecutionError(M,
e.ExecutionErrorCodes.OutOfBounds,K);if(ca===O.length&&"\x3d"!==K.operator)throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.OutOfBounds,K);O[ca]=v(ja,K.operator,O[ca],K,M)}else throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.ArrayAccessorMustBeNumber,K);else if(O instanceof b){if(!1===h.isString(ca))throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.KeyAccessorMustBeString,K);if(!0===O.hasField(ca))O.setField(ca,v(ja,K.operator,O.field(ca),K,M));else{if("\x3d"!==K.operator)throw new e.ArcadeExecutionError(M,
e.ExecutionErrorCodes.FieldNotFound,K,{key:ca});O.setField(ca,v(ja,K.operator,null,K,M))}}else if(h.isFeature(O)){if(!1===h.isString(ca))throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.KeyAccessorMustBeString,K);if(!0===O.hasField(ca))O.setField(ca,v(ja,K.operator,O.field(ca),K,M));else{if("\x3d"!==K.operator)throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.FieldNotFound,K,{key:ca});O.setField(ca,v(ja,K.operator,null,K,M))}}else{if(h.isImmutableArray(O))throw new e.ArcadeExecutionError(M,
e.ExecutionErrorCodes.Immutable,K);if(O instanceof Pa){if(!1===h.isString(ca))throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.ModuleAccessorMustBeString,K);if(!0===O.hasGlobal(ca))O.setGlobal(ca,v(ja,K.operator,O.global(ca),K,M));else throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.ModuleExportNotFound,K);}else throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.InvalidIdentifier,K);}var p=h.voidOperation}else if(O=K.left.name.toLowerCase(),null!=M.localScope&&void 0!==M.localScope[O])M.localScope[O]=
{value:v(ja,K.operator,M.localScope[O].value,K,M),valueset:!0,node:K.right},p=h.voidOperation;else if(void 0!==M.globalScope[O])M.globalScope[O]={value:v(ja,K.operator,M.globalScope[O].value,K,M),valueset:!0,node:K.right},p=h.voidOperation;else throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.InvalidIdentifier,K);}return p;case "UpdateExpression":{let ja;O=null;ca="";if("MemberExpression"===K.argument.type){O=l(M,K.argument.object);!0===K.argument.computed?ca=l(M,K.argument.property):"Identifier"===
K.argument.property.type&&(ca=K.argument.property.name);if(h.isArray(O))if(h.isNumber(ca)){0>ca&&(ca=O.length+ca);if(0>ca||ca>=O.length)throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.OutOfBounds,K);ja=h.toNumber(O[ca]);O[ca]="++"===K.operator?ja+1:ja-1}else throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.ArrayAccessorMustBeNumber,K);else if(O instanceof b){if(!1===h.isString(ca))throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.KeyAccessorMustBeString,K);if(!0===O.hasField(ca))ja=
h.toNumber(O.field(ca)),O.setField(ca,"++"===K.operator?ja+1:ja-1);else throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.FieldNotFound,K);}else if(h.isFeature(O)){if(!1===h.isString(ca))throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.KeyAccessorMustBeString,K);if(!0===O.hasField(ca))ja=h.toNumber(O.field(ca)),O.setField(ca,"++"===K.operator?ja+1:ja-1);else throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.FieldNotFound,K);}else{if(h.isImmutableArray(O))throw new e.ArcadeExecutionError(M,
e.ExecutionErrorCodes.Immutable,K);if(O instanceof Pa){if(!1===h.isString(ca))throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.ModuleAccessorMustBeString,K);if(!0===O.hasGlobal(ca))ja=h.toNumber(O.global(ca)),O.setGlobal(ca,"++"===K.operator?ja+1:ja-1);else throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.ModuleExportNotFound,K);}else throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.InvalidParameter,K);}var u=!1===K.prefix?ja:"++"===K.operator?ja+1:ja-1}else{O="Identifier"===
K.argument.type?K.argument.name.toLowerCase():"";if(!O)throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.InvalidIdentifier,K);if(null!=M.localScope&&void 0!==M.localScope[O])ja=h.toNumber(M.localScope[O].value),M.localScope[O]={value:"++"===K.operator?ja+1:ja-1,valueset:!0,node:K},u=!1===K.prefix?ja:"++"===K.operator?ja+1:ja-1;else if(void 0!==M.globalScope[O])ja=h.toNumber(M.globalScope[O].value),M.globalScope[O]={value:"++"===K.operator?ja+1:ja-1,valueset:!0,node:K},u=!1===K.prefix?ja:"++"===
K.operator?ja+1:ja-1;else throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.InvalidIdentifier,K);}}return u;case "BreakStatement":return h.breakResult;case "ContinueStatement":return h.continueResult;case "TemplateElement":return K.value?K.value.cooked:"";case "TemplateLiteral":u="";var R=0;for(const ja of K.quasis)if(u+=ja.value?ja.value.cooked:"",!1===ja.tail){if(K.expressions[R]){var S=h;ca=S.toString;var Z=l(M,K.expressions[R]),ua=M;p=K;if(h.isFunctionParameter(Z))throw new e.ArcadeExecutionError(ua,
e.ExecutionErrorCodes.NoFunctionInTemplateLiteral,p);O=ca.call(S,Z)}else O="";u+=O;R++}return u;case "ForStatement":null!==K.init&&l(M,K.init);ua={testResult:!0,lastAction:h.voidOperation};do b:{O=M;ca=K;Z=ua;if(null!==ca.test){Z.testResult=l(O,ca.test);if(!1===Z.testResult)break b;if(!0!==Z.testResult)throw new e.ArcadeExecutionError(O,e.ExecutionErrorCodes.BooleanConditionRequired,ca);}Z.lastAction=l(O,ca.body);Z.lastAction===h.breakResult?Z.testResult=!1:Z.lastAction instanceof h.ReturnResult?
Z.testResult=!1:null!==ca.update&&l(O,ca.update)}while(!0===ua.testResult);S=ua.lastAction instanceof h.ReturnResult?ua.lastAction:h.voidOperation;return S;case "ForInStatement":return t(M,K);case "WhileStatement":O=!0;var aa=h.voidOperation;O=l(M,K.test);if(!1===O)var da=h.voidOperation;else{if(!0!==O)throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.BooleanConditionRequired,K);for(;!0===O;){aa=l(M,K.body);if(aa===h.breakResult)break;if(aa instanceof h.ReturnResult)break;O=l(M,K.test);if(!0!==
O&&!1!==O)throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.BooleanConditionRequired,K);}da=aa instanceof h.ReturnResult?aa:h.voidOperation}return da;case "Identifier":return oa(M,K);case "MemberExpression":return r(M,K);case "Literal":return K.value;case "CallExpression":a:try{if("MemberExpression"===K.callee.type){const ja=l(M,K.callee.object);if(!(ja instanceof Pa))throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.FuncionNotFound,K);const Qa=!1===K.callee.computed?K.callee.property.name:
l(M,K.callee.property);if(!ja.hasGlobal(Qa))throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.FuncionNotFound,K);const Ia=ja.global(Qa);if(!h.isFunctionParameter(Ia))throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.CallNonFunction,K);var fa=Ia.call(M,K)}else{if("Identifier"!==K.callee.type)throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.FuncionNotFound,K);if(null!=M.localScope&&void 0!==M.localScope[K.callee.name.toLowerCase()]){const ja=M.localScope[K.callee.name.toLowerCase()];
if(h.isFunctionParameter(ja.value)){fa=ja.value.call(M,K);break a}throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.CallNonFunction,K);}if(void 0!==M.globalScope[K.callee.name.toLowerCase()]){const ja=M.globalScope[K.callee.name.toLowerCase()];if(h.isFunctionParameter(ja.value)){fa=ja.value.call(M,K);break a}throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.CallNonFunction,K);}throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.FuncionNotFound,K);}}catch(ja){throw ja;}return fa;
case "UnaryExpression":return P(M,K);case "BinaryExpression":return na(M,K);case "LogicalExpression":return ia(M,K);case "ArrayExpression":try{O=[];for(ca=0;ca<K.elements.length;ca++){const ja=l(M,K.elements[ca]);if(h.isFunctionParameter(ja))throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.NoFunctionInArray,K);ja===h.voidOperation?O.push(null):O.push(ja)}R=O}catch(ja){throw ja;}return R;case "ObjectExpression":O={};const cb=new Map;for(ca=0;ca<K.properties.length;ca++){const ja=l(M,K.properties[ca]);
if(h.isFunctionParameter(ja.value))throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.NoFunctionInDictionary,K);if(!1===h.isString(ja.key))throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.KeyMustBeString,K);let Qa=ja.key.toString();const Ia=Qa.toLowerCase();cb.has(Ia)?Qa=cb.get(Ia):cb.set(Ia,Qa);O[Qa]=ja.value===h.voidOperation?null:ja.value}const fb=new b(O);fb.immutable=!1;return fb;case "Property":return{key:"Identifier"===K.key.type?K.key.name:l(M,K.key),value:l(M,K.value)};default:throw new e.ArcadeExecutionError(M,
e.ExecutionErrorCodes.Unrecognised,K);}}catch(ba){throw e.ensureArcadeExecutionError(M,K,ba);}}function t(M,K){var O=l(M,K.right);"VariableDeclaration"===K.left.type&&l(M,K.left);let D=null;var T="";if("VariableDeclaration"===K.left.type){var U=K.left.declarations[0].id;"Identifier"===U.type&&(T=U.name)}else"Identifier"===K.left.type&&(T=K.left.name);if(!T)throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.InvalidIdentifier,K);T=T.toLowerCase();null!=M.localScope&&void 0!==M.localScope[T]&&
(D=M.localScope[T]);null===D&&void 0!==M.globalScope[T]&&(D=M.globalScope[T]);if(null===D)throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.InvalidIdentifier,K);if(h.isArray(O)||h.isString(O)){O=O.length;for(T=0;T<O;T++){D.value=T;U=l(M,K.body);if(U===h.breakResult)break;if(U instanceof h.ReturnResult)return U}return h.voidOperation}if(h.isImmutableArray(O)){for(T=0;T<O.length();T++){D.value=T;U=l(M,K.body);if(U===h.breakResult)break;if(U instanceof h.ReturnResult)return U}return h.voidOperation}if(O instanceof
b||h.isFeature(O))for(O=O.keys(),T=0;T<O.length;T++){D.value=O[T];U=l(M,K.body);if(U===h.breakResult)break;if(U instanceof h.ReturnResult)return U}else return h.voidOperation}function v(M,K,O,D,T){switch(K){case "\x3d":return M===h.voidOperation?null:M;case "/\x3d":return h.toNumber(O)/h.toNumber(M);case "*\x3d":return h.toNumber(O)*h.toNumber(M);case "-\x3d":return h.toNumber(O)-h.toNumber(M);case "+\x3d":return h.isString(O)||h.isString(M)?h.toString(O)+h.toString(M):h.toNumber(O)+h.toNumber(M);
case "%\x3d":return h.toNumber(O)%h.toNumber(M);default:throw new e.ArcadeExecutionError(T,e.ExecutionErrorCodes.UnsupportedOperator,D);}}function r(M,K){try{const O=l(M,K.object);if(null===O)throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.MemberOfNull,K);if(!1===K.computed){if("Identifier"===K.property.type){if(O instanceof b||h.isFeature(O))return O.field(K.property.name);if(O instanceof n)return g.geometryMember(O,K.property.name,K,M);if(O instanceof Pa){if(!O.hasGlobal(K.property.name))throw new e.ArcadeExecutionError(M,
e.ExecutionErrorCodes.InvalidIdentifier,K);return O.global(K.property.name)}}throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.InvalidMemberAccessKey,K);}let D=l(M,K.property);if(O instanceof b||h.isFeature(O)){if(h.isString(D))return O.field(D);throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.InvalidMemberAccessKey,K);}if(O instanceof Pa){if(h.isString(D))return O.global(D);throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.InvalidMemberAccessKey,K);}if(O instanceof n){if(h.isString(D))return g.geometryMember(O,
D,K,M);throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.InvalidMemberAccessKey,K);}if(h.isArray(O)){if(h.isNumber(D)&&isFinite(D)&&Math.floor(D)===D){0>D&&(D=O.length+D);if(D>=O.length||0>D)throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.OutOfBounds,K);return O[D]}throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.InvalidMemberAccessKey,K);}if(h.isString(O)){if(h.isNumber(D)&&isFinite(D)&&Math.floor(D)===D){0>D&&(D=O.length+D);if(D>=O.length||0>D)throw new e.ArcadeExecutionError(M,
e.ExecutionErrorCodes.OutOfBounds,K);return O[D]}throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.InvalidMemberAccessKey,K);}if(h.isImmutableArray(O)&&h.isNumber(D)&&isFinite(D)&&Math.floor(D)===D){0>D&&(D=O.length()+D);if(D>=O.length()||0>D)throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.OutOfBounds,K);return O.get(D)}throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.InvalidMemberAccessKey,K);}catch(O){throw O;}}function P(M,K){try{const O=l(M,K.argument);if(h.isBoolean(O)){if("!"===
K.operator)return!O;if("-"===K.operator)return-1*h.toNumber(O);if("+"===K.operator)return 1*h.toNumber(O);if("~"===K.operator)return~h.toNumber(O);throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.UnsupportedUnaryOperator,K);}if("~"===K.operator)return~h.toNumber(O);if("-"===K.operator)return-1*h.toNumber(O);if("+"===K.operator)return 1*h.toNumber(O);throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.UnsupportedUnaryOperator,K);}catch(O){throw O;}}function na(M,K){try{const O=[l(M,K.left),
l(M,K.right)],D=O[0],T=O[1];switch(K.operator){case "|":case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":case "^":case "\x26":return h.binaryOperator(h.toNumber(D),h.toNumber(T),K.operator);case "\x3d\x3d":return h.equalityTest(D,T);case "!\x3d":return!h.equalityTest(D,T);case "\x3c":return h.greaterThanLessThan(D,T,K.operator);case "\x3e":return h.greaterThanLessThan(D,T,K.operator);case "\x3c\x3d":return h.greaterThanLessThan(D,T,K.operator);case "\x3e\x3d":return h.greaterThanLessThan(D,T,K.operator);
case "+":return h.isString(D)||h.isString(T)?h.toString(D)+h.toString(T):h.toNumber(D)+h.toNumber(T);case "-":return h.toNumber(D)-h.toNumber(T);case "*":return h.toNumber(D)*h.toNumber(T);case "/":return h.toNumber(D)/h.toNumber(T);case "%":return h.toNumber(D)%h.toNumber(T);default:throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.UnsupportedOperator,K);}}catch(O){throw O;}}function ia(M,K){try{const O=l(M,K.left);if(h.isBoolean(O))switch(K.operator){case "||":if(!0===O)return O;const D=
l(M,K.right);if(h.isBoolean(D))return D;throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.LogicExpressionOrAnd,K);case "\x26\x26":if(!1===O)return O;const T=l(M,K.right);if(h.isBoolean(T))return T;throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.LogicExpressionOrAnd,K);default:throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.LogicExpressionOrAnd,K);}throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.LogicalExpressionOnlyBoolean,K);}catch(O){throw O;}}function oa(M,K){let O;
try{const D=K.name.toLowerCase();if(null!=M.localScope&&void 0!==M.localScope[D]){O=M.localScope[D];if(!0===O.valueset)return O.value;O.value=l(M,O.node);O.valueset=!0;return O.value}if(void 0!==M.globalScope[D]){O=M.globalScope[D];if(!0===O.valueset)return O.value;O.value=l(M,O.node);O.valueset=!0;return O.value}throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.InvalidIdentifier,K);}catch(D){throw D;}}function Ua(M,K,O,D){try{const T=l(M,K.arguments[O]);if(h.equalityTest(T,D))return l(M,K.arguments[O+
1]);const U=K.arguments.length-O;return 1===U?l(M,K.arguments[O]):2===U?null:3===U?l(M,K.arguments[O+2]):Ua(M,K,O+2,D)}catch(T){throw T;}}function Ea(M,K,O,D){try{if(!0===D)return l(M,K.arguments[O+1]);if(3===K.arguments.length-O)return l(M,K.arguments[O+2]);const T=l(M,K.arguments[O+2]);if(!1===h.isBoolean(T))throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.BooleanConditionRequired,K.arguments[O+2]);return Ea(M,K,O+2,T)}catch(T){throw T;}}function Xa(M,K,O,D){try{const T=M.body;if(O.length!==
M.params.length)throw new e.ArcadeExecutionError(K,e.ExecutionErrorCodes.WrongNumberOfParameters,D);if(null!=K.localScope)for(let X=0;X<O.length;X++)K.localScope[M.params[X].name.toLowerCase()]={value:O[X],valueset:!0,node:null};const U=l(K,T);if(U instanceof h.ReturnResult)return U.value;if(U===h.breakResult)throw new e.ArcadeExecutionError(K,e.ExecutionErrorCodes.UnexpectedToken,D);if(U===h.continueResult)throw new e.ArcadeExecutionError(K,e.ExecutionErrorCodes.UnexpectedToken,D);return U instanceof
h.ImplicitResult?U.value:U}catch(T){throw T;}}function Ha(M,K){const O=new Ka;M||(M={});K||(K={});const D=new b({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});D.immutable=!1;O.textformatting={value:D,valueset:!0,node:null};for(const T in K)O[T]={value:new F.NativeFunction(K[T]),native:!0,valueset:!0,node:null};for(const T in M)O[T]=M[T]&&"esri.Graphic"===M[T].declaredClass?{value:J.createFromGraphic(M[T]),valueset:!0,node:null}:{value:M[T],valueset:!0,
node:null};return O}function ta(M){console.log(M)}function ea(M){const K={mode:"sync",compiled:!1,functions:{},signatures:[],standardFunction:c,evaluateIdentifier:oa};for(let O=0;O<M.length;O++)M[O].registerFunctions(K);for(const O in K.functions)Ba[O]={value:new F.NativeFunction(K.functions[O]),valueset:!0,node:null},Ka.prototype[O]=Ba[O];for(M=0;M<K.signatures.length;M++)G.addFunctionDeclaration(K.signatures[M],"sync")}let pa=function(M){function K(D,T){var U=M.call(this)||this;U.definition=null;
U.context=null;U.definition=D;U.context=T;return U}I._inheritsLoose(K,M);var O=K.prototype;O.createFunction=function(D){return(...T)=>{const U={spatialReference:this.context.spatialReference,console:this.context.console,lrucache:this.context.lrucache,exports:this.context.exports,libraryResolver:this.context.libraryResolver,interceptor:this.context.interceptor,localScope:{},depthCounter:{depth:D.depthCounter.depth+1},globalScope:this.context.globalScope};if(64<U.depthCounter.depth)throw new e.ArcadeExecutionError(D,
e.ExecutionErrorCodes.MaximumCallDepth,null);return Xa(this.definition,U,T,null)}};O.call=function(D,T){return c(D,T,(U,X,la)=>{U={spatialReference:D.spatialReference,globalScope:D.globalScope,depthCounter:{depth:D.depthCounter.depth+1},libraryResolver:D.libraryResolver,exports:D.exports,console:D.console,lrucache:D.lrucache,interceptor:D.interceptor,localScope:{}};if(64<U.depthCounter.depth)throw new e.ArcadeExecutionError(D,e.ExecutionErrorCodes.MaximumCallDepth,T);return Xa(this.definition,U,la,
T)})};O.marshalledCall=function(D,T,U,X){return X(D,T,(la,qa,ca)=>{la={spatialReference:D.spatialReference,globalScope:U.globalScope,depthCounter:{depth:D.depthCounter.depth+1},libraryResolver:D.libraryResolver,exports:D.exports,console:D.console,lrucache:D.lrucache,interceptor:D.interceptor,localScope:{}};ca=ca.map(p=>!h.isFunctionParameter(p)||p instanceof F.ScopeMarshalledFunction?p:F.wrapModuleScopedResponse(p,D,X));return F.wrapModuleScopedResponse(Xa(this.definition,la,ca,T),U,X)})};return K}(F.ArcadeFunction),
Pa=function(M){function K(D){return M.call(this,D)||this}I._inheritsLoose(K,M);var O=K.prototype;O.global=function(D){D=this.executingContext.globalScope[D.toLowerCase()];D.valueset||(D.value=l(this.executingContext,D.node),D.valueset=!0);if(h.isFunctionParameter(D.value)&&!(D.value instanceof F.ScopeMarshalledFunction)){const T=new F.ScopeMarshalledFunction;T.fn=D.value;T.parameterEvaluator=c;T.context=this.executingContext;D.value=T}return D.value};O.setGlobal=function(D,T){if(h.isFunctionParameter(T))throw new e.ArcadeExecutionError(null,
e.ExecutionErrorCodes.AssignModuleFunction,null);this.executingContext.globalScope[D.toLowerCase()]={value:T,valueset:!0,node:null}};O.hasGlobal=function(D){void 0===this.executingContext.exports[D]&&(D=D.toLowerCase());return void 0!==this.executingContext.exports[D]?!0:!1};O.loadModule=function(D){let T=D.spatialReference;if(null===T||void 0===T)T=new H({wkid:102100});this.moduleScope=Ha({},D.customfunctions);this.executingContext={spatialReference:T,globalScope:this.moduleScope,localScope:null,
libraryResolver:new z.ArcadeModuleLoader(D.libraryResolver._moduleSingletons,this.source.syntax.loadedModules),exports:{},console:D.console?D.console:ta,lrucache:D.lrucache,interceptor:D.interceptor,depthCounter:{depth:1}};l(this.executingContext,this.source.syntax)};return K}(E.ArcadeModule);const Ba={};w.registerFunctions(Ba,c);m.registerFunctions(Ba,c);f.registerFunctions(Ba,c);g.registerFunctions(Ba,c);A.registerFunctions(Ba,c);d.registerFunctions(Ba,c);Ba.iif=function(M,K){try{h.pcCheck(null===
K.arguments?[]:K.arguments,3,3,M,K);const O=l(M,K.arguments[0]);if(!1===h.isBoolean(O))throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.BooleanConditionRequired,K);return!0===O?l(M,K.arguments[1]):l(M,K.arguments[2])}catch(O){throw O;}};Ba.decode=function(M,K){try{if(2>K.arguments.length)throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.WrongNumberOfParameters,K);if(2===K.arguments.length)return l(M,K.arguments[1]);if(0===(K.arguments.length-1)%2)throw new e.ArcadeExecutionError(M,
e.ExecutionErrorCodes.WrongNumberOfParameters,K);const O=l(M,K.arguments[0]);return Ua(M,K,1,O)}catch(O){throw O;}};Ba.when=function(M,K){try{if(3>K.arguments.length)throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.WrongNumberOfParameters,K);if(0===K.arguments.length%2)throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.WrongNumberOfParameters,K);const O=l(M,K.arguments[0]);if(!1===h.isBoolean(O))throw new e.ArcadeExecutionError(M,e.ExecutionErrorCodes.BooleanConditionRequired,K.arguments[0]);
return Ea(M,K,0,O)}catch(O){throw O;}};for(const M in Ba)Ba[M]={value:new F.NativeFunction(Ba[M]),valueset:!0,node:null};const Ka=function(){};Ka.prototype=Ba;Ka.prototype.infinity={value:Number.POSITIVE_INFINITY,valueset:!0,node:null};Ka.prototype.pi={value:Math.PI,valueset:!0,node:null};E={fixSpatialReference:h.fixSpatialReference,parseArguments:B,standardFunction:c};ea([q.ArrayFunctions]);x.executeScript=function(M,K){let O=K.spatialReference;if(null===O||void 0===O)O=new H({wkid:102100});let D=
null;M.usesModules&&(D=new z.ArcadeModuleLoader(new Map,M.loadedModules));const T=Ha(K.vars,K.customfunctions);K={spatialReference:O,globalScope:T,localScope:null,exports:{},libraryResolver:D,console:K.console?K.console:ta,lrucache:K.lrucache,interceptor:K.interceptor,depthCounter:{depth:1}};M=l(K,M);M instanceof h.ReturnResult&&(M=M.value);M instanceof h.ImplicitResult&&(M=M.value);M===h.voidOperation&&(M=null);if(M===h.breakResult)throw new e.ArcadeExecutionError(K,e.ExecutionErrorCodes.IllegalResult,
null);if(M===h.continueResult)throw new e.ArcadeExecutionError(K,e.ExecutionErrorCodes.IllegalResult,null);if(h.isFunctionParameter(M))throw new e.ArcadeExecutionError(K,e.ExecutionErrorCodes.IllegalResult,null);return M};x.extend=ea;x.functionHelper=E;Object.defineProperties(x,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"*noref":1}});
define("exports ../geometry ../chunks/arcade ../arcade/Dictionary ../arcade/Feature ../chunks/languageUtils ../core/lang ../renderers/visualVariables/support/sizeVariableUtils ../geometry/Point ../geometry/Polygon ../geometry/Polyline ../geometry/Multipoint ../geometry/Extent".split(" "),function(x,I,E,z,b,e,J,F,h,G,q,w,g){function d(c){return c.replace(/[|\\{}()[\]^$+*?.]/g,"\\$\x26")}function f(c){if(!c)return null;try{return E.parseScript(c)}catch(l){}return null}function A(c,l){if(!c)return!1;
if("string"===typeof c)return l(c);if("simple"===c.type||"class-breaks"===c.type||"unique-value"===c.type||"dot-density"===c.type||"dictionary"===c.type||"pie-chart"===c.type){if("dot-density"===c.type){var t=c.attributes?.some(v=>l(v.valueExpression));if(t)return t}t=c.visualVariables;t=!!t&&t.some(v=>{let r=l(v.valueExpression);"size"===v.type&&(F.isSizeVariable(v.minSize)&&(r=r||l(v.minSize.valueExpression)),F.isSizeVariable(v.maxSize)&&(r=r||l(v.maxSize.valueExpression)));return r});return"valueExpression"in
c&&l(c.valueExpression)?!0:t}return"esri.layers.support.LabelClass"===c.declaredClass?(c=c.labelExpressionInfo&&c.labelExpressionInfo.expression,!(!c||!l(c))||!1):"esri.PopupTemplate"===c.declaredClass?!!c.expressionInfos&&c.expressionInfos.some(v=>l(v.expression))||Array.isArray(c.content)&&c.content.some(v=>"expression"===v.type&&l(v.expressionInfo?.expression)):!1}function m(c){c=f(c);return!!c&&E.scriptTouchesGeometry(c)}function n(c){c=f(c);return!!c&&E.scriptUsesGeometryEngine(c)}const H=/^\$(feature|aggregatedFeatures)\./i,
B={vars:{$feature:"any",$view:"any"},spatialReference:null};x.arcade=E.arcade;x.Dictionary=z;x.arcadeFeature=b;x.convertFeatureLayerToFeatureSet=function({layer:c,spatialReference:l,outFields:t,returnGeometry:v,lrucache:r,interceptor:P}){if(null===c)return null;const na=E.featureSetUtils();return na?na.constructFeatureSet(c,l,t,v??!0,r,P):null};x.convertJsonToArcade=function(c){return z.convertJsonToArcade(c)};x.convertMapToFeatureSetCollection=function(c){if(null===c?.map)return null;const l=E.featureSetUtils();
return l?l.createFeatureSetCollectionFromMap(c.map,c.spatialReference,c.lrucache,c.interceptor):null};x.convertServiceUrlToWorkspace=function({url:c,spatialReference:l,lrucache:t,interceptor:v}){const r=E.featureSetUtils();return r?r.createFeatureSetCollectionFromService(c,l,t,v):null};x.createExecContext=function(c,l){return{vars:{$feature:null==c?new b:b.createFromGraphic(c),$view:l&&l.view},spatialReference:l&&l.sr}};x.createFeature=function(c,l,t){return b.createFromGraphicLikeObject(l,c,t)};
x.createFunction=function(c,l){c="string"===typeof c?f(c):c;if(!c)return null;try{return l=l||J.clone(B),E.compileScript(c,l)}catch(t){}return null};x.createSyntaxTree=f;x.dependsOnView=function(c){return E.referencesMember(c,"$view")};x.enableFeatureSetOperations=function(){return E.enableFeatureSetSupport()};x.enableGeometryOperations=function(){return E.enableGeometrySupport()};x.evalSyntaxTree=function(c,l){let t;try{t=E.executeScript(c,l)}catch(v){t=null}return t};x.executeAsyncFunction=function(c,
l){try{return c?c(l):Promise.resolve(null)}catch(t){return Promise.resolve(null)}};x.executeFunction=function(c,l){let t;try{t=c?c(l):null}catch(v){t=null}return t};x.extractFieldNames=function(c,l){if(!c)return[];c="string"===typeof c?f(c):c;if(!c)return[];let t=[];E.extractExpectedFieldLiterals(c).forEach(r=>{H.test(r)&&(r=r.replace(H,""),t.push(r))});const v=t.filter(r=>r.includes("*"));t=t.filter(r=>!v.includes(r));l&&v.forEach(r=>{const P=new RegExp(`^${r.split(/\*+/).map(d).join(".*")}$`,"i");
l.forEach(na=>P.test(na)?t.push(na):null)});return[...(new Set(t.sort()))]};x.getArcadeType=function(c){return null==c?null:e.isArray(c)||e.isImmutableArray(c)?"array":e.isDate(c)?"date":e.isString(c)?"text":e.isBoolean(c)?"boolean":e.isNumber(c)?"number":c instanceof z?"dictionary":e.isFeature(c)?"feature":c instanceof h?"point":c instanceof G?"polygon":c instanceof q?"polyline":c instanceof w?"multipoint":c instanceof g?"extent":e.isFeatureSet(c)?"featureSet":e.isFeatureSetCollection(c)?"featureSetCollection":
null};x.getViewInfo=function(c){if(c&&(null!=c.spatialReference||null!=c.scale&&null!=c.viewingMode))return{view:c.viewingMode&&null!=c.scale?new z({viewingMode:c.viewingMode,scale:c.scale}):null,sr:c.spatialReference}};x.hasGeometryFunctions=function(c){return A(c,m)};x.hasGeometryOperations=function(c){return A(c,n)};x.hasVariable=function(c,l){return c?E.referencesMember(c,l):!1};x.loadScriptDependencies=function(c,l,t=[]){return E.loadScriptDependencies(c,l,t)};x.updateExecContext=function(c,
l){null!=c.vars&&(c.vars.$feature=l)};Object.defineProperties(x,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});