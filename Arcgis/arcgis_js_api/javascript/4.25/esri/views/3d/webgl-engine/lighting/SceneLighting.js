// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/mathUtils ../../../../chunks/vec3 ../../../../chunks/vec3f64 ./Lightsources ./SphericalHarmonics".split(" "),function(k,q,e,f,g,n,r){let p=function(){this.color=g.create();this.intensity=1},t=function(){this.direction=g.create();this.ambient=new p;this.diffuse=new p},u=function(){function l(){this._shOrder=2;this._legacy=new t;this.noonFactor=this.globalFactor=.5;this._sphericalHarmonics=new n.SphericalHarmonicsAmbientLight;
this._mainLight=new n.MainLight(g.create(),g.fromValues(1,0,0),!1)}var m=l.prototype;m.set=function(a){r.combineLights(a,this._shOrder,this._mainLight,this._sphericalHarmonics);f.copy(this._legacy.direction,this._mainLight.direction);a=1/Math.PI;this._legacy.ambient.color[0]=.282095*this._sphericalHarmonics.r[0]*a;this._legacy.ambient.color[1]=.282095*this._sphericalHarmonics.g[0]*a;this._legacy.ambient.color[2]=.282095*this._sphericalHarmonics.b[0]*a;f.scale(this._legacy.diffuse.color,this._mainLight.intensity,
a);f.copy(h,this._legacy.diffuse.color);f.scale(h,h,.4*this.globalFactor);f.add(this._legacy.ambient.color,this._legacy.ambient.color,h)};m.copyFrom=function(a){this._sphericalHarmonics.r=Array.from(a.sh.r);this._sphericalHarmonics.g=Array.from(a.sh.g);this._sphericalHarmonics.b=Array.from(a.sh.b);this._mainLight.direction=g.clone(a.mainLight.direction);this._mainLight.intensity=g.clone(a.mainLight.intensity);this._mainLight.castShadows=a.mainLight.castShadows;this._mainLight.specularStrength=a.mainLight.specularStrength;
this._mainLight.environmentStrength=a.mainLight.environmentStrength;this.globalFactor=a.globalFactor;this.noonFactor=a.noonFactor};m.lerpLighting=function(a,b,d){f.lerp(this._mainLight.intensity,a.mainLight.intensity,b.mainLight.intensity,d);this._mainLight.environmentStrength=e.lerp(a.mainLight.environmentStrength,b.mainLight.environmentStrength,d);this._mainLight.specularStrength=e.lerp(a.mainLight.specularStrength,b.mainLight.specularStrength,d);f.copy(this._mainLight.direction,b.mainLight.direction);
this._mainLight.castShadows=b.mainLight.castShadows;this.globalFactor=e.lerp(a.globalFactor,b.globalFactor,d);this.noonFactor=e.lerp(a.noonFactor,b.noonFactor,d);if(a.sh.r.length===b.sh.r.length)for(let c=0;c<b.sh.r.length;c++)this._sphericalHarmonics.r[c]=e.lerp(a.sh.r[c],b.sh.r[c],d),this._sphericalHarmonics.g[c]=e.lerp(a.sh.g[c],b.sh.g[c],d),this._sphericalHarmonics.b[c]=e.lerp(a.sh.b[c],b.sh.b[c],d);else for(a=0;a<b.sh.r.length;a++)this._sphericalHarmonics.r[a]=b.sh.r[a],this._sphericalHarmonics.g[a]=
b.sh.g[a],this._sphericalHarmonics.b[a]=b.sh.b[a]};q._createClass(l,[{key:"legacy",get:function(){return this._legacy}},{key:"sh",get:function(){return this._sphericalHarmonics}},{key:"mainLight",get:function(){return this._mainLight}}]);return l}();const h=g.create();k.SceneLighting=u;k.ambientBoost=.4;Object.defineProperties(k,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});