// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../core/maybe ../../../../../core/promiseUtils ../../../../../chunks/vec3f64 ../../../../../geometry/support/aaBoundingBox ./LodComponentData".split(" "),function(m,n,l,p,r,e,t){let v=function(){function f(a,b){this.minScreenSpaceRadius=a;this.components=b}f.create=function(){var a=n._asyncToGenerator(function*(b,g,d){const h=yield Promise.allSettled(g.components.map(c=>b.schedule(()=>new t.LodComponentData(b,c),d))),k=h.map(c=>
"fulfilled"===c.status?c.value:null).filter(c=>c);if(p.isAborted(d)||k.length!==h.length){k.forEach(c=>c.destroy());p.throwIfAborted(d);for(const c of h)if("rejected"===c.status)throw c.reason;}return new f(g.minScreenSpaceRadius,k)});return function(b,g,d){return a.apply(this,arguments)}}();var q=f.prototype;q.destroy=function(){this.components.forEach(a=>a.destroy())};q.intersect=function(a,b,g,d,h,k,c){this.components.forEach(u=>u.intersect(a,b,g,d,h,k,this.boundingSphere,c))};n._createClass(f,
[{key:"boundingBox",get:function(){if(l.isNone(this._boundingBox)){const a=e.empty();this.components.forEach(b=>{l.isSome(b.boundingInfo)&&(e.expandWithVec3(a,b.boundingInfo.bbMin),e.expandWithVec3(a,b.boundingInfo.bbMax))});this._boundingBox=a}return this._boundingBox}},{key:"boundingSphere",get:function(){if(l.isNone(this._boundingSphere)){const a=this.boundingBox,b=r.create();e.center(a,b);this._boundingSphere={center:b,radius:.5*e.diameter(a)}}return this._boundingSphere}},{key:"triangleCount",
get:function(){return this.components.reduce((a,b)=>a+b.triangleCount,0)}}]);return f}();m.LodLevel=v;Object.defineProperties(m,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});