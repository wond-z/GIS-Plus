// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../Color ../../../../core/Logger ../../../../core/maybe ../../../../core/screenUtils ../../../../chunks/vec4f64".split(" "),function(n,q,k,r,c,p,l){let x=function(){function g(b){this.definition=b;this.key=JSON.stringify(b);this.haloSize=Math.round(b.halo.size);this.textStyle=this._colorToRGBA(b.color);this.haloStyle=this._colorToRGB(b.halo.color);this.backgroundStyle=0!==b.background.color[3]?this._colorToRGBA(b.background.color):
null}var m=g.prototype;m.fontString=function(b){const a=this.definition.font;return`${a.style} ${a.weight} ${b}px ${a.family}, sans-serif`};m._colorToRGB=function(b){return`rgb(${b.slice(0,3).map(a=>Math.floor(255*a)).toString()})`};m._colorToRGBA=function(b){return`rgba(${b.slice(0,3).map(a=>Math.floor(255*a)).toString()},${b[3]})`};g.fromSymbol=function(){var b=q._asyncToGenerator(function*(a,h=1){var e=c.get(a,"material","color");const t=c.mapOr(e,l.ZEROS,k.toUnitRGBA);e=c.mapOr(a.size,12,p.pt2px);
const u=a.lineHeight,v=c.isSome(a.background)?k.toUnitRGBA(a.background.color):l.ZEROS,w={family:c.mapOr(a.font,"sans-serif",d=>d.family),decoration:c.mapOr(a.font,"none",d=>d.decoration),weight:c.mapOr(a.font,"normal",d=>d.weight),style:c.mapOr(a.font,"normal",d=>d.style)};var f=a.halo;f=c.isSome(f)&&c.isSome(f.color)&&0<f.size?{size:p.pt2px(f.size),color:k.toUnitRGBA(f.color)}:{size:0,color:l.ZEROS};a=new g({color:t,size:e,background:{color:v,padding:c.isSome(a.background)?[.65*e,.5*e]:[0,0],borderRadius:c.isSome(a.background)?
.375*e:0},lineSpacingFactor:u,font:w,halo:f,pixelRatio:h});h=a.fontString(e);try{yield document.fonts.load(h)}catch(d){r.getLogger("esri.views.3d.webgl-engine.lib.TextRenderParameters").warnOnce(`Failed to preload font '${h}'. Some text symbology may be rendered using the default browser font.`)}return a});return function(a){return b.apply(this,arguments)}}();return g}();n.TextRenderParameters=x;Object.defineProperties(n,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});