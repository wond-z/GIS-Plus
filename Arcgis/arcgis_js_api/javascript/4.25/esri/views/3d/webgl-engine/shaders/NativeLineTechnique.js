// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define("require exports ../../../../chunks/_rollupPluginBabelHelpers ../core/shaderLibrary/ShaderOutput ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../lib/DefaultVertexAttributeLocations ../lib/Program ../lib/StencilUtils ../../../../chunks/NativeLine.glsl ../../../webgl/context-util ../../../webgl/enums ../../../webgl/renderState".split(" "),function(q,m,n,p,r,g,t,u,h,v,w,d,e){g=function(f){function b(){return f.apply(this,arguments)||this}n._inheritsLoose(b,
f);var k=b.prototype;k.initializeConfiguration=function(a,c){c.hasWebGL2Context=a.rctx.type===w.ContextType.WEBGL2};k.initializeProgram=function(a){return new u.Program(a.rctx,b.shader.get().build(this.configuration),t.Default3D)};k.initializePipeline=function(){const a=this.configuration,c=e.separateBlendingParams(d.BlendFactor.SRC_ALPHA,d.BlendFactor.ONE,d.BlendFactor.ONE_MINUS_SRC_ALPHA,d.BlendFactor.ONE_MINUS_SRC_ALPHA),l=(x,y=null,z=null)=>e.makePipelineState({blending:y,depthTest:h.depthCompareLess,
depthWrite:z,colorWrite:e.defaultColorWriteParams,stencilWrite:a.hasOccludees?h.stencilWriteMaskOn:null,stencilTest:a.hasOccludees?x?h.stencilToolMaskBaseParams:h.stencilBaseAllZerosParams:null});return a.output===p.ShaderOutput.Color?(this._occludeePipelineState=l(!0,a.transparent||this._stippleEnabled?c:null,e.defaultDepthWriteParams),l(!1,a.transparent||this._stippleEnabled?c:null,e.defaultDepthWriteParams)):l(!1)};k.getPipelineState=function(a,c){return c?this._occludeePipelineState:f.prototype.getPipelineState.call(this,
a,c)};n._createClass(b,[{key:"_stippleEnabled",get:function(){return this.configuration.stippleEnabled&&this.configuration.output!==p.ShaderOutput.Highlight}},{key:"primitiveType",get:function(){return d.PrimitiveType.LINES}}]);return b}(g.ShaderTechnique);g.shader=new r.ReloadableShaderModule(v.NativeLine,()=>new Promise((f,b)=>q(["./NativeLine.glsl"],f,b)));m.NativeLineTechnique=g;Object.defineProperties(m,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});