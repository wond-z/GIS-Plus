// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define("require exports ../../../../chunks/_rollupPluginBabelHelpers ../../../ViewingMode ../../../../chunks/Terrain.glsl ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../lib/basicInterfaces ../lib/Program ../lib/StencilUtils ../lib/VertexAttribute ../../../webgl/context-util ../../../webgl/enums ../../../webgl/renderState".split(" "),function(n,h,p,q,r,t,g,u,v,w,k,x,l,d){g=function(e){function c(){var a=e.apply(this,arguments)||this;a.useStencil=!1;return a}
p._inheritsLoose(c,e);var f=c.prototype;f.initializeConfiguration=function(a,b){b.hasWebGL2Context=a.rctx.type===x.ContextType.WEBGL2;b.spherical=a.viewingMode===q.ViewingMode.Global};f.initializeProgram=function(a){return new v.Program(a.rctx,c.shader.get().build(this.configuration),m)};f.initializePipeline=function(){this._stencilPipelineState=this._createPipeline(!0);return this._createPipeline(!1)};f._createPipeline=function(a){const b=this.configuration,y=b.backfaceCullingEnabled&&!b.renderOccluded;
return d.makePipelineState({blending:b.renderOccluded?d.simpleBlendingParams(l.BlendFactor.ONE,l.BlendFactor.ONE_MINUS_SRC_ALPHA):null,culling:y&&d.backFaceCullingParams,depthTest:!b.renderOccluded&&{func:l.CompareFunction.LESS},depthWrite:!b.renderOccluded&&d.defaultDepthWriteParams,colorWrite:d.defaultColorWriteParams,stencilTest:a?w.renderWhenBitIsNotSet(u.StencilBits.IntegratedMeshMaskExcluded):null})};f.getPipelineState=function(a,b){return this.useStencil?this._stencilPipelineState:e.prototype.getPipelineState.call(this,
a,b)};return c}(g.ShaderTechnique);g.shader=new t.ReloadableShaderModule(r.Terrain,()=>new Promise((e,c)=>n(["../core/shaderLibrary/terrain/Terrain.glsl"],e,c)));const m=new Map([[k.VertexAttribute.POSITION,0],[k.VertexAttribute.UV0,1],[k.VertexAttribute.NORMALCOMPRESSED,2]]);h.TerrainTechnique=g;h.terrainVertexAttributeLocations=m;Object.defineProperties(h,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});