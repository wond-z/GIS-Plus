// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/maybe ../../../../chunks/vec2f32 ../../../../chunks/vec2f64 ../../support/buffer/InterleavedLayout ../core/shaderLibrary/ShaderOutput ../core/shaderLibrary/hud/HUD.glsl ../lib/GLMaterial ../lib/Material ../lib/RenderSlot ../lib/VertexAttribute ./internal/bufferWriterUtils ../shaders/LineCalloutTechnique ../shaders/LineCalloutTechniqueConfiguration".split(" "),function(m,h,q,g,w,x,y,r,z,t,n,d,p,A,B){let E=function(e){function c(b){b=
e.call(this,b,new u)||this;b._configuration=new B.LineCalloutTechniqueConfiguration;b._uniqueMaterialIdentifier=c.uniqueMaterialIdentifier(b.parameters);return b}h._inheritsLoose(c,e);var a=c.prototype;a.getPassParameters=function(){return this.parameters};a.getConfiguration=function(b,f){b=f?.slot!==n.RenderSlot.LINE_CALLOUTS;this._configuration.occlusionTestEnabled=this.parameters.occlusionTest;this._configuration.hasVerticalOffset=q.isSome(this.parameters.verticalOffset);this._configuration.hasScreenSizePerspective=
q.isSome(this.parameters.screenSizePerspective);this._configuration.depthHudEnabled=b;this._configuration.depthHudAlignStartEnabled=!!this.parameters.depthHUDAlignStart;this._configuration.screenCenterOffsetUnitsEnabled="screen"===this.parameters.centerOffsetUnits?r.HUDSpace.Screen:r.HUDSpace.World;this._configuration.hasSlicePlane=this.parameters.hasSlicePlane;this._configuration.hasMultipassGeometry=f.multipassGeometry.enabled;return this._configuration};a.intersect=function(){};a.requiresSlot=
function(b,f){if(f===y.ShaderOutput.Color)switch(b){case n.RenderSlot.LINE_CALLOUTS:case n.RenderSlot.LINE_CALLOUTS_HUD_DEPTH:return!0}return!1};a.createGLMaterial=function(b){return new C(b)};a.createBufferWriter=function(){return new D};a.validateParameters=function(b){b=c.uniqueMaterialIdentifier(b);b!==this._uniqueMaterialIdentifier&&(this._uniqueMaterialIdentifier=b)};c.uniqueMaterialIdentifier=function(b){return JSON.stringify({screenOffset:b.screenOffset||[0,0],centerOffsetUnits:b.centerOffsetUnits||
"world"})};h._createClass(c,[{key:"uniqueMaterialIdentifier",get:function(){return this._uniqueMaterialIdentifier}}]);return c}(t.Material),C=function(e){function c(){return e.apply(this,arguments)||this}h._inheritsLoose(c,e);c.prototype.beginSlot=function(a){return this.ensureTechnique(A.LineCalloutTechnique,a)};return c}(z),u=function(e){function c(){var a=e.apply(this,arguments)||this;a.screenOffset=w.ZEROS;a.color=[0,0,0,1];a.size=1;a.occlusionTest=!1;a.shaderPolygonOffset=1E-5;a.depthHUDAlignStart=
!1;a.centerOffsetUnits="world";a.hasSlicePlane=!1;return a}h._inheritsLoose(c,e);return c}(t.MaterialParameters);const F=x.newLayout().vec3f(d.VertexAttribute.POSITION).vec3f(d.VertexAttribute.NORMAL).vec2f(d.VertexAttribute.UV0).vec4f(d.VertexAttribute.AUXPOS1),v=[g.fromValues(0,0),g.fromValues(1,0),g.fromValues(0,1),g.fromValues(1,0),g.fromValues(1,1),g.fromValues(0,1)];let D=function(){function e(){this.vertexBufferLayout=F}var c=e.prototype;c.allocate=function(a){return this.vertexBufferLayout.createBuffer(a)};
c.elementCount=function(a){return 6*a.indices.get(d.VertexAttribute.POSITION).length};c.write=function(a,b,f,k,l){p.writePosition(f.indices.get(d.VertexAttribute.POSITION),f.vertexAttributes.get(d.VertexAttribute.POSITION).data,a,k.position,l,6);p.writeNormal(f.indices.get(d.VertexAttribute.NORMAL),f.vertexAttributes.get(d.VertexAttribute.NORMAL).data,b,k.normal,l,6);p.writeBufferVec4(f.indices.get(d.VertexAttribute.AUXPOS1),f.vertexAttributes.get(d.VertexAttribute.AUXPOS1).data,k.auxpos1,l,6);for(a=
0;a<v.length;++a)k.uv0.setVec(l+a,v[a])};return e}();m.LineCalloutMaterial=E;m.Parameters=u;Object.defineProperties(m,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});