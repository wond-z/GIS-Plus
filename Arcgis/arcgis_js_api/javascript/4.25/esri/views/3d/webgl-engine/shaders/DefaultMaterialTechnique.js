// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define("require exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/mat3f64 ../../../../chunks/vec3f64 ../../../../chunks/vec4f64 ../../../ViewingMode ../core/shaderLibrary/ShaderOutput ../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl ../core/shaderLibrary/attributes/VertexNormal.glsl ../core/shaderLibrary/util/AlphaCutoff ../core/shaderLibrary/util/DoublePrecision.glsl ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../lib/basicInterfaces ../lib/DefaultVertexAttributeLocations ../lib/Material ../lib/OrderIndependentTransparency ../lib/Program ../lib/StencilUtils ../lib/TransparencyPassType ../../../../chunks/DefaultMaterial.glsl ../../../webgl/context-util ../../../webgl/enums ../../../webgl/renderState".split(" "),
function(z,l,q,A,g,B,C,u,v,m,D,E,F,n,h,G,H,p,I,r,w,J,K,x,k){let L=function(f){function e(){var a=f.apply(this,arguments)||this;a.isSchematic=!1;a.usePBR=!1;a.mrrFactors=g.fromValues(0,1,.5);a.hasVertexColors=!1;a.hasSymbolColors=!1;a.doubleSided=!1;a.doubleSidedType="normal";a.cullFace=h.CullFaceOptions.Back;a.emissiveFactor=g.fromValues(0,0,0);a.instancedDoublePrecision=!1;a.normals="default";a.receiveSSAO=!0;a.receiveShadows=!0;a.castShadows=!0;a.shadowMappingEnabled=!1;a.ambient=g.fromValues(.2,
.2,.2);a.diffuse=g.fromValues(.8,.8,.8);a.externalColor=B.fromValues(1,1,1,1);a.colorMixMode="multiply";a.opacity=1;a.layerOpacity=1;a.origin=g.create();a.hasSlicePlane=!1;a.hasSliceHighlight=!0;a.offsetTransparentBackfaces=!1;a.vvSizeEnabled=!1;a.vvSizeMinSize=[1,1,1];a.vvSizeMaxSize=[100,100,100];a.vvSizeOffset=[0,0,0];a.vvSizeFactor=[1,1,1];a.vvSizeValue=[1,1,1];a.vvColorEnabled=!1;a.vvColorValues=[0,0,0,0,0,0,0,0];a.vvColorColors=[1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,
0];a.vvSymbolAnchor=[0,0,0];a.vvSymbolRotationMatrix=A.create();a.vvOpacityEnabled=!1;a.vvOpacityValues=[];a.vvOpacityOpacities=[];a.transparent=!1;a.writeDepth=!0;a.customDepthTest=h.DepthTestFunction.Less;a.textureAlphaMode=h.AlphaDiscardMode.Blend;a.textureAlphaCutoff=D.defaultMaskAlphaCutoff;a.textureAlphaPremultiplied=!1;a.hasOccludees=!1;a.renderOccluded=H.RenderOccludedFlag.Occlude;return a}q._inheritsLoose(e,f);return e}(m.VertexNormalPassParameters);m=function(f){function e(){var a=f.apply(this,
arguments)||this;a.origin=g.create();a.slicePlaneLocalOrigin=a.origin;return a}q._inheritsLoose(e,f);return e}(m.VertexNormalDrawParameters);n=function(f){function e(){return f.apply(this,arguments)||this}q._inheritsLoose(e,f);var a=e.prototype;a.initializeConfiguration=function(c,b){b.hasWebGL2Context=c.rctx.type===K.ContextType.WEBGL2;b.spherical=c.viewingMode===C.ViewingMode.Global;b.doublePrecisionRequiresObfuscation=E.doublePrecisionRequiresObfuscation(c.rctx);b.textureCoordinateType=b.hasColorTexture||
b.hasMetallicRoughnessTexture||b.hasEmissionTexture||b.hasOcclusionTexture||b.hasNormalTexture?v.TextureCoordinateAttributeType.Default:v.TextureCoordinateAttributeType.None;b.objectAndLayerIdColorInstanced=b.instanced};a.initializeProgram=function(c){return this._initializeProgram(c,e.shader)};a._initializeProgram=function(c,b){return new I.Program(c.rctx,b.get().build(this.configuration),G.Default3D)};a._convertDepthTestFunction=function(c){return c===h.DepthTestFunction.Lequal?x.CompareFunction.LEQUAL:
x.CompareFunction.LESS};a._makePipeline=function(c,b){const d=this.configuration,t=c===w.TransparencyPassType.NONE,y=c===w.TransparencyPassType.FrontFace;var M=k.makePipelineState,N=d.output!==u.ShaderOutput.Color&&d.output!==u.ShaderOutput.Alpha||!d.transparent?null:t?p.blendingDefault:p.oitBlending(c);var O=d.cullFace!==h.CullFaceOptions.None?!0:d.hasSlicePlane?!1:!d.transparent&&!d.doubleSidedMode;return M.call(k,{blending:N,culling:O&&k.cullingParams(d.cullFace),depthTest:{func:p.oitDepthTest(c,
this._convertDepthTestFunction(d.customDepthTest))},depthWrite:t||y?d.writeDepth&&k.defaultDepthWriteParams:null,colorWrite:k.defaultColorWriteParams,stencilWrite:d.hasOccludees?r.stencilWriteMaskOn:null,stencilTest:d.hasOccludees?b?r.stencilToolMaskBaseParams:r.stencilBaseAllZerosParams:null,polygonOffset:t||y?null:p.getOITPolygonOffset(d.enableOffset)})};a.initializePipeline=function(){this._occludeePipelineState=this._makePipeline(this.configuration.transparencyPassType,!0);return this._makePipeline(this.configuration.transparencyPassType,
!1)};a.getPipelineState=function(c,b){return b?this._occludeePipelineState:f.prototype.getPipelineState.call(this,c,b)};return e}(n.ShaderTechnique);n.shader=new F.ReloadableShaderModule(J.DefaultMaterial,()=>new Promise((f,e)=>z(["./DefaultMaterial.glsl"],f,e)));l.DefaultMaterialDrawParameters=m;l.DefaultMaterialPassParameters=L;l.DefaultMaterialTechnique=n;Object.defineProperties(l,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});