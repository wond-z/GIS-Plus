// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/Handles ../../../core/maybe ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ../camera/intersectionUtils ../camera/constraintUtils/surfaceCollision".split(" "),function(b,h,e,k,l,m,n,t,u,p,q,f){b.SurfaceCollisionConstraint=function(g){function d(a){a=g.call(this,
a)||this;a._handles=new l;return a}h._inheritsLoose(d,g);var c=d.prototype;c.initialize=function(){this._handles.add(this.view.basemapTerrain.on("elevation-change",a=>this._handleElevationChangeEvent(a)))};c.destroy=function(){this._handles&&(this._handles.destroy(),this._handles=null)};c._handleElevationChangeEvent=function(a){if(!this.view.state.cameraController){var r=this.view.state.camera;m.isSome(a.spatialReference)&&q.eyeWithinExtent(this.view,r,a.extent,a.spatialReference)&&this._applyToCurrentCamera()}};
c._applyToCurrentCamera=function(){this.view.state.updateCamera(a=>f.applySurfaceCollisionConstraint(this.view,a,f.Mode.EYE_AND_CENTER))};return d}(k);e.__decorate([n.property({constructOnly:!0})],b.SurfaceCollisionConstraint.prototype,"view",void 0);b.SurfaceCollisionConstraint=e.__decorate([p.subclass("esri.views.3d.state.ElevationCollisionConstraint")],b.SurfaceCollisionConstraint);Object.defineProperties(b,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});