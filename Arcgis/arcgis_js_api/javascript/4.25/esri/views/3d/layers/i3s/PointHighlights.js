// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/handleUtils ../../../../core/maybe ../../webgl-engine/lib/basicInterfaces ../../webgl-engine/lib/Object3DStateID".split(" "),function(e,g,h,k,l,m){let q=function(){function d(a){this._context=a;this._highlights=new Set}var c=d.prototype;c.destroy=function(){this._highlights=null};c.add=function(a){const b=new n(a);this._highlights.add(b);this._enableSet(b);return h.makeHandle(()=>this._removeSet(b))};c._removeSet=function(a){this._disableSet(a);
this._highlights.delete(a)};c._enableSet=function(a){a.enabled||(a.enabled=!0,this._context.forEachNode(b=>this._enableSetForNode(a,b)))};c._enableSetForNode=function(a,b){if(a.enabled){var f=a.ids.get(b.id);f&&f.forEach(p=>this._context.addHighlight(b,p,a.id))}};c._disableSet=function(a){a.enabled&&(a.enabled=!1,this._context.forEachNode(b=>this._disableSetForNode(a,b)))};c._disableSetForNode=function(a,b){a.enabled||this._context.removeHighlight(b,a.id)};c.nodeAdded=function(a){this._highlights.forEach(b=>
this._enableSetForNode(b,a))};c.nodeRemoved=function(a){this._highlights.forEach(b=>this._disableSetForNode(b,a))};c.removeAll=function(){this._highlights.forEach(a=>this._disableSet(a))};g._createClass(d,[{key:"hasHighlights",get:function(){return 0<this._highlights.size}}]);return d}(),n=function(){function d(c){this.id=new m.Object3DStateID(l.Object3DState.Highlight);this.ids=new Map;this.enabled=!1;for(const a of c)k.isSome(a)&&this._add(a.nodeId,a.pointId)}d.prototype._add=function(c,a){const b=
this.ids.get(c);b?b.add(a):this.ids.set(c,new Set([a]))};return d}();e.PointHighlights=q;Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});