// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define("exports ../../../core/maybe ../../../chunks/mat4 ../../../chunks/mat4f64 ./AtmosphereType ../../../chunks/SimpleAtmosphere.glsl ./SimpleAtmosphereTechnique ./SimpleAtmosphereTechniqueConfiguration ./resources/SimpleAtmosphereTexture ../support/buffer/glUtil ../support/buffer/InterleavedLayout ../webgl-engine/lib/DefaultVertexAttributeLocations ../webgl-engine/lib/GeometryUtil ../webgl-engine/lib/VertexArrayObject ../webgl-engine/lib/VertexAttribute ../../webgl/BufferObject ../../webgl/enums ../../webgl/Texture ../../webgl/Util".split(" "),
function(n,k,u,v,w,x,y,p,z,A,B,C,D,E,l,F,e,G,H){let I=function(){function q(){this.type=w.AtmosphereType.Panoramic;this._configuration=new p.SimpleAtmosphereTechniqueConfiguration;this._passParameters=new x.SimpleAtmospherePassParameters}var g=q.prototype;g.destroy=function(){this._passParameters.texture=k.disposeMaybe(this._passParameters.texture);this._vao=k.disposeMaybe(this._vao)};g.initializeRenderContext=function(d){this._configuration.geometry=p.SimpleAtmosphereGeometry.Cylinder;this._technique=
d.shaderTechniqueRepository.acquire(y.SimpleAtmosphereTechnique,this._configuration);const b=d.renderContext.rctx;this._vao=this._createVertexArrayObject(b);this._vaoCount=H.vertexCount(this._vao,"geometry");this._passParameters.texture=new G.Texture(b,{pixelFormat:e.PixelFormat.RGBA,dataType:e.PixelType.UNSIGNED_BYTE,wrapMode:e.TextureWrapMode.CLAMP_TO_EDGE,samplingMode:e.TextureSamplingMode.LINEAR,flipped:!0,width:1,height:512},z.earthAtmosphereTextureSimple);d.requestRender()};g.render=function(d){if(!k.isNone(this._vao)&&
!k.isNone(this._passParameters.texture)){var b=d.rctx,c=b.bindTechnique(this._technique,this._passParameters,d.bindParameters),a=r;u.copy(a,d.bindParameters.camera.viewMatrix);a[12]=0;a[13]=0;a[14]=0;a[15]=1;c.setUniformMatrix4fv("view",r);b.bindVAO(this._vao);c.assertCompatibleVertexAttributeLocations(this._vao);b.drawArrays(e.PrimitiveType.TRIANGLES,0,this._vaoCount)}};g.renderHaze=function(){return!1};g._createVertexArrayObject=function(d){var b=D.createPolySphereGeometry(1,2,!1);const c=b.indices.get(l.VertexAttribute.POSITION);
for(var a=0;a<c.length;a+=3){var h=c[a];c[a]=c[a+2];c[a+2]=h}b=b.vertexAttributes.get(l.VertexAttribute.POSITION).data;a=t.createBuffer(c.length);h=a.position;for(let f=0;f<c.length;++f){const m=3*c[f];h.set(f,0,b[m]);h.set(f,1,b[m+1]);h.set(f,2,b[m+2])}return new E.VertexArrayObject(d,C.Default3D,{geometry:A.glLayout(t)},{geometry:F.BufferObject.createVertex(d,e.Usage.STATIC_DRAW,a.buffer)})};return q}();const r=v.create(),t=B.newLayout().vec3f(l.VertexAttribute.POSITION);n.PanoramicAtmosphere=I;
Object.defineProperties(n,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});