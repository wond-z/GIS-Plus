// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define(["exports","../../../../geometry/projection","../../../../geometry/support/triangulationUtils","../../layers/graphics/elevationAlignmentUtils","../../terrain/OverlayRenderer"],function(k,m,e,n,p){function l(a,b,c){const f=[];for(const {index:d,count:h}of a){if(1>=h)continue;a=3*d;const g=a+3*h;f.push({position:b.subarray(a,g),mapPosition:c?c.subarray(a,g):void 0})}return f}k.geometryToRenderInfo=function(a,b,c,f){const {position:d,outlines:h}=e.pathsToTriangulationInfo("polygon"===a.type?a.rings:
a.paths,a.hasZ,"polygon"===a.type?e.CounterClockwiseMode.CCW_IS_HOLE:e.CounterClockwiseMode.NONE),g=new Float64Array(d.length);a=n.applyPerVertexElevationAlignment(d,a.spatialReference,0,g,0,d,0,d.length/3,b,c,f);b=null!=a;return{lines:b?l(h,d,g):[],projectionSuccess:b,sampledElevation:a}};k.geometryToRenderInfoDraped=function(a,b){const {position:c,outlines:f}=e.pathsToTriangulationInfo("polygon"===a.type?a.rings:a.paths,!1,"polygon"===a.type?e.CounterClockwiseMode.CCW_IS_HOLE:e.CounterClockwiseMode.NONE);
a=m.projectBuffer(c,a.spatialReference,0,c,b,0,c.length/3);for(b=2;b<c.length;b+=3)c[b]=p.DRAPED_Z;return{lines:a?l(f,c):[],projectionSuccess:a}};Object.defineProperties(k,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});