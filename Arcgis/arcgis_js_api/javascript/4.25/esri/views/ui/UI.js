// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/domUtils ../../core/Evented ../../core/Handles ../../core/reactiveUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/subclass ../../support/themeUtils ./Component ../../widgets/support/widgetUtils".split(" "),function(v,m,q,h,x,p,n,D,y,z,A,r,B){function t(g){const k="object"===typeof g&&null!==g&&Object.getPrototypeOf(g);
return null!==k&&k!==Object.prototype||!("component"in g||"index"in g||"position"in g)?null:g}function u(g,{top:k,bottom:e,left:a,right:b}){g.style.top=k;g.style.bottom=e;g.style.left=a;g.style.right=b}const C={left:0,top:0,bottom:0,right:0},w={bottom:30,top:15,right:15,left:15};h=function(g){function k(a){var b=g.call(this,a)||this;b._cornerNameToContainerLookup={};b._positionNameToContainerLookup={};b._components=[];b._componentToKey=new Map;b._handles=new x;b.view=null;b._applyViewPadding=()=>
{const c=b.container;c&&u(c,b._toPxPosition(b._getViewPadding()))};b._applyUIPadding=()=>{const c=b._innerContainer;c&&u(c,b._toPxPosition(b.padding))};b._initContainers();return b}v._inheritsLoose(k,g);var e=k.prototype;e.initialize=function(){this._handles.add([p.watch(()=>[this.view?.padding,this.container],this._applyViewPadding,p.initial),p.watch(()=>this.padding,this._applyUIPadding,p.initial)])};e.destroy=function(){this.container=null;for(const a of this._components)a.destroy();this._components.length=
0;this._handles.destroy();this._componentToKey.clear()};e.castPadding=function(a){return"number"===typeof a?{bottom:a,top:a,right:a,left:a}:{...w,...a}};e.add=function(a,b){let c,d;if(Array.isArray(a))a.forEach(l=>this.add(l,b));else{var f=t(a);f&&({index:c,position:b,component:a,key:d}=f);b&&"object"===typeof b&&({index:c,key:d,position:b}=b);!a||b&&!this._isValidPosition(b)||this._add(a,b,c,d)}};e.remove=function(a,b){if(a){if(Array.isArray(a))return a.map(f=>this.remove(f,b));var c=this._find(a);
if(c){var d=this._componentToKey;if(!d.has(a)||d.get(a)===b)return d=this._components.indexOf(c),c.node.parentNode&&c.node.parentNode.removeChild(c.node),this._componentToKey.delete(a),this._components.splice(d,1)[0]}}};e.empty=function(a){if(Array.isArray(a))return a.map(b=>this.empty(b)).reduce((b,c)=>b.concat(c));a=a||"manual";return"manual"===a?Array.prototype.slice.call(this._manualContainer.children).filter(b=>!b.classList.contains("esri-ui-corner")).map(b=>this.remove(b)):this._isValidPosition(a)?
Array.prototype.slice.call(this._cornerNameToContainerLookup[a].children).map(this.remove,this):null};e.move=function(a,b){Array.isArray(a)&&a.forEach(f=>this.move(f,b));if(a){var c=t(a)||t(b);if(c){var d=c.index;b=c.position;a=c.component||a}(!b||this._isValidPosition(b))&&(a=this.remove(a))&&this.add(a,{position:b,index:d})}};e.find=function(a){return a?(a=this._findById(a))&&(a.widget||a.node):null};e.getPosition=function(a){for(const b in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[b].contains(a))return b;
return null};e._add=function(a,b,c,d){a instanceof r||(a=new r({node:a}));this._place({component:a,position:b,index:c});this._components.push(a);d&&this._componentToKey.set(a,d)};e._find=function(a){return a?a instanceof r?this._findByComponent(a):"string"===typeof a?this._findById(a):this._findByNode(a.domNode||a):null};e._getViewPadding=function(){return this.get("view.padding")||C};e._attachContainers=function(a){a.appendChild(this._innerContainer);a.appendChild(this._manualContainer)};e._initContainers=
function(){var a=document.createElement("div");a.classList.add("esri-ui-inner-container");a.classList.add("esri-ui-corner-container");const b=document.createElement("div");b.classList.add("esri-ui-inner-container");b.classList.add("esri-ui-manual-container");const c=document.createElement("div");c.classList.add("esri-ui-top-left");c.classList.add("esri-ui-corner");a.appendChild(c);const d=document.createElement("div");d.classList.add("esri-ui-top-right");d.classList.add("esri-ui-corner");a.appendChild(d);
const f=document.createElement("div");f.classList.add("esri-ui-bottom-left");f.classList.add("esri-ui-corner");a.appendChild(f);const l=document.createElement("div");l.classList.add("esri-ui-bottom-right");l.classList.add("esri-ui-corner");a.appendChild(l);this._innerContainer=a;this._manualContainer=b;a=B.isRTL();this._cornerNameToContainerLookup={"top-left":c,"top-right":d,"bottom-left":f,"bottom-right":l,"top-leading":a?d:c,"top-trailing":a?c:d,"bottom-leading":a?l:f,"bottom-trailing":a?f:l};this._positionNameToContainerLookup=
{manual:b,...this._cornerNameToContainerLookup}};e._isValidPosition=function(a){return!!this._positionNameToContainerLookup[a]};e._place=function(a){const b=a.component,c=a.index;a=this._positionNameToContainerLookup[a.position||"manual"];var d=-1<c,f=b.widget;f&&!f._started&&"function"===typeof f.postMixInProperties&&"function"===typeof f.buildRendering&&"function"===typeof f.postCreate&&"function"===typeof f.startup&&b.widget.startup();d?(d=Array.prototype.slice.call(a.children),0===c?a.firstChild?
q.insertBefore(b.node,a.firstChild):a.appendChild(b.node):c>=d.length?a.appendChild(b.node):q.insertBefore(b.node,d[c])):a.appendChild(b.node)};e._toPxPosition=function(a){return{top:this._toPxUnit(a.top),left:this._toPxUnit(a.left),right:this._toPxUnit(a.right),bottom:this._toPxUnit(a.bottom)}};e._toPxUnit=function(a){return 0===a?"0":a+"px"};e._findByComponent=function(a){let b=null,c;this._components.some(d=>{(c=d===a)&&(b=d);return c});return b};e._findById=function(a){let b=null,c;this._components.some(d=>
{(c=d.id===a)&&(b=d);return c});return b};e._findByNode=function(a){let b=null,c;this._components.some(d=>{(c=d.node===a)&&(b=d);return c});return b};v._createClass(k,[{key:"container",set:function(a){const b=this._get("container");a!==b&&(a&&(a.classList.add("esri-ui"),A.setCalciteThemeClass(a),this._attachContainers(a)),b&&(b.classList.remove("esri-ui"),u(b,{top:"",bottom:"",left:"",right:""}),q.empty(b)),this._set("container",a))}},{key:"height",get:function(){const a=this.get("view.height")||
0;if(0===a)return a;const b=this._getViewPadding();return Math.max(a-(b.top+b.bottom),0)}},{key:"padding",get:function(){return this._get("padding")},set:function(a){this._overrideIfSome("padding",a)}},{key:"width",get:function(){const a=this.get("view.width")||0;if(0===a)return a;const b=this._getViewPadding();return Math.max(a-(b.left+b.right),0)}}]);return k}(h.EventedAccessor);m.__decorate([n.property()],h.prototype,"container",null);m.__decorate([n.property()],h.prototype,"height",null);m.__decorate([n.property({value:w})],
h.prototype,"padding",null);m.__decorate([y.cast("padding")],h.prototype,"castPadding",null);m.__decorate([n.property()],h.prototype,"view",void 0);m.__decorate([n.property()],h.prototype,"width",null);return h=m.__decorate([z.subclass("esri.views.ui.UI")],h)});