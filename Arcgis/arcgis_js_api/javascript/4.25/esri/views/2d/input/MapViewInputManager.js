// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/Handles ../../../core/maybe ../../../core/reactiveUtils ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./handlers/DoubleClickZoom ./handlers/DoubleTapDragZoom ./handlers/DragPan ./handlers/DragRotate ./handlers/GamepadNavigation ./handlers/KeyPan ./handlers/KeyRotate ./handlers/KeyZoom ./handlers/MouseWheelZoom ./handlers/PinchAction ../../input/BrowserEventSource ../../input/InputManager ../../input/handlers/PreventContextMenu ../../input/recognizers/DoubleTapDrag ../../input/recognizers/Drag ../../input/recognizers/ImmediateDoubleClick ../../input/recognizers/PointerClickHoldAndDrag ../../input/recognizers/SingleAndDoubleClick".split(" "),
function(l,d,a,p,q,e,f,N,O,r,m,t,u,v,w,x,y,z,A,B,C,k,D,E,F,G,H,I){var J={left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},K={zoomIn:["\x3d","+"],zoomOut:["-","_"]},L={clockwiseOption1:"a",clockwiseOption2:"A",counterClockwiseOption1:"d",counterClockwiseOption2:"D",resetOption1:"n",resetOption2:"N"};a=function(n){function g(){var b=n.apply(this,arguments)||this;b._handles=new p;return b}l._inheritsLoose(g,n);var h=g.prototype;h.initialize=function(){const b=()=>this.view?.ready;this._handles.add([e.when(()=>
!b(),()=>this._disconnect()),e.when(b,()=>this._connect())])};h.destroy=function(){this._handles&&(this._handles.removeAll(),this._handles=null);this._disconnect()};h._disconnect=function(){this.view.viewEvents.disconnect();this._inputManager=q.destroyMaybe(this._inputManager)};h._connect=function(){const b=new C.BrowserEventSource(this.view.surface,this.view.input);var c=[new G.ImmediateDoubleClick,new H.PointerClickHoldAndDrag,new I.SingleAndDoubleClick,new F.Drag(this.view.navigation),new E.DoubleTapDrag];
c=new k.InputManager({eventSource:b,recognizers:c});c.installHandlers("prevent-context-menu",[new D.PreventContextMenu],k.ViewEventPriorities.INTERNAL);c.installHandlers("navigation",[new B.PinchRotateAndZoom(this.view),new w.GamepadNavigation(this.view),new A.MouseWheelZoom(this.view),new m.DoubleClickZoom(this.view),new m.DoubleClickZoom(this.view,["Ctrl"]),new u.DragPan(this.view,"primary"),new x.KeyPan(this.view,J),new z.KeyZoom(this.view,K),new y.KeyRotate(this.view,L),new v.DragRotate(this.view,
"secondary"),new t.DoubleTapDragZoom(this.view,"touch")],k.ViewEventPriorities.INTERNAL);this.view.viewEvents.connect(c);this._source=b;this._inputManager=c;e.watch(()=>this.view?.navigation?.browserTouchPanEnabled,M=>{this._source&&(this._source.browserTouchPanningEnabled=!M)},e.initial)};l._createClass(g,[{key:"latestPointerType",get:function(){return this._inputManager?.latestPointerType}},{key:"latestPointerLocation",get:function(){return this._inputManager?.latestPointerLocation}},{key:"multiTouchActive",
get:function(){return this._inputManager?.multiTouchActive??!1}},{key:"test",get:function(){return{inputManager:this._inputManager}}}]);return g}(a);d.__decorate([f.property()],a.prototype,"view",void 0);d.__decorate([f.property()],a.prototype,"latestPointerType",null);d.__decorate([f.property()],a.prototype,"latestPointerLocation",null);d.__decorate([f.property()],a.prototype,"multiTouchActive",null);return a=d.__decorate([r.subclass("esri.views.2d.input.MapViewInputManager")],a)});