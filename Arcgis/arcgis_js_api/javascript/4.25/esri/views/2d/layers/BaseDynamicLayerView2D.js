// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Logger ../../../core/promiseUtils ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ../engine/BitmapContainer ./LayerView2D ./support/ExportStrategy ../../layers/LayerView ../../layers/RefreshableLayerView".split(" "),function(g,e,l,m,h,b,w,n,p,q,r,t,u){b=function(k){function f(){return k.apply(this,
arguments)||this}g._inheritsLoose(f,k);var a=f.prototype;a.update=function(c){this._strategy.update(c).catch(d=>{m.isAbortError(d)||l.getLogger(this.declaredClass).error(d)});this.notifyChange("updating")};a.attach=function(){this._bitmapContainer=new p.BitmapContainer;this.container.addChild(this._bitmapContainer);this._strategy=new r({container:this._bitmapContainer,fetchSource:this.fetchBitmapData.bind(this),requestUpdate:this.requestUpdate.bind(this)})};a.detach=function(){this._strategy.destroy();
this._strategy=null;this.container.removeChild(this._bitmapContainer);this._bitmapContainer.removeAllChildren()};a.moveStart=function(){};a.viewChange=function(){};a.moveEnd=function(){this.requestUpdate()};a.fetchBitmapData=function(c,d,v){return this.layer.fetchImage(c,d,v)};a.doRefresh=function(){var c=g._asyncToGenerator(function*(){this.requestUpdate()});return function(){return c.apply(this,arguments)}}();a.isUpdating=function(){return this._strategy.updating||this.updateRequested};return f}(u(q.LayerView2DMixin(t)));
e.__decorate([h.property()],b.prototype,"_strategy",void 0);e.__decorate([h.property()],b.prototype,"updating",void 0);return b=e.__decorate([n.subclass("esri.views.2d.layers.BaseDynamicLayerView2D")],b)});