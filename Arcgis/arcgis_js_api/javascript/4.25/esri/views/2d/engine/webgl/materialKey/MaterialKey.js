// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define(["exports","../../../../../chunks/_rollupPluginBabelHelpers","../../../../../core/Error","../alignmentUtils","../enums"],function(k,h,C,D,e){function y(d){return d===e.WGLSymbologyType.SIMPLE||d===e.WGLSymbologyType.OUTLINE_FILL_SIMPLE}function x(d){return d===e.WGLSymbologyType.OUTLINE_FILL||d===e.WGLSymbologyType.OUTLINE_FILL_SIMPLE}const E=Object.keys(e.WGLSymbologyType).filter(d=>"number"===typeof e.WGLSymbologyType[d]).reduce((d,b)=>({...d,[b]:e.WGLSymbologyType[b]}),{});let l=function(){function d(a){this._data=
0;this._data=a}d.load=function(a){const c=this.shared;c.data=a;return c};var b=d.prototype;b.setBit=function(a,c){a=1<<a;this._data=c?this._data|a:this._data&~a};b.bit=function(a){return(this._data&1<<a)>>a};b.setBits=function(a,c,f){for(let g=c,m=0;g<f;g++,m++)this.setBit(g,0!==(a&1<<m))};b.bits=function(a,c){let f=0;for(let g=a,m=0;g<c;g++,m++)f|=this.bit(g)<<m;return f};b.hasVV=function(){return!1};b.setVV=function(a,c){};b.getVariation=function(){return{mapAligned:this.mapAligned,pattern:this.pattern,
sdf:this.sdf,symbologyType:{value:e.WGLSymbologyType[this.symbologyType],options:E,namespace:"SYMBOLOGY_TYPE"}}};b.getVariationHash=function(){return this._data&~(7&this.textureBinding)};h._createClass(d,[{key:"data",get:function(){return this._data},set:function(a){this._data=a}},{key:"geometryType",get:function(){return this.bits(8,11)},set:function(a){this.setBits(a,8,11)}},{key:"mapAligned",get:function(){return!!this.bit(20)},set:function(a){this.setBit(20,a)}},{key:"sdf",get:function(){return!!this.bit(11)},
set:function(a){this.setBit(11,a)}},{key:"pattern",get:function(){return!!this.bit(12)},set:function(a){this.setBit(12,a)}},{key:"textureBinding",get:function(){return this.bits(0,8)},set:function(a){this.setBits(a,0,8)}},{key:"symbologyType",get:function(){return this.bits(21,26)},set:function(a){this.setBits(a,21,26)}},{key:"geometryTypeString",get:function(){switch(this.geometryType){case e.WGLGeometryType.FILL:return"fill";case e.WGLGeometryType.MARKER:return"marker";case e.WGLGeometryType.LINE:return"line";
case e.WGLGeometryType.TEXT:return"text";case e.WGLGeometryType.LABEL:return"label";default:throw new C(`Unable to handle unknown geometryType: ${this.geometryType}`);}}}]);return d}();l.shared=new l(0);const n=d=>function(b){function a(){return b.apply(this,arguments)||this}h._inheritsLoose(a,b);var c=a.prototype;c.hasVV=function(){return b.prototype.hasVV.call(this)||this.vvSizeMinMaxValue||this.vvSizeScaleStops||this.vvSizeFieldStops||this.vvSizeUnitValue};c.setVV=function(f,g){b.prototype.setVV.call(this,
f,g);{var m=this.geometryType;const z=e.WGLVVFlag.SIZE_FIELD_STOPS|e.WGLVVFlag.SIZE_MINMAX_VALUE|e.WGLVVFlag.SIZE_SCALE_STOPS|e.WGLVVFlag.SIZE_UNIT_VALUE,A=(f&(e.WGLVVTarget.FIELD_TARGETS_OUTLINE|e.WGLVVTarget.MINMAX_TARGETS_OUTLINE|e.WGLVVTarget.SCALE_TARGETS_OUTLINE|e.WGLVVTarget.UNIT_TARGETS_OUTLINE))>>>4;g=m===e.WGLGeometryType.LINE&&g.isOutline||m===e.WGLGeometryType.FILL&&x(g.symbologyType)?z&A:z&~A}f&=g;this.vvSizeMinMaxValue=!!(f&e.WGLVVFlag.SIZE_MINMAX_VALUE);this.vvSizeFieldStops=!!(f&e.WGLVVFlag.SIZE_FIELD_STOPS);
this.vvSizeUnitValue=!!(f&e.WGLVVFlag.SIZE_UNIT_VALUE);this.vvSizeScaleStops=!!(f&e.WGLVVFlag.SIZE_SCALE_STOPS)};h._createClass(a,[{key:"vvSizeMinMaxValue",get:function(){return 0!==this.bit(16)},set:function(f){this.setBit(16,f)}},{key:"vvSizeScaleStops",get:function(){return 0!==this.bit(17)},set:function(f){this.setBit(17,f)}},{key:"vvSizeFieldStops",get:function(){return 0!==this.bit(18)},set:function(f){this.setBit(18,f)}},{key:"vvSizeUnitValue",get:function(){return 0!==this.bit(19)},set:function(f){this.setBit(19,
f)}}]);return a}(d),B=d=>function(b){function a(){return b.apply(this,arguments)||this}h._inheritsLoose(a,b);var c=a.prototype;c.hasVV=function(){return b.prototype.hasVV.call(this)||this.vvRotation};c.setVV=function(f,g){b.prototype.setVV.call(this,f,g);this.vvRotation=!g.isOutline&&!!(f&e.WGLVVFlag.ROTATION)};h._createClass(a,[{key:"vvRotation",get:function(){return 0!==this.bit(15)},set:function(f){this.setBit(15,f)}}]);return a}(d),v=d=>function(b){function a(){return b.apply(this,arguments)||
this}h._inheritsLoose(a,b);var c=a.prototype;c.hasVV=function(){return b.prototype.hasVV.call(this)||this.vvColor};c.setVV=function(f,g){b.prototype.setVV.call(this,f,g);this.vvColor=!g.isOutline&&!!(f&e.WGLVVFlag.COLOR)};h._createClass(a,[{key:"vvColor",get:function(){return 0!==this.bit(13)},set:function(f){this.setBit(13,f)}}]);return a}(d),w=d=>function(b){function a(){return b.apply(this,arguments)||this}h._inheritsLoose(a,b);var c=a.prototype;c.hasVV=function(){return b.prototype.hasVV.call(this)||
this.vvOpacity};c.setVV=function(f,g){b.prototype.setVV.call(this,f,g);this.vvOpacity=!g.isOutline&&!!(f&e.WGLVVFlag.OPACITY)};h._createClass(a,[{key:"vvOpacity",get:function(){return 0!==this.bit(14)},set:function(f){this.setBit(14,f)}}]);return a}(d);let p=function(d){function b(){return d.apply(this,arguments)||this}h._inheritsLoose(b,d);b.load=function(a){const c=this.shared;c.data=a;return c};b.from=function(a){const {symbologyType:c,vvFlags:f}=a,g=this.load(0);g.geometryType=e.WGLGeometryType.FILL;
g.symbologyType=c;c!==e.WGLSymbologyType.DOT_DENSITY&&g.setVV(f,a);return g.data};b.prototype.getVariation=function(){return{...d.prototype.getVariation.call(this),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}};return b}(v(w(n(l))));p.shared=new p(0);let q=function(d){function b(){return d.apply(this,arguments)||this}h._inheritsLoose(b,d);b.load=
function(a){const c=this.shared;c.data=a;return c};b.from=function(a){const {symbologyType:c,vvFlags:f}=a,g=this.load(0);g.geometryType=e.WGLGeometryType.MARKER;g.symbologyType=c;c!==e.WGLSymbologyType.HEATMAP&&g.setVV(f,a);return g.data};b.prototype.getVariation=function(){return{...d.prototype.getVariation.call(this),vvColor:this.vvColor,vvRotation:this.vvRotation,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,
vvSizeUnitValue:this.vvSizeUnitValue}};return b}(v(w(B(n(l)))));q.shared=new q(0);let r=function(d){function b(){return d.apply(this,arguments)||this}h._inheritsLoose(b,d);b.load=function(a){const c=this.shared;c.data=a;return c};b.from=function(a){const c=this.load(0);c.geometryType=e.WGLGeometryType.LINE;c.symbologyType=a.symbologyType;c.setVV(a.vvFlags,a);return c.data};b.prototype.getVariation=function(){return{...d.prototype.getVariation.call(this),vvColor:this.vvColor,vvOpacity:this.vvOpacity,
vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}};return b}(v(w(n(l))));r.shared=new r(0);let t=function(d){function b(){return d.apply(this,arguments)||this}h._inheritsLoose(b,d);b.load=function(a){const c=this.shared;c.data=a;return c};b.from=function(a){const c=this.load(0);c.geometryType=e.WGLGeometryType.TEXT;c.symbologyType=a.symbologyType;c.setVV(a.vvFlags,a);return c.data};b.prototype.getVariation=
function(){return{...d.prototype.getVariation.call(this),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvRotation:this.vvRotation,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}};return b}(v(w(B(n(l)))));t.shared=new t(0);let u=function(d){function b(){return d.apply(this,arguments)||this}h._inheritsLoose(b,d);b.load=function(a){const c=this.shared;c.data=a;return c};b.from=function(a){const c=
this.load(0);c.geometryType=e.WGLGeometryType.LABEL;c.symbologyType=a.symbologyType;c.setVV(a.vvFlags,a);c.mapAligned=D.isMapAligned(a.placement);return c.data};b.prototype.getVariation=function(){return{...d.prototype.getVariation.call(this),vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}};return b}(n(l));u.shared=new u(0);k.FillMaterialKey=p;k.LabelMaterialKey=u;k.LineMaterialKey=r;k.MarkerMaterialKey=
q;k.MaterialKeyBase=l;k.TextMaterialKey=t;k.createMaterialKey=function(d,b){switch(d){case e.WGLGeometryType.FILL:return p.from(b);case e.WGLGeometryType.LINE:return r.from(b);case e.WGLGeometryType.MARKER:return q.from(b);case e.WGLGeometryType.TEXT:return t.from(b);case e.WGLGeometryType.LABEL:return u.from(b);default:throw Error(`Unable to createMaterialKey for unknown geometryType ${d}`);}};k.hasOutlineFillSymbology=function(d){return x(d.symbologyType)};k.hasSimpleSymbology=function(d){return y(d.symbologyType)};
k.hydrateMaterialKey=function(d){switch(l.load(d).geometryType){case e.WGLGeometryType.MARKER:return new q(d);case e.WGLGeometryType.FILL:return new p(d);case e.WGLGeometryType.LINE:return new r(d);case e.WGLGeometryType.TEXT:return new t(d);case e.WGLGeometryType.LABEL:return new u(d)}};k.isOutlineFillSymbology=x;k.isSimpleSymbology=y;Object.defineProperties(k,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});