// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define("../../../../../../chunks/_rollupPluginBabelHelpers ../../../../../../core/screenUtils ../../color ../../definitions ../../GeometryUtils ../../number ../../materialKey/MaterialKey ./util ./WGLBaseFillTemplate ./WGLMeshTemplate".split(" "),function(C,v,A,e,D,n,E,w,F,G){return function(B){function p(a,b,g,c,q,l,r,h,m,t,f,k,u,x,z,y){var d=B.call(this)||this;d._effects=x;a=E.FillMaterialKey.load(a);b&&(a.sdf=b.sdf,a.pattern=!0,a.textureBinding=b.textureBinding);d.fillColor=g;d.tl=c;d.br=q;d.aux21=
n.i1616to32(l,r);d.aux22=n.i1616to32(h,m);d.aux3=n.i8888to32(t,f,k,0);d._bitset=u;d._minMaxZoom=n.i1616to32(Math.round(z*e.MIN_MAX_ZOOM_PRECISION_FACTOR),Math.round(y*e.MIN_MAX_ZOOM_PRECISION_FACTOR));d._materialKey=a.data;return d}C._inheritsLoose(p,B);p.fromCIMFill=function(a,b,g){var c=a.color;c=c&&A.premultiplyAlphaRGBA(c)||0;const q=a.materialKey,[l,r]=w.getMinMaxZoom(a.scaleInfo,g);g=(a.colorLocked?e.BITSET_GENERIC_LOCK_COLOR:0)|(a.applyRandomOffset?e.BITSET_FILL_RANDOM_PATTERN_OFFSET:0)|(a.sampleAlphaOnly?
e.BITSET_GENERIC_CONSIDER_ALPHA_ONLY:0);if(!b)return new p(q,null,c,0,0,0,0,0,0,0,0,0,g,a.effects,l,r);const {rect:h,width:m,height:t}=b;var f=a.scaleX||1,k=h.x+e.SPRITE_PADDING;const u=h.y+e.SPRITE_PADDING;var x=k+m;const z=u+t;var y=v.pt2px(a.height);let d=Math.round(y);0>=d&&(d=z-u);f=Math.round(f*y);0>=f&&(f=x-k);y=v.pt2px(a.offsetX||0);const H=v.pt2px(-a.offsetY||0);k=n.i1616to32(k,u);x=n.i1616to32(x,z);return new p(q,b,c,k,x,f,d,y,H,128,128,D.degToByte(a.angle),g,a.effects,l,r)};p.fromSimpleFill=
function(a,b,g=!1){var {color:c}=a;c=c&&"esriSFSNull"!==a.style&&A.premultiplyAlphaRGBAArray(c)||0;g=g?e.BITSET_GENERIC_LOCK_COLOR:0;const q=a.materialKey;if(b){const {rect:h,width:m,height:t,pixelRatio:f}=b;var l=h.x+e.SPRITE_PADDING;const k=h.y+e.SPRITE_PADDING;var r=l+m;const u=k+t;l=n.i1616to32(l,k);r=n.i1616to32(r,u);b=new p(q,b,c,l,r,m/f,t/f,0,0,128,128,0,g,null,w.DEFAULT_MIN_ZOOM,w.DEFAULT_MAX_ZOOM)}else b=new p(q,null,c,0,0,0,0,0,0,0,0,0,g,null,w.DEFAULT_MIN_ZOOM,w.DEFAULT_MAX_ZOOM);b._maybeAddLineTemplate(a);
return b};p.fromPictureFill=function(a,b,g=!1){const c=e.PICTURE_FILL_COLOR,{rect:q,width:l,height:r}=b;var h=q.x+e.SPRITE_PADDING,m=q.y+e.SPRITE_PADDING,t=h+l,f=m+r;h=n.i1616to32(h,m);t=n.i1616to32(t,f);f=Math.round(v.pt2px(a.width));m=Math.round(v.pt2px(a.height));const k=v.pt2px(a.xoffset),u=v.pt2px(-a.yoffset);b=new p(a.materialKey,b,c,h,t,f,m,k,u,128*a.xscale,128*a.yscale,0,g?e.BITSET_GENERIC_LOCK_COLOR:0,null,w.DEFAULT_MIN_ZOOM,w.DEFAULT_MAX_ZOOM);b._maybeAddLineTemplate(a);return b};return p}(F(G))});