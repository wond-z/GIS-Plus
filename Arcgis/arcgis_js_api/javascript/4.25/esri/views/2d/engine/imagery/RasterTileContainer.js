// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../geometry/support/aaBoundingRect ../../viewpointUtils ../brushes ./RasterTile ../webgl/enums ../webgl/TileContainer".split(" "),function(l,n,p,q,r,t,m,h){h=function(e){function k(){var a=e.apply(this,arguments)||this;a.isCustomTilingScheme=!1;return a}n._inheritsLoose(k,e);var f=k.prototype;f.createTile=function(a){const c=this._getTileBounds(a),[b,d]=this._tileInfoView.tileInfo.size,g=this._tileInfoView.getTileResolution(a.level);
return new t.RasterTile(a,g,c[0],c[3],b,d)};f.prepareRenderPasses=function(a){const c=a.registerRenderPass({name:"imagery (tile)",brushes:[r.brushes.raster],target:()=>this.children.map(b=>b.bitmap),drawPhase:m.WGLDrawPhase.MAP});return[...e.prototype.prepareRenderPasses.call(this,a),c]};f.doRender=function(a){this.visible&&a.drawPhase===m.WGLDrawPhase.MAP&&e.prototype.doRender.call(this,a)};f._getTileBounds=function(a){const c=this._tileInfoView.getTileBounds(p.create(),a);if(this.isCustomTilingScheme&&
a.world){var {tileInfo:b}=this._tileInfoView,d=q.getWorldWidth(b.spatialReference);if(d){const {resolution:g}=b.lodAt(a.level);b=(d=d/g%b.size[0])?(b.size[0]-d)*g:0;c[0]-=b*a.world;c[2]-=b*a.world}}return c};return k}(h);l.RasterTileContainer=h;Object.defineProperties(l,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});