// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/mat3 ../../../../chunks/mat3f32 ./RasterVFDisplayObject ../webgl/TiledDisplayObject".split(" "),function(p,q,r,t,u,l){l=function(d){function e(b,f,g,m,h,k,n=null){var a=d.call(this,b,f,g,m,h,k)||this;a.tileData=new u.RasterVFDisplayObject(n);a.tileData.coordScale=[h,k];a.tileData.once("isReady",()=>a.ready());return a}q._inheritsLoose(e,d);var c=e.prototype;c.destroy=function(){d.prototype.destroy.call(this);this.tileData.destroy();
this.stage=this.tileData=null};c._createTransforms=function(){return{dvs:t.create(),tileMat3:t.create()}};c.setTransform=function(b){d.prototype.setTransform.call(this,b);const f=this.resolution/(b.resolution*b.pixelRatio),g=this.transforms.tileMat3,[m,h]=this.tileData.offset,[k,n]=b.toScreenNoRotation([0,0],[this.x+m*this.resolution,this.y-h*this.resolution]),{symbolTileSize:a}=this.tileData.symbolizerParameters;r.set(g,Math.round((this.width-this.tileData.offset[0])/a)*a/this.rangeX*f,0,0,0,Math.round((this.height-
this.tileData.offset[1])/a)*a/this.rangeY*f,0,k,n,1);r.multiply(this.transforms.dvs,b.displayViewMat3,g);this.tileData.transforms.dvs=this.transforms.dvs};c.onAttach=function(){this.tileData.stage=this.stage};c.onDetach=function(){this.tileData.stage=null};q._createClass(e,[{key:"stencilRef",get:function(){return this.tileData.stencilRef},set:function(b){this.tileData.stencilRef=b}}]);return e}(l.TiledDisplayObject);p.RasterVFTile=l;Object.defineProperties(p,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});