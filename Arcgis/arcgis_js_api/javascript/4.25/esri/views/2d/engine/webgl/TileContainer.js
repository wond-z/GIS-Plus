// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define("../../../../chunks/_rollupPluginBabelHelpers ../../../../core/has ./enums ./WGLContainer ./brushes/WGLBrushInfo ./brushes/WGLBrushStencil".split(" "),function(g,h,f,k,l,m){const n=(b,d)=>0!==b.key.level-d.key.level?b.key.level-d.key.level:0!==b.key.row-d.key.row?b.key.row-d.key.row:b.key.col-d.key.col;return function(b){function d(a){var c=b.call(this)||this;c._tileInfoView=a;return c}g._inheritsLoose(d,b);var e=d.prototype;e.renderChildren=function(a){this.sortChildren(n);this.setStencilReference(a);
b.prototype.renderChildren.call(this,a)};e.createRenderParams=function(a){const {state:c}=a;a=b.prototype.createRenderParams.call(this,a);a.requiredLevel=this._tileInfoView.getClosestInfoForScale(c.scale).level;a.displayLevel=this._tileInfoView.tileInfo.scaleToZoom(c.scale);return a};e.prepareRenderPasses=function(a){const c=b.prototype.prepareRenderPasses.call(this,a);c.push(a.registerRenderPass({name:"stencil",brushes:[m],drawPhase:f.WGLDrawPhase.DEBUG|f.WGLDrawPhase.MAP|f.WGLDrawPhase.HIGHLIGHT,
target:()=>this.getStencilTarget()}));h("esri-tiles-debug")&&c.push(a.registerRenderPass({name:"tileInfo",brushes:[l],drawPhase:f.WGLDrawPhase.DEBUG,target:()=>this.children}));return c};e.getStencilTarget=function(){return this.children};e.setStencilReference=function(a){a=1;for(const c of this.children)c.stencilRef=a++};g._createClass(d,[{key:"requiresDedicatedFBO",get:function(){return!1}}]);return d}(k)});