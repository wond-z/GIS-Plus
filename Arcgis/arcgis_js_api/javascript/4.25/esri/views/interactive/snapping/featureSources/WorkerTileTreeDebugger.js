// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../../../../core/Handles ../../../../core/handleUtils ../../../../core/accessorSupport/decorators/property ../../../../core/arrayUtils ../../../../core/accessorSupport/ensureType ../../../../core/accessorSupport/decorators/subclass ../../../../geometry/Polygon ../../../../geometry/support/aaBoundingRect ../../../support/TileTreeDebugger".split(" "),function(c,n,g,p,q,r,z,A,t,u,v,w){c.WorkerTileTreeDebugger=function(h){function e(b){b=
h.call(this,b)||this;b._handles=new p;return b}n._inheritsLoose(e,h);var d=e.prototype;d.initialize=function(){const b=setInterval(()=>this._fetchDebugInfo(),2E3);this._handles.add(q.makeHandle(()=>clearInterval(b)))};d.destroy=function(){this._handles.destroy()};d.getTiles=function(){if(!this._debugInfo)return[];const b=new Map,k=new Map;this._debugInfo.storedTiles.forEach(a=>{b.set(a.data.id,a.featureCount)});this._debugInfo.pendingTiles.forEach(a=>{b.set(a.data.id,a.featureCount);k.set(a.data.id,
a.state)});const f=new Map;this._debugInfo.storedTiles.forEach(a=>{f.set(a.data.id,a.data)});this._debugInfo.pendingTiles.forEach(a=>{f.set(a.data.id,a.data)});return Array.from(f.values()).map(a=>{var x=[a.level,a.row,a.col],y=u.fromExtent(v.toExtent(a.extent,this.view.spatialReference));{a=a.id;const l=k.get(a),m=b.get(a)??"?";a=l?`${l}:${m}\n${a}`:`store:${m}\n${a}`}return{lij:x,geometry:y,label:a}})};d._fetchDebugInfo=function(){this.handle.getDebugInfo(null).then(b=>{this._debugInfo=b;this.update()})};
return e}(w.TileTreeDebugger);g.__decorate([r.property({constructOnly:!0})],c.WorkerTileTreeDebugger.prototype,"handle",void 0);c.WorkerTileTreeDebugger=g.__decorate([t.subclass("esri.views.interactive.snapping.featureSources.WorkerTileTreeDebugger")],c.WorkerTileTreeDebugger);Object.defineProperties(c,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});