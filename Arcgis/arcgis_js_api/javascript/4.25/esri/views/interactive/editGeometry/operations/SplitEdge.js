// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define(["exports","../../../../core/maybe","../EditGeometry"],function(h,d,f){let m=function(){function k(c,a,b){this._editGeometry=c;this._edge=a;this._t=b;this._right=this._left=this.createdVertex=null}var g=k.prototype;g.apply=function(){let c="redo";const a=this._edge,b=a.component,e=a.leftVertex,l=a.rightVertex;b.edges.splice(b.edges.indexOf(a),1);d.isNone(this.createdVertex)&&(c="apply",this.createdVertex=new f.Vertex(a.component));b.vertices.push(this.createdVertex);this.createdVertex.pos=
this._editGeometry.coordinateHelper.lerp(a.leftVertex.pos,a.rightVertex.pos,this._t,this._editGeometry.coordinateHelper.createVector());d.isNone(this._left)&&(this._left=new f.Edge(b,e,this.createdVertex));this._left.leftVertex.leftEdge?b.edges.push(this._left):b.edges.unshift(this._left);e.rightEdge=this._left;d.isNone(this._right)&&(this._right=new f.Edge(b,this.createdVertex,l));b.edges.push(this._right);l.leftEdge=this._right;b.updateVertexIndex(this.createdVertex,e.index+1);this._editGeometry.notifyChanges({operation:c,
addedVertices:[this.createdVertex]})};g.undo=function(){if(d.isNone(this.createdVertex)||d.isNone(this._left)||d.isNone(this._right))return null;const c=this._edge,a=c.component,b=this.createdVertex.leftEdge?.leftVertex,e=this.createdVertex.rightEdge?.rightVertex;a.vertices.splice(a.vertices.indexOf(this.createdVertex),1);a.edges.splice(a.edges.indexOf(this._left),1);a.edges.splice(a.edges.indexOf(this._right),1);this._edge.leftVertex.leftEdge?a.edges.push(this._edge):a.edges.unshift(this._edge);
b&&(b.rightEdge=c);e&&(e.leftEdge=c);b&&a.updateVertexIndex(b,b.index);this._editGeometry.notifyChanges({operation:"undo",removedVertices:[this.createdVertex]})};g.accumulate=function(){return!1};return k}();h.SplitEdge=m;Object.defineProperties(h,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});