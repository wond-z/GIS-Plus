// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/maybe ../../../core/reactiveUtils ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./css ./content/tooltipContentFactory ../../../widgets/support/widgetUtils".split(" "),function(c,p,g,r,d,h,l,z,A,t,u,v,w){function x({container:f,contentWidget:k,screenPoint:b}){const {style:a}=
f;d.isSome(b)&&d.isSome(k)?(a.display="block",f=w.isRTL(f),b=`translate(${Math.round(b.x)+q[0]*(f?-1:1)}px, ${Math.round(b.y)+q[1]}px)`,a.transform=f?`translate(-100%, 0) ${b}`:b):a.display="none"}var y=`${u.BASE}`;c.Tooltip=function(f){function k(a){a=f.call(this,a)||this;a.info=null;const e=document.createElement("div");e.classList.add(y);a._contentContainer=e;a._contentWidget=null;return a}p._inheritsLoose(k,f);var b=k.prototype;b.initialize=function(){const a=this._contentContainer;this.addHandles([h.watch(()=>
this.view.overlay?.surface,e=>{a.remove();d.applySome(e,m=>m.appendChild(a))},h.syncAndInitial),h.watch(()=>this.info,(e,m)=>{d.isSome(this._contentWidget)&&d.isSome(e)&&d.isSome(m)&&e.type===m.type?this._contentWidget.info=e:(this._contentWidget=d.destroyMaybe(this._contentWidget),d.applySome(v.tooltipContentFactory(this,e),n=>{this._contentWidget=n;n.container&&a.appendChild(n.container)}))},h.syncAndInitial),h.watch(()=>({container:this._contentContainer,contentWidget:this._contentWidget,screenPoint:this._screenPoint}),
x,h.syncAndInitial)])};b.destroy=function(){this._contentWidget=d.destroyMaybe(this._contentWidget);this._contentContainer.remove()};b.clear=function(){this.info=null};p._createClass(k,[{key:"_screenPoint",get:function(){const a=this.view.inputManager;return a?.multiTouchActive?null:a?.latestPointerLocation}},{key:"test",get:function(){return{contentContainer:this._contentContainer,visible:"none"!==this._contentContainer?.style.display}}}]);return k}(r);g.__decorate([l.property({nonNullable:!0})],
c.Tooltip.prototype,"view",void 0);g.__decorate([l.property()],c.Tooltip.prototype,"info",void 0);g.__decorate([l.property()],c.Tooltip.prototype,"_contentContainer",void 0);g.__decorate([l.property()],c.Tooltip.prototype,"_contentWidget",void 0);g.__decorate([l.property()],c.Tooltip.prototype,"_screenPoint",null);c.Tooltip=g.__decorate([t.subclass("esri.views.interactive.tooltip.Tooltip")],c.Tooltip);const q=[20,20];Object.defineProperties(c,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});