// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/Logger ../../core/maybe ../../core/promiseUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./interfaces ./ManipulatorCollection".split(" "),function(c,h,d,l,m,n,p,e,u,v,q,f,r){c.InteractiveToolBase=function(k){function g(a){a=k.call(this,a)||this;a.manipulators=new r.ManipulatorCollection;
a.automaticManipulatorSelection=!0;a.hasGrabbedManipulators=!1;a.hasHoveredManipulators=!1;a.firstGrabbedManipulator=null;a.created=!1;a.removeIncompleteOnCancel=!0;a._editableFlags=new Map([[f.EditableFlag.MANAGER,!0],[f.EditableFlag.USER,!0]]);a._creationFinishedResolver=p.createResolver();return a}h._inheritsLoose(g,k);var b=g.prototype;b.destroy=function(){this.manipulators.destroy();this._set("view",null)};b.onAdd=function(){this._syncVisible()};b.activate=function(){n.isNone(this.view)?m.getLogger(this.declaredClass).error("Can't activate tool if view is not defined."):
(this.view.focus(),this.onActivate())};b.deactivate=function(){this.onDeactivate()};b.handleInputEvent=function(a){this.onInputEvent(a)};b.handleInputEventAfter=function(a){this.onInputEventAfter(a)};b.setEditableFlag=function(a,t){this._editableFlags.set(a,t);this.manipulators.isToolEditable=this.internallyEditable;this._updateManipulatorAttachment();a===f.EditableFlag.USER&&this.notifyChange("editable");this.onEditableChange();this.onManipulatorSelectionChanged()};b.getEditableFlag=function(a){return this._editableFlags.get(a)};
b.whenCreated=function(){return this._creationFinishedResolver.promise};b.onManipulatorSelectionChanged=function(){};b.onActivate=function(){};b.onDeactivate=function(){};b.onShow=function(){};b.onHide=function(){};b.onEditableChange=function(){};b.onInputEvent=function(a){};b.onInputEventAfter=function(a){};b.finishToolCreation=function(){this.created||this._creationFinishedResolver.resolve(this);this._set("created",!0)};b._syncVisible=function(){this.initialized&&(this.visible?this._show():(this._hide(),
this.active&&(this.view.activeTool=null)))};b._show=function(){this._updateManipulatorAttachment();this.onShow()};b._hide=function(){this._updateManipulatorAttachment();this.onHide()};b._updateManipulatorAttachment=function(){this.visible?this.manipulators.attach():this.manipulators.detach()};h._createClass(g,[{key:"active",get:function(){return null!=this.view&&this.view.activeTool===this}},{key:"visible",set:function(a){this._get("visible")!==a&&(this._set("visible",a),this._syncVisible())}},{key:"editable",
get:function(){return this.getEditableFlag(f.EditableFlag.USER)},set:function(a){this.setEditableFlag(f.EditableFlag.USER,a)}},{key:"updating",get:function(){return!1}},{key:"cursor",get:function(){return null}},{key:"hasFocusedManipulators",get:function(){return this.hasGrabbedManipulators||this.hasHoveredManipulators}},{key:"internallyEditable",get:function(){return this.getEditableFlag(f.EditableFlag.USER)&&this.getEditableFlag(f.EditableFlag.MANAGER)}}]);return g}(l);d.__decorate([e.property({constructOnly:!0})],
c.InteractiveToolBase.prototype,"view",void 0);d.__decorate([e.property({readOnly:!0})],c.InteractiveToolBase.prototype,"active",null);d.__decorate([e.property({value:!0})],c.InteractiveToolBase.prototype,"visible",null);d.__decorate([e.property({value:!0})],c.InteractiveToolBase.prototype,"editable",null);d.__decorate([e.property({readOnly:!0})],c.InteractiveToolBase.prototype,"manipulators",void 0);d.__decorate([e.property({readOnly:!0})],c.InteractiveToolBase.prototype,"updating",null);d.__decorate([e.property()],
c.InteractiveToolBase.prototype,"cursor",null);d.__decorate([e.property({readOnly:!0})],c.InteractiveToolBase.prototype,"automaticManipulatorSelection",void 0);d.__decorate([e.property()],c.InteractiveToolBase.prototype,"hasFocusedManipulators",null);d.__decorate([e.property()],c.InteractiveToolBase.prototype,"hasGrabbedManipulators",void 0);d.__decorate([e.property()],c.InteractiveToolBase.prototype,"hasHoveredManipulators",void 0);d.__decorate([e.property()],c.InteractiveToolBase.prototype,"firstGrabbedManipulator",
void 0);d.__decorate([e.property({readOnly:!0})],c.InteractiveToolBase.prototype,"created",void 0);d.__decorate([e.property({readOnly:!0})],c.InteractiveToolBase.prototype,"removeIncompleteOnCancel",void 0);c.InteractiveToolBase=d.__decorate([q.subclass("esri.views.interactive.InteractiveToolBase")],c.InteractiveToolBase);Object.defineProperties(c,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});