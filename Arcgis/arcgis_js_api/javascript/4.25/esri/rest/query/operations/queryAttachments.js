// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define("exports ../../../kernel ../../../request ../../../core/urlUtils ../../operations/urlUtils ../support/AttachmentInfo".split(" "),function(f,l,m,n,h,p){f.executeAttachmentQuery=function(b,a,c){var d=h.mapParameters,e={...b.query};a=a.toJSON();a.attachmentTypes&&(a.attachmentTypes=a.attachmentTypes.join(","));a.keywords&&(a.keywords=a.keywords.join(","));a.globalIds&&(a.globalIds=a.globalIds.join(","));a.objectIds&&(a.objectIds=a.objectIds.join(","));a.size&&(a.size=a.size.join(","));d={query:d.call(h,
{...e,f:"json",...a})};c&&(d={...c,...d,query:{...c.query,...d.query}});return m(b.path+"/queryAttachments",d)};f.processAttachmentQueryResult=function(b,a){const c={};for(const d of b){const {parentObjectId:e,parentGlobalId:q,attachmentInfos:r}=d;for(const k of r){({id:b}=k);b=n.addProxy(l.addTokenParameter(`${a}/${e}/attachments/${b}`));const g=p.fromJSON(k);g.set({url:b,parentObjectId:e,parentGlobalId:q});c[e]?c[e].push(g):c[e]=[g]}}return c};Object.defineProperties(f,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});