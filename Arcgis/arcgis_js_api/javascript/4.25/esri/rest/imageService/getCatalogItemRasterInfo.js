// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define("exports ../../chunks/_rollupPluginBabelHelpers ../../request ../../geometry/Extent ../../geometry/Point ../../layers/support/RasterInfo ../../layers/support/RasterStorageInfo ../utils".split(" "),function(h,m,k,n,p,q,r,f){function g(){g=m._asyncToGenerator(function*(c,a,b){c=f.parseUrl(c);var d=f.encode({...c?.query,f:"json"});b=f.asValidOptions(d,b);c=`${c?.path}/${a}/info`;a=k(`${c}`,b);b=k(`${c}/keyProperties`,b);b=yield Promise.allSettled([a,b]);a="fulfilled"===b[0].status?b[0].value.data:
null;b="fulfilled"===b[1].status?b[1].value.data:null;c=null;a.statistics?.length&&(c=a.statistics.map(e=>({min:e[0],max:e[1],avg:e[2],stddev:e[3]})));d=n.fromJSON(a.extent);const t=Math.ceil(d.width/a.pixelSizeX-.1),u=Math.ceil(d.height/a.pixelSizeY-.1),l=d.spatialReference,v=new p({x:a.pixelSizeX,y:a.pixelSizeY,spatialReference:l}),w=a.histograms?.length?a.histograms:null,x=new r({origin:a.origin,blockWidth:a.blockWidth,blockHeight:a.blockHeight,firstPyramidLevel:a.firstPyramidLevel,maximumPyramidLevel:a.maxPyramidLevel});
return new q({width:t,height:u,bandCount:a.bandCount,extent:d,spatialReference:l,pixelSize:v,pixelType:a.pixelType.toLowerCase(),statistics:c,histograms:w,keyProperties:b,storageInfo:x})});return g.apply(this,arguments)}h.getCatalogItemRasterInfo=function(c,a,b){return g.apply(this,arguments)};Object.defineProperties(h,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});