// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define(["exports","./componentsUtils"],function(h,u){function x(a,b){let d=!1;a.addEventListener("calciteInternalFormComponentRegister",c=>{d=c.composedPath().some(f=>p.has(f));c.stopPropagation()},{once:!0});b.dispatchEvent(new CustomEvent("calciteInternalFormComponentRegister",{bubbles:!0,composed:!0}));return d}function y(){"checked"in this?this.checked=this.defaultChecked:this.value=this.defaultValue}function z(a){const {el:b,formEl:d,name:c,value:f}=a,{ownerDocument:k}=b,m=b.querySelectorAll('input[slot\x3d"hidden-form-input"]');
if(d&&c){var n=Array.isArray(f)?f:[f],q=[],v=new Set;m.forEach(e=>{const g=n.find(A=>A==e.value);null!=g?(v.add(g),w(a,e,g)):q.push(e)});var l;n.forEach(e=>{if(!v.has(e)){var g=q.pop();g||(g=k.createElement("input"),g.slot="hidden-form-input");l||(l=k.createDocumentFragment());l.append(g);g.addEventListener("change",r);w(a,g,e)}});l&&b.append(l);q.forEach(e=>{e.removeEventListener("change",r);e.remove()})}else m.forEach(e=>{e.removeEventListener("change",r);e.remove()})}function w(a,b,d){var c;const {defaultValue:f,
disabled:k,name:m,required:n}=a;b.defaultValue=f;b.disabled=k;b.name=m;b.required=n;b.tabIndex=-1;"checked"in a?(b.defaultChecked=a.defaultChecked,b.value=a.checked?d||"on":"",k||a.checked||(b.disabled=!0)):b.value=d||"";null===(c=a.syncHiddenFormInput)||void 0===c?void 0:c.call(a,b)}const t=new WeakMap,p=new WeakSet,r=a=>{a.target.dispatchEvent(new CustomEvent("calciteInternalHiddenInputChange",{bubbles:!0}))};h.HiddenFormInputSlot=({component:a})=>{z(a);return u.h("slot",{name:"hidden-form-input"})};
h.afterConnectDefaultValueSet=function(a,b){a.defaultValue=b};h.connectForm=function(a){const {el:b,value:d}=a,c=u.closestElementCrossShadowBoundary(b,"form");if(c&&!x(c,b)){a.formEl=c;a.defaultValue=d;"checked"in a&&(a.defaultChecked=a.checked);var f=(a.onFormReset||y).bind(a);c.addEventListener("reset",f);t.set(a.el,f);p.add(b)}};h.disconnectForm=function(a){const {el:b,formEl:d}=a;if(d){var c=t.get(b);d.removeEventListener("reset",c);t.delete(b);a.formEl=null;p.delete(b)}};h.resetForm=function(a){var b;
null===(b=a.formEl)||void 0===b?void 0:b.reset()};h.submitForm=function(a){({formEl:a}=a);if(!a)return!1;"requestSubmit"in a?a.requestSubmit():a.submit();return!0}});