// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define("../../chunks/_rollupPluginBabelHelpers ../../core/Error ../../core/maybe ./support/utils ../support/binningUtils ../support/adapters/support/layerUtils".split(" "),function(k,l,m,n,p,c){function q(a){return e.apply(this,arguments)}function e(){e=k._asyncToGenerator(function*(a){if(!(a&&a.layer&&a.view&&a.fields))throw new l("predominant-categories:missing-parameters","'layer', 'view' and 'fields' parameters are required");a.forBinning&&p.verifyBinningParams(a,"predominant-categories");const {layer:f,
...g}=a;var b=a.forBinning?c.binningCapableLayerTypes:c.defaultSupportedLayerTypes;const d=c.createLayerAdapter(f,b,a.forBinning);a={layerAdapter:d,...g};if(!d)throw new l("predominant-categories:invalid-parameters","'layer' must be one of these types: "+c.getLayerTypeLabels(b).join(", "));b=m.isSome(a.signal)?{signal:a.signal}:null;yield Promise.all([a.view.when(),d.load(b)]);if(b=n.verifyBasicFieldValidity(d,a.fields,"predominant-categories:invalid-parameters"))throw b;return a});return e.apply(this,
arguments)}function h(){h=k._asyncToGenerator(function*(a){const {layerAdapter:f,...g}=yield q(a);return f.predominantCategories(g)});return h.apply(this,arguments)}return function(a){return h.apply(this,arguments)}});