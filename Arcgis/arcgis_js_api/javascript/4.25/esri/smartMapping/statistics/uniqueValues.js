// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define("../../chunks/_rollupPluginBabelHelpers ../../core/Error ../../core/maybe ./support/utils ../support/binningUtils ../support/utils ../support/adapters/support/layerUtils".split(" "),function(h,d,l,k,m,n,e){function p(a){return f.apply(this,arguments)}function f(){f=h._asyncToGenerator(function*(a){if(!a||!a.layer||!a.field&&!a.valueExpression)throw new d("unique-values:missing-parameters","'layer' and 'field' or 'valueExpression' parameters are required");var b=a.valueExpression||a.sqlExpression,
c=b&&!a.sqlExpression;if(b)if(c){if(!a.view)throw new d("unique-values:missing-parameters","View is required when 'valueExpression' is specified");}else if(!a.valueExpression)throw new d("unique-values:missing-parameters","'valueExpression' parameters are required");a.forBinning&&m.verifyBinningParams(a,"unique-values");const {layer:q,...r}=a;c=a.forBinning?e.binningCapableLayerTypes:e.defaultSupportedLayerTypes;b=e.createLayerAdapter(q,c,a.forBinning);a={layerAdapter:b,...r};if(!b)throw new d("unique-values:invalid-parameters",
"'layer' must be one of these types: "+e.getLayerTypeLabels(c).join(", "));c=l.isSome(a.signal)?{signal:a.signal}:null;yield b.load(c);c=yield n.getFieldsList({field:a.field,field2:a.field2,field3:a.field3,valueExpression:a.valueExpression});if(b=k.verifyBasicFieldValidity(b,c,"unique-values:invalid-parameters"))throw b;if(b=k.verifyFilterValidty(a.filter,"summary-statistics:invalid-parameters"))throw b;return a});return f.apply(this,arguments)}function g(){g=h._asyncToGenerator(function*(a){const {layerAdapter:b,
...c}=yield p(a);return b.uniqueValues(c)});return g.apply(this,arguments)}return function(a){return g.apply(this,arguments)}});