// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define("exports ../../chunks/_rollupPluginBabelHelpers ../../PopupTemplate ../../core/Error ../../core/maybe ../../intl/messages ./support/clusterUtils ../../views/2d/layers/support/clusterUtils".split(" "),function(h,k,l,q,m,r,n,t){function u(a){return f.apply(this,arguments)}function f(){f=k._asyncToGenerator(function*(a){const {layer:c,renderer:d}=a;yield c.load();a=d||c.renderer;if(!t.isClusterCompatibleRenderer(a))throw new q("clusters-popup:invalid-parameters","'renderer' is not valid");return{layer:c,
renderer:a}});return f.apply(this,arguments)}function g(){g=k._asyncToGenerator(function*(a){const [{renderer:c,layer:d},e]=yield Promise.all([u(a),r.fetchMessageBundle("esri/smartMapping/t9n/smartMapping")]);a=yield n.getContentAndInfos(d,c,e);if(!m.isSome(a))return null;a={name:"clusters",title:e.clusters.templateTitle,value:new l({fieldInfos:a.fieldInfos,expressionInfos:a.expressionInfos,content:a.content,title:e.clusters.clusterPopupTitle})};const p=[];var b=d.featureReduction;b=b&&"renderer"in
b?b.renderer:null;"pie-chart"===b?.type&&(b=yield n.getContentAndInfosForPieChart(d,b,e),m.isSome(b)&&p.push({name:"clusters-pie-chart",title:"clusters-pie-chart",value:new l({fieldInfos:b.fieldInfos,expressionInfos:b.expressionInfos,content:b.content,title:e.clusters.clusterPopupTitle})}));return{primaryTemplate:a,secondaryTemplates:p}});return g.apply(this,arguments)}h.getTemplates=function(a){return g.apply(this,arguments)};Object.defineProperties(h,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});