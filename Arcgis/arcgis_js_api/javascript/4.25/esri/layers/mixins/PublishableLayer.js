// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../support/PublishingInfo".split(" "),function(f,g,k,q,w,x,r,t){const u=Symbol("esri.layers.mixins.PublishableLayer");f.PublishableLayer=b=>{b=function(l){function d(){return l.apply(this,arguments)||this}g._inheritsLoose(d,l);d.prototype._checkPublishingStatus=function(a){var m=
this;let n=0;const p=function(){var v=g._asyncToGenerator(function*(h){a.updating=!0;let c;try{c=yield m.fetchPublishingStatus()}catch(y){c="unavailable"}if("published"===c||"unavailable"===c)"publishing"===a.status&&m.refresh(),e.remove();a.status=c;a.updating=!1;e.removed||(n=setTimeout(p,h,h+125))});return function(h){return v.apply(this,arguments)}}(),e={removed:!1,remove(){this.removed=!0;clearTimeout(n)}};this.when().catch(()=>e.remove());p(250);this.own(e)};g._createClass(d,[{key:"publishingInfo",
get:function(){if(this.destroyed)return null;var a=this._get("publishingInfo");if(a)return a;a=new t;this._checkPublishingStatus(a);return a}}]);return d}(b);k.__decorate([q.property({readOnly:!0,clonable:!1})],b.prototype,"publishingInfo",null);return b=k.__decorate([r.subclass("esri.layers.mixins.PublishableLayer")],b)};f.isPublishableLayer=function(b){return b&&"object"===typeof b&&u in b};Object.defineProperties(f,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});