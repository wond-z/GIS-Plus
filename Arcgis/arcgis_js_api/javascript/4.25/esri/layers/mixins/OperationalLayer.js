// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Error ../../core/urlUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/read ../../core/accessorSupport/write ./operationalLayers ../support/commonProperties".split(" "),function(m,t,f,n,u,g,z,A,v,k,w,x,y,q){m.OperationalLayer=c=>{c=
function(l){function p(){var b=l.apply(this,arguments)||this;b.title=null;return b}t._inheritsLoose(p,l);var h=p.prototype;h.writeListMode=function(b,a,d,e){e&&"ground"===e.layerContainerType?a[d]=b:b&&x.willPropertyWrite(this,d,{},e)&&(a[d]=b)};h.writeOperationalLayerType=function(b,a,d,e){!b||e&&"tables"===e.layerContainerType||(a.layerType=b)};h.writeTitle=function(b,a){a.title=b??"Layer"};h.read=function(b,a){a&&(a.layer=this);w.readLoadable(this,b,d=>l.prototype.read.call(this,b,d),a)};h.write=
function(b,a){if(a?.origin){var d=`${a.origin}/${a.layerContainerType||"operational-layers"}`,e=y.supportedTypes[d];e=e&&e[this.operationalLayerType];"ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===d&&(e=!1);"ArcGISDimensionLayer"===this.operationalLayerType&&"web-map/operational-layers"===d&&(e=!1);if(!e)return a.messages?.push(new n("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${d}'`,
{layer:this})),null}b=l.prototype.write.call(this,b,{...a,layer:this});d=!!a&&!!a.messages&&!!a.messages.filter(r=>r instanceof n&&"web-document-write:property-required"===r.name).length;return u.isBlobProtocol(b?.url)?(a?.messages?.push(new n("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&d?null:b};h.beforeSave=function(){};return p}(c);f.__decorate([g.property({type:String,
json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],c.prototype,"id",void 0);f.__decorate([g.property(q.listMode)],c.prototype,"listMode",void 0);f.__decorate([k.writer("listMode")],c.prototype,"writeListMode",null);f.__decorate([g.property({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1}}}})],c.prototype,"operationalLayerType",void 0);f.__decorate([k.writer("operationalLayerType")],
c.prototype,"writeOperationalLayerType",null);f.__decorate([g.property(q.opacity)],c.prototype,"opacity",void 0);f.__decorate([g.property({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],c.prototype,"title",void 0);f.__decorate([k.writer("title"),k.writer(["web-scene"],"title")],c.prototype,"writeTitle",null);f.__decorate([g.property({type:Boolean,json:{name:"visibility"}})],
c.prototype,"visible",void 0);return c=f.__decorate([v.subclass("esri.layers.mixins.OperationalLayer")],c)};m.isOperationalLayer=function(c){return"operationalLayerType"in c};Object.defineProperties(m,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});