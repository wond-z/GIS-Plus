// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../geometry ../request ../core/Error ../core/Evented ../core/Identifiable ../core/Loadable ../core/Logger ../core/promiseUtils ../core/urlUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ./support/fromPortalItem ../geometry/Extent ../geometry/SpatialReference".split(" "),function(n,g,c,b,p,q,r,t,u,v,w,x,d,D,E,y,z,l,h){let A=0;b=
function(m){function f(){var a=m.apply(this,arguments)||this;a.attributionDataUrl=null;a.fullExtent=new l(-180,-90,180,90,h.WGS84);a.id=Date.now().toString(16)+"-layer-"+A++;a.legendEnabled=!0;a.listMode="show";a.opacity=1;a.parent=null;a.popupEnabled=!0;a.attributionVisible=!0;a.spatialReference=h.WGS84;a.title=null;a.type=null;a.url=null;a.visible=!0;return a}g._inheritsLoose(f,m);f.fromArcGISServerUrl=function(){var a=g._asyncToGenerator(function*(e){e="string"===typeof e?{url:e}:e;return(yield new Promise((B,
C)=>n(["./support/arcgisLayers"],B,C))).fromUrl(e)});return function(e){return a.apply(this,arguments)}}();f.fromPortalItem=function(a){return z.fromPortalItem(a)};var k=f.prototype;k.initialize=function(){this.when().catch(a=>{w.isAbortError(a)||v.getLogger(this.declaredClass).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:a})})};k.destroy=function(){if(this.parent){const a=this.parent;"layers"in a&&a.layers.includes(this)?a.layers.remove(this):
"tables"in a&&a.tables.includes(this)?a.tables.remove(this):"baseLayers"in a&&a.baseLayers.includes(this)?a.baseLayers.remove(this):"baseLayers"in a&&a.referenceLayers.includes(this)&&a.referenceLayers.remove(this)}};k.fetchAttributionData=function(){var a=g._asyncToGenerator(function*(){const e=this.attributionDataUrl;if(this.hasAttributionData&&e)return(yield p(e,{query:{f:"json"},responseType:"json"})).data;throw new q("layer:no-attribution-data","Layer does not have attribution data");});return function(){return a.apply(this,
arguments)}}();g._createClass(f,[{key:"hasAttributionData",get:function(){return null!=this.attributionDataUrl}},{key:"parsedUrl",get:function(){return x.urlToObject(this.url)}}]);return f}(r.EventedMixin(t.IdentifiableMixin(u)));c.__decorate([d.property({type:String})],b.prototype,"attributionDataUrl",void 0);c.__decorate([d.property({type:l})],b.prototype,"fullExtent",void 0);c.__decorate([d.property({readOnly:!0})],b.prototype,"hasAttributionData",null);c.__decorate([d.property({type:String,clonable:!1})],
b.prototype,"id",void 0);c.__decorate([d.property({type:Boolean,nonNullable:!0})],b.prototype,"legendEnabled",void 0);c.__decorate([d.property({type:["show","hide","hide-children"]})],b.prototype,"listMode",void 0);c.__decorate([d.property({type:Number,range:{min:0,max:1},nonNullable:!0})],b.prototype,"opacity",void 0);c.__decorate([d.property({clonable:!1})],b.prototype,"parent",void 0);c.__decorate([d.property({readOnly:!0})],b.prototype,"parsedUrl",null);c.__decorate([d.property({type:Boolean})],
b.prototype,"popupEnabled",void 0);c.__decorate([d.property({type:Boolean})],b.prototype,"attributionVisible",void 0);c.__decorate([d.property({type:h})],b.prototype,"spatialReference",void 0);c.__decorate([d.property({type:String})],b.prototype,"title",void 0);c.__decorate([d.property({readOnly:!0,json:{read:!1}})],b.prototype,"type",void 0);c.__decorate([d.property()],b.prototype,"url",void 0);c.__decorate([d.property({type:Boolean,nonNullable:!0})],b.prototype,"visible",void 0);return b=c.__decorate([y.subclass("esri.layers.Layer")],
b)});