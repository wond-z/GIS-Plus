// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/HandleOwner ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),function(b,l,d,r,t,e,y,z,u){const v={visible:"visibleSublayers"};b.ExportWMSImageParameters=function(m){function f(a){a=m.call(this,a)||this;a.scale=0;return a}l._inheritsLoose(f,m);f.prototype.toJSON=function(){const {layer:a,
layers:c}=this,{imageFormat:g,imageTransparency:h,version:k}=a;return{format:g,request:"GetMap",service:"WMS",styles:"",transparent:h?"TRUE":"FALSE",version:k,layers:c}};l._createClass(f,[{key:"layer",set:function(a){this._get("layer")!==a&&(this._set("layer",a),this.handles.remove("layer"),a&&this.handles.add([a.sublayers.on("change",()=>this.notifyChange("visibleSublayers")),a.on("wms-sublayer-update",c=>this.notifyChange(v[c.propertyName]))],"layer"))}},{key:"layers",get:function(){return this.visibleSublayers.filter(({name:a})=>
a).map(({name:a})=>a).join()}},{key:"version",get:function(){this.commitProperty("layers");const a=this.layer;a&&a.commitProperty("imageTransparency");return(this._get("version")||0)+1}},{key:"visibleSublayers",get:function(){const {layer:a,scale:c}=this,g=[],h=k=>{const {minScale:n,maxScale:p,sublayers:q,visible:w}=k,x=0===c||(0===n||c<=n)&&(0===p||c>=p);w&&x&&(q?q.forEach(h):g.push(k))};a?.sublayers?.forEach(h);return g}}]);return f}(t.HandleOwnerMixin(r));d.__decorate([e.property()],b.ExportWMSImageParameters.prototype,
"layer",null);d.__decorate([e.property({readOnly:!0})],b.ExportWMSImageParameters.prototype,"layers",null);d.__decorate([e.property({type:Number})],b.ExportWMSImageParameters.prototype,"scale",void 0);d.__decorate([e.property({readOnly:!0})],b.ExportWMSImageParameters.prototype,"version",null);d.__decorate([e.property({readOnly:!0})],b.ExportWMSImageParameters.prototype,"visibleSublayers",null);b.ExportWMSImageParameters=d.__decorate([u.subclass("esri.layers.support.ExportWMSImageParameters")],b.ExportWMSImageParameters);
Object.defineProperties(b,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});