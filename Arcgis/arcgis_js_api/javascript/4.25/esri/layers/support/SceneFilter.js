// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../request ../../core/Handles ../../core/JSONSupport ../../core/lang ../../core/maybe ../../core/reactiveUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/persistable ./PolygonCollection ../../chunks/persistableUrlUtils".split(" "),function(l,f,r,t,b,u,m,n,
p,D,v,w,x,g,y){var h;b=h=function(q){function k(a){a=q.call(this,a)||this;a.spatialRelationship="disjoint";a.geometries=new g;a._geometriesSource=null;a._handles=new t;return a}l._inheritsLoose(k,q);var d=k.prototype;d.initialize=function(){this._handles.add(n.on(()=>this.geometries,"after-changes",()=>this.geometries=this.geometries,n.sync))};d.destroy=function(){this._handles.destroy()};d.readGeometries=function(a,e,c){this._geometriesSource={url:y.fromJSON(a,c),context:c}};d.loadGeometries=function(){var a=
l._asyncToGenerator(function*(e,c){if(!m.isNone(this._geometriesSource)){var {url:z,context:A}=this._geometriesSource;c=yield r(z,{responseType:"json",signal:m.get(c,"signal")});var B=e.toJSON();e=c.data.map(C=>({...C,spatialReference:B}));this.geometries=g.fromJSON(e,A);this._geometriesSource=null}});return function(e,c){return a.apply(this,arguments)}}();d.clone=function(){return new h({geometries:u.clone(this.geometries),spatialRelationship:this.spatialRelationship})};return k}(b.JSONSupport);
f.__decorate([p.property({type:["disjoint","contains"],nonNullable:!0,json:{write:!0}})],b.prototype,"spatialRelationship",void 0);f.__decorate([p.property({type:g,nonNullable:!0,json:{write:!0}}),x.persistable({origins:["web-scene","portal-item"],type:"resource",prefix:"geometries"})],b.prototype,"geometries",void 0);f.__decorate([v.reader(["web-scene","portal-item"],"geometries")],b.prototype,"readGeometries",null);return b=h=f.__decorate([w.subclass("esri.layers.support.SceneFilter")],b)});