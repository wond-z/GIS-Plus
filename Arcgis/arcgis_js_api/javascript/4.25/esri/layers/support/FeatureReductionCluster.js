// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../PopupTemplate ../../renderers/ClassBreaksRenderer ../../renderers/DictionaryRenderer ../../renderers/DotDensityRenderer ../../renderers/HeatmapRenderer ../../renderers/PieChartRenderer ../../renderers/Renderer ../../renderers/SimpleRenderer ../../renderers/UniqueValueRenderer ../../renderers/support/jsonUtils ../../renderers/support/types ../../symbols ../../core/JSONSupport ../../core/lang ../../core/object ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/extensions/serializableProperty/reader ./AggregateField ./commonProperties ./LabelClass".split(" "),
function(z,d,A,b,I,J,K,L,M,t,B,u,C,v,D,m,E,h,g,N,n,F,w,G,x,y,H){var p;const q=G.createTypeReader({types:v.symbolTypesRenderer});b=p=function(k){function r(a){a=k.call(this,a)||this;a.type="cluster";a.clusterRadius=h.toPt("80px");a.clusterMinSize=h.toPt("12px");a.clusterMaxSize=h.toPt("50px");a.popupEnabled=!0;a.popupTemplate=null;a.renderer=null;a.symbol=null;a.labelingInfo=null;a.labelsVisible=!0;a.fields=null;return a}z._inheritsLoose(r,k);var l=r.prototype;l.readRenderer=function(a,c,f){a=c.drawingInfo?.renderer;
return a?.authoringInfo?.isAutoGenerated?null:a?"simple"!==a.type||a.visualVariables?.length?u.read(a,c,f)??void 0:null:c.defaultSymbol?c.types&&c.types.length?new B({defaultSymbol:q(c.defaultSymbol,c,f),field:c.typeIdField,uniqueValueInfos:c.types.map(e=>({id:e.id,symbol:q(e.symbol,e,f)}))}):new t({symbol:q(c.defaultSymbol,c,f)}):null};l.readSymbol=function(a,c,f){a=c.drawingInfo?.renderer;return a?.authoringInfo?.isAutoGenerated?null:a&&"simple"===a.type&&!a.visualVariables?.length?u.read(a,c,f)?.symbol:
null};l.writeSymbol=function(a,c,f,e){f=this.renderer?.authoringInfo?.isAutoGenerated;if(!this.renderer||f)a=new t({symbol:a}),c.drawingInfo={renderer:a.write({},e)}};l.writeFields=function(a,c,f){a=a.filter(e=>"avg_angle"!==e.statisticType).map(e=>e.toJSON());E.setDeepValue(f,a,c)};l.readFields=function(a,c,f){return a.filter(e=>!e.isAutoGenerated).map(e=>x.fromJSON(e))};l.clone=function(){return new p({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,
labelingInfo:m.clone(this.labelingInfo),labelsVisible:this.labelsVisible,fields:m.clone(this.fields),renderer:m.clone(this.renderer),symbol:m.clone(this.symbol),popupEnabled:this.popupEnabled,popupTemplate:m.clone(this.popupTemplate)})};return r}(D.JSONSupport);d.__decorate([g.property({type:["cluster"],readOnly:!0,json:{write:!0}})],b.prototype,"type",void 0);d.__decorate([g.property({type:Number,cast:k=>"auto"===k?k:h.toPt(k),json:{write:!0}})],b.prototype,"clusterRadius",void 0);d.__decorate([g.property({type:Number,
cast:h.toPt,json:{write:!0}})],b.prototype,"clusterMinSize",void 0);d.__decorate([g.property({type:Number,cast:h.toPt,json:{write:!0}})],b.prototype,"clusterMaxSize",void 0);d.__decorate([g.property(y.popupEnabled)],b.prototype,"popupEnabled",void 0);d.__decorate([g.property({type:A,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],b.prototype,"popupTemplate",void 0);d.__decorate([g.property({types:C.rendererTypes,json:{write:{target:"drawingInfo.renderer"}}})],b.prototype,"renderer",
void 0);d.__decorate([n.reader("renderer",["drawingInfo.renderer"])],b.prototype,"readRenderer",null);d.__decorate([g.property({types:v.symbolTypesCluster})],b.prototype,"symbol",void 0);d.__decorate([n.reader("symbol",["drawingInfo.renderer"])],b.prototype,"readSymbol",null);d.__decorate([w.writer("symbol")],b.prototype,"writeSymbol",null);d.__decorate([g.property({type:[H],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],b.prototype,"labelingInfo",void 0);
d.__decorate([g.property(y.labelsVisible)],b.prototype,"labelsVisible",void 0);d.__decorate([g.property({type:[x],json:{write:!0}})],b.prototype,"fields",void 0);d.__decorate([w.writer("fields")],b.prototype,"writeFields",null);d.__decorate([n.reader("fields")],b.prototype,"readFields",null);return b=p=d.__decorate([F.subclass("esri.layers.support.FeatureReductionCluster")],b)});