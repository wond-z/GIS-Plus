// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define("exports ../../../core/Error ./AspectFunction ./BandArithmeticFunction ./ColormapFunction ./CompositeBandFunction ./ConvolutionFunction ./ExtractBandFunction ./LocalFunction ./MaskFunction ./NDVIFunction ./RemapFunction ./SlopeFunction ./StatisticsHistogramsFunction ./StretchFunction".split(" "),function(g,p,v,w,x,y,z,A,B,C,D,E,F,G,H){function q(a,c){return"rasters"===c[0]&&Array.isArray(a.rasters)?a.rasters:c.map(d=>a[d])}function r(a,c){const {rasterFunction:d,rasterFunctionArguments:m}=
a;var h=a.outputPixelType?.toLowerCase();if(null==d||!b.has(d))throw new p("raster-function-helper",`unsupported raster function: ${d}`);var f=b.get(d);a=("function"===typeof f.ctor?f.ctor:f.ctor["default"]).fromJSON({...a,outputPixelType:h});({rasterArgumentNames:h}=a);f=[];const t=q(m,h),n="rasters"===h[0],u=[];for(let k=0;k<t.length;k++){const e=t[k];let l;null==e||"string"===typeof e&&e.startsWith("$")?f.push(c?.raster):"string"===typeof e?c[e]&&f.push(c[e]):"number"!==typeof e&&"rasterFunction"in
e&&(l=r(e,c),n||(a.functionArguments[h[k]]=l),f.push(l));n&&u.push(l??e)}n&&(a.functionArguments.rasters=u);c&&(a.sourceRasters=f,c=c.raster?.url)&&(a.mainPrimaryRasterId=c);return a}const b=new Map;b.set("Aspect",{desc:"Aspect Function",ctor:v,rasterArgumentNames:["raster"]});b.set("BandArithmetic",{desc:"Band Arithmetic Function",ctor:w,rasterArgumentNames:["raster"]});b.set("Colormap",{desc:"Colormap Function",ctor:x,rasterArgumentNames:["raster"]});b.set("CompositeBand",{desc:"CompositeBand Function",
ctor:y,rasterArgumentNames:["rasters"]});b.set("Convolution",{desc:"Convolution Function",ctor:z,rasterArgumentNames:["raster"]});b.set("ExtractBand",{desc:"ExtractBand Function",ctor:A,rasterArgumentNames:["raster"]});b.set("Local",{desc:"Local Function",ctor:B,rasterArgumentNames:["rasters"]});b.set("Mask",{desc:"Mask Function",ctor:C,rasterArgumentNames:["raster"]});b.set("NDVI",{desc:"NDVI Function",ctor:D,rasterArgumentNames:["raster"]});b.set("Remap",{desc:"Remap Function",ctor:E,rasterArgumentNames:["raster"]});
b.set("Slope",{desc:"Slope Function",ctor:F,rasterArgumentNames:["raster"]});b.set("StatisticsHistograms",{desc:"Statistics Histograms Function",ctor:G,rasterArgumentNames:["raster"]});b.set("Stretch",{desc:"Stretch Function",ctor:H,rasterArgumentNames:["raster"]});g.create=function(a,c){if("rasterFunction"in a)return r(a,c??{});throw new p("raster-function-helper","unsupported raster function json.");};g.getRasterValues=q;g.getSupportedFunctions=function(){const a=new Set;b.forEach((c,d)=>a.add(d));
return a};g.register=function(a,c,d=["raster"],m=""){b.set(a,{desc:m,ctor:c,rasterArgumentNames:d})};Object.defineProperties(g,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});