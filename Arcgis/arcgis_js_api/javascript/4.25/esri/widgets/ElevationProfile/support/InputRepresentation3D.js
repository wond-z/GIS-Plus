// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/asyncUtils ../../../core/handleUtils ../../../core/maybe ../../../core/promiseUtils ../../../core/reactiveUtils ../../../support/elevationInfoUtils ../../../views/3d/interactive/editingTools/settings ../../../views/3d/interactive/visualElements/OutlineVisualElement ../../../views/3d/layers/graphics/GraphicState ../../../views/3d/webgl-engine/lib/Material ../../../views/support/layerViewUtils".split(" "),function(l,p,q,m,d,r,t,
u,v,w,x,y,z){function k(e){return d.isSome(e.geometry)&&"polyline"===e.geometry.type}let A=function(){function e(a){this._params=a;this._visualElementHandle=this._highlightHandle=this._highlightTask=null}var g=e.prototype;g.destroy=function(){this.remove()};g.remove=function(){this._highlightTask=d.abortMaybe(this._highlightTask);this._highlightHandle=d.removeMaybe(this._highlightHandle);this._visualElementHandle=d.removeMaybe(this._visualElementHandle)};g.showHighlight=function(a){var b=this;this.remove();
if(!d.isNone(a)&&k(a)){var c=a.layer;this._highlightTask=q.createTask(function(){var f=p._asyncToGenerator(function*(h){const n=yield b._params.view.whenLayerView(c);r.throwIfAborted(h);z.highlightsSupported(n)&&(b._highlightHandle=n.highlight(a))});return function(h){return f.apply(this,arguments)}}())}};g.showReshaping=function(a){this.remove();if(!d.isNone(a)){var b=this._params.view,c=new w.OutlineVisualElement({view:b,geometry:k(a)?a.geometry:null,attached:!1,elevationInfo:u.getGraphicEffectiveElevationInfo(a),
renderOccluded:y.RenderOccludedFlag.OccludeAndTransparentStencil}),f=new x.GraphicState({graphic:a});b=[t.watch(()=>f.isDraped,h=>{c.isDraped=h}),f.on("changed",()=>{c.geometry=k(a)?a.geometry:null}),b.trackGraphicState(f),b.maskOccludee(a),m.destroyHandle(c)];v.settings.visualElements.lineGraphics.outline.apply(c);c.attached=!0;this._visualElementHandle=m.handlesGroup(b)}};return e}();l.InputRepresentation3D=A;Object.defineProperties(l,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});