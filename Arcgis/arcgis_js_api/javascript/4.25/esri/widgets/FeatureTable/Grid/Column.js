// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Evented ../../../core/HandleOwner ../../../core/maybe ../../../core/reactiveUtils ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./support/ButtonMenu ../../support/widgetUtils".split(" "),function(m,c,b,v,w,t,d,A,B,x,y,z){b=function(u){function p(f){var a=u.call(this,f)||this;a._menuContainer=
document.createElement("div");a.activeRowIndex=null;a.autoWidth=!1;a.cellValueFormatFunction=({value:e})=>z.renderingSanitizer.sanitize(e);a.flexGrow=1;a.footerRenderFunction=null;a.frozen=!1;a.grid=null;a.header=null;a.headerRenderFunction=e=>{const {root:h}=e,{headerMenuEnabled:k,sortable:g}=m._assertThisInitialized(a);a.removeCellContent(h);h.classList.add("esri-column__header-content");if(g)a.headerSorterRenderFunction(e);else{const {header:n,path:q}=m._assertThisInitialized(a),r=document.createElement("div");
r.classList.add("esri-column__header-label");r.innerHTML=n??q??"";h.appendChild(r)}k&&a.headerMenuRenderFunction(e)};a.headerMenuRenderFunction=({root:e})=>{a.menu?.items?.length&&e.appendChild(a._menuContainer)};a.headerSorterRenderFunction=({root:e})=>{const {header:h,path:k,sortElement:g}=m._assertThisInitialized(a),n=h??k??"";g?(g.innerHTML!==n&&g.setAttribute("innerHTML",n),e.appendChild(g),(e=a.grid?.getSlotElementByName(e.slot)?.parentElement)&&!e.onkeydown&&(e.onkeydown=({key:q})=>{"Enter"!==
q&&"Spacebar"!==q||g.click()})):e.innerHTML=n};a.hidden=!1;a.headerMenuEnabled=!0;a.initialSortPriority=null;a.menu=null;a.menuConfig=null;a.messages=null;a.messagesCommon=null;a.messagesURIUtils=null;a.path=null;a.renderFunction=({root:e,column:h,rowData:k})=>{const g=a.getCellValue(h,k);h=a.cellValueFormatFunction({column:h,rowData:k,value:g});e.innerHTML!==h&&(e.innerHTML=h)};a.resizable=!0;a.sortable=!0;a.textAlign="start";a.width=200;return a}m._inheritsLoose(p,u);var l=p.prototype;l.initialize=
function(){const {messages:f,path:a}=this;this._set("sortElement",this.createSortElement());this.sortElement.setAttribute("path",a??"");this._menuContainer.classList.add("esri-column__menu-container");this.menu=new y({label:f?.options,iconClass:"esri-icon-handle-horizontal",...this.menuConfig});this.menu.container=this._menuContainer;this.menu.set("items",this.getMenuItems());this.handles.add(t.watch(()=>this.hidden,()=>this.menu?.set("open",!1)),t.watch(()=>this.path,e=>{this.sortElement&&this.sortElement.path!==
e&&this.sortElement.setAttribute("path",e??"")}))};l.destroy=function(){this.menu?.destroy()};l.getMenuItems=function(){const {menuConfig:f,sortable:a}=this,e=f?.items,h=this.getSortMenuItems(),k=[];a&&k.push(...h);e?.length&&k.push(...e);return k.length?k:null};l.getSortMenuItems=function(){const {messages:f}=this;return[{selected:"asc"===this.direction,iconClass:"esri-icon-arrow-up",label:f?.sortAsc,autoCloseMenu:!0,clickFunction:()=>this.set("direction","asc"!==this.direction?"asc":null)},{selected:"desc"===
this.direction,iconClass:"esri-icon-arrow-down",label:f?.sortDesc,autoCloseMenu:!0,clickFunction:()=>this.set("direction","desc"!==this.direction?"desc":null)}]};l.getCellValue=function(f,a){return a?.item[f?.path]??""};l.createSortElement=function(){const {direction:f,header:a,path:e,initialSortPriority:h}=this,k=a??e??"",g=document.createElement("vaadin-grid-sorter");g.classList.add("esri-column__sorter");g.setAttribute("path",e??"");g.setAttribute("title",k);g.innerHTML=k;f&&g.setAttribute("direction",
f);w.isSome(h)&&(g._initialOrder=h);g.addEventListener("direction-changed",()=>{this.direction!==g.direction&&this._set("direction",g.direction)});return g};l.removeCellContent=function(f){if(f)for(;f.firstChild;)try{f.removeChild(f.firstChild)}catch(a){}};m._createClass(p,[{key:"direction",get:function(){return this._get("direction")||null},set:function(f){this.sortable&&(this.sortElement&&(f?this.sortElement.direction!==f&&this.sortElement.setAttribute("direction",f):this.sortElement.removeAttribute("direction")),
this._set("direction",f))}}]);return p}(v.HandleOwnerMixin(b.EventedAccessor));c.__decorate([d.property()],b.prototype,"activeRowIndex",void 0);c.__decorate([d.property()],b.prototype,"autoWidth",void 0);c.__decorate([d.property()],b.prototype,"cellValueFormatFunction",void 0);c.__decorate([d.property()],b.prototype,"direction",null);c.__decorate([d.property()],b.prototype,"flexGrow",void 0);c.__decorate([d.property()],b.prototype,"footerRenderFunction",void 0);c.__decorate([d.property()],b.prototype,
"frozen",void 0);c.__decorate([d.property()],b.prototype,"grid",void 0);c.__decorate([d.property()],b.prototype,"header",void 0);c.__decorate([d.property()],b.prototype,"headerRenderFunction",void 0);c.__decorate([d.property()],b.prototype,"headerMenuRenderFunction",void 0);c.__decorate([d.property()],b.prototype,"headerSorterRenderFunction",void 0);c.__decorate([d.property()],b.prototype,"hidden",void 0);c.__decorate([d.property()],b.prototype,"headerMenuEnabled",void 0);c.__decorate([d.property({constructOnly:!0})],
b.prototype,"initialSortPriority",void 0);c.__decorate([d.property()],b.prototype,"menu",void 0);c.__decorate([d.property()],b.prototype,"menuConfig",void 0);c.__decorate([d.property()],b.prototype,"messages",void 0);c.__decorate([d.property()],b.prototype,"messagesCommon",void 0);c.__decorate([d.property()],b.prototype,"messagesURIUtils",void 0);c.__decorate([d.property()],b.prototype,"path",void 0);c.__decorate([d.property()],b.prototype,"renderFunction",void 0);c.__decorate([d.property()],b.prototype,
"resizable",void 0);c.__decorate([d.property()],b.prototype,"sortable",void 0);c.__decorate([d.property({readOnly:!0})],b.prototype,"sortElement",void 0);c.__decorate([d.property()],b.prototype,"textAlign",void 0);c.__decorate([d.property()],b.prototype,"width",void 0);return b=c.__decorate([x.subclass("esri.widgets.FeatureTable.Grid.Column")],b)});