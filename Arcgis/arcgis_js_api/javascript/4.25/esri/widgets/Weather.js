// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/maybe ../core/memoize ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../views/3d/environment/weather ./Widget ./support/Heading ./support/widgetUtils ./support/decorators/messageBundle ./support/jsxFactory ./Weather/css ./Weather/enums ./Weather/LabeledSlider ./Weather/VisibleElements ./Weather/WeatherViewModel".split(" "),function(q,
u,h,v,z,l,f,I,A,B,C,D,E,F,c,k,m,n,w,G){const H={sunny:"brightness",cloudy:"partly-cloudy",rainy:"rain",snowy:"snow",foggy:"fog"};f=function(x){function r(b){var a=x.call(this,b)||this;a.viewModel=new G;a.headingLevel=4;a.visibleElements=new w;a.iconClass=k.CSS.widgetIcon;a._renderWeatherTypeButton=d=>{const e=a.viewModel,g=a.messages[d].label,y=e.state===m.WeatherState.Disabled,t=!y&&e.current.type===d;return c.tsx("calcite-button",{appearance:t?"solid":"outline","aria-checked":t?"true":"false",color:t?
"blue":"neutral",disabled:y,"icon-start":H[d],key:`${d}-type-button`,label:g,role:"radio",scale:"l",title:g,onclick:()=>{t||e.setWeatherByType(d)}})};a._memoizedCallbacks=z.memoize(d=>({onCloudCoverChange:e=>{"cloudCover"in d&&(d.cloudCover=e)},onPrecipitationChange:e=>{"precipitation"in d&&(d.precipitation=e)},onFogStrengthChange:e=>{"fogStrength"in d&&(d.fogStrength=e)},onSnowCoverChange:e=>{a.viewModel.setSnowCoverEnabled(e.target.checked)}}));return a}u._inheritsLoose(r,x);var p=r.prototype;p.render=
function(){return c.tsx("div",{class:this.classes(k.CSS.base,k.CSS.esriWidget,this.viewModel.state===m.WeatherState.Disabled&&k.CSS.esriWidgetDisabled),role:"region","aria-label":this.messages.widgetLabelAccessible},this._renderContent())};p.loadDependencies=function(){return Promise.all([new Promise((b,a)=>q(["../chunks/calcite-button"],b,a)),new Promise((b,a)=>q(["../chunks/calcite-checkbox"],b,a)),new Promise((b,a)=>q(["../chunks/calcite-icon"],b,a)),new Promise((b,a)=>q(["../chunks/calcite-label"],
b,a))])};p._renderContent=function(){const b=this.messages,a=this._warningMessage,d=this.viewModel.state===m.WeatherState.Error;return c.tsx(c.tsxFragment,null,this.visibleElements.header&&c.tsx(D.Heading,{level:this.headingLevel},b.widgetLabel),d&&c.tsx("div",{key:"error",class:k.CSS.error},this._errorMessage),c.tsx("div",{key:"content",class:E.classes({[k.CSS.content]:!0,[k.CSS.hasError]:d})},c.tsx("div",{class:k.CSS.selector,role:"radiogroup","aria-label":b.weatherType},B.weatherTypesArray.map(this._renderWeatherTypeButton)),
c.tsx("div",{class:k.CSS.options},this._renderOptions()),v.isSome(a)&&this._renderWarning(a)))};p._renderOptions=function(){const {viewModel:b,messages:a}=this,d=b.state===m.WeatherState.Disabled,e=b.current,g=this._memoizedCallbacks(e);switch(e.type){case "sunny":return c.tsx(n.LabeledSlider,{key:"sunny-cover",disabled:d,label:a.sunny.cloudCover,value:e.cloudCover,onChange:g.onCloudCoverChange});case "cloudy":return c.tsx(n.LabeledSlider,{key:"cloudy-cover",disabled:d,label:a.cloudy.cloudCover,value:e.cloudCover,
onChange:g.onCloudCoverChange});case "rainy":return c.tsx(c.tsxFragment,null,c.tsx(n.LabeledSlider,{key:"rainy-cover",disabled:d,label:a.rainy.cloudCover,value:e.cloudCover,onChange:g.onCloudCoverChange}),c.tsx(n.LabeledSlider,{key:"rainy-precipitation",disabled:d,label:a.rainy.precipitation,value:e.precipitation,onChange:g.onPrecipitationChange}));case "snowy":return c.tsx(c.tsxFragment,null,c.tsx(n.LabeledSlider,{key:"snowy-cloud-cover",disabled:d,label:a.snowy.cloudCover,value:e.cloudCover,onChange:g.onCloudCoverChange}),
c.tsx(n.LabeledSlider,{key:"snowy-precipitation",disabled:d,label:a.snowy.precipitation,value:e.precipitation,onChange:g.onPrecipitationChange}),c.tsx("calcite-label",{key:"snow-cover",scale:"s",disabled:d,layout:"inline",title:a.snowy.snowCoverTooltip},c.tsx("calcite-checkbox",{checked:"enabled"===e.snowCover,onCalciteCheckboxChange:g.onSnowCoverChange}),a.snowy.snowCover));case "foggy":return c.tsx(n.LabeledSlider,{key:"foggy-cover",disabled:d,label:a.foggy.fogStrength,value:e.fogStrength,onChange:g.onFogStrengthChange})}};
p._renderWarning=function(b){return c.tsx("div",{key:"warning",class:k.CSS.warning},c.tsx("calcite-icon",{icon:"exclamation-mark-triangle",scale:"s"}),b)};u._createClass(r,[{key:"view",get:function(){return this.viewModel?.view},set:function(b){this.viewModel&&(this.viewModel.view=b)}},{key:"label",get:function(){return this.messages?.widgetLabel??""},set:function(b){this._overrideIfSome("label",b)}},{key:"_errorMessage",get:function(){const b=this.messages.error;switch(this.viewModel.error){case m.WeatherError.LocalScene:return b.localScene;
case m.WeatherError.NoAtmosphere:return b.noAtmosphere;case m.WeatherError.UnsupportedView:return b.unsupported;default:return null}}},{key:"_warningMessage",get:function(){switch(this.viewModel.error){case m.WeatherError.NotVisible:return v.isSome(this.view)&&"3d"===this.view?.type&&this.view.environment.atmosphereEnabled?this.messages.error.notVisible:null;default:return null}}}]);return r}(C);h.__decorate([l.property()],f.prototype,"viewModel",void 0);h.__decorate([l.property()],f.prototype,"view",
null);h.__decorate([l.property()],f.prototype,"headingLevel",void 0);h.__decorate([l.property({type:w,nonNullable:!0})],f.prototype,"visibleElements",void 0);h.__decorate([l.property()],f.prototype,"iconClass",void 0);h.__decorate([l.property()],f.prototype,"label",null);h.__decorate([l.property(),F.messageBundle("esri/widgets/Weather/t9n/Weather")],f.prototype,"messages",void 0);h.__decorate([l.property()],f.prototype,"_errorMessage",null);h.__decorate([l.property()],f.prototype,"_warningMessage",
null);return f=h.__decorate([A.subclass("esri.widgets.Weather")],f)});