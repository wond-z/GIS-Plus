// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/events ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ./Widget ./support/widgetUtils ./support/decorators/messageBundle ./support/jsxFactory ./Swipe/SwipeViewModel".split(" "),function(r,e,y,f,d,C,z,A,D,B,p,v){const w={handle:!0,divider:!0};d=function(x){function t(a,b){a=x.call(this,a,b)||this;a.disabled=!1;a.iconClass="esri-icon-up-down-arrows";
a.messages=null;a.viewModel=new v;a._pointerOffset=null;a._container=null;a._onContainerPointerDown=a._onContainerPointerDown.bind(r._assertThisInitialized(a));a._onContainerPointerMove=a._onContainerPointerMove.bind(r._assertThisInitialized(a));a._onContainerPointerUp=a._onContainerPointerUp.bind(r._assertThisInitialized(a));return a}r._inheritsLoose(t,x);var g=t.prototype;g.render=function(){const {state:a,direction:b}=this.viewModel,c="disabled"===a||this.disabled;return p.tsx("div",{class:this.classes("esri-swipe",
"esri-widget",{["esri-disabled"]:c,["esri-swipe--disabled"]:c,["esri-swipe--vertical"]:"vertical"===b,["esri-swipe--horizontal"]:"horizontal"===b})},"disabled"===a?null:this.renderContainer())};g.renderHandle=function(){var {direction:a}=this.viewModel,{visibleElements:b}=this;a={["esri-icon-drag-horizontal"]:"vertical"===a,["esri-icon-drag-vertical"]:"horizontal"===a};b=this.classes("esri-swipe__handle",!b.handle&&"esri-swipe__handle--hidden");return p.tsx("div",{key:"handle",role:"presentation",
class:b},p.tsx("span",{"aria-hidden":"true",class:this.classes("esri-swipe__handle-icon",a)}))};g.renderDivider=function(){const {visibleElements:a}=this;return a&&a.divider?p.tsx("div",{key:"divider",role:"presentation",class:"esri-swipe__divider"}):null};g.renderContent=function(){return[this.renderDivider(),this.renderHandle()]};g.renderContainer=function(){const {disabled:a,dragLabel:b,viewModel:c}=this,{max:k,min:n,direction:l,position:q}=c,h=`${q}%`,m={top:"vertical"===l?h:null,left:"vertical"===
l?null:h},u=this.renderContent();return a?p.tsx("div",{key:"container",role:"presentation",styles:m,class:"esri-swipe__container"},u):p.tsx("div",{tabIndex:0,key:"container",bind:this,afterCreate:this._afterContainerCreate,onkeydown:this._onContainerKeyDown,"touch-action":"none",role:"slider",title:b,"aria-label":b,"aria-orientation":l,"aria-valuemax":`${k}`,"aria-valuemin":`${n}`,"aria-valuenow":`${q}`,"aria-valuetext":h,styles:m,class:"esri-swipe__container"},u)};g._afterContainerCreate=function(a){this._container=
a;a.addEventListener("pointerdown",this._onContainerPointerDown)};g._calculatePointerOffset=function(a){const {direction:b}=this;var c=a.target;const k=("vertical"===b?c.clientHeight:c.clientWidth)/2,n=c.getBoundingClientRect();c=a.clientX-n.left;a=a.clientY-n.top;this._pointerOffset="vertical"===b?a-k:c-k};g._onContainerPointerDown=function(a){a.preventDefault();this._container&&document.activeElement!==this.container&&this._container.focus();this._calculatePointerOffset(a);document.addEventListener("pointerup",
this._onContainerPointerUp);document.addEventListener("pointermove",this._onContainerPointerMove)};g._onContainerPointerUp=function(a){a.preventDefault();document.removeEventListener("pointerup",this._onContainerPointerUp);document.removeEventListener("pointermove",this._onContainerPointerMove)};g._onContainerPointerMove=function(a){a.preventDefault();const {_pointerOffset:b,container:c,direction:k}=this,{clientX:n,clientY:l}=a,{top:q,left:h,width:m,height:u}=c.getBoundingClientRect();this.position=
("vertical"===k?l-q-b:n-h-b)/("vertical"===k?u:m)*100};g._getKeyPosition=function(a){const b=y.eventKey(a),{position:c}=this,{max:k,min:n,step:l,stepMultiplier:q,direction:h}=this.viewModel,m=l*q;"ArrowUp ArrowDown ArrowLeft ArrowRight Home End PageUp PageDown".split(" ").includes(b)&&(a.preventDefault(),a.stopPropagation());return("vertical"===h?"ArrowDown"===b||"ArrowRight"===b:"ArrowUp"===b||"ArrowRight"===b)?c+(a.shiftKey?m:l):("vertical"===h?"ArrowUp"===b||"ArrowLeft"===b:"ArrowDown"===b||"ArrowLeft"===
b)?c-(a.shiftKey?m:l):"Home"===b?n:"End"===b?k:("vertical"===h?"PageDown"===b:"PageUp"===b)?c+m:("vertical"===h?"PageUp"===b:"PageDown"===b)?c-m:null};g._onContainerKeyDown=function(a){a=this._getKeyPosition(a);"number"===typeof a&&(this.position=a)};r._createClass(t,[{key:"direction",get:function(){return this.viewModel.direction},set:function(a){this.viewModel.direction=a}},{key:"dragLabel",get:function(){return this._get("dragLabel")??this.messages?.dragLabel??""},set:function(a){this._set("dragLabel",
a)}},{key:"label",get:function(){return this.messages?.widgetLabel??""},set:function(a){this._overrideIfSome("label",a)}},{key:"leadingLayers",get:function(){return this.viewModel.leadingLayers},set:function(a){this.viewModel.leadingLayers=a}},{key:"position",get:function(){return this.viewModel.position},set:function(a){this.viewModel.position=a}},{key:"trailingLayers",get:function(){return this.viewModel.trailingLayers},set:function(a){this.viewModel.trailingLayers=a}},{key:"view",get:function(){return this.viewModel.view},
set:function(a){this.viewModel.view=a}},{key:"visibleElements",get:function(){return this._get("visibleElements")||w},set:function(a){this._set("visibleElements",{...w,...a})}}]);return t}(A);e.__decorate([f.property()],d.prototype,"direction",null);e.__decorate([f.property()],d.prototype,"disabled",void 0);e.__decorate([f.property()],d.prototype,"dragLabel",null);e.__decorate([f.property()],d.prototype,"iconClass",void 0);e.__decorate([f.property()],d.prototype,"label",null);e.__decorate([f.property()],
d.prototype,"leadingLayers",null);e.__decorate([f.property(),B.messageBundle("esri/widgets/Swipe/t9n/Swipe")],d.prototype,"messages",void 0);e.__decorate([f.property()],d.prototype,"position",null);e.__decorate([f.property()],d.prototype,"trailingLayers",null);e.__decorate([f.property()],d.prototype,"view",null);e.__decorate([f.property({type:v})],d.prototype,"viewModel",void 0);e.__decorate([f.property()],d.prototype,"visibleElements",null);return d=e.__decorate([z.subclass("esri.widgets.Swipe")],
d)});