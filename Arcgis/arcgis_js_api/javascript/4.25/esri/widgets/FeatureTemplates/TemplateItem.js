// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define("require ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Graphic ../../core/Accessor ../../core/HandleOwner ../../core/Logger ../../core/maybe ../../core/reactiveUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../symbols/support/symbolUtils".split(" "),function(l,h,g,x,e,y,z,u,v,k,E,F,A,B){function C(b,c){return m.apply(this,arguments)}function m(){m=h._asyncToGenerator(function*(b,
c){var {renderer:d}=b;return d&&(c=new x({attributes:c.prototype.attributes}),d=yield d.getSymbolAsync(c))?d:D(b)});return m.apply(this,arguments)}function D(b){return n.apply(this,arguments)}function n(){n=h._asyncToGenerator(function*(b){({geometryType:b}=b);return(b="point"===b||"multipoint"===b?yield new Promise((c,d)=>l(["../../symbols/SimpleMarkerSymbol"],a=>c(p(a)),d)):"polyline"===b?yield new Promise((c,d)=>l(["../../symbols/SimpleLineSymbol"],a=>c(p(a)),d)):"polygon"===b||"mesh"===b||"multipatch"===
b?yield new Promise((c,d)=>l(["../../symbols/SimpleFillSymbol"],a=>c(p(a)),d)):null)?new b.default:null});return n.apply(this,arguments)}const p=b=>Object.freeze(Object.defineProperty({__proto__:null,default:b},Symbol.toStringTag,{value:"Module"}));var q;e=q=function(b){function c(a){a=b.call(this,a)||this;a._activeFetchInfo={id:null,request:null};a.layer=null;a.template=null;a.thumbnail=null;return a}h._inheritsLoose(c,b);var d=c.prototype;d.initialize=function(){this.handles.add(v.watch(()=>{const {layer:a}=
this;return[a&&"renderer"in a?a.renderer:null,this.template]},()=>{this._activeFetchInfo.id=null;this._activeFetchInfo.request=null;this._set("thumbnail",null)},v.initial))};d.clone=function(){const a=u.isSome(this.thumbnail)?this.thumbnail.cloneNode(!0):null,f=new q({layer:this.layer,template:this.template});f._set("thumbnail",a);return f};c.fetchThumbnail=function(){var a=h._asyncToGenerator(function*(f,r){if("subtype-group"===f.type)return z.getLogger("esri.widgets.FeatureTemplates.TemplateItem").warn("Thumbnails for sublayers of a SubtypeGroupLayer are not yet supported."),
null;const w=yield C(f,r);if(u.isNone(w))return null;const t={maxSize:36};"dictionary"===f.renderer?.type&&(t.fieldMap=f.renderer.fieldMap,t.feature={attributes:r.prototype.attributes});return yield B.renderPreviewHTML(w,t)});return function(f,r){return a.apply(this,arguments)}}();h._createClass(c,[{key:"description",get:function(){return this.template?.description},set:function(a){this.template&&(this.template.description=a)}},{key:"label",get:function(){return this.template?.name},set:function(a){this.template&&
(this.template.name=a)}}]);return c}(y.HandleOwnerMixin(e));g.__decorate([k.property()],e.prototype,"description",null);g.__decorate([k.property()],e.prototype,"label",null);g.__decorate([k.property()],e.prototype,"layer",void 0);g.__decorate([k.property()],e.prototype,"template",void 0);g.__decorate([k.property({readOnly:!0})],e.prototype,"thumbnail",void 0);return e=q=g.__decorate([A.subclass("esri.widgets.FeatureTemplates.TemplateItem")],e)});