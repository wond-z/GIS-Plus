// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define(["exports"],function(r){function v(a){return 57>=a?a-48:104>=a?a-88:107>=a?a-89:110>=a?a-90:a-91}function w(a,d,h){a[0]=d;a[1]=h;return a}function t(a,d){const h=(a[0]+a[1])/2,g=!d;a[0]=g*a[0]+d*h;a[1]=g*h+d*a[1]}function u(a,d){d=d>(a[0]+a[1])/2;t(a,d);return d}function y(a,d){return d?1&a|(4&a)>>1|(16&a)>>2:(2&a)>>1|(8&a)>>2}function z(a,d){return d?(2&a)>>1|(8&a)>>2:1&a|(4&a)>>1|(16&a)>>2}function A(a,d,h){var g=!((a.length-1)%2);const e=a.substring(0,a.length-1);var c=v(a.charCodeAt(a.length-
1)),f=0,b=0;let k=0;var m=0;g?(f=8,b=4,k=1&c|(4&c)>>1|(16&c)>>2,m=(2&c)>>1|(8&c)>>2):(f=4,b=8,m=1&c|(4&c)>>1|(16&c)>>2,k=(2&c)>>1|(8&c)>>2);d=k+d;c=m+h;h=Math.floor(d/f);m=Math.floor(c/b);f=d-h*f;b=c-m*b;g="0123456789bcdefghjkmnpqrstuvwxyz"[g?f&1|(b&1)<<1|(f&2)<<1|(b&2)<<2|(f&4)<<2:b&1|(f&1)<<1|(b&2)<<1|(f&2)<<2|(b&4)<<2];return 1<a.length&&(h||m)?A(e,h,m)+g:e+g}const B=new Float64Array(2),C=new Float64Array(2);r.convertGeohash32ToXY=function(a,d){let h=a=0,g=30,e=30;for(let b=0;b<d.length;b++){var c=
d.charCodeAt(b),f=v(c);c=0===b%2;const k=y(f,c);f=z(f,c);g-=c?3:2;e-=c?2:3;a|=k<<g;h|=f<<e}return{geohashX:a,geohashY:h}};r.decodeBase32Char=v;r.decodeGeohash=function(a,d){const h=w(B,-90,90),g=w(C,-180,180);for(let c=0;c<d.length;c++){var e=d.charCodeAt(c);e=v(e);0===c%2?(t(g,!!(16&e)),t(g,!!(4&e)),t(g,!!(1&e)),t(h,!!(8&e)),t(h,!!(2&e))):(t(h,!!(16&e)),t(h,!!(4&e)),t(h,!!(1&e)),t(g,!!(8&e)),t(g,!!(2&e)))}a[0]=(h[0]+h[1])/2;a[1]=(g[0]+g[1])/2;return a};r.decodeGeohashXY=function(a,d){let h=-90,g=
90,e=-180,c=180;for(let n=0;n<d;n++){var f=Math.ceil((n+1)/2),b=Math.floor((n+1)/2),k=1-n%2,m=30-(3*f+2*b),p=30-(2*f+3*b);b=3*k+2*(1-k);f=2*k+3*(1-k);m=(7*k+3*(1-k)<<m&a.geohashX)>>m;k=(3*k+7*(1-k)<<p&a.geohashY)>>p;for(--b;0<=b;b--){p=(e+c)/2;const l=m&1<<b?1:0;e=(1-l)*e+l*p;c=(1-l)*p+l*c}for(--f;0<=f;f--)m=(h+g)/2,b=k&1<<f?1:0,h=(1-b)*h+b*m,g=(1-b)*m+b*g}return[e,h,c,g]};r.encodeBase32Char=function(a){return"0123456789bcdefghjkmnpqrstuvwxyz"[a]};r.encodeGeohash=function(a,d,h){let g="";const e=
w(B,-90,90),c=w(C,-180,180);for(let f=0;f<h;f++){let b=0;f%2?(b|=u(e,a)<<4,b|=u(c,d)<<3,b|=u(e,a)<<2,b|=u(c,d)<<1,b|=u(e,a)<<0):(b|=u(c,d)<<4,b|=u(e,a)<<3,b|=u(c,d)<<2,b|=u(e,a)<<1,b|=u(c,d)<<0);g+="0123456789bcdefghjkmnpqrstuvwxyz"[b]}return g};r.getRelativeGeohash=A;r.latDistPerGeohash=function(a){return 180/2**Math.floor(5*a/2)};r.lonDistPerGeohash=function(a){return 360/2**Math.ceil(5*a/2)};r.setGeohashBuf=function(a,d,h,g,e){e%2&&(e+=1);let c=0,f=0,b=-90,k=90,m=-180,p=180;for(let x=0;x<e/2;x++){for(var n=
0;5>n;n++){var l=(m+p)/2,q=g>l?1:0;c|=q<<29-(n+5*x);m=(1-q)*m+q*l;p=(1-q)*l+q*p}for(n=0;5>n;n++)l=(b+k)/2,q=h>l?1:0,f|=q<<29-(n+5*x),b=(1-q)*b+q*l,k=(1-q)*l+q*k}a[2*d]=c;a[2*d+1]=f};r.setGeohashXY=function(a,d,h,g){g%2&&(g+=1);let e=0,c=0,f=-90,b=90,k=-180,m=180;for(let q=0;q<g/2;q++){for(var p=0;5>p;p++){var n=(k+m)/2,l=h>n?1:0;e|=l<<29-(p+5*q);k=(1-l)*k+l*n;m=(1-l)*n+l*m}for(p=0;5>p;p++)n=(f+b)/2,l=d>n?1:0,c|=l<<29-(p+5*q),f=(1-l)*f+l*n,b=(1-l)*n+l*b}a.geohashX=e;a.geohashY=c};r.unpackXBits=y;r.unpackYBits=
z;Object.defineProperties(r,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});