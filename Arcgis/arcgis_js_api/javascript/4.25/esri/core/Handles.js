// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define(["../chunks/_rollupPluginBabelHelpers","./iteratorUtils","./maybe"],function(g,f,h){return function(){function e(){this._groups=new Map}var c=e.prototype;c.destroy=function(){this.removeAll()};c.add=function(a,b){if(f.isIterable(a)){b=this._getOrCreateGroup(b);for(const d of a)this._isHandle(d)&&b.push(d)}else this._isHandle(a)&&this._getOrCreateGroup(b).push(a);return this};c.forEach=function(a,b){if("function"===typeof a)this._groups.forEach(d=>d.forEach(a));else{const d=this._getGroup(a);
d&&b&&d.forEach(b)}};c.has=function(a){return this._groups.has(this._ensureGroupKey(a))};c.remove=function(a){if("string"!==typeof a&&f.isIterable(a)){for(const b of a)this.remove(b);return this}if(!this.has(a))return this;this._removeAllFromGroup(this._getGroup(a));this._groups.delete(this._ensureGroupKey(a));return this};c.removeAll=function(){this._groups.forEach(a=>this._removeAllFromGroup(a));this._groups.clear();return this};c._isHandle=function(a){return a&&!!a.remove};c._getOrCreateGroup=
function(a){if(this.has(a))return this._getGroup(a);const b=[];this._groups.set(this._ensureGroupKey(a),b);return b};c._getGroup=function(a){return h.assumeNonNull(this._groups.get(this._ensureGroupKey(a)))};c._ensureGroupKey=function(a){return a||"_default_"};c._removeAllFromGroup=function(a){a.forEach(b=>b.remove())};g._createClass(e,[{key:"size",get:function(){let a=0;this._groups.forEach(b=>{a+=b.length});return a}}]);return e}()});