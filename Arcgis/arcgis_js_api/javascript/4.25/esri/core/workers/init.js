// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
(function(a,b){var C,w,f,t=function(){return"undefined"!==typeof q&&"function"!==typeof q?q:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this}(),k=function(){},p=function(Q){for(var aa in Q)return 0;return 1},d={}.toString,e=function(Q){return"[object Function]"==d.call(Q)},l=function(Q){return"[object String]"==d.call(Q)},g=function(Q){return"[object Array]"==d.call(Q)},c=function(Q,aa){if(Q)for(var fa=0;fa<Q.length;)aa(Q[fa++])},m=function(Q,aa){for(var fa in aa)Q[fa]=aa[fa];
return Q},u=function(Q,aa){return m(Error(Q),{src:"dojoLoader",info:aa})},r=1,n=function(){return"_"+r++},h=function(Q,aa,fa){return W(Q,aa,fa,0,h)},q=t,D=q.document,v=D&&D.createElement("DiV"),z=h.has=function(Q){return e(B[Q])?B[Q]=B[Q](q,D,v):B[Q]},B=z.cache=b.hasCache;e(a)&&(a=a(t));z.add=function(Q,aa,fa,ja){(void 0===B[Q]||ja)&&(B[Q]=aa);return fa&&z(Q)};z.add("host-webworker","undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);z("host-webworker")&&(m(b.hasCache,{"host-browser":0,
dom:0,"dojo-dom-ready-api":0,"dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1,"dojo-guarantee-console":0}),b.loaderPatch={injectUrl:function(Q,aa){try{importScripts(Q),aa()}catch(fa){console.info("failed to load resource ("+Q+")"),console.error(fa)}}});for(var E in a.has)z.add(E,a.has[E],0,1);var x=0,y=[],A=0,F=k,K=k;h.isXdUrl=k;h.initSyncLoader=function(Q,aa,fa){A||(A=Q,F=aa,K=fa);return{sync:"sync",requested:1,arrived:2,nonmodule:3,executing:4,executed:5,syncExecStack:y,modules:qa,execQ:G,
getModule:Ea,injectModule:Qa,setArrived:ha,signal:Z,finishExec:Ja,execModule:Ka,dojoRequirePlugin:A,getLegacyMode:function(){return x},guardCheckComplete:La}};if(z("dom")||z("host-webworker")){var M=location.protocol,H=location.host;h.isXdUrl=function(Q){return/^\./.test(Q)?!1:/^\/\//.test(Q)?!0:(Q=Q.match(/^([^\/:]+:)\/+([^\/]+)/))&&(Q[1]!=M||H&&Q[2]!=H)};z.add("dojo-force-activex-xhr",z("host-browser")&&!D.addEventListener&&"file:"==window.location.protocol);if(z("dojo-force-activex-xhr")){var I=
["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"];for(f=0;3>f;)try{var J=I[f++];new ActiveXObject(J);break}catch(Q){}var S=function(){return new ActiveXObject(J)}}else S=function(){return new XMLHttpRequest};h.getXhr=S;z.add("dojo-gettext-api",1);h.getText=function(Q,aa,fa){var ja=S();ja.open("GET",Ra(Q),!1);ja.send(null);if(200==ja.status||!location.host&&!ja.status)fa&&fa(ja.responseText,aa);else throw u("xhrFailed",ja.status);return ja.responseText}}h.eval=function(Q,aa){};var V={},Z=
h.signal=function(Q,aa){Q=V[Q];c(Q&&Q.slice(0),function(fa){fa.apply(null,g(aa)?aa:[aa])})},ba=h.on=function(Q,aa){var fa=V[Q]||(V[Q]=[]);fa.push(aa);return{remove:function(){for(var ja=0;ja<fa.length;ja++)if(fa[ja]===aa){fa.splice(ja,1);break}}}},ia=[],ea={},ka=[],oa={},ua=h.map={},ra=[],qa={},P="",R={},T={},X={},ca=0;if(!z("foreign-loader"))var da=function(Q,aa){aa=!1!==aa;var fa,ja;for(fa in T){var la=T[fa];if(ja=fa.match(/^url:(.+)/))R["url:"+cb(ja[1],Q)]=la;else if("*now"==fa)var ta=la;else"*noref"!=
fa&&(ja=Ga(fa,Q,!0),R[ja.mid]=R["url:"+ja.url]=la)}ta&&ta(L(Q));aa&&(T={})};var ma=function(Q){return Q.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(aa){return"\\"+aa})},na=function(Q,aa){aa.splice(0,aa.length);for(var fa in Q)aa.push([fa,Q[fa],new RegExp("^"+ma(fa)+"(/|$)"),fa.length]);aa.sort(function(ja,la){return la[3]-ja[3]});return aa},sa=function(Q,aa){c(Q,function(fa){aa.push([l(fa[0])?new RegExp("^"+ma(fa[0])+"$"):fa[0],fa[1]])})},ya=function(Q){var aa=Q.name;aa||(aa=Q,Q={name:aa});Q=
m({main:"main"},Q);Q.location=Q.location?Q.location:aa;Q.packageMap&&(ua[aa]=Q.packageMap);Q.main.indexOf("./")||(Q.main=Q.main.substring(2));oa[aa]=Q},wa=[],va=function(Q,aa,fa){for(var ja in Q){"waitSeconds"==ja&&(h.waitms=1E3*(Q[ja]||0));"cacheBust"==ja&&(P=Q[ja]?l(Q[ja])?Q[ja]:(new Date).getTime()+"":"");if("baseUrl"==ja||"combo"==ja)h[ja]=Q[ja];if("async"==ja){var la=Q[ja];h.legacyMode=x=l(la)&&/sync|legacyAsync/.test(la)?la:la?!1:"sync";h.async=!x}Q[ja]!==B&&(h.rawConfig[ja]=Q[ja],"has"!=ja&&
z.add("config-"+ja,Q[ja],0,aa))}h.baseUrl||(h.baseUrl="./");/\/$/.test(h.baseUrl)||(h.baseUrl+="/");for(ja in Q.has)z.add(ja,Q.has[ja],0,aa);c(Q.packages,ya);for(var ta in Q.packagePaths)c(Q.packagePaths[ta],function(Aa){var Fa=ta+"/"+Aa;l(Aa)&&(Aa={name:Aa});Aa.location=Fa;ya(Aa)});na(m(ua,Q.map),ra);c(ra,function(Aa){Aa[1]=na(Aa[1],[]);"*"==Aa[0]&&(ra.star=Aa)});na(m(ea,Q.paths),ka);sa(Q.aliases,ia);if(!z("foreign-loader")){if(aa)wa.push({config:Q.config});else for(ja in Q.config)aa=Ea(ja,fa),aa.config=
m(aa.config||{},Q.config[ja]);Q.cache&&(da(),T=Q.cache,da(0,!!Q.cache["*noref"]))}Z("config",[Q,h.rawConfig])};h.rawConfig={};va(b,1);va(a,1);va(X,1);if(!z("foreign-loader"))var O=function(Q){La(function(){c(Q.deps,Qa)})},W=function(Q,aa,fa,ja,la){var ta;if(l(Q)){if((ta=Ea(Q,ja,!0))&&ta.executed)return ta.result;throw u("undefinedModule",Q);}g(Q)||(va(Q,0,ja),Q=aa,aa=fa);if(g(Q))if(Q.length){fa="require*"+n();for(var Aa,Fa=[],Ma=0;Ma<Q.length;)Aa=Q[Ma++],Fa.push(Ea(Aa,ja));ta=m(Ba("",fa,0,""),{injected:2,
deps:Fa,def:aa||k,require:ja?ja.require:h,gc:1});qa[ta.mid]=ta;O(ta);var Wa=Na&&"sync"!=x;La(function(){Ka(ta,Wa)});ta.executed||G.push(ta);Oa()}else aa&&aa();return la},L=function(Q){if(!Q)return h;var aa=Q.require;aa||(aa=function(fa,ja,la){return W(fa,ja,la,Q,aa)},Q.require=m(aa,h),aa.module=Q,aa.toUrl=function(fa){return cb(fa,Q)},aa.toAbsMid=function(fa){return Xa(fa,Q)},aa.syncLoadNls=function(fa){fa=Ga(fa,Q);var ja=qa[fa.mid];if(!ja||!ja.executed)if(Ha=R[fa.mid]||R["url:"+fa.url])Sa(Ha),ja=
qa[fa.mid];return ja&&ja.executed&&ja.result});return aa},G=[],N=[],U={},Y=function(Q){Q.injected=1;U[Q.mid]=1;Q.url&&(U[Q.url]=Q.pack||1);nb()},ha=function(Q){Q.injected=2;delete U[Q.mid];Q.url&&delete U[Q.url];p(U)&&(ob(),"xd"==x&&(x="sync"))},pa=h.idle=function(){return!N.length&&p(U)&&!G.length&&!Na};var za=function(Q,aa){if(aa)for(var fa=0;fa<aa.length;fa++)if(aa[fa][2].test(Q))return aa[fa];return 0},xa=function(Q){var aa=[];for(Q=Q.replace(/\\/g,"/").split("/");Q.length;){var fa=Q.shift();
if(".."==fa&&aa.length&&".."!=ja){aa.pop();var ja=aa[aa.length-1]}else"."!=fa&&aa.push(ja=fa)}return aa.join("/")},Ba=function(Q,aa,fa,ja){var la=h.isXdUrl(ja);return{pid:Q,mid:aa,pack:fa,url:ja,executed:0,def:0,isXd:la,isAmd:!!(la||oa[Q]&&oa[Q].isAmd)}},Da=function(Q,aa,fa,ja,la,ta,Aa,Fa,Ma,Wa){var Ia,db,Ca;var Ya=/^\./.test(Q);if(/(^\/)|(:)|(\.js$)/.test(Q)||Ya&&!aa)return Ba(0,Q,0,Q);Q=xa(Ya?aa.mid+"/../"+Q:Q);if(/^\./.test(Q))throw u("irrationalPath",Q);Wa||Ya||!ta.star||(Ca=za(Q,ta.star[1]));
!Ca&&aa&&(Ca=(Ca=za(aa.mid,ta))&&za(Q,Ca[1]));Ca&&(Q=Ca[1]+Q.substring(Ca[3]));aa=(C=Q.match(/^([^\/]+)(\/(.+))?$/))?C[1]:"";(Ia=fa[aa])?Q=aa+"/"+(db=C[3]||Ia.main):aa="";var Za=0;c(Fa,function(Pa){var eb=Q.match(Pa[0]);eb&&0<eb.length&&(Za=e(Pa[1])?Q.replace(Pa[0],Pa[1]):Pa[1])});if(Za)return Da(Za,0,fa,ja,la,ta,Aa,Fa,Ma);if(fa=ja[Q])return Ma?Ba(fa.pid,fa.mid,fa.pack,fa.url):ja[Q];ja=(Ca=za(Q,Aa))?Ca[1]+Q.substring(Ca[3]):aa?("/"===Ia.location.slice(-1)?Ia.location.slice(0,-1):Ia.location)+"/"+
db:Q;/(^\/)|(:)/.test(ja)||(ja=la+ja);return Ba(aa,Q,Ia,xa(ja+".js"))},Ga=function(Q,aa,fa){return Da(Q,aa,oa,qa,h.baseUrl,ra,ka,ia,void 0,fa)};if(!z("foreign-loader"))var fb=function(Q,aa,fa){return Q.normalize?Q.normalize(aa,function(ja){return Xa(ja,fa)}):Xa(aa,fa)},gb=0,Ea=function(Q,aa,fa){var ja;if(ja=Q.match(/^(.+?)!(.*)$/)){var la=Ea(ja[1],aa,fa);"sync"!=x||la.executed||(Qa(la),2!==la.injected||la.executed||La(function(){Ka(la)}),la.executed?Ta(la):G.unshift(la));5!==la.executed||la.load||
Ta(la);la.load?(ja=fb(la,ja[2],aa),Q=la.mid+"!"+(la.dynamic?++gb+"!":"")+ja):(ja=ja[2],Q=la.mid+"!"+ ++gb+"!waitingForPlugin");Q={plugin:la,mid:Q,req:L(aa),prid:ja}}else Q=Ga(Q,aa);return qa[Q.mid]||!fa&&(qa[Q.mid]=Q)};var Xa=h.toAbsMid=function(Q,aa){return Ga(Q,aa).mid},cb=h.toUrl=function(Q,aa){aa=Ga(Q+"/x",aa);var fa=aa.url;return Ra(0===aa.pid?Q:fa.substring(0,fa.length-5))};if(!z("foreign-loader"))var hb={injected:2,executed:5,def:3,result:3},$a=function(Q){return qa[Q]=m({mid:Q},hb)},pb=$a("require"),
qb=$a("exports"),rb=$a("module"),Ua={},ab=0,Ta=function(Q){var aa=Q.result;Q.dynamic=aa.dynamic;Q.normalize=aa.normalize;Q.load=aa.load;return Q},sb=function(Q){var aa={};c(Q.loadQ,function(la){var ta=fb(Q,la.prid,la.req.module),Aa=Q.dynamic?la.mid.replace(/waitingForPlugin$/,ta):Q.mid+"!"+ta;ta=m(m({},la),{mid:Aa,prid:ta,injected:0});qa[Aa]&&qa[Aa].injected||ib(qa[Aa]=ta);aa[la.mid]=qa[Aa];ha(la);delete qa[la.mid]});Q.loadQ=0;var fa=function(la){for(var ta=la.deps||[],Aa=0;Aa<ta.length;Aa++)(la=
aa[ta[Aa].mid])&&(ta[Aa]=la)},ja;for(ja in qa)fa(qa[ja]);c(G,fa)},Ja=function(Q){h.trace("loader-finish-exec",[Q.mid]);Q.executed=5;Q.defOrder=ab++;c(Q.provides,function(aa){aa()});Q.loadQ&&(Ta(Q),sb(Q));for(f=0;f<G.length;)G[f]===Q?G.splice(f,1):f++;/^require\*/.test(Q.mid)&&delete qa[Q.mid]},tb=[],Ka=function(Q,aa){if(4===Q.executed)return h.trace("loader-circular-dependency",[tb.concat(Q.mid).join("-\x3e")]),!Q.def||aa?Ua:Q.cjs&&Q.cjs.exports;if(!Q.executed){if(!Q.def)return Ua;var fa=Q.mid,ja=
Q.deps||[],la,ta=[],Aa=0;for(Q.executed=4;la=ja[Aa++];){la=la===pb?L(Q):la===qb?Q.cjs.exports:la===rb?Q.cjs:Ka(la,aa);if(la===Ua)return Q.executed=0,h.trace("loader-exec-module",["abort",fa]),Ua;ta.push(la)}h.trace("loader-run-factory",[Q.mid]);aa=Q.def;y.unshift(Q);ta=e(aa)?aa.apply(null,ta):aa;Q.result=void 0===ta&&Q.cjs?Q.cjs.exports:ta;y.shift(Q);Ja(Q)}return Q.result},Na=0,La=function(Q){try{Na++,Q()}catch(aa){throw aa;}finally{Na--}pa()&&Z("idle",[])},Oa=function(){Na||La(function(){F();for(var Q,
aa,fa=0;fa<G.length;)Q=ab,aa=G[fa],Ka(aa),Q!=ab?(F(),fa=0):fa++})};var Ra="function"==typeof a.fixupUrl?a.fixupUrl:function(Q){Q+="";return Q+(P?(/\?/.test(Q)?"\x26":"?")+P:"")};void 0===z("dojo-loader-eval-hint-url")&&z.add("dojo-loader-eval-hint-url",1);var ib=function(Q){var aa=Q.plugin;5!==aa.executed||aa.load||Ta(aa);var fa=function(ja){Q.result=ja;ha(Q);Ja(Q);Oa()};aa.load?aa.load(Q.prid,Q.req,fa):aa.loadQ?aa.loadQ.push(Q):(aa.loadQ=[Q],G.unshift(aa),Qa(aa))},Ha=0,Sa=function(Q,aa){z("config-stripStrict")&&
(Q=Q.replace(/(["'])use strict\1/g,""));Q===Ha?Ha.call(null):h.eval(Q,z("dojo-loader-eval-hint-url")?aa.url:aa.mid)},Qa=function(Q){var aa=Q.mid,fa=Q.url;if(!(Q.executed||Q.injected||U[aa]||Q.url&&(Q.pack&&U[Q.url]===Q.pack||1==U[Q.url])))if(Y(Q),Q.plugin)ib(Q);else{var ja=function(){jb(Q);if(2!==Q.injected){if(z("dojo-enforceDefine")){Z("error",u("noDefine",Q));return}ha(Q);m(Q,hb);h.trace("loader-define-nonmodule",[Q.url])}x?!y.length&&Oa():Oa()};if(Ha=R[aa]||R["url:"+Q.url])h.trace("loader-inject",
["cache",Q.mid,fa]),Sa(Ha,Q),ja();else{if(x)if(Q.isXd)"sync"==x&&(x="xd");else if(!Q.isAmd||"sync"==x){h.trace("loader-inject",["xhr",Q.mid,fa,"sync"!=x]);h.getText(fa,"sync"!=x,function(la){if("sync"==x){y.unshift(Q);Sa(la,Q);y.shift();jb(Q);Q.cjs||(ha(Q),Ja(Q));if(Q.finish){la=aa+"*finish";var ta=Q.finish;delete Q.finish;Va(la,["dojo",("dojo/require!"+ta.join(",")).replace(/\./g,"/")],function(Aa){c(ta,function(Fa){Aa.require(Fa)})});G.unshift(Ea(la))}ja()}else(la=K(Q,la))?(Sa(la,Q),ja()):h.injectUrl(Ra(fa),
ja,Q)});return}h.trace("loader-inject",["script",Q.mid,fa]);h.injectUrl(Ra(fa),ja,Q)}}},kb=function(Q,aa,fa){h.trace("loader-define-module",[Q.mid,aa]);var ja=Q.mid;if(2===Q.injected)return Z("error",u("multipleDefine",Q)),Q;m(Q,{deps:aa,def:fa,cjs:{id:Q.mid,uri:Q.url,exports:Q.result={},setExports:function(ta){Q.cjs.exports=ta},config:function(){return Q.config}}});for(var la=0;aa[la];la++)aa[la]=Ea(aa[la],Q);x&&!U[ja]&&(O(Q),G.push(Q),Oa());ha(Q);e(fa)||aa.length||(Q.result=fa,Ja(Q));return Q},
jb=function(Q,aa){for(var fa=[],ja,la;N.length;)la=N.shift(),aa&&(la[0]=aa.shift()),ja=la[0]&&Ea(la[0])||Q,fa.push([ja,la[1],la[2]]);da(Q);c(fa,function(ta){O(kb.apply(null,ta))})},ob=k,nb=k;z("dom");if(z("dom")){var bb=function(Q,aa,fa,ja){Q.addEventListener(aa,ja,!1);return function(){Q.removeEventListener(aa,ja,!1)}},ub=bb(window,"load","onload",function(){h.pageLoaded=1;try{"complete"!=D.readyState&&(D.readyState="complete")}catch(Q){}ub()});var vb=D.getElementsByTagName("script");for(f=0;!ca;)/^dojo/.test((w=
vb[f++])&&w.type)||(ca=w);h.injectUrl=function(Q,aa,fa){fa=fa.node=D.createElement("script");var ja=bb(fa,"load","onreadystatechange",function(ta){ta=ta||window.event;var Aa=ta.target||ta.srcElement;if("load"===ta.type||/complete|loaded/.test(Aa.readyState))ja(),la(),aa&&aa()}),la=bb(fa,"error","onerror",function(ta){ja();la();Z("error",u("scriptError: "+Q,[Q,ta]))});fa.type="text/javascript";fa.charset="utf-8";fa.src=Q;ca.parentNode.insertBefore(fa,ca);return fa}}h.log=k;h.trace=k;if(z("foreign-loader"))Va=
k;else{var Va=function(Q,aa,fa){var ja=arguments.length,la=["require","exports","module"],ta=[0,Q,aa];1==ja?ta=[0,e(Q)?la:[],Q]:2==ja&&l(Q)?ta=[Q,e(aa)?la:[],aa]:3==ja&&(ta=[Q,aa,fa]);h.trace("loader-define",ta.slice(0,2));(ja=ta[0]&&Ea(ta[0]))&&!U[ja.mid]?O(kb(ja,ta[1],ta[2])):N.push(ta)};Va.amd={vendor:"dojotoolkit.org"}}m(m(h,b.loaderPatch),a.loaderPatch);ba("error",function(Q){try{if(console.error(Q),Q instanceof Error){for(var aa in Q)console.log(aa+":",Q[aa]);console.log(".")}}catch(fa){}});
m(h,{uid:n,cache:R,packs:oa});if(!q.define&&(q.define=Va,q.require=h,!z("foreign-loader"))){c(wa,function(Q){va(Q)});var lb=X.deps||a.deps||b.deps,mb=X.callback||a.callback||b.callback;h.boot=lb||mb?[lb||[],mb]:0}})(function(a){return a.dojoConfig||a.djConfig||a.require||{}},{async:1,hasCache:{"config-selectorEngine":"lite","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1},packages:[{location:".",name:"dojo"},{location:"../esri",name:"esri"}]});
require({cache:{"esri/config":function(){define(["module","./core/has","./core/object"],function(a,b,C){b={analysisTheme:{accentColor:[255,128,0],textColor:"white"},apiKey:void 0,applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",
routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:"arcgis.com arcgisonline.com esrikr.com premiumservices.blackbridge.com esripremium.accuweather.com gbm.digitalglobe.com firstlook.digitalglobe.com msi.digitalglobe.com".split(" "),interceptors:[],maxUrlLength:2E3,priority:"high",proxyRules:[],proxyUrl:null,timeout:6E4,trustedServers:[],
useIdentity:!0},log:{interceptors:[],level:null}};globalThis.esriConfig&&(C.deepMerge(b,globalThis.esriConfig,!0),delete b.has);b.assetsPath||(a=(new URL(a.uri,document.baseURI)).href,b.assetsPath=a.slice(0,a.lastIndexOf("esri/")),b.defaultAssetsPath=b.assetsPath);return b})},"esri/core/has":function(){define(function(){function a(C){return"function"===typeof b[C]?b[C]=b[C](globalThis):b[C]}let b;b=globalThis.dojoConfig?.has||globalThis.esriConfig?.has?{...globalThis.dojoConfig?.has,...globalThis.esriConfig?.has}:
{};a.add=(C,w,f,t)=>{if(t||"undefined"===typeof b[C])b[C]=w;return f&&a(C)};a.cache=b;a.add("esri-deprecation-warnings",!0);(()=>{a.add("host-webworker","undefined"!==typeof globalThis.WorkerGlobalScope&&self instanceof globalThis.WorkerGlobalScope);var C="undefined"!==typeof window&&"undefined"!==typeof location&&"undefined"!==typeof document&&window.location===location&&window.document===document;a.add("host-browser",C);a.add("dom",C);if(a("host-browser")){var w=navigator;C=w.userAgent;w=w.appVersion;
const t=parseFloat(w);a.add("edge",parseFloat(C.split("Edge/")[1])||void 0);a.add("webkit",!a("edge")&&parseFloat(C.split("WebKit/")[1])||void 0);a.add("chrome",!a("edge")&&parseFloat(C.split("Chrome/")[1])||void 0);a.add("safari",!w.includes("Safari")||a("chrome")||a("edge")?void 0:parseFloat(w.split("Version/")[1]));a.add("mac",w.includes("Macintosh"));if(C.match(/(iPhone|iPod|iPad)/)){const k=RegExp.$1.replace(/P/,"p");var f=C.match(/OS ([\d_]+)/)?RegExp.$1:"1";f=parseFloat(f.replace(/_/,".").replace(/_/g,
""));a.add(k,f);a.add("ios",f)}a.add("trident",parseFloat(w.split("Trident/")[1])||void 0);a("webkit")||(!C.includes("Gecko")||a("trident")||a("edge")||a.add("mozilla",t),a("mozilla")&&a.add("ff",parseFloat(C.split("Firefox/")[1]||C.split("Minefield/")[1])||void 0))}})();(()=>{if(globalThis.navigator){var C=navigator.userAgent;const w=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(C);C=/iPhone/i.test(C);w&&a.add("esri-mobile",w);C&&a.add("esri-iPhone",C);a.add("esri-geolocation",
!!navigator.geolocation)}a.add("esri-canvas-svg-support",!a("trident"));a.add("esri-wasm","WebAssembly"in globalThis);a.add("esri-shared-array-buffer",()=>{const w=!1===globalThis.crossOriginIsolated;return"SharedArrayBuffer"in globalThis&&!w});a.add("wasm-simd",()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])));a.add("esri-atomics","Atomics"in globalThis);a.add("esri-workers","Worker"in globalThis);a.add("web-feat:cache","caches"in
globalThis);a.add("esri-workers-arraybuffer-transfer",!a("safari")||12<=Number(a("safari")));a.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]);a.add("featurelayer-simplify-payload-size-factors",[1,1,4]);a.add("featurelayer-snapshot-enabled",!0);a.add("featurelayer-snapshot-point-min-threshold",8E4);a.add("featurelayer-snapshot-point-max-threshold",4E5);a.add("featurelayer-snapshot-point-coverage",.1);a.add("featurelayer-advanced-symbols",!1);a.add("featurelayer-pbf",!0);a.add("featurelayer-pbf-statistics",
!1);a.add("feature-layers-workers",!0);a.add("feature-polyline-generalization-factor",1);a.add("mapview-transitions-duration",200);a.add("mapview-srswitch-adjust-rotation-scale-threshold",24E6);a.add("mapserver-pbf-enabled",!1);a.add("mapimagelayer-popup-identify-max-tolerance",20);a.add("heatmap-allow-raster-fallback",!0);a.add("heatmap-force-raster",!1);!a("host-webworker")&&a("host-browser")&&(a.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),a.add("esri-image-decode",
()=>{if("decode"in new Image){const w=new Image;w.src='data:image/svg+xml;charset\x3dUTF-8,\x3csvg version\x3d"1.1" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3c/svg\x3e';w.decode().then(()=>{a.add("esri-image-decode",!0,!0,!0)}).catch(()=>{a.add("esri-image-decode",!1,!0,!0)})}else return!1}),a.add("esri-url-encodes-apostrophe",()=>{const w=window.document.createElement("a");w.href="?'";return w.href.includes("?%27")}))})();return a})},"esri/core/object":function(){define(["exports","./lang"],function(a,
b){function C(f,t,k){for(const p of f){if(null==k)return;if(!(p in k))if(t)k[p]={};else return;k=k[p]}return k}function w(f,t,k){return t?Object.keys(t).reduce((p,d)=>{let e=p[d],l=t[d];if(e===l)return p;if(void 0===e)return p[d]=b.clone(l),p;if(Array.isArray(l)||Array.isArray(p))e=e?Array.isArray(e)?p[d]=e.concat():p[d]=[e]:p[d]=[],l&&(Array.isArray(l)||(l=[l]),k?l.forEach(g=>{e.includes(g)||e.push(g)}):p[d]=l.concat());else if(l&&"object"===typeof l)p[d]=w(e,l,k);else if(!p.hasOwnProperty(d)||t.hasOwnProperty(d))p[d]=
l;return p},f||{}):f}a.deepMerge=function(f,t,k=!1){return w(f,t,k)};a.getDeepValue=function(f,t){if(null!=t)return t[f]||C(f.split("."),!1,t)};a.setDeepValue=function(f,t,k){const p=f.split(".");f=p.pop();(k=C(p,!0,k))&&f&&(k[f]=t)};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/lang":function(){define(["exports","./arrayUtils","./maybe","./typedArrayUtil"],function(a,b,C,w){function f(c,m){let u;if(m)for(u in c)c.hasOwnProperty(u)&&(void 0===
c[u]?delete c[u]:c[u]instanceof Object&&f(c[u],!0));else for(u in c)c.hasOwnProperty(u)&&void 0===c[u]&&delete c[u];return c}function t(c){if(!c||"object"!==typeof c||"function"===typeof c)return c;var m=l(c);if(C.isSome(m))return m;if("function"===typeof c.clone)return c.clone();if(p(c))return c.map(t);if(d(c))return c.clone();m={};for(const u of Object.getOwnPropertyNames(c))m[u]=t(c[u]);return m}function k(c){if(!c||"object"!==typeof c||"function"===typeof c||"HTMLElement"in globalThis&&c instanceof
HTMLElement)return c;var m=l(c);if(C.isSome(m))return m;if(p(c)){let u=!0;c=c.map(r=>{const n=k(r);null!=r&&null==n&&(u=!1);return n});return u?c:null}if("function"===typeof c.clone)return c.clone();if(!d(c)){m=new (Object.getPrototypeOf(c).constructor);for(const u of Object.getOwnPropertyNames(c)){const r=c[u],n=k(r);if(null!=r&&null==n)return null;m[u]=n}return m}return null}function p(c){return"function"===typeof c.map&&"function"===typeof c.forEach}function d(c){return"function"===typeof c.notifyChange&&
"function"===typeof c.watch}function e(c){if("[object Object]"!==Object.prototype.toString.call(c))return!1;c=Object.getPrototypeOf(c);return null===c||c===Object.prototype}function l(c){if(w.isInt8Array(c)||w.isUint8Array(c)||w.isUint8ClampedArray(c)||w.isInt16Array(c)||w.isUint16Array(c)||w.isInt32Array(c)||w.isUint32Array(c)||w.isFloat32Array(c)||w.isFloat64Array(c))return w.slice(c);if(c instanceof Date)return new Date(c.getTime());if(c instanceof ArrayBuffer)return c.slice(0,c.byteLength);if(c instanceof
Map){var m=new Map;for(const [u,r]of c)m.set(u,t(r));return m}if(c instanceof Set){m=new Set;for(const u of c)m.add(t(u));return m}return null}function g(c,m){if(null===c||null===m)return!1;const u=Object.keys(c);if(null===m||Object.keys(m).length!==u.length)return!1;for(const r of u)if(c[r]!==m[r]||!Object.prototype.hasOwnProperty.call(m,r))return!1;return!0}a.clone=t;a.equals=function(c,m){return c===m||"number"===typeof c&&isNaN(c)&&"number"===typeof m&&isNaN(m)||"function"===typeof(c||{}).getTime&&
"function"===typeof(m||{}).getTime&&c.getTime()===m.getTime()||!1};a.equalsShallow=function(c,m){if(c===m)return!0;if(null===c||void 0===c||"string"===typeof c)return c===m;if("number"===typeof c)return c===m||"number"===typeof m&&isNaN(c)&&isNaN(m);if(c instanceof Date)return m instanceof Date&&c.getTime()===m.getTime();if(Array.isArray(c))return Array.isArray(m)&&b.equals(c,m);if(c instanceof Set){var u;if(u=m instanceof Set)a:if(c.size!==m.size)u=!1;else{for(const r of c)if(!m.has(r)){u=!1;break a}u=
!0}return u}if(c instanceof Map){if(u=m instanceof Map)a:if(c.size!==m.size)u=!1;else{for(const [r,n]of c)if(c=m.get(r),c!==n||void 0===c&&!m.has(r)){u=!1;break a}u=!0}return u}return e(c)?e(m)&&g(c,m):!1};a.fixJson=f;a.isAccessorLike=d;a.isPlainObject=e;a.tryClone=k;a.tryCloneBuiltInObject=l;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/arrayUtils":function(){define(["exports","./maybe","./RandomLCG"],function(a,b,C){function w(c){return c}
function f(c,m=w){if(c&&0!==c.length){var u=c[0],r=m(u);for(let n=1;n<c.length;++n){const h=c[n],q=Number(m(h));q>r&&(r=q,u=h)}return u}}function t(c,m,u,r){r=r||e;var n=Math.max(0,r.last-10);for(let h=n;h<u;++h)if(c[h]===m)return r.last=h;u=Math.min(n,u);for(n=0;n<u;++n)if(c[n]===m)return r.last=n;return-1}function k(c){return c?(g.seed=c,()=>g.getFloat()):Math.random}const p=!!Array.prototype.fill;let d=function(){this.last=0};const e=new d,l=new Set,g=new C;a.PositionHint=d;a.binaryFindClosest=
function(c,m,u){if(c&&0!==c.length){var r=c.length-1,n=c[0];if(m<=u(n))return n;n=c[r];if(m>=u(n))return n;var h=0;n=0;for(var q=r;h<q;){n=h+Math.floor((q-h)/2);const v=c[n],z=u(v);if(z===m)return v;if(m<z){if(0<n){q=c[n-1];var D=u(q);if(m>D)return m-D>=z-m?v:q}q=n}else{if(n<r&&(h=c[n+1],D=u(h),m<D))return m-z>=D-m?h:v;h=n+1}}return c[n]}};a.binaryIndexOf=function(c,m,u){const r=c.length;let n=0;for(var h=r-1;n<h;){const q=n+Math.floor((h-n)/2);m>c[q]?n=q+1:h=q}h=c[n];return u?m>=c[r-1]?-1:h===m?
n:n-1:h===m?n:-1};a.constant=function(c,m){if(p)return Array(c).fill(m);const u=Array(c);for(let r=0;r<c;r++)u[r]=m;return u};a.difference=function(c,m,u){let r,n;u?(r=m.filter(h=>!c.some(q=>u(q,h))),n=c.filter(h=>!m.some(q=>u(q,h)))):(r=m.filter(h=>!c.includes(h)),n=c.filter(h=>!m.includes(h)));return{added:r,removed:n}};a.equals=function(c,m,u){if(b.isNone(c)&&b.isNone(m))return!0;if(b.isNone(c)||b.isNone(m)||c.length!==m.length)return!1;if(u)for(let r=0;r<c.length;r++){if(!u(c[r],m[r]))return!1}else for(u=
0;u<c.length;u++)if(c[u]!==m[u])return!1;return!0};a.first=function(c){if(c)return 0<c.length?c[0]:void 0};a.groupToMap=function(c,m){const u=new Map,r=c.length;for(let n=0;n<r;n++){const h=c[n],q=m(h,n,c),D=u.get(q);D?D.push(h):u.set(q,[h])}return u};a.indexOf=t;a.intersect=function(c,m,u){return c&&m?u?c.filter(r=>-1<m.findIndex(n=>u(r,n))):c.filter(r=>m.includes(r)):[]};a.isArrayLike=function(c){return c&&"number"===typeof c.length};a.last=function(c){if(c){var m=c.length;return 0<m?c[m-1]:void 0}};
a.max=f;a.min=function(c,m=w){return f(c,u=>-m(u))};a.pickRandom=function(c,m,u){const r=c.length;if(m>=r)return c.slice(0);u=k(u);const n=new Set,h=[];for(;h.length<m;){const q=Math.floor(u()*r);n.has(q)||(n.add(q),h.push(c[q]))}return h};a.range=function(c,m){void 0===m&&(m=c,c=0);const u=Array(m-c);for(let r=c;r<m;r++)u[r-c]=r;return u};a.remove=function(c,m){const u=c.indexOf(m);return-1!==u?(c.splice(u,1),m):null};a.removeUnordered=function(c,m,u,r){const n=null==u?c.length:u;r=t(c,m,n,r);if(-1!==
r)return c[r]=c[n-1],null==u&&c.pop(),m};a.removeUnorderedMany=function(c,m,u=c.length,r=m.length,n,h){if(0===r||0===u)return u;l.clear();for(let q=0;q<r;++q)l.add(m[q]);n=n||e;m=Math.max(0,n.last-10);for(r=m;r<u;++r)if(l.has(c[r])&&(h&&h.push(c[r]),l.delete(c[r]),c[r]=c[u-1],--u,--r,0===l.size||0===u))return l.clear(),u;for(r=0;r<m;++r)if(l.has(c[r])&&(h&&h.push(c[r]),l.delete(c[r]),c[r]=c[u-1],--u,--r,0===l.size||0===u))return l.clear(),u;l.clear();return u};a.shuffle=function(c,m){m=k(m);for(let u=
c.length-1;0<u;u--){const r=Math.floor(m()*(u+1)),n=c[u];c[u]=c[r];c[r]=n}return c};a.splitIntoChunks=function(c,m){const u=c.length;if(0===u)return[];const r=[];for(let n=0;n<u;n+=m)r.push(c.slice(n,n+m));return r};a.unique=function(c,m){return m?c.filter((u,r,n)=>n.findIndex(m.bind(null,u))===r):c.filter((u,r,n)=>n.indexOf(u)===r)};a.update=function(c,m){let u=c.length!==m.length;u&&(c.length=m.length);for(let r=0;r<m.length;++r)c[r]!==m[r]&&(c[r]=m[r],u=!0);return u};Object.defineProperties(a,
{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/maybe":function(){define(["exports"],function(a){function b(f,t){return null!=f?t(f):null}function C(f,t){if(null==f)throw Error(t??"value is None");}function w(f,t,k){return null!=f?k(f):t}a.abortMaybe=function(f){null!=f&&f.abort();return null};a.applySome=b;a.assertIsSome=C;a.assumeNonNull=function(f){return f};a.destroyMaybe=function(f){null!=f&&f.destroy();return null};a.disposeMaybe=function(f){null!=f&&f.dispose();
return null};a.equalsMaybe=function(f,t,k){return null!=f&&null!=t?null!=k?k(f,t):f.equals(t):f===t};a.filterNones=function(f){return f.filter(t=>null!=t)};a.forEachSome=function(f,t){for(const k of f)b(k,t)};a.get=function(f,...t){for(let k=0;k<t.length&&f;++k)f=f[t[k]];return f};a.isNone=function(f){return null==f};a.isSome=function(f){return null!=f};a.isUndefined=function(f){return void 0===f};a.mapMany=function(f,t){const k=[];for(const p of f)k.push(w(p,null,t));return k};a.mapOr=w;a.mapSome=
function(f,t){const k=[];f.forEach(p=>{p=t(p);null!=p&&k.push(p)});return k};a.mapSomeFirst=function(f,t){for(const k of f)if(f=t(k),null!=f)return f;return null};a.none=null;a.nullifyNonNullableForDispose=function(f){return null};a.releaseMaybe=function(f){null!=f&&f.release();return null};a.removeMaybe=function(f){null!=f&&f.remove();return null};a.unwrap=function(f){return f};a.unwrapOr=function(f,t){return null!=f?f:"function"===typeof t?t():t};a.unwrapOrThrow=function(f,t){C(f,t);return f};a.unwrapOrValue=
function(f,t){return null!=f?f:t};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/RandomLCG":function(){define(["../chunks/_rollupPluginBabelHelpers"],function(a){let b=function(){function C(f=1){this._seed=f}var w=C.prototype;w.getInt=function(){return this._seed=(C._a*this._seed+C._c)%C._m};w.getFloat=function(){return this.getInt()/(C._m-1)};w.getIntRange=function(f,t){return Math.round(this.getFloatRange(f,t))};w.getFloatRange=function(f,
t){t-=f;const k=this.getInt()/C._m;return f+k*t};a._createClass(C,[{key:"seed",set:function(f){this._seed=null==f?Math.random()*C._m:f}}]);return C}();b._m=2147483647;b._a=48271;b._c=0;return b})},"esri/chunks/_rollupPluginBabelHelpers":function(){define(["exports"],function(a){function b(g){function c(n,h){try{var q=g[n](h),D=q.value,v=D instanceof C;Promise.resolve(v?D.v:D).then(function(z){if(v){var B="return"===n?"return":"next";if(!D.k||z.done)return c(B,z);z=g[B](z).value}m(q.done?"return":
"normal",z)},function(z){c("throw",z)})}catch(z){m("throw",z)}}function m(n,h){switch(n){case "return":u.resolve({value:h,done:!0});break;case "throw":u.reject(h);break;default:u.resolve({value:h,done:!1})}(u=u.next)?c(u.key,u.arg):r=null}var u,r;this._invoke=function(n,h){return new Promise(function(q,D){q={key:n,arg:h,resolve:q,reject:D,next:null};r?r=r.next=q:(u=r=q,c(n,h))})};"function"!=typeof g.return&&(this.return=void 0)}function C(g,c){this.v=g;this.k=c}function w(g){function c(m){if(Object(m)!==
m)return Promise.reject(new TypeError(m+" is not an object."));var u=m.done;return Promise.resolve(m.value).then(function(r){return{value:r,done:u}})}return w=function(m){this.s=m;this.n=m.next},w.prototype={s:null,n:null,next:function(){return c(this.n.apply(this.s,arguments))},return:function(m){var u=this.s.return;return void 0===u?Promise.resolve({value:m,done:!0}):c(u.apply(this.s,arguments))},throw:function(m){var u=this.s.return;return void 0===u?Promise.reject(m):c(u.apply(this.s,arguments))}},
new w(g)}function f(g,c,m,u,r,n,h){try{var q=g[n](h),D=q.value}catch(v){m(v);return}q.done?c(D):Promise.resolve(D).then(u,r)}function t(g,c){for(var m=0;m<c.length;m++){var u=c[m];u.enumerable=u.enumerable||!1;u.configurable=!0;"value"in u&&(u.writable=!0);Object.defineProperty(g,u.key,u)}}function k(g){k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(c){return c.__proto__||Object.getPrototypeOf(c)};return k(g)}function p(g,c){p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(m,
u){m.__proto__=u;return m};return p(g,c)}function d(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(g){return!1}}function e(g,c,m){e=d()?Reflect.construct.bind():function(u,r,n){var h=[null];h.push.apply(h,r);u=new (Function.bind.apply(u,h));n&&p(u,n.prototype);return u};return e.apply(null,arguments)}function l(g){var c="function"===
typeof Map?new Map:void 0;l=function(m){function u(){return e(m,arguments,k(this).constructor)}if(null===m||-1===Function.toString.call(m).indexOf("[native code]"))return m;if("function"!==typeof m)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof c){if(c.has(m))return c.get(m);c.set(m,u)}u.prototype=Object.create(m.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}});return p(u,m)};return l(g)}b.prototype["function"==typeof Symbol&&
Symbol.asyncIterator||"@@asyncIterator"]=function(){return this};b.prototype.next=function(g){return this._invoke("next",g)};b.prototype.throw=function(g){return this._invoke("throw",g)};b.prototype.return=function(g){return this._invoke("return",g)};a._assertThisInitialized=function(g){if(void 0===g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g};a._asyncIterator=function(g){var c,m,u,r=2;for("undefined"!=typeof Symbol&&(m=Symbol.asyncIterator,u=Symbol.iterator);r--;){if(m&&
null!=(c=g[m]))return c.call(g);if(u&&null!=(c=g[u]))return new w(c.call(g));m="@@asyncIterator";u="@@iterator"}throw new TypeError("Object is not async iterable");};a._asyncToGenerator=function(g){return function(){var c=this,m=arguments;return new Promise(function(u,r){function n(D){f(q,u,r,n,h,"next",D)}function h(D){f(q,u,r,n,h,"throw",D)}var q=g.apply(c,m);n(void 0)})}};a._awaitAsyncGenerator=function(g){return new C(g,0)};a._createClass=function(g,c,m){c&&t(g.prototype,c);m&&t(g,m);Object.defineProperty(g,
"prototype",{writable:!1});return g};a._inheritsLoose=function(g,c){g.prototype=Object.create(c.prototype);g.prototype.constructor=g;p(g,c)};a._wrapAsyncGenerator=function(g){return function(){return new b(g.apply(this,arguments))}};a._wrapNativeSuper=l})},"esri/core/typedArrayUtil":function(){define(["exports","./maybe"],function(a,b){a.estimateSize=function(C){return b.isNone(C)?0:128+C.buffer.byteLength+64};a.forEach=function(C,w){if(C.forEach)C.forEach(w);else for(let f=0;f<C.length;f++)w(C[f],
f,C)};a.isArrayBuffer=function(C){return C instanceof ArrayBuffer||C&&C.constructor&&"ArrayBuffer"===C.constructor.name};a.isFloat32Array=function(C){return C instanceof Float32Array||C&&C.constructor&&"Float32Array"===C.constructor.name};a.isFloat64Array=function(C){return C instanceof Float64Array||C&&C.constructor&&"Float64Array"===C.constructor.name};a.isInt16Array=function(C){return C instanceof Int16Array||C&&C.constructor&&"Int16Array"===C.constructor.name};a.isInt32Array=function(C){return C instanceof
Int32Array||C&&C.constructor&&"Int32Array"===C.constructor.name};a.isInt8Array=function(C){return C instanceof Int8Array||C&&C.constructor&&"Int8Array"===C.constructor.name};a.isUint16Array=function(C){return C instanceof Uint16Array||C&&C.constructor&&"Uint16Array"===C.constructor.name};a.isUint32Array=function(C){return C instanceof Uint32Array||C&&C.constructor&&"Uint32Array"===C.constructor.name};a.isUint8Array=function(C){return C instanceof Uint8Array||C&&C.constructor&&"Uint8Array"===C.constructor.name};
a.isUint8ClampedArray=function(C){return C instanceof Uint8ClampedArray||C&&C.constructor&&"Uint8ClampedArray"===C.constructor.name};a.slice=function(C,w,f){if(C.slice)return C.slice(w,f);void 0===w?w=0:(0>w&&(w+=C.length),w=Math.min(C.length,Math.max(0,w)));void 0===f?f=C.length:(0>f&&(f+=C.length),f=Math.min(C.length,Math.max(0,f)));f=Math.max(0,f-w);const t=new C.constructor(f);for(let k=0;k<f;k++)t[k]=C[w+k];return t};a.toArray=function(C){const w=Array(C.length);for(let f=0;f<C.length;f++)w[f]=
C[f];return w};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/kernel":function(){define("require exports ./chunks/_rollupPluginBabelHelpers ./core/has ./core/urlUtils ./support/revision".split(" "),function(a,b,C,w,f,t){b.id=void 0;w("host-webworker")||console.debug(`Using ArcGIS API for JavaScript ${"4.25"} [Date: ${t.buildDate}, Revision: ${t.commitHash.slice(0,8)}]`);b.buildDate=t.buildDate;b.revision=t.commitHash;b.addTokenParameter=function(k){const p=
b.id&&b.id.findCredential(k);return p&&p.token?f.addQueryParameter(k,"token",p.token):k};b.setId=function(k){b.id=k};b.version="4.25";b.workerMessages={request(k,p){return C._asyncToGenerator(function*(){var {default:d}=yield new Promise((g,c)=>a(["./request"],m=>g(Object.freeze(Object.defineProperty({__proto__:null,default:m},Symbol.toStringTag,{value:"Module"}))),c)),e=k.options;const l=e.responseType;e.signal=p?.signal;e.responseType="native"===l||"native-request-init"===l?"native-request-init":
l&&["blob","json","text"].includes(l)&&f.getInterceptor(k.url)?.after?l:"array-buffer";d=yield d(k.url,e);e={data:d.data,ssl:d.ssl};switch(d.requestOptions?.responseType){case "native-request-init":return delete e.data.signal,e;case "blob":e.data=yield e.data.arrayBuffer();break;case "json":e.data=(new TextEncoder).encode(JSON.stringify(e.data)).buffer;break;case "text":e.data=(new TextEncoder).encode(e.data).buffer}return{result:e,transferList:[e.data]}})()}};Object.defineProperties(b,{__esModule:{value:!0},
[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/urlUtils":function(){define(["exports","../config","./Error","./Logger","./maybe"],function(a,b,C,w,f){function t(O){if(!O)return null;const W={path:null,query:null},L=new T(O),G=O.indexOf("?");null===L.query?W.path=O:(W.path=O.substring(0,G),W.query=k(L.query));L.fragment&&(W.hash=L.fragment,null===L.query&&(W.path=W.path.substring(0,W.path.length-(L.fragment.length+1))));return W}function k(O){var W=O.split("\x26");O={};for(const G of W){if(!G)continue;
var L=G.indexOf("\x3d");0>L?(W=decodeURIComponent(G),L=""):(W=decodeURIComponent(G.slice(0,L)),L=decodeURIComponent(G.slice(L+1)));let N=O[W];"string"===typeof N&&(N=O[W]=[N]);Array.isArray(N)?N.push(L):O[W]=L}return O}function p(O){return O&&"object"===typeof O&&"toJSON"in O&&"function"===typeof O.toJSON}function d(O,W){return O?W&&"function"===typeof W?Object.keys(O).map(L=>encodeURIComponent(L)+"\x3d"+encodeURIComponent(W(L,O[L]))).join("\x26"):Object.keys(O).map(L=>{const G=O[L];if(null==G)return"";
const N=encodeURIComponent(L)+"\x3d";return(L=W&&W[L])?N+encodeURIComponent(L(G)):Array.isArray(G)?G.map(U=>p(U)?N+encodeURIComponent(JSON.stringify(U)):N+encodeURIComponent(U)).join("\x26"):p(G)?N+encodeURIComponent(JSON.stringify(G)):N+encodeURIComponent(G)}).filter(L=>L).join("\x26"):""}function e(O){const W=O.indexOf("?");-1!==W?(sa.path=O.slice(0,W),sa.query=O.slice(W+1)):(sa.path=O,sa.query=null);return sa}function l(O){O=e(O).path;O&&"/"===O[O.length-1]||(O=`${O}/`);O=S(O,!0);return O=O.toLowerCase()}
function g(O){const W=ia.proxyRules;O=l(O);for(let L=0;L<W.length;L++)if(0===O.indexOf(W[L].urlPrefix))return W[L]}function c(O){O=r(O);const W=O.indexOf("/sharing");return 0<W?O.substring(0,W):O.replace(/\/+$/,"")}function m(O,W,L=!1){if(!O||!W)return!1;O=Z(O);W=Z(W);return!L&&O.scheme!==W.scheme||null==O.host||null==W.host?!1:O.host.toLowerCase()===W.host.toLowerCase()&&O.port===W.port}function u(O,W=na,L){if(A(O))return L&&L.preserveProtocolRelative?O:"http"===da.scheme&&da.authority===h(O).slice(2)?
`http:${O}`:`https:${O}`;if(!F(O)){L=f.assumeNonNull;var G=n;if("/"===O[0]){var N=W.indexOf("//");N=W.indexOf("/",N+2);W=-1===N?W:W.slice(0,N)}return L.call(f,G(W,O))}return O}function r(O){O=O.trim();O=u(O);if(/^https?:\/\//i.test(O)){const W=e(O);O=W.path.replace(/\/{2,}/g,"/");O=O.replace("/","//");W.query&&(O+=`?${W.query}`)}O=O.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2");return O=V(O)}function n(...O){var W=O.filter(f.isSome);if(W&&W.length){O=[];if(q(W[0])){var L=W[0],G=L.indexOf("//");
-1!==G&&(O.push(L.slice(0,G+1)),H(W[0])&&(O[0]+="/"),W[0]=L.slice(G+2))}else"/"===W[0][0]&&O.push("");W=W.reduce((N,U)=>U?N.concat(U.split("/")):N,[]);for(L=0;L<W.length;L++)G=W[L],".."===G&&0<O.length&&".."!==O[O.length-1]?O.pop():(!G&&L===W.length-1||G&&("."!==G||0===O.length))&&O.push(G);return O.join("/")}}function h(O,W=!1){if(null==O||D(O)||v(O))return null;var L=O.indexOf("://");if(-1===L&&A(O))L=2;else if(-1!==L)L+=3;else return null;L=O.indexOf("/",L);-1!==L&&(O=O.slice(0,L));W&&(O=S(O,!0));
return O}function q(O){return A(O)||F(O)}function D(O){return null!=O&&"blob:"===O.slice(0,5)}function v(O){return null!=O&&"data:"===O.slice(0,5)}function z(O){O=B(O);if(!O||!O.isBase64)return null;O=atob(O.data);const W=new Uint8Array(O.length);for(let L=0;L<O.length;L++)W[L]=O.charCodeAt(L);return W.buffer}function B(O){O=O.match(ya);if(!O)return null;const [,W,L,G]=O;return{mediaType:W,isBase64:!!L,data:G}}function E(O){const W=z(O);if(!W)return null;O=B(O);return new Blob([W],{type:O.mediaType})}
function x(O,W){if(!O)return!1;const L=document.createElement("a");if(!("download"in L))return!1;O=URL.createObjectURL(O);L.download=W;L.href=O;L.style.display="none";document.body.appendChild(L);L.click();document.body.removeChild(L);URL.revokeObjectURL(O);return!0}function y(O,W){return window.navigator.msSaveOrOpenBlob?window.navigator.msSaveOrOpenBlob(O,W):!1}function A(O){return null!=O&&"/"===O[0]&&"/"===O[1]}function F(O){return null!=O&&ea.test(O)}function K(O){return null!=O&&oa.test(O)||
"https"===da.scheme&&A(O)}function M(O){return null!=O&&ka.test(O)||"http"===da.scheme&&A(O)}function H(O){return null!=O&&ua.test(O)}function I(O){return A(O)?`https:${O}`:O.replace(ka,"https:")}function J(){return"https"===da.scheme}function S(O,W=!1){if(A(O))return O.slice(2);O=O.replace(ea,"");W&&1<O.length&&"/"===O[0]&&"/"===O[1]&&(O=O.slice(2));return O}function V(O){const W=ia.httpsDomains;if(!M(O))return O;const L=O.indexOf("/",7);let G;G=-1===L?O:O.slice(0,L);G=G.toLowerCase().slice(7);if(ra.test(G))if(G.endsWith(":80"))G=
G.slice(0,-3),O=O.replace(":80","");else return O;if("http"===da.scheme&&G===da.authority&&!qa.test(O))return O;if(J()&&G===da.authority||W&&W.some(N=>G===N||G.endsWith(`.${N}`))||J()&&!g(O))O=I(O);return O}function Z(O){if("string"===typeof O)return new T(u(O));O.scheme||(O.scheme=da.scheme);return O}const ba=w.getLogger("esri.core.urlUtils"),ia=b.request,ea=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,ka=/^\s*http:/i,oa=/^\s*https:/i,ua=/^\s*file:/i,ra=/:\d+$/,qa=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,
P=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),R=RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");let T=function(){function O(W=""){this.uri=W;this.port=this.host=this.password=this.user=this.fragment=this.query=this.path=this.authority=this.scheme=null;W=f.assumeNonNull(this.uri.match(P));this.scheme=W[2]||(W[1]?"":null);this.authority=W[4]||(W[3]?"":null);this.path=W[5];this.query=W[7]||(W[6]?"":null);this.fragment=W[9]||(W[8]?"":null);null!=
this.authority&&(W=f.assumeNonNull(this.authority.match(R)),this.user=W[3]||null,this.password=W[4]||null,this.host=W[6]||W[7],this.port=W[9]||null)}O.prototype.toString=function(){return this.uri};return O}();const X={},ca=new T(b.applicationUrl);let da=ca;const ma=function(){var O=f.assumeNonNull(da.path);O=O.substring(0,O.lastIndexOf(O.split("/")[O.split("/").length-1]));return`${`${da.scheme}://${da.host}${null!=da.port?`:${da.port}`:""}`}${O}`}();let na=ma;const sa={path:"",query:""},ya=/^data:(.*?)(;base64)?,(.*)$/,
wa=/([^.]*)\.([^\/]*)$/,va=/(^data:image\/svg|\.svg$)/i;a.Url=T;a.addProxy=function(O){var W=g(O),L=void 0;if(W){var G=e(W.proxyUrl);L=G.path;G=G.query?k(G.query):null}L&&(W=t(O),O=L+"?"+W.path,(L=d({...G,...W.query}))&&(O=`${O}?${L}`));return O};a.addProxyRule=function(O){O={proxyUrl:O.proxyUrl,urlPrefix:l(O.urlPrefix)};const W=ia.proxyRules,L=O.urlPrefix;let G=W.length;for(let N=0;N<W.length;N++){const U=W[N].urlPrefix;if(0===L.indexOf(U)){if(L.length===U.length)return-1;G=N;break}0===U.indexOf(L)&&
(G=N+1)}W.splice(G,0,O);return G};a.addQueryParameter=function(O,W,L){O=t(O);const G=O.query||{};G[W]=String(L);return`${O.path}?${d(G)}`};a.addQueryParameters=function(O,W){O=t(O);const L=O.query||{};for(const G in W)L[G]=W[G];return(W=d(L))?`${O.path}?${W}`:O.path};a.base64UrlEncode=function(O){return btoa(String.fromCharCode.apply(null,O)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")};a.changeDomain=function(O,W,L){if(!(W&&L&&O&&q(O)))return O;const G=O.indexOf("//");var N=O.indexOf("/",
G+2);const U=O.indexOf(":",G+2);N=Math.min(0>N?O.length:N,0>U?O.length:U);if(O.slice(G+2,N).toLowerCase()!==W.toLowerCase())return O;W=O.slice(0,G+2);O=O.slice(N);return`${W}${L}${O}`};a.dataComponents=B;a.dataToArrayBuffer=z;a.dataToBlob=E;a.downloadBlobAsFile=function(O,W){x(O,W)||y(O,W)};a.downloadDataAsFile=function(O,W){var L=(L=E(O))?x(L,W):!1;L||(O=E(O))&&y(O,W)};a.getAppBaseUrl=()=>na;a.getAppUrl=()=>da;a.getFilename=function(O,W){if(!O)return"";O=t(O).path.replace(/\/+$/,"");O=O.substring(O.lastIndexOf("/")+
1);if(!W?.length)return O;W=new RegExp(`.(${W.join("|")})$`,"ig");return O.replace(W,"")};a.getInterceptor=function(O){const W=G=>null==G||G instanceof RegExp&&G.test(O)||"string"===typeof G&&O.startsWith(G),L=ia.interceptors;if(L)for(const G of L)if(Array.isArray(G.urls)){if(G.urls.some(W))return G}else if(W(G.urls))return G;return null};a.getOrigin=h;a.getPathExtension=function(O){return f.isNone(O)?null:(O=O.match(wa))?O[2]:null};a.getProxyRule=g;a.getProxyUrl=function(O=!1){let W,L=ia.proxyUrl;
if("string"===typeof O){if(W=K(O),O=g(O))L=O.proxyUrl}else W=!!O;if(!L)throw ba.warn("esri/config: esriConfig.request.proxyUrl is not set."),new C("urlutils:proxy-not-set","esri/config: esriConfig.request.proxyUrl is not set.");W&&J()&&(L=I(L));return t(L)};a.hasProtocol=F;a.hasSameOrigin=m;a.hasSamePortal=function(O,W){O=c(O);W=c(W);return S(O)===S(W)};a.isAbsolute=q;a.isAppHTTPS=J;a.isBlobProtocol=D;a.isDataProtocol=v;a.isHTTPSProtocol=K;a.isProtocolRelative=A;a.isSVG=function(O){return va.test(O)};
a.isTrustedServer=function(O){if("string"===typeof O)if(q(O))O=Z(O);else return!0;if(m(O,da))return!0;const W=ia.trustedServers||[];for(let G=0;G<W.length;G++){var L=W[G];X[L]||(F(L)||A(L)?X[L]=[new T(u(L))]:X[L]=[new T(`http://${L}`),new T(`https://${L}`)]);L=X[L];for(let N=0;N<L.length;N++)if(m(O,L[N]))return!0}return!1};a.join=n;a.makeAbsolute=u;a.makeData=function(O){return O.isBase64?`data:${O.mediaType};base64,${O.data}`:`data:${O.mediaType},${O.data}`};a.makeRelative=function(O,W=na,L){if(null==
O||!q(O))return O;var G=r(O),N=G.toLowerCase();W=r(W).toLowerCase().replace(/\/+$/,"");if((L=L?r(L).toLowerCase().replace(/\/+$/,""):null)&&0!==W.indexOf(L))return O;const U=(pa,za,xa)=>{xa=pa.indexOf(za,xa);return-1===xa?pa.length:xa};let Y=U(N,"/",N.indexOf("//")+2),ha=-1;for(;N.slice(0,Y+1)===W.slice(0,Y)+"/";){ha=Y+1;if(Y===N.length)break;Y=U(N,"/",Y+1)}if(-1===ha||L&&ha<L.length)return O;O=G.slice(ha);G=W.slice(ha-1).replace(/[^/]+/g,"").length;if(0<G)for(N=0;N<G;N++)O=`../${O}`;else O=`./${O}`;
return O};a.normalize=r;a.objectToQuery=d;a.queryToObject=k;a.removeFile=function(O){let W=0;if(q(O)){var L=O.indexOf("//");-1!==L&&(W=L+2)}L=O.lastIndexOf("/");return L<W?O:O.slice(0,L+1)};a.removeQueryParameter=function(O,W){const {path:L,query:G}=t(O);if(!G)return O;delete G[W];return(O=d(G))?`${L}?${O}`:L};a.removeQueryParameters=function(O,W){O=t(O);const L=Object.keys(O.query||{});0<L.length&&W&&W.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${L.join(", ")}.`);
return O.path};a.removeTrailingSlash=function(O){return O.replace(/\/+$/,"")};a.splitPathExtension=function(O){if(f.isNone(O))return null;const W=O.match(wa);return W?{path:W[1],extension:W[2]}:{path:O,extension:null}};a.test={setAppUrl:O=>da=O,setAppBaseUrl:O=>na=O,restoreUrls:()=>{da=ca;na=ma}};a.toHTTP=function(O){return A(O)?`http:${O}`:O.replace(oa,"http:")};a.toHTTPS=I;a.trustedServersUrlCache=X;a.urlToObject=t;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/core/Error":function(){define(["../chunks/_rollupPluginBabelHelpers","./lang","./Logger","./Message"],function(a,b,C,w){w=function(f){function t(k,p,d){var e=f.call(this,k,p,d)||this;return a._assertThisInitialized(e)instanceof t?e:new t(k,p,d)}a._inheritsLoose(t,f);t.prototype.toJSON=function(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(k,p)=>{if(p&&"object"===typeof p&&"function"===typeof p.toJSON)return p;try{return b.clone(p)}catch(d){return"[object]"}}))}}catch(k){throw C.getLogger("esri.core.Error").error(k),
k;}return{name:this.name,message:this.message,details:this.details}};t.fromJSON=function(k){return new t(k.name,k.message,k.details)};return t}(w);w.prototype.type="error";return w})},"esri/core/Logger":function(){define(["../chunks/_rollupPluginBabelHelpers","../config","./has","./maybe","./string"],function(a,b,C,w,f){const t={info:0,warn:1,error:2,none:3};C=function(){function k(d){this.level=null;this._module="";this.writer=this._parent=null;this._loggedMessages={error:new Map,warn:new Map,info:new Map};
null!=d.level&&(this.level=d.level);null!=d.writer&&(this.writer=d.writer);this._module=d.module;k._loggers[this.module]=this;d=this.module.lastIndexOf(".");-1!==d&&(this._parent=k.getLogger(this.module.slice(0,d)))}var p=k.prototype;p.error=function(...d){this._log("error","always",...d)};p.warn=function(...d){this._log("warn","always",...d)};p.info=function(...d){this._log("info","always",...d)};p.errorOnce=function(...d){this._log("error","once",...d)};p.warnOnce=function(...d){this._log("warn",
"once",...d)};p.infoOnce=function(...d){this._log("info","once",...d)};p.errorOncePerTick=function(...d){this._log("error","oncePerTick",...d)};p.warnOncePerTick=function(...d){this._log("warn","oncePerTick",...d)};p.infoOncePerTick=function(...d){this._log("info","oncePerTick",...d)};k.getLogger=function(d){let e=k._loggers[d];e||(e=new k({module:d}));return e};p._log=function(d,e,...l){if(this._matchLevel(d)){if("always"!==e&&!k._throttlingDisabled){const g=this._argsToKey(l),c=this._loggedMessages[d].get(g);
if("once"===e&&null!=c||"oncePerTick"===e&&c&&c>=k._tickCounter)return;this._loggedMessages[d].set(g,k._tickCounter);k._scheduleTickCounterIncrement()}for(const g of b.log.interceptors)if(g(d,this.module,...l))return;this._inheritedWriter()(d,this.module,...l)}};p._parentWithMember=function(d,e){let l=this;for(;w.isSome(l);){const g=l[d];if(w.isSome(g))return g;l=l.parent}return e};p._inheritedWriter=function(){return this._parentWithMember("writer",this._consoleWriter)};p._consoleWriter=function(d,
e,...l){console[d](`[${e}]`,...l)};p._matchLevel=function(d){return t[this._parentWithMember("level",b.log.level?b.log.level:"warn")]<=t[d]};p._argsToKey=function(...d){return f.numericHash(JSON.stringify(d,(e,l)=>"object"!==typeof l||Array.isArray(l)?l:"[Object]"))};k._scheduleTickCounterIncrement=function(){k._tickCounterScheduled||(k._tickCounterScheduled=!0,Promise.resolve().then(()=>{k._tickCounter++;k._tickCounterScheduled=!1}))};a._createClass(k,[{key:"module",get:function(){return this._module}},
{key:"parent",get:function(){return this._parent}},{key:"test",get:function(){const d=this;return{loggedMessages:d._loggedMessages,clearLoggedWarnings(){return d._loggedMessages.warn.clear()}}}}],[{key:"testSingleton",get:function(){return{resetLoggers(d={}){const e=k._loggers;k._loggers=d;return e},set throttlingDisabled(d){k._throttlingDisabled=d}}}}]);return k}();C._loggers={};C._tickCounter=0;C._tickCounterScheduled=!1;C._throttlingDisabled=!1;return C})},"esri/core/string":function(){define(["exports",
"./object"],function(a,b){function C(f){return null==f?"":f}const w=/\{([^\}]+)\}/g;a.escapeRegExpString=function(f,t){return f.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,k=>t&&t.includes(k)?k:`\\${k}`)};a.numericHash=function(f){let t=0;for(let k=0;k<f.length;k++)t=(t<<5)-t+f.charCodeAt(k),t|=0;return t};a.replace=function(f,t){return f.replace(w,"object"===typeof t?(k,p)=>C(b.getDeepValue(p,t)):(k,p)=>C(t(p)))};a.stripHTML=function(f){return(new DOMParser).parseFromString(f||"","text/html").body.innerText||
""};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/Message":function(){define(["./object"],function(a){function b(C,w){return C.replace(/\$\{([^\s:\}]*)(?::([^\s:\}]+))?\}/g,(f,t)=>{if(""===t)return"$";f=a.getDeepValue(t,w);f=null==f?"":f;if("undefined"===typeof f)throw Error(`could not find key "${t}" in template`);return f.toString()})}return function(){function C(w,f,t){this.name=w;this.details=t;this instanceof C&&(this.message=(f&&b(f,t))??
"")}C.prototype.toString=function(){return"["+this.name+"]: "+this.message};return C}()})},"esri/support/revision":function(){define(["exports"],function(a){a.buildDate="20221118";a.commitHash="0e42cfb107b6254427b6d5409055401113afd21d";Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/workers/RemoteClient":function(){define("require ../../kernel ../Error ../events ../maybe ../promiseUtils ./utils ../../support/revision".split(" "),function(a,b,
C,w,f,t,k,p){const d=q=>Object.freeze(Object.defineProperty({__proto__:null,default:q},Symbol.toStringTag,{value:"Module"})),e={statsWorker:()=>new Promise((q,D)=>a(["../../smartMapping/statistics/support/statsWorker"],q,D)),geometryEngineWorker:()=>new Promise((q,D)=>a(["../../geometry/geometryEngineWorker"],q,D)),CSVSourceWorker:()=>new Promise((q,D)=>a(["../../layers/graphics/sources/support/CSVSourceWorker"],v=>q(d(v)),D)),EdgeProcessingWorker:()=>new Promise((q,D)=>a(["../../views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker"],
v=>q(d(v)),D)),ElevationSamplerWorker:()=>new Promise((q,D)=>a(["../../geometry/support/meshUtils/ElevationSamplerWorker"],v=>q(d(v)),D)),FeatureServiceSnappingSourceWorker:()=>new Promise((q,D)=>a(["../../views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceSnappingSourceWorker"],v=>q(d(v)),D)),GeoJSONSourceWorker:()=>new Promise((q,D)=>a(["../../layers/graphics/sources/geojson/GeoJSONSourceWorker"],v=>q(d(v)),D)),LercWorker:()=>new Promise((q,D)=>a(["../../layers/support/LercWorker"],
v=>q(d(v)),D)),MemorySourceWorker:()=>new Promise((q,D)=>a(["../../layers/graphics/sources/support/MemorySourceWorker"],v=>q(d(v)),D)),PBFDecoderWorker:()=>new Promise((q,D)=>a(["../../views/3d/support/PBFDecoderWorker"],v=>q(d(v)),D)),Pipeline:()=>new Promise((q,D)=>a(["../../views/2d/layers/features/Pipeline"],v=>q(d(v)),D)),PointCloudWorker:()=>new Promise((q,D)=>a(["../../views/3d/layers/PointCloudWorker"],v=>q(d(v)),D)),RasterWorker:()=>new Promise((q,D)=>a(["../../layers/support/RasterWorker"],
v=>q(d(v)),D)),SceneLayerSnappingSourceWorker:()=>new Promise((q,D)=>a(["../../views/interactive/snapping/featureSources/sceneLayerSource/SceneLayerSnappingSourceWorker"],v=>q(d(v)),D)),SceneLayerWorker:()=>new Promise((q,D)=>a(["../../views/3d/layers/SceneLayerWorker"],q,D)),WFSSourceWorker:()=>new Promise((q,D)=>a(["../../layers/graphics/sources/WFSSourceWorker"],v=>q(d(v)),D)),WorkerTileHandler:()=>new Promise((q,D)=>a(["../../views/2d/engine/vectorTiles/WorkerTileHandler"],v=>q(d(v)),D))},{CLOSE:l,
ABORT:g,INVOKE:c,RESPONSE:m,OPEN_PORT:u,ON:r}=k.MessageType;let n=function(){function q(v){this._timer=null;this._cancelledJobIds=new Set;this._invokeMessages=[];this._invoke=v;this._timer=null;this._process=this._process.bind(this)}var D=q.prototype;D.push=function(v){v.type===k.MessageType.ABORT?this._cancelledJobIds.add(v.jobId):(this._invokeMessages.push(v),null===this._timer&&(this._timer=setTimeout(this._process,0)))};D.clear=function(){this._invokeMessages.length=0;this._cancelledJobIds.clear();
this._timer=null};D._process=function(){this._timer=null;for(const v of this._invokeMessages)this._cancelledJobIds.has(v.jobId)||this._invoke(v);this._cancelledJobIds.clear();this._invokeMessages.length=0};return q}(),h=function(){function q(v,z,B){this._port=v;this._getNextJob=B;this._outJobs=new Map;this._inJobs=new Map;this._invokeQueue=new n(E=>this._onInvokeMessage(E));this._client=z.client;this._onMessage=this._onMessage.bind(this);this._channel=z.channel;this._schedule=z.schedule;this._port.addEventListener("message",
this._onMessage);this._port.start()}q.connect=function(v){const z=new MessageChannel;v="function"===typeof v?new v:"default"in v&&"function"===typeof v.default?new v.default:v;const B=new q(z.port1,{channel:z,client:v},()=>null);"object"===typeof v&&"remoteClient"in v&&(v.remoteClient=B);q.clients.set(B,v);return z.port2};q.loadWorker=function(v){return(v=e[v])?v():Promise.resolve(null)};var D=q.prototype;D.close=function(){this._post({type:l});this._close()};D.isBusy=function(){return 0<this._outJobs.size};
D.invoke=function(v,z,B){const E=B&&B.signal,x=B&&B.transferList;if(!this._port)return Promise.reject(new C("worker:port-closed",`Cannot call invoke('${v}'), port is closed`,{methodName:v,data:z}));const y=k.newJobId();return new Promise((A,F)=>{if(t.isAborted(E))this._processWork(),F(t.createAbortError());else{var K=t.onAbort(E,()=>{const M=this._outJobs.get(y);M&&(this._outJobs.delete(y),this._processWork(),f.removeMaybe(M.abortHandle),this._post({type:g,jobId:y}),F(t.createAbortError()))});this._outJobs.set(y,
{resolve:A,reject:F,abortHandle:K,debugInfo:v});this._post({type:c,jobId:y,methodName:v,abortable:null!=E},z,x)}})};D.on=function(v,z){function B(x){z(x.data)}const E=new MessageChannel;this._port.postMessage({type:k.MessageType.ON,eventType:v,port:E.port2},[E.port2]);E.port1.addEventListener("message",B);E.port1.start();return{remove(){E.port1.postMessage({type:k.MessageType.CLOSE});E.port1.close();E.port1.removeEventListener("message",B)}}};D.jobAdded=function(){this._processWork()};D.openPort=
function(){const v=new MessageChannel;this._post({type:u,port:v.port2});return v.port1};D._processWork=function(){if(!(2<=this._outJobs.size)){var v=this._getNextJob();if(v){var {methodName:z,data:B,invokeOptions:E,deferred:x}=v;this.invoke(z,B,E).then(y=>x.resolve(y)).catch(y=>x.reject(y))}}};D._close=function(){this._channel&&(this._channel=void 0);this._port.removeEventListener("message",this._onMessage);this._port.close();this._outJobs.forEach(v=>{f.removeMaybe(v.abortHandle);v.reject(t.createAbortError(`Worker closing, aborting job calling '${v.debugInfo}'`))});
this._inJobs.clear();this._outJobs.clear();this._invokeQueue.clear();this._port=this._client=this._schedule=null};D._onMessage=function(v){f.isSome(this._schedule)?this._schedule(()=>this._processMessage(v)):this._processMessage(v)};D._processMessage=function(v){if(v=k.receiveMessage(v))switch(v.type){case m:this._onResponseMessage(v);break;case c:this._invokeQueue.push(v);break;case g:this._onAbortMessage(v);break;case l:this._onCloseMessage();break;case u:this._onOpenPortMessage(v);break;case r:this._onOnMessage(v)}};
D._onAbortMessage=function(v){const z=this._inJobs,B=v.jobId,E=z.get(B);this._invokeQueue.push(v);E&&(E.controller&&E.controller.abort(),z.delete(B))};D._onCloseMessage=function(){const v=this._client;this._close();v&&"destroy"in v&&q.clients.get(this)===v&&v.destroy();q.clients.delete(this);v&&v.remoteClient&&(v.remoteClient=null)};D._onInvokeMessage=function(v){const {methodName:z,jobId:B,data:E,abortable:x}=v;v=x?new AbortController:null;const y=this._inJobs;let A=this._client,F=A[z],K;try{if(!F&&
z&&z.includes(".")){const M=z.split(".");for(let H=0;H<M.length-1;H++)A=A[M[H]],F=A[M[H+1]]}if("function"!==typeof F)throw new TypeError(`${z} is not a function`);K=F.call(A,E,{client:this,signal:v?v.signal:null})}catch(M){this._post({type:m,jobId:B,error:k.toInvokeError(M)});return}t.isPromiseLike(K)?(y.set(B,{controller:v,promise:K}),K.then(M=>{y.has(B)&&(y.delete(B),this._post({type:m,jobId:B},M))},M=>{y.has(B)&&(y.delete(B),t.isAbortError(M)||this._post({type:m,jobId:B,error:k.toInvokeError(M||
{message:`Error encountered at method ${z}`})}))})):this._post({type:m,jobId:B},K)};D._onOpenPortMessage=function(v){new q(v.port,{client:this._client},()=>null)};D._onOnMessage=function(v){const {port:z}=v,B=this._client.on(v.eventType,x=>{z.postMessage(x)}),E=w.on(v.port,"message",x=>{k.receiveMessage(x)?.type===k.MessageType.CLOSE&&(E.remove(),B.remove(),z.close())})};D._onResponseMessage=function(v){const {jobId:z,error:B,data:E}=v;v=this._outJobs;if(v.has(z)){var x=v.get(z);v.delete(z);this._processWork();
f.removeMaybe(x.abortHandle);B?x.reject(C.fromJSON(JSON.parse(B))):x.resolve(E)}};D._post=function(v,z,B){return k.postMessage(this._port,v,z,B)};return q}();h.kernelInfo={revision:p.commitHash,version:b.version,buildDate:p.buildDate};h.clients=new Map;return h})},"esri/core/events":function(){define(["exports"],function(a){function b(f){return f&&("function"===typeof f.on||"function"===typeof f.addEventListener)}function C(f,t,k){if(!b(f))throw new TypeError("target is not a Evented or EventTarget object");
if("on"in f)return f.on(t,k);if(Array.isArray(t)){const p=t.slice();for(const d of p)f.addEventListener(d,k);return{remove(){for(const d of p)f.removeEventListener(d,k)}}}f.addEventListener(t,k);return{remove(){f.removeEventListener(t,k)}}}const w={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};a.eventKey=function({key:f}){return w[f]||
f};a.ieKeyNormalizationMap=w;a.isEventTarget=b;a.on=C;a.once=function(f,t,k){if(!b(f))throw new TypeError("target is not a Evented or EventTarget object");if("once"in f)return f.once(t,k);const p=C(f,t,d=>{p.remove();k.call(f,d)});return{remove(){p.remove()}}};a.pausable=function(f,t,k){let p=!1;const d=C(f,t,e=>{p||k.call(f,e)});return{resume(){p=!1},pause(){p=!0},remove(){d.remove()}}};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/promiseUtils":function(){define("exports ../chunks/_rollupPluginBabelHelpers ./clock ./deprecate ./Error ./events ./Logger ./maybe".split(" "),
function(a,b,C,w,f,t,k,p){function d(){d=b._asyncToGenerator(function*(y,A){const F=y.slice(),K=yield Promise.all(y.map((M,H)=>A(M,H)));return F.filter((M,H)=>K[H])});return d.apply(this,arguments)}function e(y="Aborted"){return new f("AbortError",y)}function l(y,A="Aborted"){if(c(y))throw e(A);}function g(y){return p.isSome(y)?"aborted"in y?y:y.signal:y}function c(y){y=g(y);return p.isSome(y)&&y.aborted}function m(y,A){y=g(y);if(!p.isNone(y))if(y.aborted)A();else return t.once(y,"abort",()=>A())}
function u(y){return"AbortError"===y?.name}function r(){r=b._asyncToGenerator(function*(y){try{return yield y}catch(A){if(!u(A))throw A;}});return r.apply(this,arguments)}function n(){n=b._asyncToGenerator(function*(y,A=k.getLogger("esri")){try{return yield y}catch(F){u(F)||A.error(F)}});return n.apply(this,arguments)}function h(){let y=null;const A=new Promise((F,K)=>{y={promise:void 0,resolve:F,reject:K}});y.promise=A;return y}function q(y){return D.apply(this,arguments)}function D(){D=b._asyncToGenerator(function*(y){if(y){if("function"!==
typeof y.forEach){const A=Object.keys(y),F=A.map(H=>y[H]),K=yield q(F),M={};A.map((H,I)=>M[H]=K[I]);return M}return new Promise(A=>{const F=[];let K=y.length;0===K&&A(F);y.forEach(M=>{const H={promise:M||Promise.resolve(M)};F.push(H);H.promise.then(I=>{H.value=I}).catch(I=>{H.error=I}).then(()=>{--K;0===K&&A(F)})})})}});return D.apply(this,arguments)}function v(){v=b._asyncToGenerator(function*(y){return(yield q(y)).filter(A=>!!A.value).map(A=>A.value)});return v.apply(this,arguments)}function z(y,
A,F){const K=new AbortController;m(F,()=>K.abort());return new Promise((M,H)=>{let I=setTimeout(()=>{I=0;M(A)},y);m(K,()=>{I&&(clearTimeout(I),H(e()))})})}function B(y){return y&&"function"===typeof y.then}function E(y){return B(y)?y:Promise.resolve(y)}function x(){x=b._asyncToGenerator(function*(y){yield Promise.resolve();l(y)});return x.apply(this,arguments)}a.after=z;a.always=function(y,A){return y.then(A,A)};a.create=function(y){w.deprecatedFunction(k.getLogger("esri.core.promiseUtils"),"create",
{moduleName:"esri.core.promiseUtils",replacement:"new Promise()",version:"4.24"});return new Promise((A,F)=>{try{y(A,F)}catch(K){Promise.resolve().then(()=>F(K))}})};a.createAbortError=e;a.createDeferred=h;a.createResolver=function(){let y,A;const F=new Promise((M,H)=>{y=M;A=H}),K=M=>{y(M)};K.resolve=M=>y(M);K.reject=M=>A(M);K.timeout=(M,H)=>C.clock.setTimeout(()=>K.reject(H),M);K.promise=F;return K};a.debounce=function(y,A=-1){let F,K,M,H,I=null;const J=(...S)=>{if(F){K=S;H&&H.reject(e());H=h();
S=p.assumeNonNull(H.promise);if(I){var V=I;I=null;V.abort()}return S}M=H||h();H=null;if(0<A){const ba=new AbortController,ia=F=E(y(...S,ba.signal));z(A).then(()=>{F===ia&&(H?ba.abort():I=ba)})}else F=1,F=E(y(...S));S=()=>{const ba=K;K=M=F=I=null;null!=ba&&J(...ba)};V=F;const Z=M;V.then(S,S);V.then(Z.resolve,Z.reject);return p.assumeNonNull(Z.promise)};return J};a.eachAlways=q;a.eachAlwaysValues=function(y){return v.apply(this,arguments)};a.filter=function(y,A){return d.apply(this,arguments)};a.ignoreAbortErrors=
function(y){return r.apply(this,arguments)};a.isAbortError=u;a.isAborted=c;a.isPromiseLike=B;a.logOnError=function(y){return n.apply(this,arguments)};a.onAbort=m;a.onAbortOrThrow=function(y,A){y=g(y);if(!p.isNone(y))return l(y),t.once(y,"abort",()=>A(e()))};a.throwIfAbortError=function(y){if(u(y))throw y;};a.throwIfAborted=l;a.throwIfNotAbortError=function(y){if(!u(y))throw y;};a.timeout=function(y,A,F,K){const M=F&&"abort"in F?F:null;null!=K||M||(K=F);let H=setTimeout(()=>{H=0;M&&M.abort()},A);const I=
()=>K||new f("promiseUtils:timeout","The wrapped promise did not resolve within "+A+" ms");return y.then(J=>{if(0===H)throw I();clearTimeout(H);return J},J=>{clearTimeout(H);throw 0===H?I():J;})};a.waitTick=function(y){return x.apply(this,arguments)};a.when=E;a.whenOrAbort=function(y,A){const F=g(A);return p.isNone(F)?y:new Promise((K,M)=>{let H=m(A,()=>M(e()));const I=()=>H=p.removeMaybe(H);y.then(I,I);y.then(K,M)})};a.whenOrTimeout=function(y,A,F){return Promise.race([y,z(A).then(()=>{throw new f("timeout",
`Did not resolve within ${A} milliseconds (${F??"timeout"})`);})])};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/clock":function(){define(["exports"],function(a){function b(w){return{setTimeout:(f,t)=>{const k=w.setTimeout(f,t);return{remove:()=>w.clearTimeout(k)}}}}const C=b(globalThis);a.clock=C;a.wrap=b;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/deprecate":function(){define(["exports",
"./has"],function(a,b){function C(t,k,p=!1){p&&f.has(k)||(p&&f.add(k),t.warn(`\ud83d\uded1 DEPRECATED - ${k}`))}function w(t,k,p={}){if(b("esri-deprecation-warnings")){const {replacement:d,version:e,see:l,warnOnce:g}=p;d&&(k+=`\n\t\ud83d\udee0\ufe0f Replacement: ${d}`);e&&(k+=`\n\t\u2699\ufe0f Version: ${e}`);l&&(k+=`\n\t\ud83d\udd17 See ${l} for more details.`);C(t,k,g)}}const f=new Set;a.deprecated=w;a.deprecatedFunction=function(t,k,p={}){if(b("esri-deprecation-warnings")){const {moduleName:d}=
p;w(t,`Function: ${(d?d+"::":"")+k+"()"}`,p)}};a.deprecatedModule=function(t,k,p={}){b("esri-deprecation-warnings")&&w(t,`Module: ${k}`,p)};a.deprecatedProperty=function(t,k,p={}){if(b("esri-deprecation-warnings")){const {moduleName:d}=p;w(t,`Property: ${(d?d+"::":"")+k}`,p)}};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/workers/utils":function(){define(["exports","../has"],function(a,b){function C(p){return p&&"object"===typeof p&&("result"in
p||"transferList"in p)}function w(p){return p?"string"===typeof p?JSON.stringify({name:"message",message:p}):p.toJSON?JSON.stringify(p):JSON.stringify({name:p.name,message:p.message,details:p.details||{stack:p.stack}}):null}function f(p,d,e,l){if(d.type===a.MessageType.OPEN_PORT)p.postMessage(d,[d.port]);else if(d.type!==a.MessageType.INVOKE&&d.type!==a.MessageType.RESPONSE)p.postMessage(d);else if(C(e)?(l=t(e.transferList),d.data=e.result):(l=t(l),d.data=e),l){if(b("ff"))for(const g of l)if("byteLength"in
g&&267386880<g.byteLength)switch(d.type){case a.MessageType.INVOKE:throw"Worker call with large ArrayBuffer would crash Firefox";case a.MessageType.RESPONSE:f(p,{type:a.MessageType.RESPONSE,jobId:d.jobId,error:w("Worker call with large ArrayBuffer would crash Firefox")});return}p.postMessage(d,l)}else p.postMessage(d)}function t(p){if(!p||!p.length)return null;if(b("esri-workers-arraybuffer-transfer"))return p;p=p.filter(d=>!(d instanceof ArrayBuffer||d&&d.constructor&&"ArrayBuffer"===d.constructor.name));
return p.length?p:null}a.MessageType=void 0;(function(p){p[p.HANDSHAKE=0]="HANDSHAKE";p[p.OPEN=1]="OPEN";p[p.OPENED=2]="OPENED";p[p.RESPONSE=3]="RESPONSE";p[p.INVOKE=4]="INVOKE";p[p.ABORT=5]="ABORT";p[p.CLOSE=6]="CLOSE";p[p.OPEN_PORT=7]="OPEN_PORT";p[p.ON=8]="ON"})(a.MessageType||(a.MessageType={}));let k=0;a.isTranferableResult=C;a.newJobId=function(){return k++};a.postMessage=f;a.receiveMessage=function(p){return p?(p=p.data)?"string"===typeof p?JSON.parse(p):p:null:null};a.toInvokeError=w;Object.defineProperties(a,
{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/workers/request":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../Error","../maybe"],function(a,b,C,w){let f;a.execute=function(t,k){let p=k.responseType;p?"array-buffer"!==p&&"blob"!==p&&"json"!==p&&"native"!==p&&"native-request-init"!==p&&"text"!==p&&(p="text"):p="json";k.responseType=p;const d=w.unwrap(k.signal);delete k.signal;return globalThis.invokeStaticMessage("request",{url:t,options:k},
{signal:d}).then(function(){var e=b._asyncToGenerator(function*(l){let g,c,m;if(l.data)if(l.data instanceof ArrayBuffer){if("json"===p||"text"===p||"blob"===p){var u=new Blob([l.data]);if("json"===p||"text"===p)if(f||(f=new FileReaderSync),m=f.readAsText(u),"json"===p){try{g=JSON.parse(m||null)}catch(r){throw new C("request:server",r.message,{...r,url:t,requestOptions:k});}if(g.error)throw new C("request:server",g.error.message,{...g.error,url:t,requestOptions:k});}}}else"native"===p&&(l.data.signal=
d,c=yield fetch(l.data.url,l.data));switch(p){case "blob":break;case "json":u=g;break;case "native":u=c;break;case "text":u=m;break;default:u=l.data}return{data:u,requestOptions:k,ssl:l.ssl,url:t}});return function(l){return e.apply(this,arguments)}}())};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/engine/vectorTiles/WorkerTileHandler":function(){define(["../../../../chunks/_rollupPluginBabelHelpers","../../../../core/promiseUtils","./enums",
"./WorkerTile","./style/StyleRepository"],function(a,b,C,w,f){return function(){function t(){this._spriteInfo={};this._glyphInfo={}}var k=t.prototype;k.reset=function(){this._spriteInfo={};this._glyphInfo={};return Promise.resolve()};k.getLayers=function(){return this._styleRepository?.layers};k.createTileAndParse=function(){var p=a._asyncToGenerator(function*(d,e){var {key:l}=d;const g={};for(const c of Object.keys(d.sourceName2DataAndRefKey))g[c]=d.sourceName2DataAndRefKey[c].refKey;l=new w(l,g,
this,this._styleRepository);try{return yield l.parse(d,e)}catch(c){l.setObsolete();l.release();if(!b.isAbortError(c))throw c;return null}});return function(d,e){return p.apply(this,arguments)}}();k.updateStyle=function(p){if(p&&0!==p.length&&this._styleRepository){var d=this._styleRepository;for(const e of p)switch(p=e.data,e.type){case C.StyleUpdateType.PAINTER_CHANGED:d.setPaintProperties(p.layer,p.paint);break;case C.StyleUpdateType.LAYOUT_CHANGED:d.setLayoutProperties(p.layer,p.layout);break;
case C.StyleUpdateType.LAYER_REMOVED:d.deleteStyleLayer(p.layer);break;case C.StyleUpdateType.LAYER_CHANGED:d.setStyleLayer(p.layer,p.index);break;case C.StyleUpdateType.SPRITES_CHANGED:this._spriteInfo={}}}};k.setStyle=function(p){this._styleRepository=new f(p);this._spriteInfo={};this._glyphInfo={}};k.fetchSprites=function(p,d,e){const l=[],g=this._spriteInfo;for(const c of p)void 0===g[c.name]&&l.push(c);return 0===l.length?Promise.resolve():d.invoke("getSprites",l,{signal:e&&e.signal}).then(c=>
{for(const m in c)g[m]=c[m]})};k.getSpriteItems=function(){return this._spriteInfo};k.fetchGlyphs=function(p,d,e,l,g){const c=[];let m=this._glyphInfo[d];m?e.forEach(u=>{m[u]||c.push(u)}):(m=this._glyphInfo[d]=[],e.forEach(u=>c.push(u)));return 0===c.length?Promise.resolve():l.invoke("getGlyphs",{tileID:p,font:d,codePoints:c},g).then(u=>{for(let r=0;r<u.length;r++)u[r]&&(m[r]=u[r])})};k.getGlyphItems=function(p){return this._glyphInfo[p]};return t}()})},"esri/views/2d/engine/vectorTiles/enums":function(){define(["exports"],
function(a){a.MemoryBufferType=void 0;(function(b){b[b.UNKNOWN=0]="UNKNOWN";b[b.FILL_VERTEX=1]="FILL_VERTEX";b[b.FILL_DD_VERTEX=2]="FILL_DD_VERTEX";b[b.FILL_INDEX=3]="FILL_INDEX";b[b.OUTLINE_VERTEX=4]="OUTLINE_VERTEX";b[b.OUTLINE_DD_VERTEX=5]="OUTLINE_DD_VERTEX";b[b.OUTLINE_INDEX=6]="OUTLINE_INDEX";b[b.LINE_VERTEX=7]="LINE_VERTEX";b[b.LINE_DD_VERTEX=8]="LINE_DD_VERTEX";b[b.LINE_INDEX=9]="LINE_INDEX";b[b.ICON_VERTEX=10]="ICON_VERTEX";b[b.ICON_DD_VERTEX=11]="ICON_DD_VERTEX";b[b.ICON_INDEX=12]="ICON_INDEX";
b[b.TEXT_VERTEX=13]="TEXT_VERTEX";b[b.TEXT_DD_VERTEX=14]="TEXT_DD_VERTEX";b[b.TEXT_INDEX=15]="TEXT_INDEX";b[b.CIRCLE_VERTEX=16]="CIRCLE_VERTEX";b[b.CIRCLE_INDEX=17]="CIRCLE_INDEX"})(a.MemoryBufferType||(a.MemoryBufferType={}));a.BucketType=void 0;(function(b){b[b.FILL=1]="FILL";b[b.LINE=2]="LINE";b[b.SYMBOL=3]="SYMBOL";b[b.CIRCLE=4]="CIRCLE"})(a.BucketType||(a.BucketType={}));a.DrawPhase=void 0;(function(b){b[b.BACKGROUND=0]="BACKGROUND";b[b.OPAQUE=1]="OPAQUE";b[b.TRANSLUCENT=2]="TRANSLUCENT";b[b.SYMBOLS=
3]="SYMBOLS";b[b.HITTEST=4]="HITTEST"})(a.DrawPhase||(a.DrawPhase={}));a.ShaderProgramType=void 0;(function(b){b[b.BACKGROUND=0]="BACKGROUND";b[b.FILL=1]="FILL";b[b.OUTLINE=2]="OUTLINE";b[b.LINE=3]="LINE";b[b.ICON=4]="ICON";b[b.CIRCLE=5]="CIRCLE";b[b.TEXT=6]="TEXT";b[b.TILEINFO=7]="TILEINFO"})(a.ShaderProgramType||(a.ShaderProgramType={}));a.StyleUpdateType=void 0;(function(b){b[b.PAINTER_CHANGED=0]="PAINTER_CHANGED";b[b.LAYOUT_CHANGED=1]="LAYOUT_CHANGED";b[b.LAYER_CHANGED=2]="LAYER_CHANGED";b[b.LAYER_REMOVED=
3]="LAYER_REMOVED";b[b.SPRITES_CHANGED=4]="SPRITES_CHANGED"})(a.StyleUpdateType||(a.StyleUpdateType={}));Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/engine/vectorTiles/WorkerTile":function(){define("../../../../chunks/_rollupPluginBabelHelpers ../../../../core/maybe ../../../../core/promiseUtils ./Placement ./TileParser ../../tiling/enums".split(" "),function(a,b,C,w,f,t){return function(){function k(d,e,l,g){this.status=t.TileStatus.INITIALIZED;
this.placementEngine=new w.PlacementEngine;this.tileKey=d;this.refKeys=e;this._workerTileHandler=l;this._styleRepository=g}var p=k.prototype;p.release=function(){this.tileKey="";this.refKeys=null;this.status=t.TileStatus.INITIALIZED;this._workerTileHandler=null};p.parse=function(){var d=a._asyncToGenerator(function*(e,l){const g=l&&l.signal;if(b.isSome(g)){const r=()=>{g.removeEventListener("abort",r);this.status=t.TileStatus.INVALID};g.addEventListener("abort",r)}const c={bucketsWithData:[],emptyBuckets:null};
try{var m=yield this._parse(e,l)}catch(r){if(C.isAbortError(r))throw r;return{result:c,transferList:[]}}this.status=t.TileStatus.READY;l=c.bucketsWithData;e=[];for(var u of m)u.hasFeatures()?(m=u.serialize(),l.push(m)):e.push(u.layer.uid);u=[...l];m=null;0<e.length&&(m=Uint32Array.from(e),u.push(m.buffer));c.emptyBuckets=m;return{result:c,transferList:u}});return function(e,l){return d.apply(this,arguments)}}();p.setObsolete=function(){this.status=t.TileStatus.INVALID};p.getLayers=function(){return this._workerTileHandler.getLayers()};
p.getWorkerTileHandler=function(){return this._workerTileHandler};p._parse=function(){var d=a._asyncToGenerator(function*(e,l){const g=e.sourceName2DataAndRefKey;if(0===Object.keys(g).length)return[];this.status=t.TileStatus.MODIFIED;return(new f(g,this,l.client,this._styleRepository,e.styleLayerUIDs)).parse(l)});return function(e,l){return d.apply(this,arguments)}}();return k}()})},"esri/views/2d/engine/vectorTiles/Placement":function(){define("exports ./GeometryUtils ./TextShaping ./decluttering/config ./style/StyleDefinition ../webgl/Geometry".split(" "),
function(a,b,C,w,f,t){let k=function(l,g,c,m,u,r=.5,n=b.C_INFINITY){this.anchor=l;this.labelAngle=g;this.glyphAngle=c;this.page=m;this.alternateVerticalGlyph=u;this.minzoom=r;this.maxzoom=n},p=function(l,g,c,m,u,r,n,h,q,D,v,z){this.tl=l;this.tr=g;this.bl=c;this.br=m;this.mosaicRect=u;this.labelAngle=r;this.minAngle=n;this.maxAngle=h;this.anchor=q;this.minzoom=D;this.maxzoom=v;this.page=z},d=function(l){this.shapes=l},e=function(){function l(){}var g=l.prototype;g.getIconPlacement=function(c,m,u){const r=
new t.Point(c.x,c.y),n=u.rotationAlignment===f.RotationAlignment.MAP,h=u.keepUpright;let q=u.rotate*b.C_DEG_TO_RAD;n&&(q+=c.angle);c=new d([]);u.allowOverlap&&u.ignorePlacement||!w.DECLUTTER_TILES||(c.iconColliders=[]);this._addIconPlacement(c,r,m,u,q);n&&h&&this._addIconPlacement(c,r,m,u,q+b.C_PI);return c};g._addIconPlacement=function(c,m,u,r,n){var h=u.pixelRatio;const q=u.width/h,D=u.height/h;var v=r.offset;let z=v[0];v=v[1];switch(r.anchor){case f.SymbolAnchor.CENTER:z-=q/2;v-=D/2;break;case f.SymbolAnchor.LEFT:v-=
D/2;break;case f.SymbolAnchor.RIGHT:z-=q;v-=D/2;break;case f.SymbolAnchor.TOP:z-=q/2;break;case f.SymbolAnchor.BOTTOM:z-=q/2;v-=D;break;case f.SymbolAnchor.BOTTOM_LEFT:v-=D;break;case f.SymbolAnchor.TOP_RIGHT:z-=q;break;case f.SymbolAnchor.BOTTOM_RIGHT:z-=q,v-=D}u=u.rect;var B=2/h,E=z-B,x=v-B,y=E+u.width/h,A=x+u.height/h;h=new t.Point(E,x);B=new t.Point(y,A);E=new t.Point(E,A);x=new t.Point(y,x);0!==n&&(y=Math.cos(n),A=Math.sin(n),h.rotate(y,A),B.rotate(y,A),E.rotate(y,A),x.rotate(y,A));u=new p(h,
x,E,B,u,n,0,256,m,.5,b.C_INFINITY,0);c.shapes.push(u);r.allowOverlap&&r.ignorePlacement||!w.DECLUTTER_TILES||(u=r.size,h=r.padding,c.iconColliders.push({xTile:m.x,yTile:m.y,dxPixels:z*u-h,dyPixels:v*u-h,hard:!r.optional,partIndex:0,width:q*u+2*h,height:D*u+2*h,angle:n,minLod:.5,maxLod:b.C_INFINITY}))};g.getTextPlacement=function(c,m,u,r){var n=new t.Point(c.x,c.y);const h=r.rotate*b.C_DEG_TO_RAD;var q=r.rotationAlignment===f.RotationAlignment.MAP;const D=r.keepUpright,v=r.padding;let z=.5;const B=
q?c.angle:0,E=0<=c.segment&&q,x=r.allowOverlap&&r.ignorePlacement?null:[],y=[],A=!E;var F=Number.POSITIVE_INFINITY;let K=Number.NEGATIVE_INFINITY,M=F,H=K;const I=E?D:q&&D,J=r.size/C.SDF_GLYPH_SIZE;let S=!1;for(var V of m)if(V.vertical){S=!0;break}let Z=0;V=0;if(!E&&S){var ba=C.TextShaping.getTextBox(m,r.lineHeight*C.SDF_GLYPH_SIZE);switch(r.anchor){case f.SymbolAnchor.LEFT:Z=ba.height/2;V=-ba.width/2;break;case f.SymbolAnchor.RIGHT:Z=-ba.height/2;V=ba.width/2;break;case f.SymbolAnchor.TOP:Z=ba.height/
2;V=ba.width/2;break;case f.SymbolAnchor.BOTTOM:Z=-ba.height/2;V=-ba.width/2;break;case f.SymbolAnchor.TOP_LEFT:Z=ba.height;break;case f.SymbolAnchor.BOTTOM_LEFT:V=-ba.width;break;case f.SymbolAnchor.TOP_RIGHT:V=ba.width;break;case f.SymbolAnchor.BOTTOM_RIGHT:Z=-ba.height}}Z+=r.offset[0]*C.SDF_GLYPH_SIZE;V+=r.offset[1]*C.SDF_GLYPH_SIZE;for(const R of m){var ia=R.glyphMosaicItem;if(!ia||ia.rect.isEmpty)continue;m=ia.rect;ba=ia.metrics;var ea=ia.page;if(x&&A){if(void 0!==ua&&ua!==R.y){var ka=void 0,
oa=void 0;if(S){var ua=-H+Z;ka=F+V;oa=H-M;F=K-F}else ua=F+Z,ka=M+V,oa=K-F,F=H-M;x.push({xTile:c.x,yTile:c.y,dxPixels:ua*J-v,dyPixels:ka*J-v,hard:!r.optional,partIndex:1,width:oa*J+2*v,height:F*J+2*v,angle:h,minLod:.5,maxLod:b.C_INFINITY});F=Number.POSITIVE_INFINITY;K=Number.NEGATIVE_INFINITY;M=F;H=K}ua=R.y}var ra=[];if(E){if(ia=(R.x+ba.left-4+.5*ia.metrics.width)*J*8,z=this._placeGlyph(c,z,ia,u,c.segment,1,R.vertical,ea,ra),D&&(z=this._placeGlyph(c,z,ia,u,c.segment,-1,R.vertical,ea,ra)),2<=z)break}else ra.push(new k(n,
B,B,ea,!1)),q&&D&&ra.push(new k(n,B+b.C_PI,B+b.C_PI,ea,!1));ea=R.x+ba.left;ia=R.y-C.SDF_GLYPH_BASELINE-ba.top;ka=ea+ba.width;oa=ia+ba.height;let T,X,ca,da;!E&&S?R.vertical?(T=new t.Point(-((ia+oa)/2+ba.width/2)-4+Z,(ea+ka)/2-ba.height/2-4+V),X=new t.Point(T.x+m.width,T.y+m.height),ca=new t.Point(T.x,X.y),da=new t.Point(X.x,T.y)):(T=new t.Point(-ia+4+Z,ea-4+V),X=new t.Point(T.x-m.height,T.y+m.width),ca=new t.Point(X.x,T.y),da=new t.Point(T.x,X.y)):(T=new t.Point(ea-4+Z,ia-4+V),X=new t.Point(T.x+m.width,
T.y+m.height),ca=new t.Point(T.x,X.y),da=new t.Point(X.x,T.y));let ma,na,sa,ya;for(const wa of ra){let va,O,W;wa.alternateVerticalGlyph?(ma||(ma=new t.Point((ea+ka)/2+Z-ba.height/2-4,(ia+oa)/2+V+ba.width/2+4),na=new t.Point(ma.x+m.height,ma.y-m.width),sa=new t.Point(na.x,ma.y),ya=new t.Point(ma.x,na.y)),ra=ma,va=sa,O=ya,W=na):(ra=T,va=ca,O=da,W=X);const L=ia,G=oa,N=wa.glyphAngle+h;if(0!==N){var qa=Math.cos(N),P=Math.sin(N);ra=ra.clone();va=va.clone();O=O.clone();W=W.clone();ra.rotate(qa,P);W.rotate(qa,
P);va.rotate(qa,P);O.rotate(qa,P)}qa=0;P=256;E&&S?R.vertical?wa.alternateVerticalGlyph?(qa=32,P=96):(qa=224,P=32):(qa=224,P=96):(qa=192,P=64);y.push(new p(ra,O,va,W,m,wa.labelAngle,qa,P,wa.anchor,wa.minzoom,wa.maxzoom,wa.page));!x||I&&!this._legible(wa.labelAngle)||(A?(ea<F&&(F=ea),L<M&&(M=L),ka>K&&(K=ka),G>H&&(H=G)):2>wa.minzoom&&x.push({xTile:c.x,yTile:c.y,dxPixels:(ea+Z)*J-v,dyPixels:(L+Z)*J-v,hard:!r.optional,partIndex:1,width:(ka-ea)*J+2*v,height:(G-L)*J+2*v,angle:N,minLod:wa.minzoom,maxLod:wa.maxzoom}))}}if(2<=
z)return null;x&&A&&(S?(u=-H+Z,n=F+V,q=H-M,F=K-F):(u=F+Z,n=M+V,q=K-F,F=H-M),x.push({xTile:c.x,yTile:c.y,dxPixels:u*J-v,dyPixels:n*J-v,hard:!r.optional,partIndex:1,width:q*J+2*v,height:F*J+2*v,angle:h,minLod:.5,maxLod:b.C_INFINITY}));c=new d(y);x&&0<x.length&&(c.textColliders=x);return c};g._legible=function(c){c=b.radToByte(c);return 65>c||193<=c};g._placeGlyph=function(c,m,u,r,n,h,q,D,v){const z=0>h?b.positiveMod(c.angle+b.C_PI,b.C_2PI):c.angle;let B=0;0>u&&(h*=-1,u*=-1,B=b.C_PI);0<h&&++n;c=new t.Point(c.x,
c.y);let E=r[n];var x=b.C_INFINITY;if(r.length<=n)return x;for(;;){var y=E.x-c.x,A=E.y-c.y;const F=Math.sqrt(y*y+A*A),K=Math.max(u/F,m);y=b.positiveMod(Math.atan2(A/F,y/F)+B,b.C_2PI);v.push(new k(c,z,y,D,!1,K,x));q&&v.push(new k(c,z,y,D,!0,K,x));if(K<=m)return K;c=E.clone();do{n+=h;if(r.length<=n||0>n)return K;E=r[n]}while(c.isEqual(E));x=E.x-c.x;y=E.y-c.y;A=Math.sqrt(x*x+y*y);x*=F/A;y*=F/A;c.x-=x;c.y-=y;x=K}};return l}();a.Anchor=function(l,g,c=0,m=-1,u=.5){this.x=l;this.y=g;this.angle=c;this.segment=
m;this.minzoom=u};a.PlacedSymbol=p;a.Placement=d;a.PlacementEngine=e;a.TILE_COORD_SIZE=4096;a.TILE_PIXEL_RATIO=8;a.TILE_PIXEL_SIZE=512;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/engine/vectorTiles/GeometryUtils":function(){define(["exports"],function(a){function b(p,d){p%=d;return 0<=p?p:p+d}const C=Number.POSITIVE_INFINITY,w=Math.PI,f=128/w,t=256/360,k=1/Math.LN2;a.C_256_TO_RAD=w/128;a.C_2PI=2*w;a.C_DEG_TO_256=t;a.C_DEG_TO_RAD=w/180;
a.C_INFINITY=C;a.C_PI=w;a.C_PI_BY_2=w/2;a.C_RAD_TO_256=f;a.C_SQRT2=1.414213562;a.C_SQRT2_INV=1/1.414213562;a.between=function(p,d,e){return p>=d&&p<=e||p>=e&&p<=d};a.degToByte=function(p){return b(p*t,256)};a.interpolate=function(p,d,e){return p*(1-e)+d*e};a.log2=function(p){return Math.log(p)*k};a.positiveMod=b;a.radToByte=function(p){return b(p*f,256)};a.sqr=function(p){return p*p};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/engine/vectorTiles/TextShaping":function(){define(["exports",
"./ScriptUtils","../webgl/Rect"],function(a,b,C){let w=function(){function f(k,p,d,e,l,g,c){this._glyphItems=k;this._maxWidth=p;this._lineHeight=d;this._letterSpacing=e;this._hAnchor=l;this._vAnchor=g;this._justify=c}var t=f.prototype;t.getShaping=function(k,p,d){var e=this._letterSpacing;const l=this._lineHeight;var g=this._justify,c=this._maxWidth;const m=[];var u=0,r=0,n=k.length;for(var h=0;h<n;h++){var q=k.charCodeAt(h),D=d&&b.hasVerticalOrientation(q);let v;for(const z of this._glyphItems)if(v=
z[q])break;m.push({codePoint:q,x:u,y:r,vertical:D,glyphMosaicItem:v});v&&(u+=v.metrics.advance+e)}d=u;0<c&&(d=u/Math.max(1,Math.ceil(u/c)));k=k.includes("\u200b");c=[];for(e=0;e<n-1;e++)if(q=m[e].codePoint,D=b.allowsIdeographicBreak(q),b.isLineBreak(q)||D){h=0;if(10===q)h-=1E4;else if(D&&k)h+=150;else{if(40===q||65288===q)h+=50;q=m[e+1].codePoint;if(41===q||65289===q)h+=50}c.push(this._buildBreak(e+1,m[e].x,d,c,h,!1))}n=this._optimalBreaks(this._buildBreak(n,u,d,c,0,!0));u=0;k=p?-l:l;e=0;for(c=0;c<
n.length;c++){for(d=n[c];e<d&&b.isWhiteSpace(m[e].codePoint);)m[e].glyphMosaicItem=null,++e;for(h=d-1;h>e&&b.isWhiteSpace(m[h].codePoint);)m[h].glyphMosaicItem=null,--h;if(e<=h){q=m[e].x;for(D=e;D<=h;D++)m[D].x-=q,m[D].y=r;q=m[h].x;m[h].glyphMosaicItem&&(q+=m[h].glyphMosaicItem.metrics.advance);u=Math.max(q,u);g&&this._applyJustification(m,e,h)}e=d;r+=k}if(0<m.length){r=n.length-1;g=(g-this._hAnchor)*u;u=(-this._vAnchor*(r+1)+.5)*l;p&&r&&(u+=r*l);for(const v of m)v.x+=g,v.y+=u}return m.filter(v=>
v.glyphMosaicItem)};f.getTextBox=function(k,p){if(!k.length)return null;let d=Infinity,e=Infinity,l=0,g=0;for(const c of k){k=c.x;const m=c.y-17,u=k+c.glyphMosaicItem.metrics.advance,r=m+p;d=Math.min(d,k);l=Math.max(l,u);e=Math.min(e,m);g=Math.max(g,r)}return{x:d,y:e,width:l-d,height:g-e}};f.getBox=function(k){if(!k.length)return null;let p=Infinity,d=Infinity,e=0,l=0;for(const g of k){const {height:c,left:m,top:u,width:r}=g.glyphMosaicItem.metrics;k=g.x;const n=g.y-(c-Math.abs(u)),h=k+r+m,q=n+c;
p=Math.min(p,k);e=Math.max(e,h);d=Math.min(d,n);l=Math.max(l,q)}return{x:p,y:d,width:e-p,height:l-d}};f.addDecoration=function(k,p){var d=k.length;if(0!==d){var e=k[0].x+k[0].glyphMosaicItem.metrics.left,l=k[0].y;for(let g=1;g<d;g++){const c=k[g];if(c.y!==l){const m=k[g-1].x+k[g-1].glyphMosaicItem.metrics.left+k[g-1].glyphMosaicItem.metrics.width;k.push({codePoint:0,x:e,y:l+p-3,vertical:!1,glyphMosaicItem:{sdf:!0,rect:new C(4,0,4,8),metrics:{width:m-e,height:8,left:0,top:0,advance:0},page:0,code:0}});
l=c.y;e=c.x+c.glyphMosaicItem.metrics.left}}d=k[d-1].x+k[d-1].glyphMosaicItem.metrics.left+k[d-1].glyphMosaicItem.metrics.width;k.push({codePoint:0,x:e,y:l+p-3,vertical:!1,glyphMosaicItem:{sdf:!0,rect:new C(4,0,4,8),metrics:{width:d-e,height:8,left:0,top:0,advance:0},page:0,code:0}})}};t._breakScore=function(k,p,d,e){const l=(k-p)*(k-p);return e?k<p?l/2:2*l:l+Math.abs(d)*d};t._buildBreak=function(k,p,d,e,l,g){let c=null,m=this._breakScore(p,d,l,g);for(const u of e)e=this._breakScore(p-u.x,d,l,g)+
u.score,e<=m&&(c=u,m=e);return{index:k,x:p,score:m,previousBreak:c}};t._optimalBreaks=function(k){return k?this._optimalBreaks(k.previousBreak).concat(k.index):[]};t._applyJustification=function(k,p,d){var e=k[d];for(e=(e.x+(e.vertical?24:e.glyphMosaicItem?e.glyphMosaicItem.metrics.advance:0))*this._justify;p<=d;p++)k[p].x-=e};return f}();a.SDF_GLYPH_BASELINE=17;a.SDF_GLYPH_SIZE=24;a.TextShaping=w;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/engine/vectorTiles/ScriptUtils":function(){define(["exports"],
function(a){a.allowsIdeographicBreak=function(b){return 11904>b?!1:12704<=b&&12735>=b||12544<=b&&12591>=b||65072<=b&&65103>=b||63744<=b&&64255>=b||13056<=b&&13311>=b||11904<=b&&12031>=b||12736<=b&&12783>=b||12288<=b&&12351>=b||13312<=b&&19903>=b||19968<=b&&40959>=b||12800<=b&&13055>=b||65280<=b&&65519>=b||12352<=b&&12447>=b||12272<=b&&12287>=b||12032<=b&&12255>=b||12784<=b&&12799>=b||12448<=b&&12543>=b||65040<=b&&65055>=b||42128<=b&&42191>=b||40960<=b&&42127>=b?!0:!1};a.hasVerticalOrientation=function(b){return 746===
b||747===b?!0:4352>b?!1:12704<=b&&12735>=b||12544<=b&&12591>=b||65072<=b&&65103>=b&&!(65097<=b&&65103>=b)||63744<=b&&64255>=b||13056<=b&&13311>=b||11904<=b&&12031>=b||12736<=b&&12783>=b||12288<=b&&12351>=b&&!(12296<=b&&12305>=b||12308<=b&&12319>=b)&&12336!==b||13312<=b&&19903>=b||19968<=b&&40959>=b||12800<=b&&13055>=b||12592<=b&&12687>=b||43360<=b&&43391>=b||55216<=b&&55295>=b||4352<=b&&4607>=b||44032<=b&&55215>=b||12352<=b&&12447>=b||12272<=b&&12287>=b||12688<=b&&12703>=b||12032<=b&&12255>=b||12784<=
b&&12799>=b||12448<=b&&12543>=b&&12540!==b||65280<=b&&65519>=b&&!(65288===b||65289===b||65293===b||65306<=b&&65310>=b||65339===b||65341===b||65343===b||65371<=b&&65503>=b||65507===b||65512<=b&&65519>=b)||65104<=b&&65135>=b&&!(65112<=b&&65118>=b||65123<=b&&65126>=b)||5120<=b&&5759>=b||6320<=b&&6399>=b||65040<=b&&65055>=b||19904<=b&&19967>=b||40960<=b&&42127>=b||42128<=b&&42191>=b?!0:!1};a.isLineBreak=function(b){switch(b){case 10:case 32:case 38:case 40:case 41:case 43:case 45:case 47:case 173:case 183:case 8203:case 8208:case 8211:case 8231:return!0}return!1};
a.isWhiteSpace=function(b){switch(b){case 9:case 10:case 11:case 12:case 13:case 32:return!0}return!1};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/engine/webgl/Rect":function(){define(["../../../../chunks/_rollupPluginBabelHelpers"],function(a){return function(){function b(C=0,w=0,f=0,t=0){this.x=C;this.y=w;this.width=f;this.height=t}b.prototype.union=function(C){this.x=Math.min(this.x,C.x);this.y=Math.min(this.y,C.y);this.width=Math.max(this.width,
C.width);this.height=Math.max(this.height,C.height)};a._createClass(b,[{key:"isEmpty",get:function(){return 0>=this.width||0>=this.height}}]);return b}()})},"esri/views/2d/engine/vectorTiles/decluttering/config":function(){define(["exports"],function(a){a.COLLISION_GRID_CELL_SIZE=32;a.DECLUTTER_BUDGET=1.5;a.DECLUTTER_TILES=!0;a.FADE_DURATION=200;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/engine/vectorTiles/style/StyleDefinition":function(){define(["exports",
"../../../../../symbols/cim/enums"],function(a,b){a.StyleLayerType=void 0;(function(w){w[w.BACKGROUND=0]="BACKGROUND";w[w.FILL=1]="FILL";w[w.LINE=2]="LINE";w[w.SYMBOL=3]="SYMBOL";w[w.CIRCLE=4]="CIRCLE"})(a.StyleLayerType||(a.StyleLayerType={}));a.Visibility=void 0;(function(w){w[w.VISIBLE=0]="VISIBLE";w[w.NONE=1]="NONE"})(a.Visibility||(a.Visibility={}));a.SymbolPlacement=void 0;(function(w){w[w.POINT=0]="POINT";w[w.LINE=1]="LINE";w[w.LINE_CENTER=2]="LINE_CENTER"})(a.SymbolPlacement||(a.SymbolPlacement=
{}));a.RotationAlignment=void 0;(function(w){w[w.MAP=0]="MAP";w[w.VIEWPORT=1]="VIEWPORT";w[w.AUTO=2]="AUTO"})(a.RotationAlignment||(a.RotationAlignment={}));a.TextJustification=void 0;(function(w){w[w.AUTO=0]="AUTO";w[w.LEFT=1]="LEFT";w[w.CENTER=2]="CENTER";w[w.RIGHT=3]="RIGHT"})(a.TextJustification||(a.TextJustification={}));a.SymbolAnchor=void 0;(function(w){w[w.CENTER=0]="CENTER";w[w.LEFT=1]="LEFT";w[w.RIGHT=2]="RIGHT";w[w.TOP=3]="TOP";w[w.BOTTOM=4]="BOTTOM";w[w.TOP_LEFT=5]="TOP_LEFT";w[w.TOP_RIGHT=
6]="TOP_RIGHT";w[w.BOTTOM_LEFT=7]="BOTTOM_LEFT";w[w.BOTTOM_RIGHT=8]="BOTTOM_RIGHT"})(a.SymbolAnchor||(a.SymbolAnchor={}));a.TextTransform=void 0;(function(w){w[w.NONE=0]="NONE";w[w.UPPERCASE=1]="UPPERCASE";w[w.LOWERCASE=2]="LOWERCASE"})(a.TextTransform||(a.TextTransform={}));a.TranslateAnchor=void 0;(function(w){w[w.MAP=0]="MAP";w[w.VIEWPORT=1]="VIEWPORT"})(a.TranslateAnchor||(a.TranslateAnchor={}));a.TextWritingMode=void 0;(function(w){w[w.HORIZONTAL=0]="HORIZONTAL";w[w.VERTICAL=1]="VERTICAL"})(a.TextWritingMode||
(a.TextWritingMode={}));let C=function(){};C.backgroundLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:a.Visibility.VISIBLE}};C.fillLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:a.Visibility.VISIBLE}};C.lineLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:a.Visibility.VISIBLE},"line-cap":{type:"enum",values:["butt","round","square"],default:b.CapType.BUTT},"line-join":{type:"enum",values:["bevel","round","miter"],
default:b.JoinType.MITER},"line-miter-limit":{type:"number",default:2},"line-round-limit":{type:"number",default:1.05}};C.symbolLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:a.Visibility.VISIBLE},"symbol-avoid-edges":{type:"boolean",default:!1},"symbol-placement":{type:"enum",values:["point","line","line-center"],default:a.SymbolPlacement.POINT},"symbol-sort-key":{type:"number",default:-1},"symbol-spacing":{type:"number",minimum:1,default:250},"icon-allow-overlap":{type:"boolean",
default:!1},"icon-anchor":{type:"enum",values:"center left right top bottom top-left top-right bottom-left bottom-right".split(" "),default:a.SymbolAnchor.CENTER},"icon-ignore-placement":{type:"boolean",default:!1},"icon-image":{type:"string"},"icon-keep-upright":{type:"boolean",default:!1},"icon-offset":{type:"array",value:"number",length:2,default:[0,0]},"icon-optional":{type:"boolean",default:!1},"icon-padding":{type:"number",minimum:0,default:2},"icon-rotate":{type:"number",default:0},"icon-rotation-alignment":{type:"enum",
values:["map","viewport","auto"],default:a.RotationAlignment.AUTO},"icon-size":{type:"number",minimum:0,default:1},"text-allow-overlap":{type:"boolean",default:!1},"text-anchor":{type:"enum",values:"center left right top bottom top-left top-right bottom-left bottom-right".split(" "),default:a.SymbolAnchor.CENTER},"text-field":{type:"string"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"]},"text-ignore-placement":{type:"boolean",default:!1},"text-justify":{type:"enum",
values:["auto","left","center","right"],default:a.TextJustification.CENTER},"text-keep-upright":{type:"boolean",default:!0},"text-letter-spacing":{type:"number",default:0},"text-line-height":{type:"number",default:1.2},"text-max-angle":{type:"number",minimum:0,default:45},"text-max-width":{type:"number",minimum:0,default:10},"text-offset":{type:"array",value:"number",length:2,default:[0,0]},"text-optional":{type:"boolean",default:!1},"text-padding":{type:"number",minimum:0,default:2},"text-rotate":{type:"number",
default:0},"text-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:a.RotationAlignment.AUTO},"text-size":{type:"number",minimum:0,default:16},"text-transform":{type:"enum",values:["none","uppercase","lowercase"],default:a.TextTransform.NONE},"text-writing-mode":{type:"array",value:"enum",values:["horizontal","vertical"],default:[a.TextWritingMode.HORIZONTAL]}};C.circleLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:a.Visibility.VISIBLE}};C.backgroundPaintDefinition=
{"background-color":{type:"color",default:[0,0,0,1]},"background-opacity":{type:"number",minimum:0,maximum:1,default:1},"background-pattern":{type:"string"}};C.fillPaintDefinition={"fill-antialias":{type:"boolean",default:!0},"fill-color":{type:"color",default:[0,0,0,1]},"fill-opacity":{type:"number",minimum:0,maximum:1,default:1},"fill-outline-color":{type:"color",default:[0,0,0,0]},"fill-pattern":{type:"string"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0]},"fill-translate-anchor":{type:"enum",
values:["map","viewport"],default:a.TranslateAnchor.MAP}};C.linePaintDefinition={"line-blur":{type:"number",minimum:0,default:0},"line-color":{type:"color",default:[0,0,0,1]},"line-dasharray":{type:"array",value:"number",default:[]},"line-gap-width":{type:"number",minimum:0,default:0},"line-offset":{type:"number",default:0},"line-opacity":{type:"number",minimum:0,maximum:1,default:1},"line-pattern":{type:"string"},"line-translate":{type:"array",value:"number",length:2,default:[0,0]},"line-translate-anchor":{type:"enum",
values:["map","viewport"],default:a.TranslateAnchor.MAP},"line-width":{type:"number",minimum:0,default:1}};C.symbolPaintDefinition={"icon-color":{type:"color",default:[0,0,0,1]},"icon-halo-blur":{type:"number",minimum:0,default:0},"icon-halo-color":{type:"color",default:[0,0,0,0]},"icon-halo-width":{type:"number",minimum:0,default:0},"icon-opacity":{type:"number",minimum:0,maximum:1,default:1},"icon-translate":{type:"array",value:"number",length:2,default:[0,0]},"icon-translate-anchor":{type:"enum",
values:["map","viewport"],default:a.TranslateAnchor.MAP},"text-color":{type:"color",default:[0,0,0,1]},"text-halo-blur":{type:"number",minimum:0,default:0},"text-halo-color":{type:"color",default:[0,0,0,0]},"text-halo-width":{type:"number",minimum:0,default:0},"text-opacity":{type:"number",minimum:0,maximum:1,default:1},"text-translate":{type:"array",value:"number",length:2,default:[0,0]},"text-translate-anchor":{type:"enum",values:["map","viewport"],default:a.TranslateAnchor.MAP}};C.rasterPaintDefinition=
{"raster-opacity":{type:"number",minimum:0,maximum:1,default:1},"raster-hue-rotate":{type:"number",default:0},"raster-brightness-min":{type:"number",minimum:0,maximum:1,default:0},"raster-brightness-max":{type:"number",minimum:0,maximum:1,default:1},"raster-saturation":{type:"number",minimum:-1,maximum:1,default:0},"raster-contrast":{type:"number",minimum:-1,maximum:1,default:0},"raster-fade-duration":{type:"number",minimum:0,default:300}};C.circlePaintDefinition={"circle-blur":{type:"number",minimum:0,
default:0},"circle-color":{type:"color",default:[0,0,0,1]},"circle-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-radius":{type:"number",minimum:0,default:5},"circle-stroke-color":{type:"color",default:[0,0,0,1]},"circle-stroke-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-stroke-width":{type:"number",minimum:0,default:0},"circle-translate":{type:"array",value:"number",length:2,default:[0,0]},"circle-translate-anchor":{type:"enum",values:["map","viewport"],default:a.TranslateAnchor.MAP}};
a.StyleDefinition=C;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/symbols/cim/enums":function(){define(["exports"],function(a){a.CapType=void 0;(function(b){b[b.BUTT=0]="BUTT";b[b.ROUND=1]="ROUND";b[b.SQUARE=2]="SQUARE";b[b.UNKNOWN=4]="UNKNOWN"})(a.CapType||(a.CapType={}));a.JoinType=void 0;(function(b){b[b.BEVEL=0]="BEVEL";b[b.ROUND=1]="ROUND";b[b.MITER=2]="MITER";b[b.UNKNOWN=4]="UNKNOWN"})(a.JoinType||(a.JoinType={}));a.Alignment=void 0;(function(b){b[b.SCREEN=
0]="SCREEN";b[b.MAP=1]="MAP"})(a.Alignment||(a.Alignment={}));a.ExternalColorMixMode=void 0;(function(b){b[b.Tint=0]="Tint";b[b.Ignore=1]="Ignore";b[b.Multiply=99]="Multiply"})(a.ExternalColorMixMode||(a.ExternalColorMixMode={}));a.ExtremityPlacement=void 0;(function(b){b.Both="Both";b.JustBegin="JustBegin";b.JustEnd="JustEnd";b.None="None"})(a.ExtremityPlacement||(a.ExtremityPlacement={}));a.FillMode=void 0;(function(b){b[b.Mosaic=0]="Mosaic";b[b.Centered=1]="Centered"})(a.FillMode||(a.FillMode=
{}));a.FontEffects=void 0;(function(b){b[b.Normal=0]="Normal";b[b.Superscript=1]="Superscript";b[b.Subscript=2]="Subscript"})(a.FontEffects||(a.FontEffects={}));a.FontEncoding=void 0;(function(b){b[b.MSSymbol=0]="MSSymbol";b[b.Unicode=1]="Unicode"})(a.FontEncoding||(a.FontEncoding={}));a.FontType=void 0;(function(b){b[b.Unspecified=0]="Unspecified";b[b.TrueType=1]="TrueType";b[b.PSOpenType=2]="PSOpenType";b[b.TTOpenType=3]="TTOpenType";b[b.Type1=4]="Type1"})(a.FontType||(a.FontType={}));a.AngleAlignment=
void 0;(function(b){b[b.Display=0]="Display";b[b.Map=1]="Map"})(a.AngleAlignment||(a.AngleAlignment={}));a.AnimatedSymbolRepeatType=void 0;(function(b){b.None="None";b.Loop="Loop";b.Oscillate="Oscillate"})(a.AnimatedSymbolRepeatType||(a.AnimatedSymbolRepeatType={}));a.DominantSizeAxis=void 0;(function(b){b[b.Z=0]="Z";b[b.X=1]="X";b[b.Y=2]="Y"})(a.DominantSizeAxis||(a.DominantSizeAxis={}));a.RotationOrder=void 0;(function(b){b[b.XYZ=0]="XYZ";b[b.ZXY=1]="ZXY";b[b.YXZ=2]="YXZ"})(a.RotationOrder||(a.RotationOrder=
{}));a.BalloonCalloutStyle=void 0;(function(b){b[b.Rectangle=0]="Rectangle";b[b.RoundedRectangle=1]="RoundedRectangle";b[b.Oval=2]="Oval"})(a.BalloonCalloutStyle||(a.BalloonCalloutStyle={}));a.BlendingMode=void 0;(function(b){b[b.None=0]="None";b[b.Alpha=1]="Alpha";b[b.Screen=2]="Screen";b[b.Multiply=3]="Multiply";b[b.Add=4]="Add"})(a.BlendingMode||(a.BlendingMode={}));a.BlockProgression=void 0;(function(b){b[b.TTB=0]="TTB";b[b.RTL=1]="RTL";b[b.BTT=2]="BTT"})(a.BlockProgression||(a.BlockProgression=
{}));a.BillBoardMode=void 0;(function(b){b[b.None=0]="None";b[b.SignPost=1]="SignPost";b[b.FaceNearPlane=2]="FaceNearPlane"})(a.BillBoardMode||(a.BillBoardMode={}));a.CGAAttributeType=void 0;(function(b){b[b.Float=0]="Float";b[b.String=1]="String";b[b.Boolean=2]="Boolean"})(a.CGAAttributeType||(a.CGAAttributeType={}));a.ClippingType=void 0;(function(b){b[b.Intersect=0]="Intersect";b[b.Subtract=1]="Subtract"})(a.ClippingType||(a.ClippingType={}));a.GeometricEffectArrowType=void 0;(function(b){b.OpenEnded=
"OpenEnded";b.Block="Block";b.Crossed="Crossed"})(a.GeometricEffectArrowType||(a.GeometricEffectArrowType={}));a.GeometricEffectControlMeasureLineRule=void 0;(function(b){b.FullGeometry="FullGeometry";b.PerpendicularFromFirstSegment="PerpendicularFromFirstSegment";b.ReversedFirstSegment="ReversedFirstSegment";b.PerpendicularToSecondSegment="PerpendicularToSecondSegment";b.SecondSegmentWithTicks="SecondSegmentWithTicks";b.DoublePerpendicular="DoublePerpendicular";b.OppositeToFirstSegment="OppositeToFirstSegment";
b.TriplePerpendicular="TriplePerpendicular";b.HalfCircleFirstSegment="HalfCircleFirstSegment";b.HalfCircleSecondSegment="HalfCircleSecondSegment";b.HalfCircleExtended="HalfCircleExtended";b.OpenCircle="OpenCircle";b.CoverageEdgesWithTicks="CoverageEdgesWithTicks";b.GapExtentWithDoubleTicks="GapExtentWithDoubleTicks";b.GapExtentMidline="GapExtentMidline";b.Chevron="Chevron";b.PerpendicularWithArc="PerpendicularWithArc";b.ClosedHalfCircle="ClosedHalfCircle";b.TripleParallelExtended="TripleParallelExtended";
b.ParallelWithTicks="ParallelWithTicks";b.Parallel="Parallel";b.PerpendicularToFirstSegment="PerpendicularToFirstSegment";b.ParallelOffset="ParallelOffset";b.OffsetOpposite="OffsetOpposite";b.OffsetSame="OffsetSame";b.CircleWithArc="CircleWithArc";b.DoubleJog="DoubleJog";b.PerpendicularOffset="PerpendicularOffset";b.LineExcludingLastSegment="LineExcludingLastSegment";b.MultivertexArrow="MultivertexArrow";b.CrossedArrow="CrossedArrow";b.ChevronArrow="ChevronArrow";b.ChevronArrowOffset="ChevronArrowOffset";
b.PartialFirstSegment="PartialFirstSegment";b.Arch="Arch";b.CurvedParallelTicks="CurvedParallelTicks";b.Arc90Degrees="Arc90Degrees"})(a.GeometricEffectControlMeasureLineRule||(a.GeometricEffectControlMeasureLineRule={}));a.GeometricEffectDonutMethod=void 0;(function(b){b.Mitered="Mitered";b.Bevelled="Bevelled";b.Rounded="Rounded";b.Square="Square";b.TrueBuffer="TrueBuffer"})(a.GeometricEffectDonutMethod||(a.GeometricEffectDonutMethod={}));a.GeometricEffectEnclosingPolygonMethod=void 0;(function(b){b.ClosePath=
"ClosePath";b.ConvexHull="ConvexHull";b.RectangularBox="RectangularBox"})(a.GeometricEffectEnclosingPolygonMethod||(a.GeometricEffectEnclosingPolygonMethod={}));a.GeometricEffectExtensionOrigin=void 0;(function(b){b.BeginningOfLine="BeginningOfLine";b.EndOfLine="EndOfLine"})(a.GeometricEffectExtensionOrigin||(a.GeometricEffectExtensionOrigin={}));a.GeometricEffectOffsetMethod=void 0;(function(b){b.Mitered="Mitered";b.Bevelled="Bevelled";b.Rounded="Rounded";b.Square="Square"})(a.GeometricEffectOffsetMethod||
(a.GeometricEffectOffsetMethod={}));a.GeometricEffectOffsetOption=void 0;(function(b){b.Fast="Fast";b.Accurate="Accurate"})(a.GeometricEffectOffsetOption||(a.GeometricEffectOffsetOption={}));a.GeometricEffectOffsetTangentMethod=void 0;(function(b){b.BeginningOfLine="BeginningOfLine";b.EndOfLine="EndOfLine"})(a.GeometricEffectOffsetTangentMethod||(a.GeometricEffectOffsetTangentMethod={}));a.GeometricEffectWaveform=void 0;(function(b){b.Sinus="Sinus";b.Square="Square";b.Triangle="Triangle";b.Random=
"Random"})(a.GeometricEffectWaveform||(a.GeometricEffectWaveform={}));a.GlyphHinting=void 0;(function(b){b[b.None=0]="None";b[b.Default=1]="Default";b[b.Force=2]="Force"})(a.GlyphHinting||(a.GlyphHinting={}));a.GradientAlignment=void 0;(function(b){b[b.Buffered=0]="Buffered";b[b.Left=1]="Left";b[b.Right=2]="Right";b[b.AlongLine=3]="AlongLine"})(a.GradientAlignment||(a.GradientAlignment={}));a.GradientFillMethod=void 0;(function(b){b[b.Linear=0]="Linear";b[b.Rectangular=1]="Rectangular";b[b.Circular=
2]="Circular";b[b.Buffered=3]="Buffered"})(a.GradientFillMethod||(a.GradientFillMethod={}));a.GradientStrokeType=void 0;(function(b){b[b.Discrete=0]="Discrete";b[b.Continuous=1]="Continuous"})(a.GradientStrokeType||(a.GradientStrokeType={}));a.GradientStrokeMethod=void 0;(function(b){b[b.AcrossLine=0]="AcrossLine";b[b.AloneLine=1]="AloneLine"})(a.GradientStrokeMethod||(a.GradientStrokeMethod={}));a.HorizontalAlignment=void 0;(function(b){b[b.Left=0]="Left";b[b.Right=1]="Right";b[b.Center=2]="Center";
b[b.Justify=3]="Justify"})(a.HorizontalAlignment||(a.HorizontalAlignment={}));a.LeaderLineStyle=void 0;(function(b){b[b.Base=0]="Base";b[b.MidPoint=1]="MidPoint";b[b.ThreePoint=2]="ThreePoint";b[b.FourPoint=3]="FourPoint";b[b.Underline=4]="Underline";b[b.CircularCW=5]="CircularCW";b[b.CircularCCW=6]="CircularCCW"})(a.LeaderLineStyle||(a.LeaderLineStyle={}));a.LineCapStyle=void 0;(function(b){b.Butt="Butt";b.Round="Round";b.Square="Square"})(a.LineCapStyle||(a.LineCapStyle={}));a.LineDashEnding=void 0;
(function(b){b.NoConstraint="NoConstraint";b.HalfPattern="HalfPattern";b.HalfGap="HalfGap";b.FullPattern="FullPattern";b.FullGap="FullGap";b.Custom="Custom"})(a.LineDashEnding||(a.LineDashEnding={}));a.LineDecorationStyle=void 0;(function(b){b[b.None=-1]="None";b[b.Custom=0]="Custom";b[b.Circle=1]="Circle";b[b.OpenArrow=2]="OpenArrow";b[b.ClosedArrow=3]="ClosedArrow";b[b.Diamond=4]="Diamond"})(a.LineDecorationStyle||(a.LineDecorationStyle={}));a.LineGapType=void 0;(function(b){b[b.ExtraLeading=0]=
"ExtraLeading";b[b.Multiple=1]="Multiple";b[b.Exact=2]="Exact"})(a.LineGapType||(a.LineGapType={}));a.LineJoinStyle=void 0;(function(b){b.Bevel="Bevel";b.Round="Round";b.Miter="Miter"})(a.LineJoinStyle||(a.LineJoinStyle={}));a.ExpressionReturnType=void 0;(function(b){b[b.Default=0]="Default";b[b.String=1]="String";b[b.Numeric=2]="Numeric"})(a.ExpressionReturnType||(a.ExpressionReturnType={}));a.MarkerPlacementType=void 0;(function(b){b[b.InsidePolygon=0]="InsidePolygon";b[b.PolygonCenter=1]="PolygonCenter";
b[b.RandomlyInsidePolygon=2]="RandomlyInsidePolygon"})(a.MarkerPlacementType||(a.MarkerPlacementType={}));a.MaterialMode=void 0;(function(b){b[b.Tint=0]="Tint";b[b.Replace=1]="Replace";b[b.Multiply=2]="Multiply"})(a.MaterialMode||(a.MaterialMode={}));a.PlacementClip=void 0;(function(b){b[b.ClipAtBoundary=0]="ClipAtBoundary";b[b.RemoveIfCenterOutsideBoundary=1]="RemoveIfCenterOutsideBoundary";b[b.DoNotTouchBoundary=2]="DoNotTouchBoundary";b[b.DoNotClip=3]="DoNotClip"})(a.PlacementClip||(a.PlacementClip=
{}));a.PlacementEndings=void 0;(function(b){b.NoConstraint="NoConstraint";b.WithMarkers="WithMarkers";b.WithFullGap="WithFullGap";b.WithHalfGap="WithHalfGap";b.Custom="Custom"})(a.PlacementEndings||(a.PlacementEndings={}));a.PlacementGridType=void 0;(function(b){b.Fixed="Fixed";b.Random="Random";b.RandomFixedQuantity="RandomFixedQuantity"})(a.PlacementGridType||(a.PlacementGridType={}));a.PlacementOnLineRelativeTo=void 0;(function(b){b.LineMiddle="LineMiddle";b.LineBeginning="LineBeginning";b.LineEnd=
"LineEnd";b.SegmentMidpoint="SegmentMidpoint"})(a.PlacementOnLineRelativeTo||(a.PlacementOnLineRelativeTo={}));a.PlacementPolygonCenterMethod=void 0;(function(b){b.OnPolygon="OnPolygon";b.CenterOfMass="CenterOfMass";b.BoundingBoxCenter="BoundingBoxCenter"})(a.PlacementPolygonCenterMethod||(a.PlacementPolygonCenterMethod={}));a.PlacementRandomlyAlongLineRandomization=void 0;(function(b){b[b.Low=0]="Low";b[b.Medium=1]="Medium";b[b.High=2]="High"})(a.PlacementRandomlyAlongLineRandomization||(a.PlacementRandomlyAlongLineRandomization=
{}));a.PlacementStepPosition=void 0;(function(b){b[b.MarkerCenter=0]="MarkerCenter";b[b.MarkerBounds=1]="MarkerBounds"})(a.PlacementStepPosition||(a.PlacementStepPosition={}));a.PointSymbolCalloutScale=void 0;(function(b){b[b.None=0]="None";b[b.PropUniform=1]="PropUniform";b[b.PropNonuniform=2]="PropNonuniform";b[b.DifUniform=3]="DifUniform";b[b.DifNonuniform=4]="DifNonuniform"})(a.PointSymbolCalloutScale||(a.PointSymbolCalloutScale={}));a.Simple3DLineStyle=void 0;(function(b){b.Tube="Tube";b.Strip=
"Strip";b.Wall="Wall"})(a.Simple3DLineStyle||(a.Simple3DLineStyle={}));a.SizeVariationMethod=void 0;(function(b){b[b.Random=0]="Random";b[b.Increasing=1]="Increasing";b[b.Decreasing=2]="Decreasing";b[b.IncreasingThenDecreasing=3]="IncreasingThenDecreasing"})(a.SizeVariationMethod||(a.SizeVariationMethod={}));a.SymbolUnits=void 0;(function(b){b[b.Relative=0]="Relative";b[b.Absolute=1]="Absolute"})(a.SymbolUnits||(a.SymbolUnits={}));a.TextCase=void 0;(function(b){b[b.Normal=0]="Normal";b[b.LowerCase=
1]="LowerCase";b[b.Allcaps=2]="Allcaps"})(a.TextCase||(a.TextCase={}));a.TextReadingDirection=void 0;(function(b){b[b.LTR=0]="LTR";b[b.RTL=1]="RTL"})(a.TextReadingDirection||(a.TextReadingDirection={}));a.TextureFilter=void 0;(function(b){b.Draft="Draft";b.Picture="Picture";b.Text="Text"})(a.TextureFilter||(a.TextureFilter={}));a.VerticalAlignment=void 0;(function(b){b[b.Top=0]="Top";b[b.Center=1]="Center";b[b.Baseline=2]="Baseline";b[b.Bottom=3]="Bottom"})(a.VerticalAlignment||(a.VerticalAlignment=
{}));a.VerticalGlyphOrientation=void 0;(function(b){b[b.Right=0]="Right";b[b.Upright=1]="Upright"})(a.VerticalGlyphOrientation||(a.VerticalGlyphOrientation={}));a.WaterbodySize=void 0;(function(b){b[b.Small=0]="Small";b[b.Medium=1]="Medium";b[b.Large=2]="Large"})(a.WaterbodySize||(a.WaterbodySize={}));a.WaveStrength=void 0;(function(b){b[b.Calm=0]="Calm";b[b.Rippled=1]="Rippled";b[b.Slight=2]="Slight";b[b.Moderate=3]="Moderate"})(a.WaveStrength||(a.WaveStrength={}));Object.defineProperties(a,{__esModule:{value:!0},
[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/engine/webgl/Geometry":function(){define(["exports"],function(a){let b=function(){function C(f,t){this.x=f;this.y=t}var w=C.prototype;w.clone=function(){return new C(this.x,this.y)};w.equals=function(f,t){return f===this.x&&t===this.y};w.isEqual=function(f){return f.x===this.x&&f.y===this.y};w.setCoords=function(f,t){this.x=f;this.y=t};w.normalize=function(){var f=this.x;const t=this.y;f=Math.sqrt(f*f+t*t);this.x/=f;this.y/=f};w.rightPerpendicular=
function(){const f=this.x;this.x=this.y;this.y=-f};w.move=function(f,t){this.x+=f;this.y+=t};w.assign=function(f){this.x=f.x;this.y=f.y};w.assignAdd=function(f,t){this.x=f.x+t.x;this.y=f.y+t.y};w.assignSub=function(f,t){this.x=f.x-t.x;this.y=f.y-t.y};w.rotate=function(f,t){const k=this.x,p=this.y;this.x=k*f-p*t;this.y=k*t+p*f};w.scale=function(f){this.x*=f;this.y*=f};w.length=function(){const f=this.x,t=this.y;return Math.sqrt(f*f+t*t)};C.distance=function(f,t){const k=t.x-f.x;f=t.y-f.y;return Math.sqrt(k*
k+f*f)};C.add=function(f,t){return new C(f.x+t.x,f.y+t.y)};C.sub=function(f,t){return new C(f.x-t.x,f.y-t.y)};return C}();a.GeometryType=void 0;(function(C){C[C.Unknown=0]="Unknown";C[C.Point=1]="Point";C[C.LineString=2]="LineString";C[C.Polygon=3]="Polygon"})(a.GeometryType||(a.GeometryType={}));a.Point=b;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/engine/vectorTiles/TileParser":function(){define("../../../../chunks/_rollupPluginBabelHelpers ../../../../core/pbf ../../../../core/promiseUtils ../../../../geometry/libtess ./Feature ./IndexMemoryBuffer ./SourceLayerData ./VertexMemoryBuffer ./buckets/CircleBucket ./buckets/FillBucket ./buckets/LineBucket ./buckets/SymbolBucket ./style/StyleDefinition ../webgl/TileClipper ../../tiling/enums".split(" "),
function(a,b,C,w,f,t,k,p,d,e,l,g,c,m,u){return function(){function r(h,q,D,v,z){this._pbfTiles={};this._tileClippers={};this._client=D;this._tile=q;if(z){this._styleLayerUIDs=new Set;for(const y of z)this._styleLayerUIDs.add(y)}this._styleRepository=v;this._layers=this._styleRepository.layers;const [B,E,x]=q.tileKey.split("/").map(parseFloat);this._level=B;q=8+Math.max(5*(this._level-14),0);for(const y of Object.keys(h))D=h[y],this._pbfTiles[y]=new b(new Uint8Array(D.protobuff),new DataView(D.protobuff)),
D.refKey&&([D]=D.refKey.split("/").map(parseFloat),D=B-D,0<D&&(v=(1<<D)-1,this._tileClippers[y]=new m.TileClipper(D,E&v,x&v,8,q))),this._tileClippers[y]||(this._tileClippers[y]=new m.SimpleBuilder)}var n=r.prototype;n._canParseStyleLayer=function(h){return!this._styleLayerUIDs||this._styleLayerUIDs.has(h)};n.parse=function(){var h=a._asyncToGenerator(function*(q){const D=w.loadLibtess(),v=this._initialize(q),{returnedBuckets:z}=v;this._processLayers(v);this._linkReferences(v);this._filterFeatures(v);
const B=[],E=new Set,x=(A,F)=>{E.has(A)||(B.push({name:A,repeat:F}),E.add(A))},y={};for(const A of z)A.getResources(A.tileClipper,x,y);if(this._tile.status===u.TileStatus.INVALID)return[];q=this._fetchResources(B,y,q);return Promise.all([...q,D]).then(()=>this._processFeatures(v.returnedBuckets))});return function(q){return h.apply(this,arguments)}}();n._initialize=function(h){h=h&&h.signal;const q=this._parseTileData(this._pbfTiles),D=this._layers,v=this._level,z=this._tileClippers,B=new Map;return{signal:h,
sourceNameToTileData:q,layers:D,zoom:v,sourceNameToTileClipper:z,sourceNameToUniqueSourceLayerBuckets:{},sourceNameToUniqueSourceLayers:{},returnedBuckets:[],layerIdToBucket:{},referencerUIDToReferencedId:B}};n._processLayers=function(h){const {sourceNameToTileData:q,layers:D,zoom:v,sourceNameToTileClipper:z,sourceNameToUniqueSourceLayerBuckets:B,sourceNameToUniqueSourceLayers:E,returnedBuckets:x,layerIdToBucket:y,referencerUIDToReferencedId:A}=h;for(h=D.length-1;0<=h;h--){const H=D[h];if(!this._canParseStyleLayer(H.uid)||
H.minzoom&&v<Math.floor(H.minzoom)||H.maxzoom&&v>=H.maxzoom||H.type===c.StyleLayerType.BACKGROUND)continue;if(!q[H.source]||!z[H.source])continue;var F=z[H.source];const I=H.sourceLayer;var K=q[H.source][I];if(K){var M=E[H.source];M||(M=E[H.source]=new Set);M.add(H.sourceLayer);if(H.refLayerId)A.set(H.uid,H.refLayerId);else if(M=this._createBucket(H))M.layerUIDs=[H.uid],M.layerExtent=K.extent,M.tileClipper=F,(F=B[H.source])||(F=B[H.source]={}),(K=F[I])||(K=F[I]=[]),K.push(M),x.push(M),y[H.id]=M}}};
n._linkReferences=function(h){const {layerIdToBucket:q,referencerUIDToReferencedId:D}=h;D.forEach((v,z)=>{q[v]&&q[v].layerUIDs.push(z)})};n._filterFeatures=function(h){const {signal:q,sourceNameToTileData:D,sourceNameToUniqueSourceLayerBuckets:v,sourceNameToUniqueSourceLayers:z}=h;h=10*this._level;const B=10*(this._level+1),E=[],x=[];for(const K of Object.keys(z))z[K].forEach(M=>{E.push(M);x.push(K)});for(let K=0;K<E.length;K++){var y=x[K],A=E[K];if(!D[y]||!v[y])continue;const M=D[y][A];if((y=v[y][A])&&
0!==y.length){if(C.isAborted(q))break;for(A=M.getData();A.nextTag(2);){var F=A.getMessage();const H=new f(F,M);F.release();if(F=H.values){const I=F._minzoom;if(I&&I>=B)continue;if((F=F._maxzoom)&&F<=h)continue}for(const I of y)I.pushFeature(H)}}}};n._fetchResources=function(h,q,D){const v=[],z=this._tile.getWorkerTileHandler();0<h.length&&(h=z.fetchSprites(h,this._client,D),v.push(h));for(const B in q)h=q[B],0<h.size&&(h=z.fetchGlyphs(this._tile.tileKey,B,h,this._client,D),v.push(h));return v};n._processFeatures=
function(h){h=h.filter(q=>q.hasFeatures()||this._canParseStyleLayer(q.layer.uid));for(const q of h)q.processFeatures(q.tileClipper);return h};n._parseTileData=function(h){const q={};for(const D of Object.keys(h)){const v=h[D],z={};for(;v.next();)switch(v.tag()){case 3:const B=v.getMessage(),E=new k(B);B.release();z[E.name]=E;break;default:v.skip()}q[D]=z}return q};n._createBucket=function(h){switch(h.type){case c.StyleLayerType.BACKGROUND:return null;case c.StyleLayerType.FILL:return this._createFillBucket(h);
case c.StyleLayerType.LINE:return this._createLineBucket(h);case c.StyleLayerType.CIRCLE:return this._createCircleBucket(h);case c.StyleLayerType.SYMBOL:return this._createSymbolBucket(h)}};n._createFillBucket=function(h){return new e(h,this._level,this._tile.getWorkerTileHandler().getSpriteItems(),new p.FillVertexBuffer(h.fillMaterial.getStride()),new t.TriangleIndexBuffer,new p.OutlineVertexBuffer(h.outlineMaterial.getStride()),new t.TriangleIndexBuffer)};n._createLineBucket=function(h){return new l(h,
this._level,this._tile.getWorkerTileHandler().getSpriteItems(),new p.LineVertexBuffer(h.lineMaterial.getStride()),new t.TriangleIndexBuffer)};n._createCircleBucket=function(h){return new d(h,this._level,this._tile.getWorkerTileHandler().getSpriteItems(),new p.CircleVertexBuffer(h.circleMaterial.getStride()),new t.TriangleIndexBuffer)};n._createSymbolBucket=function(h){const q=this._tile;return new g(h,this._level,new p.SymbolVertexBuffer(h.iconMaterial.getStride()),new t.TriangleIndexBuffer,new p.SymbolVertexBuffer(h.textMaterial.getStride()),
new t.TriangleIndexBuffer,q.placementEngine,q.getWorkerTileHandler())};return r}()})},"esri/core/pbf":function(){define(["./has","./ObjectPool"],function(a,b){var C;(function(t){t[t.varint=0]="varint";t[t.fixed64=1]="fixed64";t[t.delimited=2]="delimited";t[t.fixed32=5]="fixed32";t[t.unknown=99]="unknown"})(C||(C={}));const w=new TextDecoder("utf-8"),f=a("safari")||a("ios")?6:a("ff")?12:32;a=function(){function t(p,d,e=0,l=p?p.byteLength:0){this._tag=0;this._dataType=C.unknown;this._init(p,d,e,l)}
var k=t.prototype;k._init=function(p,d,e,l){this._data=p;this._dataView=d;this._pos=e;this._end=l};k.asUnsafe=function(){return this};k.clone=function(){return new t(this._data,this._dataView,this._pos,this._end)};k.pos=function(){return this._pos};k.move=function(p){this._pos=p};k.nextTag=function(p){for(;;){if(this._pos===this._end)return!1;const d=this._decodeVarint();this._tag=d>>3;this._dataType=d&7;if(!p||p===this._tag)break;this.skip()}return!0};k.next=function(){if(this._pos===this._end)return!1;
const p=this._decodeVarint();this._tag=p>>3;this._dataType=p&7;return!0};k.empty=function(){return this._pos>=this._end};k.tag=function(){return this._tag};k.getInt32=function(){return this._decodeVarint()};k.getInt64=function(){return this._decodeVarint()};k.getUInt32=function(){let p=4294967295;p=(this._data[this._pos]&127)>>>0;if(128>this._data[this._pos++])return p;p=(p|(this._data[this._pos]&127)<<7)>>>0;if(128>this._data[this._pos++])return p;p=(p|(this._data[this._pos]&127)<<14)>>>0;if(128>
this._data[this._pos++])return p;p=(p|(this._data[this._pos]&127)<<21)>>>0;if(128>this._data[this._pos++])return p;p=(p|(this._data[this._pos]&15)<<28)>>>0;if(128>this._data[this._pos++])return p};k.getUInt64=function(){return this._decodeVarint()};k.getSInt32=function(){const p=this.getUInt32();if(void 0!==p)return p>>>1^-(p&1)|0};k.getSInt64=function(){return this._decodeSVarint()};k.getBool=function(){const p=0!==this._data[this._pos];this._skip(1);return p};k.getEnum=function(){return this._decodeVarint()};
k.getFixed64=function(){var p=this._dataView;const d=this._pos;p=p.getUint32(d,!0)+4294967296*p.getUint32(d+4,!0);this._skip(8);return p};k.getSFixed64=function(){var p=this._dataView;const d=this._pos;p=p.getUint32(d,!0)+4294967296*p.getInt32(d+4,!0);this._skip(8);return p};k.getDouble=function(){const p=this._dataView.getFloat64(this._pos,!0);this._skip(8);return p};k.getFixed32=function(){const p=this._dataView.getUint32(this._pos,!0);this._skip(4);return p};k.getSFixed32=function(){const p=this._dataView.getInt32(this._pos,
!0);this._skip(4);return p};k.getFloat=function(){const p=this._dataView.getFloat32(this._pos,!0);this._skip(4);return p};k.getString=function(){const p=this._getLength();var d=this._pos;d=this._toString(this._data,d,d+p);this._skip(p);return d};k.getBytes=function(){const p=this._getLength();var d=this._pos;d=this._toBytes(this._data,d,d+p);this._skip(p);return d};k.getLength=function(){return this._getLengthUnsafe()};k.processMessageWithArgs=function(p,d,e,l){const g=this.getMessage();p=p(g,d,e,
l);g.release();return p};k.processMessage=function(p){const d=this.getMessage();p=p(d);d.release();return p};k.getMessage=function(){const p=this._getLength(),d=t.pool.acquire();d._init(this._data,this._dataView,this._pos,this._pos+p);this._skip(p);return d};k.release=function(){t.pool.release(this)};k.dataType=function(){return this._dataType};k.skip=function(){switch(this._dataType){case C.varint:this._decodeVarint();break;case C.fixed64:this._skip(8);break;case C.delimited:this._skip(this._getLength());
break;case C.fixed32:this._skip(4);break;default:throw Error("Invalid data type!");}};k.skipLen=function(p){this._skip(p)};k._skip=function(p){if(this._pos+p>this._end)throw Error("Attempt to skip past the end of buffer!");this._pos+=p};k._decodeVarint=function(){const p=this._data;let d=this._pos,e=0,l=0;if(10<=this._end-d){if(l=p[d++],e|=l&127,0!==(l&128)&&(l=p[d++],e|=(l&127)<<7,0!==(l&128)&&(l=p[d++],e|=(l&127)<<14,0!==(l&128)&&(l=p[d++],e|=(l&127)<<21,0!==(l&128)&&(l=p[d++],e+=268435456*(l&127),
0!==(l&128)&&(l=p[d++],e+=34359738368*(l&127),0!==(l&128)&&(l=p[d++],e+=4398046511104*(l&127),0!==(l&128)&&(l=p[d++],e+=562949953421312*(l&127),0!==(l&128)&&(l=p[d++],e+=72057594037927936*(l&127),0!==(l&128)&&(l=p[d++],e+=0x7fffffffffffffff*(l&127),0!==(l&128)))))))))))throw Error("Varint too long!");}else{let g=1;for(;d!==this._end;){l=p[d];if(0===(l&128))break;++d;e+=(l&127)*g;g*=128}if(d===this._end)throw Error("Varint overrun!");++d;e+=l*g}this._pos=d;return e};k._decodeSVarint=function(){const p=
this._data;let d=this._pos,e=0,l=0;const g=p[d]&1;if(10<=this._end-d){if(l=p[d++],e|=l&127,0!==(l&128)&&(l=p[d++],e|=(l&127)<<7,0!==(l&128)&&(l=p[d++],e|=(l&127)<<14,0!==(l&128)&&(l=p[d++],e|=(l&127)<<21,0!==(l&128)&&(l=p[d++],e+=268435456*(l&127),0!==(l&128)&&(l=p[d++],e+=34359738368*(l&127),0!==(l&128)&&(l=p[d++],e+=4398046511104*(l&127),0!==(l&128)&&(l=p[d++],e+=562949953421312*(l&127),0!==(l&128)&&(l=p[d++],e+=72057594037927936*(l&127),0!==(l&128)&&(l=p[d++],e+=0x7fffffffffffffff*(l&127),0!==
(l&128)))))))))))throw Error("Varint too long!");}else{let c=1;for(;d!==this._end;){l=p[d];if(0===(l&128))break;++d;e+=(l&127)*c;c*=128}if(d===this._end)throw Error("Varint overrun!");++d;e+=l*c}this._pos=d;return g?-(e+1)/2:e/2};k._getLength=function(){if(this._dataType!==C.delimited)throw Error("Not a delimited data type!");return this._decodeVarint()};k._getLengthUnsafe=function(){return this.getUInt32()};k._toString=function(p,d,e){e=Math.min(this._end,e);if(e-d>f)return p=p.subarray(d,e),w.decode(p);
let l="",g="";for(;d<e;++d){const c=p[d];c&128?g+="%"+c.toString(16):(l+=decodeURIComponent(g)+String.fromCharCode(c),g="")}g.length&&(l+=decodeURIComponent(g));return l};k._toBytes=function(p,d,e){e=Math.min(this._end,e);return new Uint8Array(p.buffer,d,e-d)};return t}();a.pool=new b(a,void 0,t=>{t._data=null;t._dataView=null});return a})},"esri/core/ObjectPool":function(){define(function(){let a=function(){function b(w,f,t,k=1,p=0){this._ctor=w;this._acquireFunction=f;this._releaseFunction=t;this.allocationSize=
k;this._pool=Array(p);this._initialSize=p;if(this._ctor)for(w=0;w<p;w++)this._pool[w]=new this._ctor;this.allocationSize=Math.max(k,1)}var C=b.prototype;C.destroy=function(){this.prune(0)};C.acquire=function(...w){if(b.test.disabled)var f=new this._ctor;else{if(0===this._pool.length){f=this.allocationSize;for(let t=0;t<f;t++)this._pool[t]=new this._ctor}f=this._pool.pop()}this._acquireFunction?this._acquireFunction(f,...w):f&&f.acquire&&"function"===typeof f.acquire&&f.acquire(...w);return f};C.release=
function(w){w&&!b.test.disabled&&(this._releaseFunction?this._releaseFunction(w):w&&w.release&&"function"===typeof w.release&&w.release(),this._pool.push(w))};C.prune=function(w=this._initialSize){if(!(w>=this._pool.length)){for(let f=w;f<this._pool.length;++f)this._dispose(this._pool[f]);this._pool.length=w}};C._dispose=function(w){w.dispose&&"function"===typeof w.dispose&&w.dispose()};return b}();a.test={disabled:!1};return a})},"esri/geometry/libtess":function(){define(["require","exports","../chunks/_rollupPluginBabelHelpers",
"../assets","../core/has"],function(a,b,C,w,f){function t(){t=C._asyncToGenerator(function*(){d||(d=k());return d});return t.apply(this,arguments)}function k(){return p.apply(this,arguments)}function p(){p=C._asyncToGenerator(function*(){e=yield(f("esri-csp-restrictions")?yield(new Promise((l,g)=>a(["../chunks/libtess-asm"],l,g))).then(l=>l.libtessAsm):yield(new Promise((l,g)=>a(["../chunks/libtess"],l,g))).then(l=>l.libtess)).load({locateFile:l=>w.getAssetUrl(`esri/core/libs/libtess/${l}`)})});return p.apply(this,
arguments)}let d=null,e=null;b.loadLibtess=function(){return t.apply(this,arguments)};b.triangulate=function(l,g){return e.triangulate(l,g,Math.max(l.length,128E3))};Object.defineProperties(b,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/assets":function(){define("exports ./config ./request ./core/Error ./core/Logger ./core/urlUtils".split(" "),function(a,b,C,w,f,t){function k(d){if(!b.assetsPath)throw p.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),
new w("assets:path-not-set","config.assetsPath is not set");return t.join(b.assetsPath,d)}const p=f.getLogger("esri.assets");a.fetchAsset=function(d,e){return C(k(d),e)};a.getAssetUrl=k;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/request":function(){define("require ./chunks/_rollupPluginBabelHelpers ./config ./kernel ./core/Error ./core/has ./core/lang ./core/maybe ./core/promiseUtils ./core/urlUtils ./portal/support/urlUtils ./support/apiKeyUtils ./support/requestUtils".split(" "),
function(a,b,C,w,f,t,k,p,d,e,l,g,c){function m(P,R){return u.apply(this,arguments)}function u(){u=b._asyncToGenerator(function*(P,R){var T=e.isDataProtocol(P);const X=e.isBlobProtocol(P);X||T||(P=e.normalize(P));const ca={url:P,requestOptions:{...p.unwrap(R)}};let da=e.getInterceptor(P);if(da){P=yield F(da,ca);if(null!=P)return{data:P,getHeader:ra,requestOptions:ca.requestOptions,url:ca.url};da.after||da.error||(da=null)}P=ca.url;R=ca.requestOptions;if("image"===R.responseType){if(t("host-webworker")||
t("host-node"))throw h("request:invalid-parameters",Error("responseType 'image' is not supported in Web Workers or Node environment"),ca);}else if(T)throw h("request:invalid-parameters",Error("Data URLs are not supported for responseType \x3d "+R.responseType),ca);if("head"===R.method){if(R.body)throw h("request:invalid-parameters",Error("body parameter cannot be set when method is 'head'"),ca);if(T||X)throw h("request:invalid-parameters",Error("data and blob URLs are not supported for method 'head'"),
ca);}yield q();if(ba)return ba.execute(P,R);const ma=new AbortController;d.onAbort(R,()=>ma.abort());T=yield I({controller:ma,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:da,params:ca,redoRequest:!1,useIdentity:ia.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1});da?.after?.(T);return T});return u.apply(this,arguments)}function r(P){(P=e.getOrigin(P))&&!m._corsServers.includes(P)&&m._corsServers.push(P)}function n(P){P=e.getOrigin(P);return!P||P.endsWith(".arcgis.com")||
m._corsServers.includes(P)||e.isTrustedServer(P)}function h(P,R,T,X){let ca="Error";const da={url:T.url,requestOptions:T.requestOptions,getHeader:ra,ssl:!1};if(R instanceof f)return R.details?(R.details=k.clone(R.details),R.details.url=T.url,R.details.requestOptions=T.requestOptions):R.details=da,R;if(R){T=X&&(sa=>X.headers.get(sa));const ma=X&&X.status,na=R.message;na&&(ca=na);T&&(da.getHeader=T);da.httpStatus=(null!=R.httpCode?R.httpCode:R.code)||ma||0;da.subCode=R.subcode;da.messageCode=R.messageCode;
da.messages="string"===typeof R.details?[R.details]:R.details;da.raw=qa in R?R[qa]:R}return d.isAbortError(R)?d.createAbortError():new f(P,ca,da)}function q(){return D.apply(this,arguments)}function D(){D=b._asyncToGenerator(function*(){t("host-webworker")?ba||(ba=yield new Promise((P,R)=>a(["./core/workers/request"],P,R))):m._abortableFetch||(m._abortableFetch=globalThis.fetch.bind(globalThis))});return D.apply(this,arguments)}function v(){return z.apply(this,arguments)}function z(){z=b._asyncToGenerator(function*(){w.id||
(yield new Promise((P,R)=>a(["./identity/IdentityManager"],T=>P(Object.freeze(Object.defineProperty({__proto__:null,default:T},Symbol.toStringTag,{value:"Module"}))),R)))});return z.apply(this,arguments)}function B(P){return E.apply(this,arguments)}function E(){E=b._asyncToGenerator(function*(P){const R=P.params.url,T=P.params.requestOptions,X=P.controller.signal,ca=T.body;let da=null,ma=null;ea&&"HTMLFormElement"in globalThis&&(ca instanceof FormData?da=ca:ca instanceof HTMLFormElement&&(da=new FormData(ca)));
"string"===typeof ca&&(ma=ca);P.fetchOptions={cache:T.cacheBust&&!m._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:T.headers||{},method:"head"===T.method?"HEAD":"GET",mode:"cors",priority:ia.priority,redirect:"follow",signal:X};if(da||ma)P.fetchOptions.body=da||ma;"anonymous"===T.authMode&&(P.useIdentity=!1);P.hasToken=!!(/token=/i.test(R)||T.query?.token||da?.get("token"));!P.hasToken&&C.apiKey&&g.supportsApiKey(R)&&(T.query||(T.query={}),T.query.token=C.apiKey,P.hasToken=
!0);if(P.useIdentity&&!P.hasToken&&!P.credentialToken&&!x(R)&&!d.isAborted(X)){let na;"immediate"===T.authMode?(yield v(),na=yield w.id.getCredential(R,{signal:X}),P.credential=na):"no-prompt"===T.authMode?(yield v(),na=yield w.id.getCredential(R,{prompt:!1,signal:X}).catch(()=>{}),P.credential=na):w.id&&(na=w.id.findCredential(R));na&&(P.credentialToken=na.token,P.useSSL=!!na.ssl)}});return E.apply(this,arguments)}function x(P){return ua.some(R=>R.test(P))}function y(P){return A.apply(this,arguments)}
function A(){A=b._asyncToGenerator(function*(P){let R=P.params.url;const T=P.params.requestOptions,X=P.fetchOptions??{},ca=e.isBlobProtocol(R)||e.isDataProtocol(R),da=T.responseType||"json";var ma=ca?0:null!=T.timeout?T.timeout:ia.timeout,na=!1;if(!ca){P.useSSL&&(R=e.toHTTPS(R));T.cacheBust&&"default"===X.cache&&(R=e.addQueryParameter(R,"request.preventCache",Date.now()));var sa={...T.query};P.credentialToken&&(sa.token=P.credentialToken);na=e.objectToQuery(sa);t("esri-url-encodes-apostrophe")&&(na=
na.replace(/'/g,"%27"));const O=R.length+1+na.length;na="delete"===T.method||"post"===T.method||"put"===T.method||!!T.body||O>ia.maxUrlLength;const W=T.useProxy||!!e.getProxyRule(R);if(W){const L=e.getProxyUrl(R);var ya=L.path;!na&&ya.length+1+O>ia.maxUrlLength&&(na=!0);L.query&&(sa={...L.query,...sa})}if("HEAD"===X.method&&(na||W)){if(na){if(O>ia.maxUrlLength)throw h("request:invalid-parameters",Error("URL exceeds maximum length"),P.params);throw h("request:invalid-parameters",Error("cannot use POST request when method is 'head'"),
P.params);}if(W)throw h("request:invalid-parameters",Error("cannot use proxy when method is 'head'"),P.params);}na?(X.method="delete"===T.method?"DELETE":"put"===T.method?"PUT":"POST",T.body?R=e.addQueryParameters(R,sa):(X.body=e.objectToQuery(sa),X.headers||(X.headers={}),X.headers["Content-Type"]="application/x-www-form-urlencoded")):R=e.addQueryParameters(R,sa);W&&(P.useProxy=!0,R=`${ya}?${R}`);sa.token&&ea&&X.body instanceof FormData&&!l.isSecureProxyService(R)&&X.body.set("token",sa.token);T.hasOwnProperty("withCredentials")?
P.withCredentials=T.withCredentials:e.hasSameOrigin(R,e.getAppUrl())||(e.isTrustedServer(R)?P.withCredentials=!0:w.id&&(ya=w.id.findServerInfo(R))&&ya.webTierAuth&&(P.withCredentials=!0));P.withCredentials&&(X.credentials="include",c.isNoCorsRequestRequired(R)&&(yield c.sendNoCorsRequest(na?e.addQueryParameters(R,sa):R)))}sa=0;let wa=!1;0<ma&&(sa=setTimeout(()=>{wa=!0;P.controller.abort()},ma));ma=void 0;let va;try{if("native-request-init"===T.responseType)va=X,va.url=R;else if("image"!==T.responseType||
"default"!==X.cache||"GET"!==X.method||na||M(T.headers)||!ca&&!P.useProxy&&ia.proxyUrl&&!n(R))if(ma=yield m._abortableFetch(R,X),P.useProxy||r(R),"native"===T.responseType)va=ma;else{if("HEAD"!==X.method)if(ma.ok){switch(da){case "array-buffer":va=yield ma.arrayBuffer();break;case "blob":case "image":va=yield ma.blob();break;default:va=yield ma.text()}sa&&(clearTimeout(sa),sa=0);if("json"===da||"xml"===da||"document"===da)if(va)switch(da){case "json":va=JSON.parse(va);break;case "xml":va=H(va,"application/xml");
break;case "document":va=H(va,"text/html")}else va=null;if(va){if("array-buffer"===da||"blob"===da){const O=ma.headers.get("Content-Type");if(O&&/application\/json|text\/plain/i.test(O)&&750>=va["blob"===da?"size":"byteLength"])try{const W=yield(new Response(va)).json();W.error&&(va=W)}catch{}}"image"===da&&va instanceof Blob&&(va=yield Z(URL.createObjectURL(va),P,!0))}}else va=yield ma.text()}else va=yield Z(R,P)}catch(O){if("AbortError"===O.name){if(wa)throw Error("Timeout exceeded");throw d.createAbortError("Request canceled");
}if(!ma&&O instanceof TypeError&&ia.proxyUrl&&!T.body&&"delete"!==T.method&&"head"!==T.method&&"post"!==T.method&&"put"!==T.method&&!P.useProxy&&!n(R))P.redoRequest=!0,e.addProxyRule({proxyUrl:ia.proxyUrl,urlPrefix:e.getOrigin(R)??""});else throw O;}finally{sa&&clearTimeout(sa)}return[ma,va]});return A.apply(this,arguments)}function F(P,R){return K.apply(this,arguments)}function K(){K=b._asyncToGenerator(function*(P,R){if(null!=P.responseData)return P.responseData;P.headers&&(R.requestOptions.headers=
{...R.requestOptions.headers,...P.headers});P.query&&(R.requestOptions.query={...R.requestOptions.query,...P.query});if(P.before){let T,X;try{X=yield P.before(R)}catch(ca){T=h("request:interceptor",ca,R)}if(X instanceof Error||X instanceof f)T=h("request:interceptor",X,R);if(T)throw P.error&&P.error(T),T;return X}});return K.apply(this,arguments)}function M(P){if(P)for(const R of Object.getOwnPropertyNames(P))if(P[R])return!0;return!1}function H(P,R){let T;try{T=(new DOMParser).parseFromString(P,
R)}catch{}if(!T||T.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return T}function I(P){return J.apply(this,arguments)}function J(){J=b._asyncToGenerator(function*(P){yield B(P);let R;try{do[R,T]=yield y(P);while(!(yield S(P,R,T)))}catch(da){var T=h("request:server",da,P.params,R);T.details.ssl=P.useSSL;P.interceptor&&P.interceptor.error&&P.interceptor.error(T);throw T;}var X=P.params.url;T&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(X)&&(P.hasToken||P.credentialToken||
!T.user?.username||e.isTrustedServer(X)||(X=e.getOrigin(X,!0))&&ia.trustedServers.push(X),Array.isArray(T.authorizedCrossOriginNoCorsDomains)&&c.registerNoCorsDomains(T.authorizedCrossOriginNoCorsDomains));if((X=P.credential)&&w.id){var ca=w.id.findServerInfo(X.server);if(ca=ca&&ca.owningSystemUrl)ca=ca.replace(/\/?$/,"/sharing"),(X=w.id.findCredential(ca,X.userId))&&-1===w.id._getIdenticalSvcIdx(ca,X)&&X.resources.unshift(ca)}return{data:T,getHeader:R?da=>R?.headers.get(da):ra,requestOptions:P.params.requestOptions,
ssl:P.useSSL,url:P.params.url}});return J.apply(this,arguments)}function S(P,R,T){return V.apply(this,arguments)}function V(){V=b._asyncToGenerator(function*(P,R,T){if(P.redoRequest)return P.redoRequest=!1;var X=P.params.requestOptions;if(!R||"native"===X.responseType||"native-request-init"===X.responseType)return!0;let ca;if(!R.ok)throw ca=Error(`Unable to load ${R.url} status: ${R.status}`),ca[qa]=T,ca;T&&(T.error?ca=T.error:"error"===T.status&&Array.isArray(T.messages)&&(ca={...T},ca[qa]=T,ca.details=
T.messages));let da;R=null;let ma;ca&&(da=Number(ca.code),R=ca.hasOwnProperty("subcode")?Number(ca.subcode):null,ma=(ma=ca.messageCode)&&ma.toUpperCase());X=X.authMode;if(403===da&&(4===R||ca.message&&ca.message.toLowerCase().includes("ssl")&&!ca.message.toLowerCase().includes("permission"))){if(!P.useSSL)return P.useSSL=!0,!1}else if(!P.hasToken&&P.useIdentity&&("no-prompt"!==X||498===da)&&void 0!==da&&ka.includes(da)&&!x(P.params.url)&&(403!==da||ma&&!oa.includes(ma)&&(null==R||2===R&&P.credentialToken))){yield v();
try{const na=yield w.id.getCredential(P.params.url,{error:h("request:server",ca,P.params),prompt:"no-prompt"!==X,signal:P.controller.signal,token:P.credentialToken});P.credential=na;P.credentialToken=na.token;P.useSSL=P.useSSL||na.ssl;return!1}catch(na){if("no-prompt"===X)return P.credential=void 0,P.credentialToken=void 0,!1;ca=na}}if(ca)throw ca;return!0});return V.apply(this,arguments)}function Z(P,R,T=!1){const X=R.controller.signal,ca=new Image;ca.crossOrigin=R.withCredentials?"use-credentials":
"anonymous";ca.alt="";ca.fetchPriority=ia.priority;ca.src=P;return c.loadImageAsync(ca,P,T,X)}let ba;const ia=C.request,ea="FormData"in globalThis,ka=[499,498,403,401],oa=["COM_0056","COM_0057","SB_0008"],ua=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],ra=()=>null,qa=Symbol();m._abortableFetch=null;m._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];return m})},"esri/portal/support/urlUtils":function(){define(["exports"],function(a){const b=
/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,C={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};a.isSecureProxyService=function(w){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(w)};a.parseKnownArcGISOnlineDomain=function(w){w=w?.match(b);if(!w)return null;const [,f,t,k]=w;if(!f)return null;let p=
w=null,d=null;const {devext:e,qaext:l,www:g}=C;if(t)if(w=f,k)switch(k.toLowerCase()){case "devext":({customBaseUrl:p,portalHostname:d}=e);break;case "qa":({customBaseUrl:p,portalHostname:d}=l);break;default:return null}else({customBaseUrl:p,portalHostname:d}=g);else switch(f.toLowerCase()){case "devext":({customBaseUrl:p,portalHostname:d}=e);break;case "qaext":({customBaseUrl:p,portalHostname:d}=l);break;case "www":({customBaseUrl:p,portalHostname:d}=g);break;default:return null}return{customBaseUrl:p,
isPortal:!1,portalHostname:d,urlKey:w}};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/support/apiKeyUtils":function(){define(["exports","../core/urlUtils"],function(a,b){const C=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];a.isApiKey=function(w){return!!w&&4<w.length&&w.startsWith("AAPK")};a.supportsApiKey=function(w){const f=b.getOrigin(w,!0);return f?f.endsWith(".arcgis.com")&&!C.includes(f)&&
!w.endsWith("/sharing/rest/generateToken"):!1};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/support/requestUtils":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../config ../core/has ../core/maybe ../core/promiseUtils ../core/urlUtils".split(" "),function(a,b,C,w,f,t,k){function p(){try{return new DOMException("Aborted","AbortError")}catch{const e=Error();e.name="AbortError";return e}}function d(){d=b._asyncToGenerator(function*(e){var l=
C.request.crossOriginNoCorsDomains;const g=k.getOrigin(e);l&&g&&(l[g.toLowerCase()]=Date.now());l=k.urlToObject(e);e=l.path;"json"===l.query?.f&&(e+="?f\x3djson");try{yield fetch(e,{mode:"no-cors",credentials:"include"})}catch{}});return d.apply(this,arguments)}a.isNoCorsRequestRequired=function(e){const l=C.request.crossOriginNoCorsDomains;return l&&(e=k.getOrigin(e))?(e=e.toLowerCase(),!k.hasSameOrigin(e,k.getAppUrl())&&l[e]<Date.now()-36E5):!1};a.loadImageAsync=function(e,l,g=!1,c){return new Promise((m,
u)=>{if(t.isAborted(c))u(p());else{var r=()=>{q();u(Error(`Unable to load ${l}`))},n=()=>{const D=e;q();m(D)},h=()=>{if(e){var D=e;q();D.src="";u(p())}},q=()=>{w("esri-image-decode")||(e.removeEventListener("error",r),e.removeEventListener("load",n));e=n=r=null;f.isSome(c)&&c.removeEventListener("abort",h);h=null;g&&URL.revokeObjectURL(l)};f.isSome(c)&&c.addEventListener("abort",h);w("esri-image-decode")?e.decode().then(n,r):(e.addEventListener("error",r),e.addEventListener("load",n))}})};a.registerNoCorsDomains=
function(e){C.request.crossOriginNoCorsDomains||(C.request.crossOriginNoCorsDomains={});const l=C.request.crossOriginNoCorsDomains;for(let g of e)g=g.toLowerCase(),/^https?:\/\//.test(g)?l[k.getOrigin(g)??""]=0:(l[k.getOrigin("http://"+g)??""]=0,l[k.getOrigin("https://"+g)??""]=0)};a.sendNoCorsRequest=function(e){return d.apply(this,arguments)};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/engine/vectorTiles/Feature":function(){define(["../webgl/Geometry"],
function(a){var b;(function(C){C[C.moveTo=1]="moveTo";C[C.lineTo=2]="lineTo";C[C.close=7]="close"})(b||(b={}));return function(){function C(w,f){this.values={};this._geometry=void 0;this._pbfGeometry=null;const t=f.keys;f=f.values;for(w=w.asUnsafe();w.next();)switch(w.tag()){case 1:this.id=w.getUInt64();break;case 2:const k=w.getMessage().asUnsafe(),p=this.values;for(;!k.empty();){const d=k.getUInt32(),e=k.getUInt32();p[t[d]]=f[e]}k.release();break;case 3:this.type=w.getUInt32();break;case 4:this._pbfGeometry=
w.getMessage();break;default:w.skip()}}C.prototype.getGeometry=function(w){if(void 0!==this._geometry)return this._geometry;if(!this._pbfGeometry)return null;const f=this._pbfGeometry.asUnsafe();this._pbfGeometry=null;let t,k;w?w.reset(this.type):t=[];let p=b.moveTo;var d=0;let e=0,l=0;for(;!f.empty();)switch(0===d&&(d=f.getUInt32(),p=d&7,d>>=3),d--,p){case b.moveTo:e+=f.getSInt32();l+=f.getSInt32();w?w.moveTo(e,l):t&&(k&&t.push(k),k=[],k.push(new a.Point(e,l)));break;case b.lineTo:e+=f.getSInt32();
l+=f.getSInt32();w?w.lineTo(e,l):k&&k.push(new a.Point(e,l));break;case b.close:w?w.close():k&&!k[0].equals(e,l)&&k.push(k[0].clone());break;default:throw f.release(),Error("Invalid path operation");}let g;w?g=w.result():t&&(k&&t.push(k),g=t);f.release();return this._geometry=g};return C}()})},"esri/views/2d/engine/vectorTiles/IndexMemoryBuffer":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers","./MemoryBuffer"],function(a,b,C){let w=function(f){function t(){return f.call(this,
12)||this}b._inheritsLoose(t,f);t.prototype.add=function(k,p,d){const e=this.array;e.push(k);e.push(p);e.push(d)};return t}(C);C=function(f){function t(){return f.call(this,4)||this}b._inheritsLoose(t,f);t.prototype.add=function(k){this.array.push(k)};return t}(C);a.PointElementMemoryBuffer=C;a.TriangleIndexBuffer=w;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/engine/vectorTiles/MemoryBuffer":function(){define(["../../../../chunks/_rollupPluginBabelHelpers"],
function(a){return function(){function b(w){this._array=[];0>=w&&console.error("strideInBytes must be positive!");this._stride=w}var C=b.prototype;C.reset=function(){this.array.length=0};C.toBuffer=function(){return(new Uint32Array(this._array)).buffer};b.i1616to32=function(w,f){return 65535&w|f<<16};b.i8888to32=function(w,f,t,k){return w&255|(f&255)<<8|(t&255)<<16|k<<24};b.i8816to32=function(w,f,t){return w&255|(f&255)<<8|t<<16};a._createClass(b,[{key:"array",get:function(){return this._array}},
{key:"index",get:function(){return 4*this._array.length/this._stride}},{key:"itemSize",get:function(){return this._stride}},{key:"sizeInBytes",get:function(){return 4*this._array.length}}]);return b}()})},"esri/views/2d/engine/vectorTiles/SourceLayerData":function(){define(function(){return function(){function a(b){this.extent=4096;this.keys=[];this.values=[];this._pbfLayer=b.clone();for(b=b.asUnsafe();b.next();)switch(b.tag()){case 1:this.name=b.getString();break;case 3:this.keys.push(b.getString());
break;case 4:this.values.push(b.processMessage(a._parseValue));break;case 5:this.extent=b.getUInt32();break;default:b.skip()}}a.prototype.getData=function(){return this._pbfLayer};a._parseValue=function(b){for(;b.next();)switch(b.tag()){case 1:return b.getString();case 2:return b.getFloat();case 3:return b.getDouble();case 4:return b.getInt64();case 5:return b.getUInt64();case 6:return b.getSInt64();case 7:return b.getBool();default:b.skip()}return null};return a}()})},"esri/views/2d/engine/vectorTiles/VertexMemoryBuffer":function(){define(["exports",
"../../../../chunks/_rollupPluginBabelHelpers","./GeometryUtils","./MemoryBuffer"],function(a,b,C,w){let f=function(e){function l(g){return e.call(this,g)||this}b._inheritsLoose(l,e);l.prototype.add=function(g,c,m,u,r,n,h,q,D,v,z,B){const E=this.array;g=w.i1616to32(g,c);E.push(g);g=w.i8888to32(Math.round(31*m),Math.round(31*u),Math.round(31*r),Math.round(31*n));E.push(g);g=w.i8888to32(Math.round(31*h),Math.round(31*q),Math.round(31*D),Math.round(31*v));E.push(g);g=w.i1616to32(z,0);E.push(g);B&&E.push(...B)};
return l}(w),t=function(e){function l(g){return e.call(this,g)||this}b._inheritsLoose(l,e);l.prototype.add=function(g,c,m){const u=this.array;u.push(w.i1616to32(g,c));m&&u.push(...m)};return l}(w),k=function(e){function l(g){return e.call(this,g)||this}b._inheritsLoose(l,e);l.prototype.add=function(g,c,m,u,r,n,h){const q=this.array,D=this.index;g=w.i1616to32(g,c);q.push(g);g=w.i8888to32(Math.round(15*m),Math.round(15*u),r,n);q.push(g);h&&q.push(...h);return D};return l}(w),p=function(e){function l(g){return e.call(this,
g)||this}b._inheritsLoose(l,e);l.prototype.add=function(g,c,m,u,r,n,h,q,D,v,z,B){const E=this.array;g=w.i1616to32(g,c);E.push(g);g=w.i1616to32(Math.round(8*m),Math.round(8*u));E.push(g);g=w.i8888to32(r/4,n/4,q,D);E.push(g);g=w.i8888to32(0,C.radToByte(h),10*v,Math.min(10*z,255));E.push(g);B&&E.push(...B)};return l}(w),d=function(e){function l(g){return e.call(this,g)||this}b._inheritsLoose(l,e);l.prototype.add=function(g,c,m,u,r){const n=this.array;g=w.i1616to32(2*g+m,2*c+u);n.push(g);r&&n.push(...r)};
return l}(w);a.CircleVertexBuffer=d;a.FillVertexBuffer=t;a.LineVertexBuffer=f;a.OutlineVertexBuffer=k;a.SymbolVertexBuffer=p;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/engine/vectorTiles/buckets/CircleBucket":function(){define(["../../../../../chunks/_rollupPluginBabelHelpers","../enums","./BaseBucket"],function(a,b,C){return function(w){function f(k,p,d,e,l){k=w.call(this,k,p,d)||this;k.type=b.BucketType.CIRCLE;k._circleVertexBuffer=
e;k._circleIndexBuffer=l;return k}a._inheritsLoose(f,w);var t=f.prototype;t.processFeatures=function(k){const p=this._circleVertexBuffer,d=this._circleIndexBuffer;this._circleIndexStart=3*d.index;this._circleIndexCount=0;const e=this.layer,l=this.zoom;k&&k.setExtent(this.layerExtent);for(const c of this._features){var g=c.getGeometry(k);if(!g)continue;const m=e.circleMaterial.encodeAttributes(c,l,e);for(const u of g)if(u)for(const r of u)g=p.index,p.add(r.x,r.y,0,0,m),p.add(r.x,r.y,0,1,m),p.add(r.x,
r.y,1,0,m),p.add(r.x,r.y,1,1,m),d.add(g+0,g+1,g+2),d.add(g+1,g+2,g+3),this._circleIndexCount+=6}};t.serialize=function(){var k=6+this.layerUIDs.length;k+=this._circleVertexBuffer.array.length;k+=this._circleIndexBuffer.array.length;k=new Uint32Array(k);var p=new Int32Array(k.buffer);let d=0;k[d++]=this.type;k[d++]=this.layerUIDs.length;for(var e=0;e<this.layerUIDs.length;e++)k[d++]=this.layerUIDs[e];k[d++]=this._circleIndexStart;k[d++]=this._circleIndexCount;k[d++]=this._circleVertexBuffer.array.length;
for(e=0;e<this._circleVertexBuffer.array.length;e++)p[d++]=this._circleVertexBuffer.array[e];k[d++]=this._circleIndexBuffer.array.length;for(p=0;p<this._circleIndexBuffer.array.length;p++)k[d++]=this._circleIndexBuffer.array[p];return k.buffer};a._createClass(f,[{key:"circleIndexStart",get:function(){return this._circleIndexStart}},{key:"circleIndexCount",get:function(){return this._circleIndexCount}}]);return f}(C)})},"esri/views/2d/engine/vectorTiles/buckets/BaseBucket":function(){define(function(){return function(){function a(C,
w,f){this.layerExtent=4096;this._features=[];this.layer=C;this.zoom=w;this._spriteInfo=f;this._filter=C.getFeatureFilter()}var b=a.prototype;b.pushFeature=function(C){this._filter&&!this._filter.filter(C,this.zoom)||this._features.push(C)};b.hasFeatures=function(){return 0<this._features.length};b.getResources=function(C,w,f){};return a}()})},"esri/views/2d/engine/vectorTiles/buckets/FillBucket":function(){define("../../../../../chunks/_rollupPluginBabelHelpers ../../../../../core/ArrayPool ../../../../../chunks/earcut ../../../../../geometry/libtess ../enums ./BaseBucket ../../webgl/Geometry".split(" "),
function(a,b,C,w,f,t,k){return function(p){function d(l,g,c,m,u,r,n){l=p.call(this,l,g,c)||this;l.type=f.BucketType.FILL;l._patternMap=new Map;l._fillVertexBuffer=m;l._fillIndexBuffer=u;l._outlineVertexBuffer=r;l._outlineIndexBuffer=n;return l}a._inheritsLoose(d,p);var e=d.prototype;e.getResources=function(l,g,c){l=this.zoom;if(c=this.layer.getPaintProperty("fill-pattern"))if(c.isDataDriven)for(const m of this._features)g(c.getValue(l,m),!0);else g(c.getValue(l),!0)};e.processFeatures=function(l){this._fillIndexStart=
3*this._fillIndexBuffer.index;this._fillIndexCount=0;this._outlineIndexStart=3*this._outlineIndexBuffer.index;this._outlineIndexCount=0;const g=this.layer,c=this.zoom,{fillMaterial:m,outlineMaterial:u,hasDataDrivenFill:r,hasDataDrivenOutline:n}=g;l&&l.setExtent(this.layerExtent);var h=g.getPaintProperty("fill-pattern"),q=h?.isDataDriven;let D=!h&&g.getPaintValue("fill-antialias",c);if(g.outlineUsesFillColor){if(D&&!g.hasDataDrivenOpacity){var v=g.getPaintValue("fill-opacity",c),z=g.getPaintValue("fill-opacity",
c+1);1>v&&1>z&&(D=!1)}D&&!g.hasDataDrivenColor&&(v=g.getPaintValue("fill-color",c),z=g.getPaintValue("fill-color",c+1),1>v[3]&&1>z[3]&&(D=!1))}z=this._features;v=l?.validateTessellation;if(q){var B=[];for(var E of z){q=h.getValue(c,E);q=this._spriteInfo[q];if(!q||!q.rect)continue;z=m.encodeAttributes(E,c,g,q);const x=D&&n?u.encodeAttributes(E,c,g):[],y=E.getGeometry(l);B.push({ddFillAttributes:z,ddOutlineAttributes:x,page:q.page,geometry:y});B.sort((A,F)=>A.page-F.page);for(const {ddFillAttributes:A,
ddOutlineAttributes:F,page:K,geometry:M}of B)this._processFeature(M,D,g.outlineUsesFillColor,A,F,v,K)}}else for(B of z)h=r?m.encodeAttributes(B,c,g):null,E=D&&n?u.encodeAttributes(B,c,g):null,q=B.getGeometry(l),this._processFeature(q,D,g.outlineUsesFillColor,h,E,v)};e.serialize=function(){var l=10+this.layerUIDs.length;l+=this._fillVertexBuffer.array.length;l+=this._fillIndexBuffer.array.length;l+=this._outlineVertexBuffer.array.length;l+=this._outlineIndexBuffer.array.length;l+=3*this._patternMap.size+
1;l=new Uint32Array(l);var g=new Int32Array(l.buffer);let c=0;l[c++]=this.type;l[c++]=this.layerUIDs.length;for(var m=0;m<this.layerUIDs.length;m++)l[c++]=this.layerUIDs[m];l[c++]=this._fillIndexStart;l[c++]=this._fillIndexCount;l[c++]=this._outlineIndexStart;l[c++]=this._outlineIndexCount;m=this._patternMap;const u=m.size;l[c++]=u;if(0<u)for(const [r,[n,h]]of m)l[c++]=r,l[c++]=n,l[c++]=h;l[c++]=this._fillVertexBuffer.array.length;for(m=0;m<this._fillVertexBuffer.array.length;m++)g[c++]=this._fillVertexBuffer.array[m];
l[c++]=this._fillIndexBuffer.array.length;for(m=0;m<this._fillIndexBuffer.array.length;m++)l[c++]=this._fillIndexBuffer.array[m];l[c++]=this._outlineVertexBuffer.array.length;for(m=0;m<this._outlineVertexBuffer.array.length;m++)g[c++]=this._outlineVertexBuffer.array[m];l[c++]=this._outlineIndexBuffer.array.length;for(g=0;g<this._outlineIndexBuffer.array.length;g++)l[c++]=this._outlineIndexBuffer.array[g];return l.buffer};e._processFeature=function(l,g,c,m,u,r,n){if(l){var h=l.length,q=!u||0===u.length;
if(g&&(!c||q))for(g=0;g<h;g++)this._processOutline(l[g],u);for(u=0;u<h;u++)if(g=d._area(l[u]),32<g){void 0!==D&&this._processFill(l,D,m,r,n);var D=[u]}else-32>g&&void 0!==D&&D.push(u);void 0!==D&&this._processFill(l,D,m,r,n)}};e._processOutline=function(l,g){const c=this._outlineVertexBuffer,m=this._outlineIndexBuffer,u=m.index;var r;let n,h;const q=new k.Point(0,0),D=new k.Point(0,0),v=new k.Point(0,0);let z=-1,B=-1;var E=-1;let x=-1,y=-1,A=!1,F=l.length;if(!(2>F)){var K=l[0];for(r=l[F-1];F&&r.isEqual(K);)--F,
r=l[F-1];if(!(2>F-0)){for(K=0;K<F;++K){0===K?(r=l[F-1],n=l[0],h=l[1],q.assignSub(n,r),q.normalize(),q.rightPerpendicular()):(r=n,n=h,h=K!==F-1?l[K+1]:l[0],q.assign(D));r=this._isClipEdge(r,n);-1===x&&(A=r);D.assignSub(h,n);D.normalize();D.rightPerpendicular();E=q.x*D.y-q.y*D.x;v.assignAdd(q,D);v.normalize();var M=-v.x*-q.x+-v.y*-q.y;M=Math.abs(0!==M?1/M:1);8<M&&(M=8);0<=E?(E=c.add(n.x,n.y,q.x,q.y,0,1,g),-1===x&&(x=E),0<=z&&0<=B&&0<=E&&!r&&m.add(z,B,E),B=c.add(n.x,n.y,M*-v.x,M*-v.y,0,-1,g),-1===y&&
(y=B),0<=z&&0<=B&&0<=E&&!r&&m.add(z,B,E),z=B,B=E,E=c.add(n.x,n.y,v.x,v.y,0,1,g),0<=z&&0<=B&&0<=E&&!r&&m.add(z,B,E),B=c.add(n.x,n.y,D.x,D.y,0,1,g)):(E=c.add(n.x,n.y,M*v.x,M*v.y,0,1,g),-1===x&&(x=E),0<=z&&0<=B&&0<=E&&!r&&m.add(z,B,E),B=c.add(n.x,n.y,-q.x,-q.y,0,-1,g),-1===y&&(y=B),0<=z&&0<=B&&0<=E&&!r&&m.add(z,B,E),z=B,B=E,E=c.add(n.x,n.y,-v.x,-v.y,0,-1,g),0<=z&&0<=B&&0<=E&&!r&&m.add(z,B,E),z=c.add(n.x,n.y,-D.x,-D.y,0,-1,g));0<=z&&0<=B&&0<=E&&!r&&m.add(z,B,E)}0<=z&&0<=B&&0<=x&&!A&&m.add(z,B,x);0<=z&&
0<=x&&0<=y&&!A&&m.add(z,y,x);this._outlineIndexCount+=3*(m.index-u)}}};e._processFill=function(l,g,c,m,u){m=!0;var r;1<g.length&&(r=[]);var n=0;for(var h of g)0!==n&&r.push(n),n+=l[h].length;h=2*n;n=b.acquire();for(var q of g){const D=l[q],v=D.length;for(let z=0;z<v;++z)n.push(D[z].x,D[z].y)}q=C.earcut(n,r,2);if(m&&0<C.earcut.deviation(n,r,2,q)){h=g.map(z=>l[z].length);const {buffer:D,vertexCount:v}=w.triangulate(n,h);if(0<v){h=this._fillVertexBuffer.index;for(g=0;g<v;g++)this._fillVertexBuffer.add(D[2*
g],D[2*g+1],c);for(c=0;c<v;c+=3)g=h+c,this._fillIndexBuffer.add(g,g+1,g+2);void 0!==u&&(c=this._patternMap,(h=c.get(u))?h[1]+=v:c.set(u,[this._fillIndexStart+this._fillIndexCount,v]));this._fillIndexCount+=v}}else if(g=q.length,0<g){m=this._fillVertexBuffer.index;for(r=0;r<h;)this._fillVertexBuffer.add(n[r++],n[r++],c);for(c=0;c<g;)this._fillIndexBuffer.add(m+q[c++],m+q[c++],m+q[c++]);void 0!==u&&(c=this._patternMap,(h=c.get(u))?h[1]+=g:c.set(u,[this._fillIndexStart+this._fillIndexCount,g]));this._fillIndexCount+=
g}b.release(n)};e._isClipEdge=function(l,g){return l.x===g.x?-64>=l.x||4160<=l.x:l.y===g.y?-64>=l.y||4160<=l.y:!1};d._area=function(l){let g=0;const c=l.length-1;for(let m=0;m<c;m++)g+=(l[m].x-l[m+1].x)*(l[m].y+l[m+1].y);g+=(l[c].x-l[0].x)*(l[c].y+l[0].y);return.5*g};a._createClass(d,[{key:"fillIndexStart",get:function(){return this._fillIndexStart}},{key:"fillIndexCount",get:function(){return this._fillIndexCount}},{key:"outlineIndexStart",get:function(){return this._outlineIndexStart}},{key:"outlineIndexCount",
get:function(){return this._outlineIndexCount}}]);return d}(t)})},"esri/core/ArrayPool":function(){define(["./ObjectPool"],function(a){function b(f){f.length=0}let C=function(){function f(k=50,p=50){this._pool=new a(Array,void 0,b,p,k)}var t=f.prototype;t.acquire=function(){return this._pool.acquire()};t.release=function(k){this._pool.release(k)};t.prune=function(){this._pool.prune(0)};f.acquire=function(){return w.acquire()};f.release=function(k){return w.release(k)};f.prune=function(){w.prune()};
return f}();const w=new C(100);return C})},"esri/chunks/earcut":function(){define(["exports"],function(a){var b={exports:{}};(function(C){(function(w){w=w();void 0!==w&&(C.exports=w)})(function(){function w(x,y,A){A=A||2;var F=y&&y.length,K=F?y[0]*A:x.length,M=f(x,0,K,A,!0),H=[];if(!M||M.next===M.prev)return H;var I;if(F){var J=M;var S=A;M=[];var V;F=0;for(V=y.length;F<V;F++){var Z=y[F]*S;var ba=F<V-1?y[F+1]*S:x.length;Z=f(x,Z,ba,S,!1);Z===Z.next&&(Z.steiner=!0);ba=M;var ia=ba.push,ea=Z,ka=Z;do{if(ea.x<
ka.x||ea.x===ka.x&&ea.y<ka.y)ka=ea;ea=ea.next}while(ea!==Z);ia.call(ba,ka)}M.sort(d);for(F=0;F<M.length;F++)S=M[F],y=J,(J=l(S,y))?(V=D(J,S),S=t(J,J.next),V=e(V),t(V,V.next),S=e(S),J=e(y===J?S:y)):J=y,J=t(J,J.next);M=J}if(x.length>80*A){var oa=I=x[0];var ua=F=x[1];for(S=A;S<K;S+=A)y=x[S],J=x[S+1],y<oa&&(oa=y),J<ua&&(ua=J),y>I&&(I=y),J>F&&(F=J);I=Math.max(I-oa,F-ua);I=0!==I?1/I:0}k(M,H,A,oa,ua,I);return H}function f(x,y,A,F,K){if(K===0<E(x,y,A,F))for(K=y;K<A;K+=F)var M=v(K,x[K],x[K+1],M);else for(K=
A-F;K>=y;K-=F)M=v(K,x[K],x[K+1],M);M&&u(M,M.next)&&(x=M.next,z(M),M=x);return M}function t(x,y){if(!x)return x;y||(y=x);do{var A=!1;if(x.steiner||!u(x,x.next)&&0!==m(x.prev,x,x.next))x=x.next;else{y=x.prev;z(x);x=y;if(x===x.next)break;A=!0}}while(A||x!==y);return y}function k(x,y,A,F,K,M,H){if(x){if(!H&&M){var I=x,J=I;do null===J.z&&(J.z=g(J.x,J.y,F,K,M)),J.prevZ=J.prev,J=J.nextZ=J.next;while(J!==I);J.prevZ.nextZ=null;J.prevZ=null;I=J;var S,V,Z,ba,ia=1;do{J=I;var ea=I=null;for(V=0;J;){V++;var ka=
J;for(S=Z=0;S<ia&&(Z++,ka=ka.nextZ,ka);S++);for(ba=ia;0<Z||0<ba&&ka;)0!==Z&&(0===ba||!ka||J.z<=ka.z)?(S=J,J=J.nextZ,Z--):(S=ka,ka=ka.nextZ,ba--),ea?ea.nextZ=S:I=S,S.prevZ=ea,ea=S;J=ka}ea.nextZ=null;ia*=2}while(1<V)}for(I=x;x.prev!==x.next;){J=x.prev;ka=x.next;if(M)ea=p(x,F,K,M);else a:if(ea=x,V=ea.prev,Z=ea,ia=ea.next,0<=m(V,Z,ia))ea=!1;else{for(S=ea.next.next;S!==ea.prev;){if(c(V.x,V.y,Z.x,Z.y,ia.x,ia.y,S.x,S.y)&&0<=m(S.prev,S,S.next)){ea=!1;break a}S=S.next}ea=!0}if(ea)y.push(J.i/A),y.push(x.i/
A),y.push(ka.i/A),z(x),I=x=ka.next;else if(x=ka,x===I){if(!H)k(t(x),y,A,F,K,M,1);else if(1===H){x=t(x);H=y;I=A;J=x;do ka=J.prev,ea=J.next.next,!u(ka,ea)&&r(ka,J,J.next,ea)&&q(ka,ea)&&q(ea,ka)&&(H.push(ka.i/I),H.push(J.i/I),H.push(ea.i/I),z(J),z(J.next),J=x=ea),J=J.next;while(J!==x);x=t(J);k(x,y,A,F,K,M,2)}else if(2===H)a:{H=x;do{for(I=H.next.next;I!==H.prev;){if(J=H.i!==I.i){ea=ea=ea=ea=void 0;J=H;ka=I;if(ea=J.next.i!==ka.i&&J.prev.i!==ka.i){b:{ea=J;do{if(ea.i!==J.i&&ea.next.i!==J.i&&ea.i!==ka.i&&
ea.next.i!==ka.i&&r(ea,ea.next,J,ka)){ea=!0;break b}ea=ea.next}while(ea!==J);ea=!1}ea=!ea}if(ea){if(ea=q(J,ka)&&q(ka,J)){ea=J;V=!1;Z=(J.x+ka.x)/2;ia=(J.y+ka.y)/2;do ea.y>ia!==ea.next.y>ia&&ea.next.y!==ea.y&&Z<(ea.next.x-ea.x)*(ia-ea.y)/(ea.next.y-ea.y)+ea.x&&(V=!V),ea=ea.next;while(ea!==J);ea=V}ea=ea&&(m(J.prev,J,ka.prev)||m(J,ka.prev,ka))||u(J,ka)&&0<m(J.prev,J,J.next)&&0<m(ka.prev,ka,ka.next)}J=ea}if(J){x=D(H,I);H=t(H,H.next);x=t(x,x.next);k(H,y,A,F,K,M);k(x,y,A,F,K,M);break a}I=I.next}H=H.next}while(H!==
x)}break}}}}function p(x,y,A,F){var K=x.prev,M=x.next;if(0<=m(K,x,M))return!1;var H=K.x>x.x?K.x>M.x?K.x:M.x:x.x>M.x?x.x:M.x,I=K.y>x.y?K.y>M.y?K.y:M.y:x.y>M.y?x.y:M.y,J=g(K.x<x.x?K.x<M.x?K.x:M.x:x.x<M.x?x.x:M.x,K.y<x.y?K.y<M.y?K.y:M.y:x.y<M.y?x.y:M.y,y,A,F);y=g(H,I,y,A,F);A=x.prevZ;for(F=x.nextZ;A&&A.z>=J&&F&&F.z<=y;){if(A!==x.prev&&A!==x.next&&c(K.x,K.y,x.x,x.y,M.x,M.y,A.x,A.y)&&0<=m(A.prev,A,A.next))return!1;A=A.prevZ;if(F!==x.prev&&F!==x.next&&c(K.x,K.y,x.x,x.y,M.x,M.y,F.x,F.y)&&0<=m(F.prev,F,F.next))return!1;
F=F.nextZ}for(;A&&A.z>=J;){if(A!==x.prev&&A!==x.next&&c(K.x,K.y,x.x,x.y,M.x,M.y,A.x,A.y)&&0<=m(A.prev,A,A.next))return!1;A=A.prevZ}for(;F&&F.z<=y;){if(F!==x.prev&&F!==x.next&&c(K.x,K.y,x.x,x.y,M.x,M.y,F.x,F.y)&&0<=m(F.prev,F,F.next))return!1;F=F.nextZ}return!0}function d(x,y){return x.x-y.x}function e(x){if(x.next.prev===x)return x;let y=x;do{const A=y.next;if(A.prev===y||A===y||A===x)break;y=A}while(1);return y}function l(x,y){var A=y,F=x.x,K=x.y,M=-Infinity;do{if(K<=A.y&&K>=A.next.y&&A.next.y!==
A.y){var H=A.x+(K-A.y)*(A.next.x-A.x)/(A.next.y-A.y);if(H<=F&&H>M){M=H;if(H===F){if(K===A.y)return A;if(K===A.next.y)return A.next}var I=A.x<A.next.x?A:A.next}}A=A.next}while(A!==y);if(!I)return null;if(F===M)return I;y=I;H=I.x;var J=I.y,S=Infinity;A=I;do{if(F>=A.x&&A.x>=H&&F!==A.x&&c(K<J?F:M,K,H,J,K<J?M:F,K,A.x,A.y)){var V=Math.abs(K-A.y)/(F-A.x);var Z;if((Z=q(A,x))&&!(Z=V<S)&&(Z=V===S)&&!(Z=A.x>I.x)&&(Z=A.x===I.x)){Z=I;var ba=A;Z=0>m(Z.prev,Z,ba.prev)&&0>m(ba.next,Z,Z.next)}Z&&(I=A,S=V)}A=A.next}while(A!==
y);return I}function g(x,y,A,F,K){x=32767*(x-A)*K;y=32767*(y-F)*K;x=(x|x<<8)&16711935;x=(x|x<<4)&252645135;x=(x|x<<2)&858993459;y=(y|y<<8)&16711935;y=(y|y<<4)&252645135;y=(y|y<<2)&858993459;return(x|x<<1)&1431655765|((y|y<<1)&1431655765)<<1}function c(x,y,A,F,K,M,H,I){return 0<=(K-H)*(y-I)-(x-H)*(M-I)&&0<=(x-H)*(F-I)-(A-H)*(y-I)&&0<=(A-H)*(M-I)-(K-H)*(F-I)}function m(x,y,A){return(y.y-x.y)*(A.x-y.x)-(y.x-x.x)*(A.y-y.y)}function u(x,y){return x.x===y.x&&x.y===y.y}function r(x,y,A,F){var K=h(m(x,y,
A)),M=h(m(x,y,F)),H=h(m(A,F,x)),I=h(m(A,F,y));return K!==M&&H!==I||0===K&&n(x,A,y)||0===M&&n(x,F,y)||0===H&&n(A,x,F)||0===I&&n(A,y,F)?!0:!1}function n(x,y,A){return y.x<=Math.max(x.x,A.x)&&y.x>=Math.min(x.x,A.x)&&y.y<=Math.max(x.y,A.y)&&y.y>=Math.min(x.y,A.y)}function h(x){return 0<x?1:0>x?-1:0}function q(x,y){return 0>m(x.prev,x,x.next)?0<=m(x,y,x.next)&&0<=m(x,x.prev,y):0>m(x,y,x.prev)||0>m(x,x.next,y)}function D(x,y){var A=new B(x.i,x.x,x.y),F=new B(y.i,y.x,y.y),K=x.next,M=y.prev;x.next=y;y.prev=
x;A.next=K;K.prev=A;F.next=A;A.prev=F;M.next=F;F.prev=M;return F}function v(x,y,A,F){x=new B(x,y,A);F?(x.next=F.next,x.prev=F,F.next.prev=x,F.next=x):(x.prev=x,x.next=x);return x}function z(x){x.next.prev=x.prev;x.prev.next=x.next;x.prevZ&&(x.prevZ.nextZ=x.nextZ);x.nextZ&&(x.nextZ.prevZ=x.prevZ)}function B(x,y,A){this.i=x;this.x=y;this.y=A;this.nextZ=this.prevZ=this.z=this.next=this.prev=null;this.steiner=!1}function E(x,y,A,F){for(var K=0,M=A-F;y<A;y+=F)K+=(x[M]-x[y])*(x[y+1]+x[M+1]),M=y;return K}
w.deviation=function(x,y,A,F){var K=y&&y.length,M=Math.abs(E(x,0,K?y[0]*A:x.length,A));if(K){K=0;for(var H=y.length;K<H;K++)M-=Math.abs(E(x,y[K]*A,K<H-1?y[K+1]*A:x.length,A))}for(K=y=0;K<F.length;K+=3){H=F[K]*A;var I=F[K+1]*A,J=F[K+2]*A;y+=Math.abs((x[H]-x[J])*(x[I+1]-x[H+1])-(x[H]-x[I])*(x[J+1]-x[H+1]))}return 0===M&&0===y?0:Math.abs((y-M)/M)};w.flatten=function(x){for(var y=x[0][0].length,A={vertices:[],holes:[],dimensions:y},F=0,K=0;K<x.length;K++){for(var M=0;M<x[K].length;M++)for(var H=0;H<y;H++)A.vertices.push(x[K][M][H]);
0<K&&(F+=x[K-1].length,A.holes.push(F))}return A};return w})})(b);a.earcut=b.exports})},"esri/views/2d/engine/vectorTiles/buckets/LineBucket":function(){define(["../../../../../chunks/_rollupPluginBabelHelpers","../enums","./BaseBucket","../../webgl/TurboLine"],function(a,b,C,w){const f=k=>(p,d,e,l,g,c,m,u,r,n,h)=>{k._lineVertexBuffer.add(p,d,m,u,e,l,g,c,r,n,h,k._ddValues);return k._lineVertexBuffer.index-1},t=k=>(p,d,e)=>{k._lineIndexBuffer.add(p,d,e)};return function(k){function p(e,l,g,c,m){l=
k.call(this,e,l,g)||this;l.type=b.BucketType.LINE;l._tessellationOptions={pixelCoordRatio:8,halfWidth:0,offset:0};l._patternMap=new Map;l.tessellationProperties={_lineVertexBuffer:null,_lineIndexBuffer:null,_ddValues:null};l.tessellationProperties._lineVertexBuffer=c;l.tessellationProperties._lineIndexBuffer=m;l._lineTessellator=new w.LineTessellation(f(l.tessellationProperties),t(l.tessellationProperties),e.canUseThinTessellation);return l}a._inheritsLoose(p,k);var d=p.prototype;d.getResources=function(e,
l,g){e=this.layer;const c=this.zoom,m=e.getPaintProperty("line-pattern"),u=e.getPaintProperty("line-dasharray"),r=e.getLayoutProperty("line-cap");if(m||u){g=r?.getValue(c)||0;var n=r?.isDataDriven,h=m?.isDataDriven;if(h||u?.isDataDriven)for(var q of this._features)h?l(m.getValue(c,q)):l(this._getDashArrayKey(q,c,e,u,n,r,g));else m?l(m.getValue(c)):u&&(q=u.getValue(c),l(e.getDashKey(q,g)))}};d.processFeatures=function(e){this._lineIndexStart=3*this.tessellationProperties._lineIndexBuffer.index;this._lineIndexCount=
0;const l=this.layer,g=this.zoom;var c=this._features;const m=this._tessellationOptions,{hasDataDrivenLine:u,lineMaterial:r}=l;e&&e.setExtent(this.layerExtent);var n=l.getPaintProperty("line-pattern"),h=l.getPaintProperty("line-dasharray"),q=n?.isDataDriven,D=h?.isDataDriven;var v=l.getLayoutProperty("line-cap");const z=v?.isDataDriven?v:null,B=z?null:l.getLayoutValue("line-cap",g),E=B||0,x=!!z;v=l.getLayoutProperty("line-join");const y=v?.isDataDriven?v:null,A=y?null:l.getLayoutValue("line-join",
g);v=l.getLayoutProperty("line-miter-limit");const F=v?.isDataDriven?v:null,K=F?null:l.getLayoutValue("line-miter-limit",g);v=l.getLayoutProperty("line-round-limit");const M=v?.isDataDriven?v:null,H=M?null:l.getLayoutValue("line-round-limit",g);v=l.getPaintProperty("line-width");const I=v?.isDataDriven?v:null,J=I?null:l.getPaintValue("line-width",g);v=l.getPaintProperty("line-offset");const S=(v=v?.isDataDriven?v:null)?null:l.getPaintValue("line-offset",g);if(q||D){var V=[];for(const Z of c){c=q?
n.getValue(g,Z):this._getDashArrayKey(Z,g,l,h,x,z,E);c=this._spriteInfo[c];if(!c||!c.rect)continue;D=r.encodeAttributes(Z,g,l,c);const ba=Z.getGeometry(e);V.push({ddAttributes:D,page:c.page,cap:z?z.getValue(g,Z):B,join:y?y.getValue(g,Z):A,miterLimit:F?F.getValue(g,Z):K,roundLimit:M?M.getValue(g,Z):H,halfWidth:.5*(I?I.getValue(g,Z):J),offset:v?v.getValue(g,Z):S,geometry:ba})}V.sort((Z,ba)=>Z.page-ba.page);m.textured=!0;for(const {ddAttributes:Z,page:ba,cap:ia,join:ea,miterLimit:ka,roundLimit:oa,halfWidth:ua,
offset:ra,geometry:qa}of V)m.capType=ia,m.joinType=ea,m.miterLimit=ka,m.roundLimit=oa,m.halfWidth=ua,m.offset=ra,this._processFeature(qa,Z,ba)}else{if(n&&(q=n.getValue(g),q=this._spriteInfo[q],!q||!q.rect))return;m.textured=!(!n&&!h);m.capType=B;m.joinType=A;m.miterLimit=K;m.roundLimit=H;m.halfWidth=.5*J;m.offset=S;for(V of c)n=u?r.encodeAttributes(V,g,l):null,z&&(m.capType=z.getValue(g,V)),y&&(m.joinType=y.getValue(g,V)),F&&(m.miterLimit=F.getValue(g,V)),M&&(m.roundLimit=M.getValue(g,V)),I&&(m.halfWidth=
.5*I.getValue(g,V)),v&&(m.offset=v.getValue(g,V)),h=V.getGeometry(e),this._processFeature(h,n)}};d.serialize=function(){var e=6+this.layerUIDs.length;e+=this.tessellationProperties._lineVertexBuffer.array.length;e+=this.tessellationProperties._lineIndexBuffer.array.length;e+=3*this._patternMap.size+1;e=new Uint32Array(e);var l=new Int32Array(e.buffer);let g=0;e[g++]=this.type;e[g++]=this.layerUIDs.length;for(var c=0;c<this.layerUIDs.length;c++)e[g++]=this.layerUIDs[c];e[g++]=this._lineIndexStart;
e[g++]=this._lineIndexCount;c=this._patternMap;const m=c.size;e[g++]=m;if(0<m)for(const [u,[r,n]]of c)e[g++]=u,e[g++]=r,e[g++]=n;e[g++]=this.tessellationProperties._lineVertexBuffer.array.length;for(c=0;c<this.tessellationProperties._lineVertexBuffer.array.length;c++)l[g++]=this.tessellationProperties._lineVertexBuffer.array[c];e[g++]=this.tessellationProperties._lineIndexBuffer.array.length;for(l=0;l<this.tessellationProperties._lineIndexBuffer.array.length;l++)e[g++]=this.tessellationProperties._lineIndexBuffer.array[l];
return e.buffer};d._processFeature=function(e,l,g){if(e){var c=e.length;for(let m=0;m<c;m++)this._processGeometry(e[m],l,g)}};d._processGeometry=function(e,l,g){if(!(2>e.length)){for(var c=e[0],m=1,u,r;m<e.length;)u=e[m].x-c.x,r=e[m].y-c.y,1E-6>u*u+r*r?e.splice(m,1):(c=e[m],++m);2>e.length||(m=this.tessellationProperties._lineIndexBuffer,c=3*m.index,this._tessellationOptions.initialDistance=0,this._tessellationOptions.wrapDistance=65535,this.tessellationProperties._ddValues=l,this._lineTessellator.tessellate(e,
this._tessellationOptions),e=3*m.index-c,void 0!==g&&(l=this._patternMap,(m=l.get(g))?m[1]+=e:l.set(g,[c+this._lineIndexCount,e])),this._lineIndexCount+=e)}};d._getDashArrayKey=function(e,l,g,c,m,u,r){m=m?u.getValue(l,e):r;e=c.getValue(l,e);return g.getDashKey(e,m)};a._createClass(p,[{key:"lineIndexStart",get:function(){return this._lineIndexStart}},{key:"lineIndexCount",get:function(){return this._lineIndexCount}}]);return p}(C)})},"esri/views/2d/engine/webgl/TurboLine":function(){define(["exports",
"../../../../symbols/cim/enums","./definitions"],function(a,b,C){function w(g,c){return g.x===c.x&&g.y===c.y}function f(g,c){g.x=c.y;g.y=-c.x;return g}function t(g,c){g.x=-c.y;g.y=c.x;return g}function k(g,c){g.x=c.x;g.y=c.y;return g}function p(g,c){g.x=-c.x;g.y=-c.y;return g}function d(g){return Math.sqrt(g.x*g.x+g.y*g.y)}function e(g,c,m,u){g.x=c.x*m+c.y*u;g.y=c.x*u-c.y*m;return g}let l=function(){function g(m,u,r){this._writeVertex=m;this._writeTriangle=u;this._canUseThinTessellation=r;this._prevNormal=
{x:void 0,y:void 0};this._nextNormal={x:void 0,y:void 0};this._textureNormalLeft={x:0,y:1};this._textureNormalRight={x:0,y:-1};this._textureNormal={x:void 0,y:void 0};this._joinNormal={x:void 0,y:void 0};this._inner={x:void 0,y:void 0};this._outer={x:void 0,y:void 0};this._roundStart={x:void 0,y:void 0};this._roundEnd={x:void 0,y:void 0};this._startBreak={x:void 0,y:void 0};this._endBreak={x:void 0,y:void 0};this._innerPrev={x:void 0,y:void 0};this._innerNext={x:void 0,y:void 0};this._bevelStart=
{x:void 0,y:void 0};this._bevelEnd={x:void 0,y:void 0};this._bevelMiddle={x:void 0,y:void 0}}var c=g.prototype;c.tessellate=function(m,u){if(m){var r=m.length;if(!(1>=r)){var n=0;for(let h=1;h<r;h++)w(m[h],m[n])||++n===h||(m[n]=m[h]);m.length=n+1}}this._canUseThinTessellation&&u.halfWidth<C.THIN_LINE_HALF_WIDTH_THRESHOLD&&!u.offset?this._tessellateThin(m,u):this._tessellate(m,u)};c._tessellateThin=function(m,u){if(!(2>m.length)){var r=u.wrapDistance||65535;u=u.initialDistance||0;var n=!1,h=m[0].x,
q=m[0].y,D=m.length;for(let E=1;E<D;++E){n&&(n=!1,u=0);let x=m[E].x,y=m[E].y;var v=x-h;let A=y-q;var z=Math.sqrt(v*v+A*A);v/=z;A/=z;if(u+z>r){n=!0;var B=(r-u)/z;z=r-u;x=(1-B)*h+B*x;y=(1-B)*q+B*y;--E}B=this._writeVertex(h,q,0,0,v,A,A,-v,0,-1,u);h=this._writeVertex(h,q,0,0,v,A,-A,v,0,1,u);u+=z;z=this._writeVertex(x,y,0,0,v,A,A,-v,0,-1,u);v=this._writeVertex(x,y,0,0,v,A,-A,v,0,1,u);this._writeTriangle(B,h,z);this._writeTriangle(h,z,v);h=x;q=y}}};c._tessellate=function(m,u){var r=m[m.length-1];const n=
w(m[0],r);if(!(m.length<(n?3:2))){var h=u.pixelCoordRatio,q=null!=u.capType?u.capType:b.CapType.BUTT,D=null!=u.joinType?u.joinType:b.JoinType.MITER,v=null!=u.miterLimit?Math.min(u.miterLimit,4):2,z=null!=u.roundLimit?Math.min(u.roundLimit,1.05):1.05,B=null!=u.halfWidth?u.halfWidth:2,E=!!u.textured,x=null,y=this._prevNormal,A=this._nextNormal,F=-1,K=-1,M=this._joinNormal,H=this._textureNormalLeft,I=this._textureNormalRight,J=this._textureNormal,S=-1,V=-1,Z=u.wrapDistance||65535,ba=u.initialDistance||
0,ia=this._writeVertex,ea=this._writeTriangle;u=(va,O,W,L,G,N)=>{va=ia(oa,ua,P,R,W,L,va,O,G,N,ba);0<=S&&0<=V&&0<=va&&ea(S,V,va);S=V;return V=va};if(n){var ka=m[m.length-2];A.x=r.x-ka.x;A.y=r.y-ka.y;K=d(A);A.x/=K;A.y/=K}r=!1;for(let va=0;va<m.length;++va){r&&(r=!1,ba=0);ka&&(y.x=-A.x,y.y=-A.y,F=K,ba+F>Z&&(r=!0));r?(x=(Z-ba)/F,F=Z-ba,ka={x:(1-x)*ka.x+x*m[va].x,y:(1-x)*ka.y+x*m[va].y},--va):ka=m[va];var oa=ka.x;var ua=ka.y;var ra=0>=va&&!r,qa=va===m.length-1;ra||(ba+=F);(x=qa?n?m[1]:null:m[va+1])?(A.x=
x.x-oa,A.y=x.y-ua,K=d(A),A.x/=K,A.y/=K):(A.x=void 0,A.y=void 0);if(!n){if(ra){t(M,A);var P=M.x;var R=M.y;q===b.CapType.SQUARE&&(u(-A.y-A.x,A.x-A.y,A.x,A.y,0,-1),u(A.y-A.x,-A.x-A.y,A.x,A.y,0,1));q===b.CapType.ROUND&&(u(-A.y-A.x,A.x-A.y,A.x,A.y,-1,-1),u(A.y-A.x,-A.x-A.y,A.x,A.y,-1,1));if(q===b.CapType.ROUND||q===b.CapType.BUTT)u(-A.y,A.x,A.x,A.y,0,-1),u(A.y,-A.x,A.x,A.y,0,1);continue}if(qa){f(M,y);P=M.x;R=M.y;if(q===b.CapType.ROUND||q===b.CapType.BUTT)u(y.y,-y.x,-y.x,-y.y,0,-1),u(-y.y,y.x,-y.x,-y.y,
0,1);q===b.CapType.SQUARE&&(u(y.y-y.x,-y.x-y.y,-y.x,-y.y,0,-1),u(-y.y-y.x,y.x-y.y,-y.x,-y.y,0,1));q===b.CapType.ROUND&&(u(y.y-y.x,-y.x-y.y,-y.x,-y.y,1,-1),u(-y.y-y.x,y.x-y.y,-y.x,-y.y,1,1));continue}}var T=void 0;ra=-(y.x*A.y-y.y*A.x);.01>Math.abs(ra)?0<y.x*A.x+y.y*A.y?(M.x=y.x,M.y=y.y,ra=1,T=Number.MAX_VALUE,x=!0):(t(M,A),T=ra=1,x=!1):(M.x=(y.x+A.x)/ra,M.y=(y.y+A.y)/ra,T=d(M),x=(T-1)*B*h,x=4<T||x>F&&x>K);P=M.x;R=M.y;var X=D;switch(D){case b.JoinType.BEVEL:1.05>T&&(X=b.JoinType.MITER);break;case b.JoinType.ROUND:T<
z&&(X=b.JoinType.MITER);break;case b.JoinType.MITER:T>v&&(X=b.JoinType.BEVEL)}switch(X){case b.JoinType.MITER:u(M.x,M.y,-y.x,-y.y,0,-1);u(-M.x,-M.y,-y.x,-y.y,0,1);if(qa)break;E&&(x=r?0:ba,S=this._writeVertex(oa,ua,P,R,A.x,A.y,M.x,M.y,0,-1,x),V=this._writeVertex(oa,ua,P,R,A.x,A.y,-M.x,-M.y,0,1,x));break;case b.JoinType.BEVEL:ra=0>ra;var ca=void 0;ra?(X=S,S=V,V=X,ca=H,X=I):(ca=I,X=H);var da=void 0,ma=void 0;x?(da=ra?t(this._innerPrev,y):f(this._innerPrev,y),ma=ra?f(this._innerNext,A):t(this._innerNext,
A)):da=ma=ra?p(this._inner,M):k(this._inner,M);T=ra?f(this._bevelStart,y):t(this._bevelStart,y);u(da.x,da.y,-y.x,-y.y,ca.x,ca.y);da=u(T.x,T.y,-y.x,-y.y,X.x,X.y);if(qa)break;qa=ra?t(this._bevelEnd,A):f(this._bevelEnd,A);x?(x=this._writeVertex(oa,ua,P,R,-y.x,-y.y,0,0,0,0,ba),S=this._writeVertex(oa,ua,P,R,A.x,A.y,ma.x,ma.y,ca.x,ca.y,ba),V=this._writeVertex(oa,ua,P,R,A.x,A.y,qa.x,qa.y,X.x,X.y,ba),this._writeTriangle(da,x,V)):(E?(x=this._bevelMiddle,x.x=(T.x+qa.x)/2,x.y=(T.y+qa.y)/2,e(J,x,-y.x,-y.y),u(x.x,
x.y,-y.x,-y.y,J.x,J.y),e(J,x,A.x,A.y),S=this._writeVertex(oa,ua,P,R,A.x,A.y,x.x,x.y,J.x,J.y,ba),V=this._writeVertex(oa,ua,P,R,A.x,A.y,ma.x,ma.y,ca.x,ca.y,ba)):(x=S,S=V,V=x),u(qa.x,qa.y,A.x,A.y,X.x,X.y));ra&&(x=S,S=V,V=x);break;case b.JoinType.ROUND:ra=0>ra;var na=void 0;ra?(X=S,S=V,V=X,X=H,na=I):(X=I,na=H);var sa=ra?p(this._inner,M):k(this._inner,M);x?(ma=ra?t(this._innerPrev,y):f(this._innerPrev,y),ca=ra?f(this._innerNext,A):t(this._innerNext,A)):ca=ma=sa;da=ra?f(this._roundStart,y):t(this._roundStart,
y);var ya=ra?t(this._roundEnd,A):f(this._roundEnd,A);ma=u(ma.x,ma.y,-y.x,-y.y,X.x,X.y);da=u(da.x,da.y,-y.x,-y.y,na.x,na.y);if(qa)break;qa=this._writeVertex(oa,ua,P,R,-y.x,-y.y,0,0,0,0,ba);x||this._writeTriangle(S,V,qa);sa=p(this._outer,sa);na=this._writeVertex(oa,ua,P,R,A.x,A.y,ya.x,ya.y,na.x,na.y,ba);let O,W;if(ya=2<T){var wa=void 0;T!==Number.MAX_VALUE?(sa.x/=T,sa.y/=T,wa=y.x*sa.x+y.y*sa.y,wa=(T*(wa*wa-1)+1)/wa):wa=-1;O=ra?f(this._startBreak,y):t(this._startBreak,y);O.x+=y.x*wa;O.y+=y.y*wa;W=ra?
t(this._endBreak,A):f(this._endBreak,A);W.x+=A.x*wa;W.y+=A.y*wa}e(J,sa,-y.x,-y.y);T=this._writeVertex(oa,ua,P,R,-y.x,-y.y,sa.x,sa.y,J.x,J.y,ba);e(J,sa,A.x,A.y);sa=E?this._writeVertex(oa,ua,P,R,A.x,A.y,sa.x,sa.y,J.x,J.y,ba):T;wa=qa;const L=E?this._writeVertex(oa,ua,P,R,A.x,A.y,0,0,0,0,ba):qa;let G=-1,N=-1;ya&&(e(J,O,-y.x,-y.y),G=this._writeVertex(oa,ua,P,R,-y.x,-y.y,O.x,O.y,J.x,J.y,ba),e(J,W,A.x,A.y),N=this._writeVertex(oa,ua,P,R,A.x,A.y,W.x,W.y,J.x,J.y,ba));E?ya?(this._writeTriangle(wa,da,G),this._writeTriangle(wa,
G,T),this._writeTriangle(L,sa,N),this._writeTriangle(L,N,na)):(this._writeTriangle(wa,da,T),this._writeTriangle(L,sa,na)):ya?(this._writeTriangle(qa,da,G),this._writeTriangle(qa,G,N),this._writeTriangle(qa,N,na)):(this._writeTriangle(qa,da,T),this._writeTriangle(qa,sa,na));x?S=this._writeVertex(oa,ua,P,R,A.x,A.y,ca.x,ca.y,X.x,X.y,ba):(S=E?this._writeVertex(oa,ua,P,R,A.x,A.y,ca.x,ca.y,X.x,X.y,ba):ma,this._writeTriangle(S,L,na));V=na;ra&&(x=S,S=V,V=x)}}}};return g}();a.LineTessellation=l;Object.defineProperties(a,
{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/engine/webgl/definitions":function(){define(["exports"],function(a){a.ANGLE_FACTOR_256=256/360;a.ATTRIBUTE_DATA_ANIMATION=1;a.ATTRIBUTE_DATA_DD0=3;a.ATTRIBUTE_DATA_DD1=4;a.ATTRIBUTE_DATA_FILTER_FLAGS=0;a.ATTRIBUTE_DATA_GPGPU=2;a.ATTRIBUTE_DATA_VV=3;a.ATTRIBUTE_STORE_TEXTURE_SIZE=1024;a.AVERAGE_GLYPH_MOSAIC_ITEM={metrics:{width:15,height:17,left:0,top:-7,advance:14}};a.BITSET_FILL_RANDOM_PATTERN_OFFSET=4;a.BITSET_GENERIC_CONSIDER_ALPHA_ONLY=
16;a.BITSET_GENERIC_LOCK_COLOR=2;a.BITSET_LINE_SCALE_DASH=4;a.BITSET_MARKER_ALIGNMENT_MAP=1;a.BITSET_MARKER_ALIGNMENT_SCREEN=0;a.BITSET_MARKER_OUTLINE_ALLOW_COLOR_OVERRIDE=4;a.BITSET_MARKER_SCALE_SYMBOLS_PROPORTIONALLY=8;a.BITSET_TYPE_FILL_OUTLINE=1;a.BUFFER_DATA_MINIMUM_SIZE=128;a.BUFFER_DATA_POOL_SIZE=4;a.CHART_MAX_FIELDS=10;a.COLLISION_BOX_PADDING=16;a.COLLISION_BUCKET_SIZE=128;a.COLLISION_EARLY_REJECT_BUCKET_SIZE=16;a.COLLISION_MAX_ZOOM_DELTA=1;a.COLLISION_PLACEMENT_PADDING=8;a.COLLISION_TILE_BOX_SIZE=
4;a.DEBUG_LABELS=!1;a.DISPLAY_RECORD_INT_PER_ELEMENT=8;a.DOT_DENSITY_MAX_FIELDS=8;a.EFFECT_FLAG_0=4;a.ENABLE_EARLY_LABEL_DISCARD=!1;a.EXTRUDE_SCALE=64;a.FILTER_FLAG_0=2;a.GLYPH_SIZE=24;a.HEURISTIC_GLYPHS_PER_FEATURE=10;a.HEURISTIC_GLYPHS_PER_LINE=50;a.HIGHLIGHT_FLAG=1;a.HITTEST_RADIUS=3;a.MAGIC_LABEL_LINE_HEIGHT=29;a.MAX_FILTERS=2;a.MAX_GPU_UPLOADS_PER_FRAME=2;a.MIN_MAX_ZOOM_PRECISION_FACTOR=10;a.NAN_MAGIC_NUMBER=1E-30;a.PATCH_PIXEL_BUFFER_ALLOC_SIZE=500;a.PATTERN_FILL_RASTERIZATION_SCALE=2;a.PICTURE_FILL_COLOR=
4294967295;a.RANDOM_INSIDE_POLYGON_TEXTURE_SIZE=1024;a.RASTER_TILE_SIZE=256;a.SPRITE_PADDING=2;a.TEXTURE_BINDING_ATTRIBUTE_DATA_0=1;a.TEXTURE_BINDING_ATTRIBUTE_DATA_1=2;a.TEXTURE_BINDING_ATTRIBUTE_DATA_2=3;a.TEXTURE_BINDING_ATTRIBUTE_DATA_3=4;a.TEXTURE_BINDING_ATTRIBUTE_DATA_4=5;a.TEXTURE_BINDING_ATTRIBUTE_DATA_5=6;a.TEXTURE_BINDING_BITMAP=0;a.TEXTURE_BINDING_GLYPH_ATLAS=0;a.TEXTURE_BINDING_GPGPU=12;a.TEXTURE_BINDING_HIGHLIGHT_0=5;a.TEXTURE_BINDING_HIGHLIGHT_1=6;a.TEXTURE_BINDING_RENDERER_0=5;a.TEXTURE_BINDING_RENDERER_1=
6;a.TEXTURE_BINDING_SPRITE_ATLAS=0;a.TEXTURE_UPLOAD_MANAGER_BUDGET=4;a.TEXTURE_UPLOAD_MANAGER_CHUNK_SIZE=128;a.TEXT_PLACEMENT_PADDING=8;a.THIN_LINE_HALF_WIDTH_THRESHOLD=1.05;a.TILE_SIZE=512;a.VTL_HIGH_RES_CUTOFF=1.15;a.VTL_TEXTURE_BINDING_UNIT_GLYPHS=6;a.VTL_TEXTURE_BINDING_UNIT_SPRITES=5;a.WEBGL_MAX_INNER_STOPS=6;a.WEBGL_MAX_STOPS=8;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/engine/vectorTiles/buckets/SymbolBucket":function(){define("../../../../../chunks/_rollupPluginBabelHelpers ../../../../../core/BidiEngine ../../../../../core/string ../enums ../GeometryUtils ../Placement ../TextShaping ./BaseBucket ../style/StyleDefinition ../style/StyleLayer ../../webgl/Geometry".split(" "),
function(a,b,C,w,f,t,k,p,d,e,l){function g(c,m){return c.iconMosaicItem&&m.iconMosaicItem?c.iconMosaicItem.page===m.iconMosaicItem.page?0:c.iconMosaicItem.page-m.iconMosaicItem.page:c.iconMosaicItem&&!m.iconMosaicItem?1:!c.iconMosaicItem&&m.iconMosaicItem?-1:0}p=function(c){function m(r,n,h,q,D,v,z,B){r=c.call(this,r,n,B.getSpriteItems())||this;r.type=w.BucketType.SYMBOL;r._markerMap=new Map;r._glyphMap=new Map;r._glyphBufferDataStorage=new Map;r._isIconSDF=!1;r._iconVertexBuffer=h;r._iconIndexBuffer=
q;r._textVertexBuffer=D;r._textIndexBuffer=v;r._placementEngine=z;r._workerTileHandler=B;return r}a._inheritsLoose(m,c);var u=m.prototype;u.getResources=function(r,n,h){const q=this.layer,D=this.zoom;r&&r.setExtent(this.layerExtent);const v=q.getLayoutProperty("icon-image"),z=q.getLayoutProperty("text-field");let B=q.getLayoutProperty("text-transform"),E=q.getLayoutProperty("text-font");const x=[];let y;v&&!v.isDataDriven&&(y=v.getValue(D));let A;z&&!z.isDataDriven&&(A=z.getValue(D));let F;B&&B.isDataDriven||
(F=q.getLayoutValue("text-transform",D),B=null);let K;E&&E.isDataDriven||(K=q.getLayoutValue("text-font",D),E=null);for(const J of this._features){var M=J.getGeometry(r);if(!M||0===M.length)continue;let S;v&&(S=v.isDataDriven?v.getValue(D,J):this._replaceKeys(y,J.values))&&n(S);let V;var H=!1;if(z&&(V=z.isDataDriven?z.getValue(D,J):this._replaceKeys(A,J.values))){V=V.replace(/\\n/g,"\n");B&&(F=B.getValue(D,J));switch(F){case d.TextTransform.LOWERCASE:V=V.toLowerCase();break;case d.TextTransform.UPPERCASE:V=
V.toUpperCase()}m._bidiEngine.hasBidiChar(V)&&(H="rtl"===m._bidiEngine.checkContextual(V)?"IDNNN":"ICNNN",V=m._bidiEngine.bidiTransform(V,H,"VLYSN"),H=!0);var I=V.length;if(0<I){E&&(K=E.getValue(D,J));for(const Z of K){let ba=h[Z];ba||(ba=h[Z]=new Set);for(let ia=0;ia<I;ia++){const ea=V.charCodeAt(ia);ba.add(ea)}}}}if(S||V)I=q.getLayoutValue("symbol-sort-key",D,J),M={feature:J,sprite:S,label:V,rtl:H,geometry:M,hash:(V?C.numericHash(V):0)^(S?C.numericHash(S):0),priority:I,textFont:K},x.push(M)}this._symbolFeatures=
x};u.processFeatures=function(r){r&&r.setExtent(this.layerExtent);var n=this.layer;r=this.zoom;const h=n.getLayoutValue("symbol-placement",r),q=h!==d.SymbolPlacement.POINT,D=n.getLayoutValue("symbol-spacing",r)*t.TILE_PIXEL_RATIO;var v=n.getLayoutProperty("icon-image"),z=n.getLayoutProperty("text-field");const B=v?new e.IconLayout(n,r,q):null;n=z?new e.TextLayout(n,r,q):null;const E=this._workerTileHandler;let x;v&&(x=E.getSpriteItems());this._iconIndexStart=3*this._iconIndexBuffer.index;this._textIndexStart=
3*this._textIndexBuffer.index;this._textIndexCount=this._iconIndexCount=0;this._markerMap.clear();this._glyphMap.clear();v=[];z=1;n&&n.size&&(z=n.size/k.SDF_GLYPH_SIZE);const y=n?n.maxAngle*f.C_DEG_TO_RAD:0,A=n?n.size*t.TILE_PIXEL_RATIO:0;for(const H of this._symbolFeatures){let I;B&&x&&H.sprite&&(I=x[H.sprite])&&I.sdf&&(this._isIconSDF=!0);I&&B.update(r,H.feature);var F=void 0,K=0,M=H.label;if(M){n.update(r,H.feature);F=q&&n.rotationAlignment===d.RotationAlignment.MAP?n.keepUpright:n.writingMode&&
n.writingMode.includes(d.TextWritingMode.VERTICAL);let J=.5;switch(n.anchor){case d.SymbolAnchor.TOP_LEFT:case d.SymbolAnchor.LEFT:case d.SymbolAnchor.BOTTOM_LEFT:J=0;break;case d.SymbolAnchor.TOP_RIGHT:case d.SymbolAnchor.RIGHT:case d.SymbolAnchor.BOTTOM_RIGHT:J=1}let S=.5;switch(n.anchor){case d.SymbolAnchor.TOP_LEFT:case d.SymbolAnchor.TOP:case d.SymbolAnchor.TOP_RIGHT:S=0;break;case d.SymbolAnchor.BOTTOM_LEFT:case d.SymbolAnchor.BOTTOM:case d.SymbolAnchor.BOTTOM_RIGHT:S=1}let V=.5;switch(n.justify){case d.TextJustification.AUTO:V=
J;break;case d.TextJustification.LEFT:V=0;break;case d.TextJustification.RIGHT:V=1}const Z=n.letterSpacing*k.SDF_GLYPH_SIZE,ba=q?0:n.maxWidth*k.SDF_GLYPH_SIZE,ia=n.lineHeight*k.SDF_GLYPH_SIZE,ea=H.textFont.map(ka=>E.getGlyphItems(ka));if((F=(new k.TextShaping(ea,ba,ia,Z,J,S,V)).getShaping(M,H.rtl,F))&&0<F.length){K=1E30;M=-1E30;for(const ka of F)K=Math.min(K,ka.x),M=Math.max(M,ka.x);K=(M-K+2*k.SDF_GLYPH_SIZE)*z*t.TILE_PIXEL_RATIO}}for(let J of H.geometry){M=[];h===d.SymbolPlacement.LINE?(F&&0<F.length&&
n&&n.size&&(J=m._smoothVertices(J,n.size*t.TILE_PIXEL_RATIO*(2+Math.min(2,4*Math.abs(n.offset[1]))))),m._pushAnchors(M,J,D,K)):h===d.SymbolPlacement.LINE_CENTER?m._pushCenterAnchor(M,J):H.feature.type===l.GeometryType.Polygon?m._pushCentroid(M,J):M.push(new t.Anchor(J[0].x,J[0].y));for(const S of M)0>S.x||S.x>t.TILE_COORD_SIZE||0>S.y||S.y>t.TILE_COORD_SIZE||q&&0<K&&n.rotationAlignment===d.RotationAlignment.MAP&&!m._honorsTextMaxAngle(J,S,K,y,A)||(M={shaping:F,line:J,iconMosaicItem:I,anchor:S,symbolFeature:H,
textColliders:[],iconColliders:[],textVertexRanges:[],iconVertexRanges:[]},v.push(M),this._processFeature(M,B,n))}}v.sort(g);this._addPlacedGlyphs();this._symbolInstances=v};u.serialize=function(){var r=11+this.layerUIDs.length;r+=3*this.markerPageMap.size;r+=3*this.glyphsPageMap.size;r+=m._symbolsSerializationLength(this._symbolInstances);r+=this._iconVertexBuffer.array.length;r+=this._iconIndexBuffer.array.length;r+=this._textVertexBuffer.array.length;r+=this._textIndexBuffer.array.length;r=new Uint32Array(r);
var n=new Int32Array(r.buffer),h=new Float32Array(r.buffer);let q=0;r[q++]=this.type;r[q++]=this.layerUIDs.length;for(let D=0;D<this.layerUIDs.length;D++)r[q++]=this.layerUIDs[D];r[q++]=this._isIconSDF?1:0;r[q++]=this.markerPageMap.size;for(const [D,[v,z]]of this.markerPageMap)r[q++]=D,r[q++]=v,r[q++]=z;r[q++]=this.glyphsPageMap.size;for(const [D,[v,z]]of this.glyphsPageMap)r[q++]=D,r[q++]=v,r[q++]=z;r[q++]=this._iconVertexBuffer.index/4;r[q++]=this._textVertexBuffer.index/4;q=m.serializeSymbols(r,
n,h,q,this._symbolInstances);r[q++]=this._iconVertexBuffer.array.length;for(h=0;h<this._iconVertexBuffer.array.length;h++)n[q++]=this._iconVertexBuffer.array[h];r[q++]=this._iconIndexBuffer.array.length;for(h=0;h<this._iconIndexBuffer.array.length;h++)r[q++]=this._iconIndexBuffer.array[h];r[q++]=this._textVertexBuffer.array.length;for(h=0;h<this._textVertexBuffer.array.length;h++)n[q++]=this._textVertexBuffer.array[h];r[q++]=this._textIndexBuffer.array.length;for(n=0;n<this._textIndexBuffer.array.length;n++)r[q++]=
this._textIndexBuffer.array[n];return r.buffer};m._symbolsSerializationLength=function(r){let n;n=1;for(const h of r||[]){n+=4;n+=1;for(const q of h.textColliders)n+=10;for(const q of h.iconColliders)n+=10;n+=1;n+=2*h.textVertexRanges.length;n+=1;n+=2*h.iconVertexRanges.length}return n};m.serializeSymbols=function(r,n,h,q,D){D=D||[];n[q++]=D.length;for(const v of D){n[q++]=v.anchor.x;n[q++]=v.anchor.y;n[q++]=v.symbolFeature.hash;n[q++]=v.symbolFeature.priority;n[q++]=v.textColliders.length+v.iconColliders.length;
for(const z of v.textColliders)n[q++]=z.xTile,n[q++]=z.yTile,n[q++]=z.dxPixels,n[q++]=z.dyPixels,n[q++]=z.hard?1:0,n[q++]=z.partIndex,h[q++]=z.minLod,h[q++]=z.maxLod,n[q++]=z.width,n[q++]=z.height;for(const z of v.iconColliders)n[q++]=z.xTile,n[q++]=z.yTile,n[q++]=z.dxPixels,n[q++]=z.dyPixels,n[q++]=z.hard?1:0,n[q++]=z.partIndex,h[q++]=z.minLod,h[q++]=z.maxLod,n[q++]=z.width,n[q++]=z.height;n[q++]=v.textVertexRanges.length;for(const [z,B]of v.textVertexRanges)n[q++]=z,n[q++]=B;n[q++]=v.iconVertexRanges.length;
for(const [z,B]of v.iconVertexRanges)n[q++]=z,n[q++]=B}return q};u._replaceKeys=function(r,n){return r.replace(/{([^{}]+)}/g,(h,q)=>q in n?n[q]:"")};u._processFeature=function(r,n,h){const {line:q,iconMosaicItem:D,shaping:v,anchor:z}=r,B=this.zoom;var E=this.layer,x=!!D,y=!0;x&&(y=n.optional||!D);var A=v&&0<v.length,F=!0;A&&(F=h.optional);var K;x&&(K=this._placementEngine.getIconPlacement(z,D,n));if(K||y){var M;A&&(M=this._placementEngine.getTextPlacement(z,v,q,h));if(M||F){K&&M||(F||y?F||M?y||K||
(M=null):K=null:M=K=null);if(M&&(x=E.hasDataDrivenText?E.textMaterial.encodeAttributes(r.symbolFeature.feature,B,E):null,this._storePlacedGlyphs(r,M.shapes,B,h.rotationAlignment,x),M.textColliders)){r.textColliders=M.textColliders;for(var H of M.textColliders)if(H.minLod=Math.max(B+f.log2(H.minLod),0),H.maxLod=Math.min(B+f.log2(H.maxLod),25),h=H.angle){y=Math.cos(h);var I=Math.sin(h);A=H.dxPixels*y-H.dyPixels*I;h=H.dxPixels*I+H.dyPixels*y;F=(H.dxPixels+H.width)*y-H.dyPixels*I;M=(H.dxPixels+H.width)*
I+H.dyPixels*y;const J=H.dxPixels*y-(H.dyPixels+H.height)*I;x=H.dxPixels*I+(H.dyPixels+H.height)*y;const S=(H.dxPixels+H.width)*y-(H.dyPixels+H.height)*I;I=(H.dxPixels+H.width)*I+(H.dyPixels+H.height)*y;y=Math.min(A,F,J,S);A=Math.max(A,F,J,S);F=Math.min(h,M,x,I);h=Math.max(h,M,x,I);H.dxPixels=y;H.dyPixels=F;H.width=A-y;H.height=h-F}}if(K&&(E=E.hasDataDrivenIcon?E.iconMaterial.encodeAttributes(r.symbolFeature.feature,B,E):null,this._addPlacedIcons(r,K.shapes,B,D.page,n.rotationAlignment===d.RotationAlignment.VIEWPORT,
E),K.iconColliders)){r.iconColliders=K.iconColliders;for(const J of K.iconColliders)if(J.minLod=Math.max(B+f.log2(J.minLod),0),J.maxLod=Math.min(B+f.log2(J.maxLod),25),r=J.angle)E=Math.cos(r),y=Math.sin(r),H=J.dxPixels*E-J.dyPixels*y,r=J.dxPixels*y+J.dyPixels*E,h=(J.dxPixels+J.width)*E-J.dyPixels*y,n=(J.dxPixels+J.width)*y+J.dyPixels*E,M=J.dxPixels*E-(J.dyPixels+J.height)*y,K=J.dxPixels*y+(J.dyPixels+J.height)*E,x=(J.dxPixels+J.width)*E-(J.dyPixels+J.height)*y,y=(J.dxPixels+J.width)*y+(J.dyPixels+
J.height)*E,E=Math.min(H,h,M,x),H=Math.max(H,h,M,x),h=Math.min(r,n,K,y),r=Math.max(r,n,K,y),J.dxPixels=E,J.dyPixels=h,J.width=H-E,J.height=r-h}}}};u._addPlacedIcons=function(r,n,h,q,D,v){const z=Math.max(h-1,0),B=this._iconVertexBuffer,E=this._iconIndexBuffer,x=this._markerMap;for(const A of n){n=D?0:Math.max(h+f.log2(A.minzoom),z);const F=D?25:Math.min(h+f.log2(A.maxzoom),25);if(F<=n)continue;const K=A.tl,M=A.tr,H=A.bl,I=A.br;var y=A.mosaicRect;const J=A.labelAngle,S=A.minAngle,V=A.maxAngle,Z=A.anchor,
ba=B.index,ia=y.x,ea=y.y,ka=ia+y.width;y=ea+y.height;const oa=B.index;B.add(Z.x,Z.y,K.x,K.y,ia,ea,J,S,V,n,F,v);B.add(Z.x,Z.y,M.x,M.y,ka,ea,J,S,V,n,F,v);B.add(Z.x,Z.y,H.x,H.y,ia,y,J,S,V,n,F,v);B.add(Z.x,Z.y,I.x,I.y,ka,y,J,S,V,n,F,v);0<r.iconVertexRanges.length&&r.iconVertexRanges[0][0]+r.iconVertexRanges[0][1]===oa?r.iconVertexRanges[0][1]+=4:r.iconVertexRanges.push([oa,4]);E.add(ba+0,ba+1,ba+2);E.add(ba+1,ba+2,ba+3);x.has(q)?x.get(q)[1]+=6:x.set(q,[this._iconIndexStart+this._iconIndexCount,6]);this._iconIndexCount+=
6}};u._addPlacedGlyphs=function(){const r=this._textVertexBuffer,n=this._textIndexBuffer,h=this._glyphMap;for(const [q,D]of this._glyphBufferDataStorage)for(const v of D){const z=r.index,B=v.symbolInstance,E=v.ddAttributes,x=r.index;r.add(v.glyphAnchor[0],v.glyphAnchor[1],v.tl[0],v.tl[1],v.xmin,v.ymin,v.labelAngle,v.minAngle,v.maxAngle,v.minLod,v.maxLod,E);r.add(v.glyphAnchor[0],v.glyphAnchor[1],v.tr[0],v.tr[1],v.xmax,v.ymin,v.labelAngle,v.minAngle,v.maxAngle,v.minLod,v.maxLod,E);r.add(v.glyphAnchor[0],
v.glyphAnchor[1],v.bl[0],v.bl[1],v.xmin,v.ymax,v.labelAngle,v.minAngle,v.maxAngle,v.minLod,v.maxLod,E);r.add(v.glyphAnchor[0],v.glyphAnchor[1],v.br[0],v.br[1],v.xmax,v.ymax,v.labelAngle,v.minAngle,v.maxAngle,v.minLod,v.maxLod,E);0<B.textVertexRanges.length&&B.textVertexRanges[0][0]+B.textVertexRanges[0][1]===x?B.textVertexRanges[0][1]+=4:B.textVertexRanges.push([x,4]);n.add(z+0,z+1,z+2);n.add(z+1,z+2,z+3);h.has(q)?h.get(q)[1]+=6:h.set(q,[this._textIndexStart+this._textIndexCount,6]);this._textIndexCount+=
6}this._glyphBufferDataStorage.clear()};u._storePlacedGlyphs=function(r,n,h,q,D){const v=Math.max(h-1,0);q=q===d.RotationAlignment.VIEWPORT;let z,B,E,x,y,A,F,K,M,H;for(const I of n)n=q?0:Math.max(h+f.log2(I.minzoom),v),z=q?25:Math.min(h+f.log2(I.maxzoom),25),z<=n||(B=I.tl,E=I.tr,x=I.bl,y=I.br,A=I.labelAngle,F=I.minAngle,K=I.maxAngle,M=I.anchor,H=I.mosaicRect,this._glyphBufferDataStorage.has(I.page)||this._glyphBufferDataStorage.set(I.page,[]),this._glyphBufferDataStorage.get(I.page).push({glyphAnchor:[M.x,
M.y],tl:[B.x,B.y],tr:[E.x,E.y],bl:[x.x,x.y],br:[y.x,y.y],xmin:H.x,ymin:H.y,xmax:H.x+H.width,ymax:H.y+H.height,labelAngle:A,minAngle:F,maxAngle:K,minLod:n,maxLod:z,placementLod:v,symbolInstance:r,ddAttributes:D}))};m._pushAnchors=function(r,n,h,q){h+=q;var D=0,v=n.length-1;for(var z=0;z<v;z++)D+=l.Point.distance(n[z],n[z+1]);q=.5*(q||h);if(!(D<=q)){q/=D;h=D/Math.max(Math.round(D/h),1);D=0;v=-h/2;z=n.length-1;for(let E=0;E<z;E++){const x=n[E],y=n[E+1],A=y.x-x.x,F=y.y-x.y,K=Math.sqrt(A*A+F*F);let M;
for(;v+h<D+K;){v+=h;var B=(v-D)/K;const H=f.interpolate(x.x,y.x,B);B=f.interpolate(x.y,y.y,B);void 0===M&&(M=Math.atan2(F,A));r.push(new t.Anchor(H,B,M,E,q))}D+=K}}};m._pushCenterAnchor=function(r,n){var h=0,q=n.length-1;for(var D=0;D<q;D++)h+=l.Point.distance(n[D],n[D+1]);var v=h/2;let z=0;const B=n.length-1;for(h=0;h<B;h++){var E=n[h];const x=n[h+1];q=x.x-E.x;D=x.y-E.y;const y=Math.sqrt(q*q+D*D);if(v<z+y){v=(v-z)/y;n=f.interpolate(E.x,x.x,v);E=f.interpolate(E.y,x.y,v);r.push(new t.Anchor(n,E,Math.atan2(D,
q),h,0));break}z+=y}};m._deviation=function(r,n,h){return Math.atan2((n.x-r.x)*(h.y-n.y)-(n.y-r.y)*(h.x-n.x),(n.x-r.x)*(h.x-n.x)+(n.y-r.y)*(h.y-n.y))};m._honorsTextMaxAngle=function(r,n,h,q,D){let v=0;h/=2;for(var z=new l.Point(n.x,n.y),B=n.segment+1;v>-h;){--B;if(0>B)return!1;v-=l.Point.distance(r[B],z);z=r[B]}v+=l.Point.distance(r[B],r[B+1]);n=[];z=0;const E=r.length;for(;v<h;){var x=r[B];let y;do{++B;if(B===E)return!1;y=r[B]}while(y.isEqual(x));let A=B,F;do{++A;if(A===E)return!1;F=r[A]}while(F.isEqual(y));
x=this._deviation(x,y,F);n.push({deviation:x,distToAnchor:v});for(z+=x;v-n[0].distToAnchor>D;)z-=n.shift().deviation;if(Math.abs(z)>q)return!1;v+=l.Point.distance(y,F)}return!0};m._smoothVertices=function(r,n){if(0>=n)return r;let h=r.length;if(3>h)return r;const q=[];var D=0,v=0;q.push(0);for(var z=1;z<h;z++){var B=l.Point.distance(r[z],r[z-1]);0<B&&(D+=B,q.push(D),v++,v!==z&&(r[v]=r[z]))}h=v+1;if(3>h)return r;n=Math.min(n,.2*D);D=r[0].x;v=r[0].y;z=r[h-1].x;B=r[h-1].y;var E=l.Point.sub(r[0],r[1]);
E.normalize();r[0].x+=n*E.x;r[0].y+=n*E.y;E.assignSub(r[h-1],r[h-2]);E.normalize();r[h-1].x+=n*E.x;r[h-1].y+=n*E.y;q[0]-=n;q[h-1]+=n;E=[];E.push(new l.Point(D,v));const x=.5*n;for(let Z=1;Z<h-1;Z++){let ba=0,ia=0,ea=0;for(var y=Z-1;0<=y;y--){var A=x+q[y+1]-q[Z];if(0>A)break;var F=q[y+1]-q[y],K=q[Z]-q[y]<x?1:A/F;if(1E-6>K)break;var M=K*K,H=K*A-.5*M*F,I=K*F/n,J=r[y+1],S=r[y].x-J.x,V=r[y].y-J.y;ba+=I/H*(J.x*K*A+.5*M*(A*S-F*J.x)-M*K*F*S/3);ia+=I/H*(J.y*K*A+.5*M*(A*V-F*J.y)-M*K*F*V/3);ea+=I}for(y=Z+1;y<
h;y++){A=x-q[y-1]+q[Z];if(0>A)break;F=q[y]-q[y-1];K=q[y]-q[Z]<x?1:A/F;if(1E-6>K)break;M=K*K;H=K*A-.5*M*F;I=K*F/n;J=r[y-1];S=r[y].x-J.x;V=r[y].y-J.y;ba+=I/H*(J.x*K*A+.5*M*(A*S-F*J.x)-M*K*F*S/3);ia+=I/H*(J.y*K*A+.5*M*(A*V-F*J.y)-M*K*F*V/3);ea+=I}E.push(new l.Point(ba/ea,ia/ea))}E.push(new l.Point(z,B));r[0].x=D;r[0].y=v;r[h-1].x=z;r[h-1].y=B;return E};m._pushCentroid=function(r,n){const h=n.length-1;let q=0,D=0,v=0,z=n[0].x,B=n[0].y;4096<z&&(z=4096);0>z&&(z=0);4096<B&&(B=4096);0>B&&(B=0);for(let E=
1;E<h;E++){let x=n[E].x,y=n[E].y,A=n[E+1].x,F=n[E+1].y;4096<x&&(x=4096);0>x&&(x=0);4096<y&&(y=4096);0>y&&(y=0);4096<A&&(A=4096);0>A&&(A=0);4096<F&&(F=4096);0>F&&(F=0);const K=(x-z)*(F-B)-(A-z)*(y-B);q+=K*(z+x+A);D+=K*(B+y+F);v+=K}q/=3*v;D/=3*v;isNaN(q)||isNaN(D)||r.push(new t.Anchor(q,D))};a._createClass(m,[{key:"markerPageMap",get:function(){return this._markerMap}},{key:"glyphsPageMap",get:function(){return this._glyphMap}},{key:"symbolInstances",get:function(){return this._symbolInstances}}]);
return m}(p);p._bidiEngine=new b;return p})},"esri/core/BidiEngine":function(){define(["./bidiEngineTables"],function(a){function b(z,B,E,x,y){var A=z;void 0===B&&(B=y.defInFormat);void 0===E&&(E=y.defOutFormat);void 0===x&&(x=y.defSwap);if(B!==E){var F=B.substring(0,1),K=E.substring(0,1);var M=B.substring(1,4);var H=E.substring(1,4);"C"===M.charAt(0)&&(M=C(A),M="ltr"===M||"rtl"===M?M.toUpperCase():"L"===B.charAt(2)?"LTR":"RTL",B=F+M);"C"===H.charAt(0)&&(M=C(A),"rtl"===M?H="RTL":"ltr"===M?(A=A.split(""),
A.reverse(),M=C(A.join("")),H=M.toUpperCase()):H="L"===E.charAt(2)?"LTR":"RTL",E=K+H)}if(B===E)return z;K=B.substring(0,1);A=B.substring(1,4);F=E.substring(0,1);H=E.substring(1,4);y.inFormat=B;y.outFormat=E;y.swap=x;if("L"===K&&"VLTR"===E){if("LTR"===A)return y.dir=0,w(z,y);if("RTL"===A)return y.dir=1,w(z,y)}if("V"===K&&"V"===F)return y.dir="RTL"===A?1:0,t(z,y);if("L"===K&&"VRTL"===E)return y.dir="LTR"===A?0:1,z=w(z,y),t(z);if("VLTR"===B&&"LLTR"===E)return y.dir=0,w(z,y);if("V"===K&&"L"===F&&A!==
H)return z=t(z),"RTL"===A?b(z,"LLTR","VLTR",x,y):b(z,"LRTL","VRTL",x,y);if("VRTL"===B&&"LRTL"===E)return b(z,"LRTL","VRTL",x,y);"L"===K&&"L"===F&&(B=y.swap,y.swap=B.substr(0,1)+"N","RTL"===A?(y.dir=1,z=w(z,y),y.swap="N"+B.substr(1,2),y.dir=0,z=w(z,y)):(y.dir=0,z=w(z,y),y.swap="N"+B.substr(1,2),z=b(z,"VLTR","LRTL",y.swap,y)));return z}function C(z){return(z=/[A-Za-z\u05d0-\u065f\u066a-\u06ef\u06fa-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/.exec(z))?"z">=z[0]?"ltr":"rtl":""}function w(z,B){z=z.split("");const E=
[];f(z,E,B);if(0!==B.hiLevel&&B.swap.substr(0,1)!==B.swap.substr(1,2))for(let A=0;A<z.length;A++)if(1===E[A]){var x=A;b:{let F=void 0;var y=z[A];let K=0,M=a.SwapTable.length-1;for(;K<=M;)if(F=Math.floor((K+M)/2),y<a.SwapTable[F][0])M=F-1;else if(y>a.SwapTable[F][0])K=F+1;else{y=a.SwapTable[F][1];break b}}z[x]=y}d(2,z,E,B);d(1,z,E,B);h=E;return z.join("")}function f(z,B,E){const x=z.length;var y=E.dir?a.impTabRtl:a.impTabLtr,A=0,F=-1;const K=[],M=[];E.hiLevel=E.dir;E.lastArabic=!1;E.hasUbatAl=!1;E.hasUbatB=
!1;E.hasUbatS=!1;for(var H=0;H<x;H++){var I=H,J=z[H].charCodeAt(0);const S=a.PrimaryTable[J>>8];K[I]=S<a.TBBASE?S:a.UnicodeTable[S-a.TBBASE][J&255]}for(I=0;I<x;I++){H=e(z,K,M,I,E);M[I]=H;A=y[A][H];J=A&240;A&=15;H=y[A][5];B[I]=H;if(0<J){if(16===J)for(;F<I;F++)B[F]=1;F=-1}if(y[A][6])-1===F&&(F=I);else if(-1<F){for(;F<I;F++)B[F]=H;F=-1}K[I]===a.UBAT_B&&(B[I]=0);E.hiLevel|=H}if(E.hasUbatS)for(z=0;z<x;z++)if(K[z]===a.UBAT_S)for(B[z]=E.dir,y=z-1;0<=y;y--)if(K[y]===a.UBAT_WS)B[y]=E.dir;else break}function t(z,
B){z=z.split("");if(B){const E=[];f(z,E,B);h=E}z.reverse();r.reverse();return z.join("")}function k(z){for(let B=0;B<a.ArabicAlefBetIntervalsBegine.length;B++)if(z>=a.ArabicAlefBetIntervalsBegine[B]&&z<=a.ArabicAlefBetIntervalsEnd[B])return!0;return!1}function p(z,B,E,x){for(;B*E<x&&g(z[B]);)B+=E;return B*E<x&&k(z[B])?!0:!1}function d(z,B,E,x){if(!(x.hiLevel<z))if(1!==z||1!==x.dir||x.hasUbatB){x=B.length;for(var y=0,A,F,K;y<x;){if(E[y]>=z){for(A=y+1;A<x&&E[A]>=z;)A++;for(F=A-1;y<F;y++,F--)K=B[y],
B[y]=B[F],B[F]=K,K=r[y],r[y]=r[F],r[F]=K;y=A}y++}}else B.reverse(),r.reverse()}function e(z,B,E,x,y){return{UBAT_L:()=>{y.lastArabic=!1;return a.UBAT_L},UBAT_R:()=>{y.lastArabic=!1;return a.UBAT_R},UBAT_ON:()=>a.UBAT_ON,UBAT_AN:()=>a.UBAT_AN,UBAT_EN:()=>y.lastArabic?a.UBAT_AN:a.UBAT_EN,UBAT_AL:()=>{y.lastArabic=!0;y.hasUbatAl=!0;return a.UBAT_R},UBAT_WS:()=>a.UBAT_ON,UBAT_CS:()=>{let A,F;if(1>x||x+1>=B.length||(A=E[x-1])!==a.UBAT_EN&&A!==a.UBAT_AN||(F=B[x+1])!==a.UBAT_EN&&F!==a.UBAT_AN)return a.UBAT_ON;
y.lastArabic&&(F=a.UBAT_AN);return F===A?F:a.UBAT_ON},UBAT_ES:()=>(0<x?E[x-1]:a.UBAT_B)===a.UBAT_EN&&x+1<B.length&&B[x+1]===a.UBAT_EN?a.UBAT_EN:a.UBAT_ON,UBAT_ET:()=>{if(0<x&&E[x-1]===a.UBAT_EN)return a.UBAT_EN;if(y.lastArabic)return a.UBAT_ON;let A=x+1;const F=B.length;for(;A<F&&B[A]===a.UBAT_ET;)A++;return A<F&&B[A]===a.UBAT_EN?a.UBAT_EN:a.UBAT_ON},UBAT_NSM:()=>{if("VLTR"===y.inFormat){for(var A=B.length,F=x+1;F<A&&B[F]===a.UBAT_NSM;)F++;if(F<A&&(A=z[x].charCodeAt[0],F=B[F],(1425<=A&&2303>=A||64286===
A)&&(F===a.UBAT_R||F===a.UBAT_AL)))return a.UBAT_R}return 1>x||B[x-1]===a.UBAT_B?a.UBAT_ON:E[x-1]},UBAT_B:()=>{y.lastArabic=!0;y.hasUbatB=!0;return y.dir},UBAT_S:()=>{y.hasUbatS=!0;return a.UBAT_ON},UBAT_LRE:()=>{y.lastArabic=!1;return a.UBAT_ON},UBAT_RLE:()=>{y.lastArabic=!1;return a.UBAT_ON},UBAT_LRO:()=>{y.lastArabic=!1;return a.UBAT_ON},UBAT_RLO:()=>{y.lastArabic=!1;return a.UBAT_ON},UBAT_PDF:()=>{y.lastArabic=!1;return a.UBAT_ON},UBAT_BN:()=>a.UBAT_ON}[a.TYPES_NAMES[B[x]]]()}function l(z,B){for(let E=
0;E<a.BaseForm.length;E++)if(z===a.BaseForm[E])return B[E];return z}function g(z){return"\u064b"<=z&&"\u0655">=z?!0:!1}function c(z){return"L"===z?"LTR":"R"===z?"RTL":"C"===z?"CLR":"D"===z?"CRL":""}function m(z,B){for(let E=0;E<a.AlefTable.length;E++)if(z===a.AlefTable[E])return B[E];return z}function u(z,B,E,x){for(let y=0;y<z.length;y++)if(z[y]>B||!E&&z[y]===B)z[y]+=x}let r=[],n=[],h=[];const q={dir:0,defInFormat:"LLTR",defoutFormat:"VLTR",defSwap:"YN",inFormat:"LLTR",outFormat:"VLTR",swap:"YN",
hiLevel:0,lastArabic:!1,hasUbatAl:!1,hasBlockSep:!1,hasSegSep:!1,defOutFormat:""},D=/^[(I|V)][(L|R|C|D)][(Y|N)][(S|N)][N]$/,v=/[\u0591-\u06ff\ufb1d-\ufefc]/;return function(){function z(){this.inputFormat="ILYNN";this.outputFormat="VLNNN";this.sourceToTarget=[];this.targetToSource=[];this.levels=[]}var B=z.prototype;B.bidiTransform=function(E,x,y){this.sourceToTarget=[];this.targetToSource=[];if(!E)return"";var A=this.sourceToTarget,F=this.targetToSource,K=E.length;r=[];h=[];for(var M=0;M<K;M++)A[M]=
M,F[M]=M,r[M]=M;if(!this.checkParameters(x,y))return E;x=this.inputFormat;y=this.outputFormat;A=E;K=c(x.charAt(1));A=c(y.charAt(1));M="I"===x.charAt(0)?"L":x.charAt(0);F="I"===y.charAt(0)?"L":y.charAt(0);K=M+K;A=F+A;F=x.charAt(2)+y.charAt(2);q.defInFormat=K;q.defOutFormat=A;q.defSwap=F;E=b(E,K,A,F,q);A=!1;if("R"===y.charAt(1))A=!0;else if("C"===y.charAt(1)||"D"===y.charAt(1))A="rtl"===this.checkContextual(E);F=this.sourceToTarget=r;K=Array(F.length);for(M=0;M<F.length;M++)K[F[M]]=M;n=this.targetToSource=
K;if(x.charAt(3)===y.charAt(3))A=E;else if("S"===y.charAt(3))if(x=A,y=!0,0===E.length)A="";else{void 0===x&&(x=!0);void 0===y&&(y=!0);E=String(E);E=E.split("");K=0;A=1;F=E.length;x||(K=E.length-1,A=-1,F=1);var H=K;K=y;var I=0;M=[];for(var J=0;H*A<F;H+=A)if(k(E[H])||g(E[H])){var S;if(S="\u0644"===E[H])b:{for(var V=E,Z=H+A,ba=A,ia=F;Z*ba<ia&&g(V[Z]);)Z+=ba;S=" ";if(Z*ba<ia)for(S=V[Z],V=0;V<a.AlefTable.length;V++)if(a.AlefTable[V]===S){S=!0;break b}S=!1}if(S){E[H]=0===I?m(E[H+A],a.LamAlefInialTableFE):
m(E[H+A],a.LamAlefMedialTableFE);H+=A;I=E;S=H;V=A;for(Z=F;S*V<Z&&g(I[S]);)S+=V;S*V<Z&&(I[S]=" ");K&&(M[J]=H,J++);I=0}else{S=E[H];if(1===I){V=H;if(p(E,H+A,A,F))b:for(Z=E[H],ba=0;ba<a.BaseForm.length;ba++){if(Z===a.BaseForm[ba]){Z=a.MedialForm[ba];break b}}else Z=l(E[H],a.FinalForm);E[V]=Z}else!0===p(E,H+A,A,F)?E[H]=l(E[H],a.InitialForm):E[H]=l(E[H],a.IsolatedForm);g(S)||(I=1);b:{for(V=0;V<a.StandAlonForm.length;V++)if(a.StandAlonForm[V]===S){S=!0;break b}S=!1}!0===S&&(I=0)}}else I=0;A=M;F="";for(K=
0;K<E.length;K++){if(M=y){b:{for(M=0;M<A.length;M++)if(A[M]===K)break b;M=-1}M=-1<M}M?(u(n,K,!x,-1),r.splice(K,1)):F+=E[K]}A=F}else if(x=E,y=A,E=!0,0===x.length)A="";else for(void 0===E&&(E=!0),void 0===y&&(y=!0),x=String(x),A="",F=x.split(""),K=0;K<x.length;K++)M=!1,"\ufe70"<=F[K]&&"\ufeff">F[K]?(J=x.charCodeAt(K),"\ufef5"<=F[K]&&"\ufefc">=F[K]?(y?(0<K&&E&&" "===F[K-1]?A=A.substring(0,A.length-1)+"\u0644":(A+="\u0644",M=!0),A+=a.AlefTable[(J-65269)/2]):(A+=a.AlefTable[(J-65269)/2],A+="\u0644",K+
1<x.length&&E&&" "===F[K+1]?K++:M=!0),M&&(u(n,K,!0,1),r.splice(K,0,r[K]))):A+=a.FETo06Table[J-65136]):A+=F[K];this.sourceToTarget=r;this.targetToSource=n;this.levels=h;return A};B._inputFormatSetter=function(E){if(!D.test(E))throw Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.inputFormat=E};B._outputFormatSetter=function(E){if(!D.test(E))throw Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.outputFormat=E};B.checkParameters=function(E,x){E?this._inputFormatSetter(E):
E=this.inputFormat;x?this._outputFormatSetter(x):x=this.outputFormat;return E===x?!1:!0};B.checkContextual=function(E){E=C(E);if("ltr"!==E&&"rtl"!==E){try{E=document.dir.toLowerCase()}catch(x){}"ltr"!==E&&"rtl"!==E&&(E="ltr")}return E};B.hasBidiChar=function(E){return v.test(E)};return z}()})},"esri/core/bidiEngineTables":function(){define(["exports"],function(a){a.AlefTable=["\u0622","\u0623","\u0625","\u0627"];a.ArabicAlefBetIntervalsBegine=["\u0621","\u0641"];a.ArabicAlefBetIntervalsEnd=["\u063a",
"\u064a"];a.BaseForm="\u0627\u0628\u062a\u062b\u062c\u062d\u062e\u062f\u0630\u0631\u0632\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u0643\u0644\u0645\u0646\u0647\u0648\u064a\u0625\u0623\u0622\u0629\u0649\u0644\u0645\u0646\u0647\u0648\u064a\u0625\u0623\u0622\u0629\u0649\u06cc\u0626\u0624".split("");a.FETo06Table="\u064b\u064b\u064c\u061f\u064d\u061f\u064e\u064e\u064f\u064f\u0650\u0650\u0651\u0651\u0652\u0652\u0621\u0622\u0622\u0623\u0623\u0624\u0624\u0625\u0625\u0626\u0626\u0626\u0626\u0627\u0627\u0628\u0628\u0628\u0628\u0629\u0629\u062a\u062a\u062a\u062a\u062b\u062b\u062b\u062b\u062c\u062c\u062c\u062c\u062d\u062d\u062d\u062d\u062e\u062e\u062e\u062e\u062f\u062f\u0630\u0630\u0631\u0631\u0632\u0632\u0633\u0633\u0633\u0633\u0634\u0634\u0634\u0634\u0635\u0635\u0635\u0635\u0636\u0636\u0636\u0636\u0637\u0637\u0637\u0637\u0638\u0638\u0638\u0638\u0639\u0639\u0639\u0639\u063a\u063a\u063a\u063a\u0641\u0641\u0641\u0641\u0642\u0642\u0642\u0642\u0643\u0643\u0643\u0643\u0644\u0644\u0644\u0644\u0645\u0645\u0645\u0645\u0646\u0646\u0646\u0646\u0647\u0647\u0647\u0647\u0648\u0648\u0649\u0649\u064a\u064a\u064a\u064a\ufef5\ufef6\ufef7\ufef8\ufef9\ufefa\ufefb\ufefc\u061f\u061f\u061f".split("");
a.FinalForm="\ufe8e\ufe90\ufe96\ufe9a\ufe9e\ufea2\ufea6\ufeaa\ufeac\ufeae\ufeb0\ufeb2\ufeb6\ufeba\ufebe\ufec2\ufec6\ufeca\ufece\ufed2\ufed6\ufeda\ufede\ufee2\ufee6\ufeea\ufeee\ufef2\ufe88\ufe84\ufe82\ufe94\ufef0\ufbfd\ufe8a\ufe86\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe8a\ufe86".split("");a.InitialForm="\ufe8d\ufe91\ufe97\ufe9b\ufe9f\ufea3\ufea7\ufea9\ufeab\ufead\ufeaf\ufeb3\ufeb7\ufebb\ufebf\ufec3\ufec7\ufecb\ufecf\ufed3\ufed7\ufedb\ufedf\ufee3\ufee7\ufeeb\ufeed\ufef3\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfe\ufe8b\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe8b\ufe85".split("");
a.IsolatedForm="\ufe8d\ufe8f\ufe95\ufe99\ufe9d\ufea1\ufea5\ufea9\ufeab\ufead\ufeaf\ufeb1\ufeb5\ufeb9\ufebd\ufec1\ufec5\ufec9\ufecd\ufed1\ufed5\ufed9\ufedd\ufee1\ufee5\ufee9\ufeed\ufef1\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfc\ufe89\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe89\ufe85".split("");a.LamAlefInialTableFE=["\ufef5","\ufef7","\ufef9","\ufefb"];a.LamAlefMedialTableFE=["\ufef6","\ufef8","\ufefa","\ufefc"];a.MedialForm="\ufe8e\ufe92\ufe98\ufe9c\ufea0\ufea4\ufea8\ufeaa\ufeac\ufeae\ufeb0\ufeb4\ufeb8\ufebc\ufec0\ufec4\ufec8\ufecc\ufed0\ufed4\ufed8\ufedc\ufee0\ufee4\ufee8\ufeec\ufeee\ufef4\ufe88\ufe84\ufe82\ufe94\ufef0\ufbff\ufe8c\ufe86\ufe71\ufe72\ufe74\ufe77\ufe79\ufe7b\ufe7d\ufe7f\ufe80\ufe8c\ufe86".split("");
a.PrimaryTable=[100,0,0,0,0,101,102,103,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,104,4,4,4,0,4,0,4,0,4,4,4,0,0,4,4,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,4,4,0,0,4,4,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,4,4,4,0,0,0,105,7,7,106,107];a.StandAlonForm="\u0621\u0622\u0623\u0624\u0625\u0627\u0629\u062f\u0630\u0631\u0632\u0648\u0649".split("");a.SwapTable=[["(",")"],[")","("],["\x3c","\x3e"],["\x3e","\x3c"],["[","]"],["]","["],["{","}"],["}","{"],["\u00ab","\u00bb"],["\u00bb","\u00ab"],["\u2039","\u203a"],["\u203a","\u2039"],["\u207d","\u207e"],["\u207e","\u207d"],["\u208d","\u208e"],["\u208e","\u208d"],["\u2264","\u2265"],["\u2265","\u2264"],["\u2329","\u232a"],["\u232a","\u2329"],["\ufe59",
"\ufe5a"],["\ufe5a","\ufe59"],["\ufe5b","\ufe5c"],["\ufe5c","\ufe5b"],["\ufe5d","\ufe5e"],["\ufe5e","\ufe5d"],["\ufe64","\ufe65"],["\ufe65","\ufe64"]];a.TBBASE=100;a.TYPES_NAMES="UBAT_L UBAT_R UBAT_EN UBAT_AN UBAT_ON UBAT_B UBAT_S UBAT_AL UBAT_WS UBAT_CS UBAT_ES UBAT_ET UBAT_NSM UBAT_LRE UBAT_RLE UBAT_PDF UBAT_LRO UBAT_RLO UBAT_BN".split(" ");a.UBAT_AL=7;a.UBAT_AN=3;a.UBAT_B=5;a.UBAT_BN=18;a.UBAT_CS=9;a.UBAT_EN=2;a.UBAT_ES=10;a.UBAT_ET=11;a.UBAT_L=0;a.UBAT_LRE=13;a.UBAT_LRO=16;a.UBAT_NSM=12;a.UBAT_ON=
4;a.UBAT_PDF=15;a.UBAT_R=1;a.UBAT_RLE=14;a.UBAT_RLO=17;a.UBAT_S=6;a.UBAT_WS=8;a.UnicodeTable=[[18,18,18,18,18,18,18,18,18,6,5,6,8,5,18,18,18,18,18,18,18,18,18,18,18,18,18,18,5,5,5,6,8,4,4,11,11,11,4,4,4,4,4,10,9,10,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,18,18,18,18,18,18,5,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,9,4,11,11,11,11,4,4,4,4,0,
4,4,18,4,4,11,11,2,2,4,0,4,4,4,2,0,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,4,4,4,4,4,4,4,12,12,12,12,12,12,12,12,12,12,12,12,
12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,1,12,1,12,12,1,12,12,1,12,4,4,4,4,4,4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,4,4,4,1,1,1,1,1,4,4,4,4,4,4,4,4,4,4,4],[3,3,3,3,4,4,4,4,7,11,11,7,9,7,4,4,12,12,12,12,12,12,12,12,12,12,12,7,4,4,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,3,3,3,3,3,3,3,3,3,3,11,3,3,7,7,7,12,
7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,12,12,12,12,12,12,12,3,4,12,12,12,12,12,12,7,7,12,12,4,12,12,12,12,7,7,2,2,2,2,2,2,2,2,2,2,7,7,7,7,7,7],[7,7,7,7,7,7,7,7,7,7,7,7,7,7,4,7,7,12,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,4,4,7,7,7,7,7,7,
7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,12,12,12,12,12,12,12,12,12,12,12,7,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,12,12,12,12,12,12,12,12,12,1,1,4,4,4,4,1,4,4,4,4,4],[8,8,8,8,8,8,8,8,8,8,8,18,18,18,0,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,5,13,14,15,16,17,9,11,11,11,11,11,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,4,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,18,18,18,18,18,4,4,4,4,4,18,18,18,18,18,18,2,0,4,4,2,2,2,2,2,2,10,10,4,4,4,0,2,2,2,2,2,2,2,2,2,2,10,10,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],[0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,
4,4,0,0,0,0,0,4,4,4,4,4,1,12,1,1,1,1,1,1,1,1,1,1,10,1,1,1,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,4,1,4,1,1,4,1,1,4,1,1,1,1,1,1,1,1,1,1,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7],[12,12,12,12,12,12,12,
12,12,12,12,12,12,12,12,12,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,12,12,12,12,12,12,12,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,9,4,4,9,4,4,4,4,4,4,4,4,4,11,4,4,10,10,4,4,4,4,4,11,11,4,4,4,4,4,7,7,7,7,7,4,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
7,7,7,7,7,7,4,4,18],[4,4,4,11,11,11,4,4,4,4,4,10,9,10,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,0,0,0,0,0,0,4,4,0,0,0,0,0,0,4,4,0,0,0,0,0,0,4,4,0,0,0,4,4,4,11,11,4,4,4,11,11,4,4,4,4,4,
4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4]];a.impTabLtr=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]];a.impTabRtl=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]];Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/engine/vectorTiles/style/StyleLayer":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../enums ../shaders/VTLBackgroundMaterial ../shaders/VTLCircleMaterial ../shaders/VTLFillMaterial ../shaders/VTLLineMaterial ../shaders/VTLSymbolMaterial ./Filter ./StyleDefinition ./StyleProperty ../../webgl/definitions".split(" "),
function(a,b,C,w,f,t,k,p,d,e,l,g){a.CapType=void 0;(function(v){v[v.BUTT=0]="BUTT";v[v.ROUND=1]="ROUND";v[v.SQUARE=2]="SQUARE";v[v.UNKNOWN=4]="UNKNOWN"})(a.CapType||(a.CapType={}));let c=function(){function v(B,E,x,y){this.type=B;this.typeName=E.type;this.id=E.id;this.source=E.source;this.sourceLayer=E["source-layer"];this.minzoom=E.minzoom;this.maxzoom=E.maxzoom;this.filter=E.filter;this.layout=E.layout;this.paint=E.paint;this.z=x;this.uid=y;switch(B){case e.StyleLayerType.BACKGROUND:this._layoutDefinition=
e.StyleDefinition.backgroundLayoutDefinition;this._paintDefinition=e.StyleDefinition.backgroundPaintDefinition;break;case e.StyleLayerType.FILL:this._layoutDefinition=e.StyleDefinition.fillLayoutDefinition;this._paintDefinition=e.StyleDefinition.fillPaintDefinition;break;case e.StyleLayerType.LINE:this._layoutDefinition=e.StyleDefinition.lineLayoutDefinition;this._paintDefinition=e.StyleDefinition.linePaintDefinition;break;case e.StyleLayerType.SYMBOL:this._layoutDefinition=e.StyleDefinition.symbolLayoutDefinition;
this._paintDefinition=e.StyleDefinition.symbolPaintDefinition;break;case e.StyleLayerType.CIRCLE:this._layoutDefinition=e.StyleDefinition.circleLayoutDefinition,this._paintDefinition=e.StyleDefinition.circlePaintDefinition}this._layoutProperties=this._parseLayout(this.layout);this._paintProperties=this._parsePaint(this.paint)}var z=v.prototype;z.getFeatureFilter=function(){return void 0!==this._featureFilter?this._featureFilter:this._featureFilter=d.createFilter(this.filter)};z.getLayoutProperty=
function(B){return this._layoutProperties[B]};z.getPaintProperty=function(B){return this._paintProperties[B]};z.getLayoutValue=function(B,E,x){let y;const A=this._layoutProperties[B];A&&(y=A.getValue(E,x));void 0===y&&(y=this._layoutDefinition[B]["default"]);return y};z.getPaintValue=function(B,E,x){let y;const A=this._paintProperties[B];A&&(y=A.getValue(E,x));void 0===y&&(y=this._paintDefinition[B]["default"]);return y};z.isPainterDataDriven=function(){const B=this._paintProperties;if(B)for(const E in B)if(B[E].isDataDriven)return!0;
return!1};z._parseLayout=function(B){const E={};for(const x in B){const y=this._layoutDefinition[x];y&&(E[x]=new l(y,B[x]))}return E};z._parsePaint=function(B){const E={};for(const x in B){const y=this._paintDefinition[x];y&&(E[x]=new l(y,B[x]))}return E};z.computeAttributesKey=function(B,E,x,y){let A=0,F=0;for(const K of E){E=3;if(!K||K!==y){const {isLayout:M,isOptional:H}=x[K];E=M?this.getLayoutProperty(K):this.getPaintProperty(K);E=E?.interpolator?2:E?.isDataDriven?1:H&&!E?3:0}F|=E<<A;A+=2}return F<<
3|B};return v}(),m=function(v){function z(B,E,x,y){B=v.call(this,B,E,x,y)||this;B.backgroundMaterial=new w.VTLBackgroundMaterial(B.computeAttributesKey(C.ShaderProgramType.BACKGROUND,w.VTLBackgroundMaterial.ATTRIBUTES,w.VTLBackgroundMaterial.ATTRIBUTES_INFO));return B}b._inheritsLoose(z,v);return z}(c),u=function(v){function z(B,E,x,y){B=v.call(this,B,E,x,y)||this;E=B.getPaintProperty("fill-color");x=B.getPaintProperty("fill-opacity");y=B.getPaintProperty("fill-pattern");B.hasDataDrivenColor=E?.isDataDriven;
B.hasDataDrivenOpacity=x?.isDataDriven;B.hasDataDrivenFill=B.hasDataDrivenColor||B.hasDataDrivenOpacity||y?.isDataDriven;x=B.getPaintProperty("fill-outline-color");B.outlineUsesFillColor=!x;B.hasDataDrivenOutlineColor=x?.isDataDriven;B.hasDataDrivenOutline=x?x.isDataDriven:E?E.isDataDriven:!1;B.hasDataDrivenOutline=(x?B.hasDataDrivenOutlineColor:B.hasDataDrivenColor)||B.hasDataDrivenOpacity;B.fillMaterial=new t.VTLFillMaterial(B.computeAttributesKey(C.ShaderProgramType.FILL,t.VTLFillMaterial.ATTRIBUTES,
t.VTLFillMaterial.ATTRIBUTES_INFO));B.outlineMaterial=new t.VTLOutlineMaterial(B.computeAttributesKey(C.ShaderProgramType.OUTLINE,B.outlineUsesFillColor?t.VTLOutlineMaterial.ATTRIBUTES_FILL:t.VTLOutlineMaterial.ATTRIBUTES_OUTLINE,B.outlineUsesFillColor?t.VTLOutlineMaterial.ATTRIBUTES_INFO_FILL:t.VTLOutlineMaterial.ATTRIBUTES_INFO_OUTLINE),B.outlineUsesFillColor);return B}b._inheritsLoose(z,v);return z}(c),r=function(v){function z(B,E,x,y){B=v.call(this,B,E,x,y)||this;E=B.getPaintProperty("line-pattern");
B.lineMaterial=new k.VTLLineMaterial(B.computeAttributesKey(C.ShaderProgramType.LINE,k.VTLLineMaterial.ATTRIBUTES,k.VTLLineMaterial.ATTRIBUTES_INFO,E?"line-dasharray":""));B.hasDataDrivenLine=B.getPaintProperty("line-blur")?.isDataDriven||B.getPaintProperty("line-color")?.isDataDriven||B.getPaintProperty("line-gap-width")?.isDataDriven||B.getPaintProperty("line-offset")?.isDataDriven||B.getPaintProperty("line-opacity")?.isDataDriven||B.getPaintProperty("line-pattern")?.isDataDriven||B.getPaintProperty("line-dasharray")?.isDataDriven||
B.getLayoutProperty("line-cap")?.isDataDriven||B.getPaintProperty("line-width")?.isDataDriven;B.canUseThinTessellation=!1;!B.hasDataDrivenLine&&(E=B.getPaintProperty("line-width"),!E||"number"===typeof E&&.5*E<g.THIN_LINE_HALF_WIDTH_THRESHOLD)&&(E=B.getPaintProperty("line-offset"),!E||"number"===typeof E&&0===E)&&(B.canUseThinTessellation=!0);return B}b._inheritsLoose(z,v);z.prototype.getDashKey=function(B,E){switch(E){case a.CapType.BUTT:E="Butt";break;case a.CapType.ROUND:E="Round";break;case a.CapType.SQUARE:E=
"Square";break;default:E="Butt"}return`dasharray-[${B.toString()}]-${E}`};return z}(c),n=function(v){function z(B,E,x,y){B=v.call(this,B,E,x,y)||this;B.iconMaterial=new p.VTLIconMaterial(B.computeAttributesKey(C.ShaderProgramType.ICON,p.VTLIconMaterial.ATTRIBUTES,p.VTLIconMaterial.ATTRIBUTES_INFO));B.textMaterial=new p.VTLTextMaterial(B.computeAttributesKey(C.ShaderProgramType.TEXT,p.VTLTextMaterial.ATTRIBUTES,p.VTLTextMaterial.ATTRIBUTES_INFO));B.hasDataDrivenIcon=B.getPaintProperty("icon-color")?.isDataDriven||
B.getPaintProperty("icon-halo-blur")?.isDataDriven||B.getPaintProperty("icon-halo-color")?.isDataDriven||B.getPaintProperty("icon-halo-width")?.isDataDriven||B.getPaintProperty("icon-opacity")?.isDataDriven||B.getLayoutProperty("icon-size")?.isDataDriven;B.hasDataDrivenText=B.getPaintProperty("text-color")?.isDataDriven||B.getPaintProperty("text-halo-blur")?.isDataDriven||B.getPaintProperty("text-halo-color")?.isDataDriven||B.getPaintProperty("text-halo-width")?.isDataDriven||B.getPaintProperty("text-opacity")?.isDataDriven||
B.getLayoutProperty("text-size")?.isDataDriven;return B}b._inheritsLoose(z,v);return z}(c),h=function(v){function z(B,E,x,y){B=v.call(this,B,E,x,y)||this;B.circleMaterial=new f.VTLCircleMaterial(B.computeAttributesKey(C.ShaderProgramType.CIRCLE,f.VTLCircleMaterial.ATTRIBUTES,f.VTLCircleMaterial.ATTRIBUTES_INFO));return B}b._inheritsLoose(z,v);return z}(c),q=function(){function v(z,B,E){this.allowOverlap=z.getLayoutValue("icon-allow-overlap",B);this.ignorePlacement=z.getLayoutValue("icon-ignore-placement",
B);this.keepUpright=z.getLayoutValue("icon-keep-upright",B);this.optional=z.getLayoutValue("icon-optional",B);this.rotationAlignment=z.getLayoutValue("icon-rotation-alignment",B);this.rotationAlignment===e.RotationAlignment.AUTO&&(this.rotationAlignment=E?e.RotationAlignment.MAP:e.RotationAlignment.VIEWPORT);E=z.getLayoutProperty("icon-anchor");E?.isDataDriven?this._anchorProp=E:this.anchor=z.getLayoutValue("icon-anchor",B);E=z.getLayoutProperty("icon-offset");E?.isDataDriven?this._offsetProp=E:this.offset=
z.getLayoutValue("icon-offset",B);E=z.getLayoutProperty("icon-padding");E?.isDataDriven?this._paddingProp=E:this.padding=z.getLayoutValue("icon-padding",B);E=z.getLayoutProperty("icon-rotate");E?.isDataDriven?this._rotateProp=E:this.rotate=z.getLayoutValue("icon-rotate",B);E=z.getLayoutProperty("icon-size");E?.isDataDriven?this._sizeProp=E:this.size=z.getLayoutValue("icon-size",B)}v.prototype.update=function(z,B){this._anchorProp&&(this.anchor=this._anchorProp.getValue(z,B));this._offsetProp&&(this.offset=
this._offsetProp.getValue(z,B));this._paddingProp&&(this.padding=this._paddingProp.getValue(z,B));this._rotateProp&&(this.rotate=this._rotateProp.getValue(z,B));this._sizeProp&&(this.size=this._sizeProp.getValue(z,B))};return v}(),D=function(){function v(z,B,E){this.allowOverlap=z.getLayoutValue("text-allow-overlap",B);this.ignorePlacement=z.getLayoutValue("text-ignore-placement",B);this.keepUpright=z.getLayoutValue("text-keep-upright",B);this.optional=z.getLayoutValue("text-optional",B);this.rotationAlignment=
z.getLayoutValue("text-rotation-alignment",B);this.rotationAlignment===e.RotationAlignment.AUTO&&(this.rotationAlignment=E?e.RotationAlignment.MAP:e.RotationAlignment.VIEWPORT);E=z.getLayoutProperty("text-anchor");E?.isDataDriven?this._anchorProp=E:this.anchor=z.getLayoutValue("text-anchor",B);E=z.getLayoutProperty("text-justify");E?.isDataDriven?this._justifyProp=E:this.justify=z.getLayoutValue("text-justify",B);E=z.getLayoutProperty("text-letter-spacing");E?.isDataDriven?this._letterSpacingProp=
E:this.letterSpacing=z.getLayoutValue("text-letter-spacing",B);E=z.getLayoutProperty("text-line-height");E?.isDataDriven?this._lineHeightProp=E:this.lineHeight=z.getLayoutValue("text-line-height",B);E=z.getLayoutProperty("text-max-angle");E?.isDataDriven?this._maxAngleProp=E:this.maxAngle=z.getLayoutValue("text-max-angle",B);E=z.getLayoutProperty("text-max-width");E?.isDataDriven?this._maxWidthProp=E:this.maxWidth=z.getLayoutValue("text-max-width",B);E=z.getLayoutProperty("text-offset");E?.isDataDriven?
this._offsetProp=E:this.offset=z.getLayoutValue("text-offset",B);E=z.getLayoutProperty("text-padding");E?.isDataDriven?this._paddingProp=E:this.padding=z.getLayoutValue("text-padding",B);E=z.getLayoutProperty("text-rotate");E?.isDataDriven?this._rotateProp=E:this.rotate=z.getLayoutValue("text-rotate",B);E=z.getLayoutProperty("text-size");E?.isDataDriven?this._sizeProp=E:this.size=z.getLayoutValue("text-size",B);E=z.getLayoutProperty("text-writing-mode");E?.isDataDriven?this._writingModeProp=E:this.writingMode=
z.getLayoutValue("text-writing-mode",B)}v.prototype.update=function(z,B){this._anchorProp&&(this.anchor=this._anchorProp.getValue(z,B));this._justifyProp&&(this.justify=this._justifyProp.getValue(z,B));this._letterSpacingProp&&(this.letterSpacing=this._letterSpacingProp.getValue(z,B));this._lineHeightProp&&(this.lineHeight=this._lineHeightProp.getValue(z,B));this._maxAngleProp&&(this.maxAngle=this._maxAngleProp.getValue(z,B));this._maxWidthProp&&(this.maxWidth=this._maxWidthProp.getValue(z,B));this._offsetProp&&
(this.offset=this._offsetProp.getValue(z,B));this._paddingProp&&(this.padding=this._paddingProp.getValue(z,B));this._rotateProp&&(this.rotate=this._rotateProp.getValue(z,B));this._sizeProp&&(this.size=this._sizeProp.getValue(z,B));this._writingModeProp&&(this.writingMode=this._writingModeProp.getValue(z,B))};return v}();a.BackgroundStyleLayer=m;a.CircleStyleLayer=h;a.FillStyleLayer=u;a.IconLayout=q;a.LineStyleLayer=r;a.StyleLayer=c;a.SymbolStyleLayer=n;a.TextLayout=D;Object.defineProperties(a,{__esModule:{value:!0},
[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/engine/vectorTiles/shaders/VTLBackgroundMaterial":function(){define(["exports","../../../../../chunks/_rollupPluginBabelHelpers","./VTLMaterial","../../../../webgl/enums","../../../../webgl/VertexElementDescriptor"],function(a,b,C,w,f){C=function(t){function k(d){return t.call(this,d)||this}b._inheritsLoose(k,t);var p=k.prototype;p.geometryInfo=function(){return k.GEOMETRY_LAYOUT};p.opacityInfo=function(){return null};p.attributes=function(){return k.ATTRIBUTES};
p.attributesInfo=function(){return k.ATTRIBUTES_INFO};return k}(C.VTLMaterial);C.ATTRIBUTES=[];C.GEOMETRY_LAYOUT=[new f.VertexElementDescriptor("a_pos",2,w.DataType.BYTE,0,2)];C.ATTRIBUTES_INFO={};a.VTLBackgroundMaterial=C;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/engine/vectorTiles/shaders/VTLMaterial":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../core/maybe ../MemoryBuffer ./enums ../../../../webgl/enums ../../../../webgl/VertexElementDescriptor".split(" "),
function(a,b,C,w,f,t,k){let p=function(){function l(c){this._locations=new Map;this._key=c}var g=l.prototype;g.defines=function(){return[]};g.getStride=function(){this._layoutInfo||this._buildAttributesInfo();return this._stride};g.getAttributeLocations=function(){0===this._locations.size&&this._buildAttributesInfo();return this._locations};g.getLayoutInfo=function(){this._layoutInfo||this._buildAttributesInfo();return this._layoutInfo};g.getEncodingInfos=function(){this._propertyEncodingInfo||this._buildAttributesInfo();
return this._propertyEncodingInfo};g.getUniforms=function(){this._uniforms||this._buildAttributesInfo();return this._uniforms};g.getShaderHeader=function(){this._shaderHeader||this._buildAttributesInfo();return this._shaderHeader};g.getShaderMain=function(){this._shaderMain||this._buildAttributesInfo();return this._shaderMain};g.setDataUniforms=function(c,m,u,r,n){var h=this.getUniforms();for(const q of h){const {name:D,type:v,getValue:z}=q;h=z(u,m,r,n);if(null!==h)switch(v){case "float":c.setUniform1f(D,
h);break;case "vec2":c.setUniform2fv(D,h);break;case "vec4":c.setUniform4fv(D,h)}}};g.encodeAttributes=function(c,m,u,r){const n=this.attributesInfo(),h=this.getEncodingInfos(),q=[];let D=0,v=0;for(const B of Object.keys(h)){var z=h[B];const {type:E,precisionFactor:x,isLayout:y}=n[B],A=y?u.getLayoutProperty(B):u.getPaintProperty(B),F=A.interpolator?.getInterpolationRange(m);let K=0;for(const M of z){const {offset:H,bufferElementsToAdd:I}=M;if(0<I){for(z=0;z<I;z++)q.push(0);D+=v;v=M.bufferElementsToAdd}z=
r??A.getValue(F?F[K]:m,c);switch(E){case f.EncodingType.R8_SIGNED:case f.EncodingType.R8_UNSIGNED:q[D]|=this._encodeByte(z*(x||1),8*H);break;case f.EncodingType.R16_SIGNED:case f.EncodingType.R16_UNSIGNED:q[D]|=this._encodeShort(z*(x||1),8*H);break;case f.EncodingType.R8G8_SIGNED:case f.EncodingType.R8G8_UNSIGNED:q[D]|=this._encodeByte(z*(x||1),8*H);q[D]|=this._encodeByte(z*(x||1),8*H+8);break;case f.EncodingType.R16G16_SIGNED:case f.EncodingType.R16G16_UNSIGNED:q[D]|=this._encodeShort(z*(x||1),8*
H);q[D]|=this._encodeShort(z*(x||1),8*H+16);break;case f.EncodingType.R8G8B8A8_SIGNED:case f.EncodingType.R8G8B8A8_UNSIGNED:q[D]|=this._encodeByte(z*(x||1),8*H);q[D]|=this._encodeByte(z*(x||1),8*H+8);q[D]|=this._encodeByte(z*(x||1),8*H+16);q[D]|=this._encodeByte(z*(x||1),8*H+24);break;case f.EncodingType.R8G8B8A8_COLOR:q[D]=this._encodeColor(z);break;case f.EncodingType.R16G16B16A16_DASHARRAY:case f.EncodingType.R16G16B16A16_PATTERN:this._encodePattern(D,q,z);break;default:throw Error("Unsupported encoding type");
}K++}}return q};g.getAtributeState=function(c){const m=3+2*c;c=0|this._bit(m);return c|=this._bit(m+1)<<1};g._buildAttributesInfo=function(){const c=[],m={};var u={},r=-1;const n=this.attributesInfo();var h=this.attributes();let q=-1;for(const B of h){q++;h=this.getAtributeState(q);if(h===f.AttributeStatus.UNIFORM||h===f.AttributeStatus.UNUSED)continue;var D=n[B];const E=[];m[B]=E;D=D.type;for(let x=0;x<h;x++){const {dataType:y,bytesPerElement:A,count:F,normalized:K}=l._encodingInfo[D],M=A*F;var v=
`${y}-${!0===K}`;let H=u[v],I=0;!H||4<H.count+F?(r++,H={dataIndex:r,count:0,offset:0},4!==F&&(u[v]=H),c.push({location:-1,name:"a_data_"+r,count:F,type:y,normalized:K}),I=Math.ceil(Math.max(M/4,1))):(v=c[H.dataIndex],v.count+=F,I=Math.ceil(Math.max(v.count*A/4,1))-Math.ceil(Math.max(H.offset/4,1)));E.push({dataIndex:H.dataIndex,offset:H.offset,bufferElementsToAdd:I});H.offset+=M;H.count+=F}}for(const B of c)switch(B.type){case t.DataType.BYTE:case t.DataType.UNSIGNED_BYTE:B.count=4;break;case t.DataType.SHORT:case t.DataType.UNSIGNED_SHORT:B.count+=
B.count%2}this._buildVertexBufferLayout(c);u=0;r=this._layoutInfo.geometry;for(var z of r)this._locations.set(z.name,u++);if(z=this._layoutInfo.opacity)for(const B of z)this._locations.set(B.name,u++);this._buildShaderInfo(c,m);this._propertyEncodingInfo=m};g._buildVertexBufferLayout=function(c){const m={},u=this.geometryInfo();let r=u[0].stride;if(0===c.length)m.geometry=u;else{const n=[];let h=r;for(const q of c)r+=d(q.type)*q.count;for(const q of u)n.push(new k.VertexElementDescriptor(q.name,q.count,
q.type,q.offset,r,q.normalized));for(const q of c)n.push(new k.VertexElementDescriptor(q.name,q.count,q.type,h,r,q.normalized)),h+=d(q.type)*q.count;m.geometry=n}this.opacityInfo()&&(m.opacity=this.opacityInfo());this._layoutInfo=m;this._stride=r};g._buildShaderInfo=function(c,m){let u="\n",r="\n";const n=[];for(var h of c)u+=`attribute ${this._getType(h.count)} ${h.name};\n`;var q=this.attributes();c=this.attributesInfo();h=-1;for(const z of q){h++;const {name:B,type:E,precisionFactor:x,isLayout:y}=
c[z];q=x&&1!==x?` * ${1/x}`:"";const {bytesPerElement:A,count:F}=l._encodingInfo[E];var D=K=>`a_data_${K.dataIndex}${e(F,K.offset,A)}`;switch(this.getAtributeState(h)){case f.AttributeStatus.UNIFORM:q=this._getType(F);var v=`u_${B}`;n.push({name:v,type:q,getValue:(M,H,I,J)=>{I=y?M.getLayoutValue(z,H):M.getPaintValue(z,H);if(E===f.EncodingType.R16G16B16A16_DASHARRAY){M=M.getDashKey(I,M.getLayoutValue("line-cap",H));J=J.getMosaicItemPosition(M,!1);if(C.isNone(J))return null;const {tl:S,br:V}=J;return[S[0],
V[1],V[0],S[1]]}if(E===f.EncodingType.R16G16B16A16_PATTERN){J=J.getMosaicItemPosition(I,!z.includes("line-"));if(C.isNone(J))return null;const {tl:S,br:V}=J;return[S[0],V[1],V[0],S[1]]}return E===f.EncodingType.R8G8B8A8_COLOR?(J=I[3],[J*I[0],J*I[1],J*I[2],J]):I}});u+=`uniform ${q} ${v};\n`;r+=`${q} ${B} = ${v};\n`;break;case f.AttributeStatus.DATA_DRIVEN:v=D(m[z][0]);r+=`${this._getType(F)} ${B} = ${v}${q};\n`;break;case f.AttributeStatus.INTERPOLATED_DATA_DRIVEN:v=`u_t_${B}`;n.push({name:v,type:"float",
getValue:(M,H,I,J)=>(y?M.getLayoutProperty(z):M.getPaintProperty(z)).interpolator.interpolationUniformValue(I,H)});u+=`uniform float ${v};\n`;const K=D(m[z][0]);D=D(m[z][1]);r+=`${this._getType(F)} ${B} = mix(${K}${q}, ${D}${q}, ${v});\n`}}this._shaderHeader=u;this._shaderMain=r;this._uniforms=n};g._bit=function(c){return(this._key&1<<c)>>c};g._getType=function(c){switch(c){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4"}throw Error("Invalid count");};g._encodeColor=
function(c){const m=255*c[3];return w.i8888to32(c[0]*m,c[1]*m,c[2]*m,m)};g._encodePattern=function(c,m,u){if(u&&u.rect){var r=u.rect,n=u.width;u=u.height;m[c]=this._encodeShort(r.x+2,0);m[c]|=this._encodeShort(r.y+2+u,16);m[c+1]=this._encodeShort(r.x+2+n,0);m[c+1]|=this._encodeShort(r.y+2,16)}};g._encodeByte=function(c,m){return(c&255)<<m};g._encodeShort=function(c,m){return(c&65535)<<m};b._createClass(l,[{key:"key",get:function(){return this._key}},{key:"type",get:function(){return this._key&7}}]);
return l}();p._encodingInfo={[f.EncodingType.R8_SIGNED]:{dataType:t.DataType.BYTE,bytesPerElement:1,count:1,normalized:!1},[f.EncodingType.R8_UNSIGNED]:{dataType:t.DataType.UNSIGNED_BYTE,bytesPerElement:1,count:1,normalized:!1},[f.EncodingType.R16_SIGNED]:{dataType:t.DataType.SHORT,bytesPerElement:2,count:1,normalized:!1},[f.EncodingType.R16_UNSIGNED]:{dataType:t.DataType.UNSIGNED_SHORT,bytesPerElement:2,count:1,normalized:!1},[f.EncodingType.R8G8_SIGNED]:{dataType:t.DataType.BYTE,bytesPerElement:1,
count:2,normalized:!1},[f.EncodingType.R8G8_UNSIGNED]:{dataType:t.DataType.UNSIGNED_BYTE,bytesPerElement:1,count:2,normalized:!1},[f.EncodingType.R16G16_SIGNED]:{dataType:t.DataType.SHORT,bytesPerElement:2,count:2,normalized:!1},[f.EncodingType.R16G16_UNSIGNED]:{dataType:t.DataType.UNSIGNED_SHORT,bytesPerElement:2,count:2,normalized:!1},[f.EncodingType.R8G8B8A8_SIGNED]:{dataType:t.DataType.BYTE,bytesPerElement:1,count:4,normalized:!1},[f.EncodingType.R8G8B8A8_UNSIGNED]:{dataType:t.DataType.UNSIGNED_BYTE,
bytesPerElement:1,count:4,normalized:!1},[f.EncodingType.R8G8B8A8_COLOR]:{dataType:t.DataType.UNSIGNED_BYTE,bytesPerElement:1,count:4,normalized:!0},[f.EncodingType.R16G16B16A16_DASHARRAY]:{dataType:t.DataType.UNSIGNED_SHORT,bytesPerElement:2,count:4,normalized:!1},[f.EncodingType.R16G16B16A16_PATTERN]:{dataType:t.DataType.UNSIGNED_SHORT,bytesPerElement:2,count:4,normalized:!1}};const d=l=>{switch(l){case t.DataType.FLOAT:return 4;case t.DataType.INT:return 4;case t.DataType.UNSIGNED_INT:return 4;
case t.DataType.SHORT:return 2;case t.DataType.UNSIGNED_SHORT:return 2;case t.DataType.BYTE:return 1;case t.DataType.UNSIGNED_BYTE:return 1}},e=(l,g,c)=>{g/=c;if(1===l)switch(g){case 0:return".x";case 1:return".y";case 2:return".z";case 3:return".w"}else if(2===l)switch(g){case 0:return".xy";case 1:return".yz";case 2:return".zw"}else if(3===l)switch(g){case 0:return".xyz";case 1:return".yzw"}return""};a.VTLMaterial=p;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/views/2d/engine/vectorTiles/shaders/enums":function(){define(["exports"],function(a){a.EncodingType=void 0;(function(b){b[b.R8_SIGNED=0]="R8_SIGNED";b[b.R8_UNSIGNED=1]="R8_UNSIGNED";b[b.R16_SIGNED=2]="R16_SIGNED";b[b.R16_UNSIGNED=3]="R16_UNSIGNED";b[b.R8G8_SIGNED=4]="R8G8_SIGNED";b[b.R8G8_UNSIGNED=5]="R8G8_UNSIGNED";b[b.R16G16_SIGNED=6]="R16G16_SIGNED";b[b.R16G16_UNSIGNED=7]="R16G16_UNSIGNED";b[b.R8G8B8A8_SIGNED=8]="R8G8B8A8_SIGNED";b[b.R8G8B8A8_UNSIGNED=9]="R8G8B8A8_UNSIGNED";b[b.R8G8B8A8_COLOR=
10]="R8G8B8A8_COLOR";b[b.R16G16B16A16_DASHARRAY=11]="R16G16B16A16_DASHARRAY";b[b.R16G16B16A16_PATTERN=12]="R16G16B16A16_PATTERN"})(a.EncodingType||(a.EncodingType={}));a.AttributeStatus=void 0;(function(b){b[b.UNIFORM=0]="UNIFORM";b[b.DATA_DRIVEN=1]="DATA_DRIVEN";b[b.INTERPOLATED_DATA_DRIVEN=2]="INTERPOLATED_DATA_DRIVEN";b[b.UNUSED=3]="UNUSED"})(a.AttributeStatus||(a.AttributeStatus={}));Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/webgl/enums":function(){define(["exports"],
function(a){a.ClearBufferBit=void 0;(function(b){b[b.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT";b[b.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT";b[b.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT"})(a.ClearBufferBit||(a.ClearBufferBit={}));a.PrimitiveType=void 0;(function(b){b[b.POINTS=0]="POINTS";b[b.LINES=1]="LINES";b[b.LINE_LOOP=2]="LINE_LOOP";b[b.LINE_STRIP=3]="LINE_STRIP";b[b.TRIANGLES=4]="TRIANGLES";b[b.TRIANGLE_STRIP=5]="TRIANGLE_STRIP";b[b.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(a.PrimitiveType||(a.PrimitiveType=
{}));a.BlendFactor=void 0;(function(b){b[b.ZERO=0]="ZERO";b[b.ONE=1]="ONE";b[b.SRC_COLOR=768]="SRC_COLOR";b[b.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR";b[b.SRC_ALPHA=770]="SRC_ALPHA";b[b.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA";b[b.DST_ALPHA=772]="DST_ALPHA";b[b.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA";b[b.DST_COLOR=774]="DST_COLOR";b[b.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR";b[b.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE";b[b.CONSTANT_COLOR=32769]="CONSTANT_COLOR";b[b.ONE_MINUS_CONSTANT_COLOR=
32770]="ONE_MINUS_CONSTANT_COLOR";b[b.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA";b[b.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA"})(a.BlendFactor||(a.BlendFactor={}));a.BlendOperation=void 0;(function(b){b[b.ADD=32774]="ADD";b[b.SUBTRACT=32778]="SUBTRACT";b[b.REVERSE_SUBTRACT=32779]="REVERSE_SUBTRACT"})(a.BlendOperation||(a.BlendOperation={}));a.BufferType=void 0;(function(b){b[b.ARRAY_BUFFER=34962]="ARRAY_BUFFER";b[b.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER";b[b.UNIFORM_BUFFER=
35345]="UNIFORM_BUFFER";b[b.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER";b[b.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER";b[b.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER";b[b.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER"})(a.BufferType||(a.BufferType={}));a.Face=void 0;(function(b){b[b.FRONT=1028]="FRONT";b[b.BACK=1029]="BACK";b[b.FRONT_AND_BACK=1032]="FRONT_AND_BACK"})(a.Face||(a.Face={}));a.CullMode=void 0;(function(b){b[b.CW=2304]="CW";b[b.CCW=2305]="CCW"})(a.CullMode||(a.CullMode={}));a.DataType=
void 0;(function(b){b[b.BYTE=5120]="BYTE";b[b.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE";b[b.SHORT=5122]="SHORT";b[b.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT";b[b.INT=5124]="INT";b[b.UNSIGNED_INT=5125]="UNSIGNED_INT";b[b.FLOAT=5126]="FLOAT"})(a.DataType||(a.DataType={}));a.CompareFunction=void 0;(function(b){b[b.NEVER=512]="NEVER";b[b.LESS=513]="LESS";b[b.EQUAL=514]="EQUAL";b[b.LEQUAL=515]="LEQUAL";b[b.GREATER=516]="GREATER";b[b.NOTEQUAL=517]="NOTEQUAL";b[b.GEQUAL=518]="GEQUAL";b[b.ALWAYS=519]="ALWAYS"})(a.CompareFunction||
(a.CompareFunction={}));a.StencilOperation=void 0;(function(b){b[b.ZERO=0]="ZERO";b[b.KEEP=7680]="KEEP";b[b.REPLACE=7681]="REPLACE";b[b.INCR=7682]="INCR";b[b.DECR=7683]="DECR";b[b.INVERT=5386]="INVERT";b[b.INCR_WRAP=34055]="INCR_WRAP";b[b.DECR_WRAP=34056]="DECR_WRAP"})(a.StencilOperation||(a.StencilOperation={}));a.TextureSamplingMode=void 0;(function(b){b[b.NEAREST=9728]="NEAREST";b[b.LINEAR=9729]="LINEAR";b[b.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST";b[b.LINEAR_MIPMAP_NEAREST=9985]=
"LINEAR_MIPMAP_NEAREST";b[b.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR";b[b.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR"})(a.TextureSamplingMode||(a.TextureSamplingMode={}));a.TextureWrapMode=void 0;(function(b){b[b.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE";b[b.REPEAT=10497]="REPEAT";b[b.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(a.TextureWrapMode||(a.TextureWrapMode={}));a.TextureType=void 0;(function(b){b[b.TEXTURE_2D=3553]="TEXTURE_2D";b[b.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP";b[b.TEXTURE_3D=
32879]="TEXTURE_3D";b[b.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X";b[b.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X";b[b.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y";b[b.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y";b[b.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z";b[b.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z";b[b.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY"})(a.TextureType||(a.TextureType=
{}));a.PixelFormat=void 0;(function(b){b[b.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT";b[b.DEPTH_STENCIL=34041]="DEPTH_STENCIL";b[b.ALPHA=6406]="ALPHA";b[b.RGB=6407]="RGB";b[b.RGBA=6408]="RGBA";b[b.LUMINANCE=6409]="LUMINANCE";b[b.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA";b[b.RED=6403]="RED";b[b.RG=33319]="RG";b[b.RED_INTEGER=36244]="RED_INTEGER";b[b.RG_INTEGER=33320]="RG_INTEGER";b[b.RGB_INTEGER=36248]="RGB_INTEGER";b[b.RGBA_INTEGER=36249]="RGBA_INTEGER"})(a.PixelFormat||(a.PixelFormat={}));a.SizedPixelFormat=
void 0;(function(b){b[b.RGBA4=32854]="RGBA4";b[b.R16F=33325]="R16F";b[b.RG16F=33327]="RG16F";b[b.RGB32F=34837]="RGB32F";b[b.RGBA16F=34842]="RGBA16F";b[b.R32F=33326]="R32F";b[b.RG32F=33328]="RG32F";b[b.RGBA32F=34836]="RGBA32F";b[b.R11F_G11F_B10F=35898]="R11F_G11F_B10F";b[b.RGB8=32849]="RGB8";b[b.RGBA8=32856]="RGBA8";b[b.RGB5_A1=32855]="RGB5_A1";b[b.R8=33321]="R8";b[b.RG8=33323]="RG8";b[b.R8I=33329]="R8I";b[b.R8UI=33330]="R8UI";b[b.R16I=33331]="R16I";b[b.R16UI=33332]="R16UI";b[b.R32I=33333]="R32I";
b[b.R32UI=33334]="R32UI";b[b.RG8I=33335]="RG8I";b[b.RG8UI=33336]="RG8UI";b[b.RG16I=33337]="RG16I";b[b.RG16UI=33338]="RG16UI";b[b.RG32I=33339]="RG32I";b[b.RG32UI=33340]="RG32UI";b[b.RGB16F=34843]="RGB16F";b[b.RGB9_E5=35901]="RGB9_E5";b[b.SRGB8=35905]="SRGB8";b[b.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8";b[b.RGB565=36194]="RGB565";b[b.RGBA32UI=36208]="RGBA32UI";b[b.RGB32UI=36209]="RGB32UI";b[b.RGBA16UI=36214]="RGBA16UI";b[b.RGB16UI=36215]="RGB16UI";b[b.RGBA8UI=36220]="RGBA8UI";b[b.RGB8UI=36221]="RGB8UI";b[b.RGBA32I=
36226]="RGBA32I";b[b.RGB32I=36227]="RGB32I";b[b.RGBA16I=36232]="RGBA16I";b[b.RGB16I=36233]="RGB16I";b[b.RGBA8I=36238]="RGBA8I";b[b.RGB8I=36239]="RGB8I";b[b.R8_SNORM=36756]="R8_SNORM";b[b.RG8_SNORM=36757]="RG8_SNORM";b[b.RGB8_SNORM=36758]="RGB8_SNORM";b[b.RGBA8_SNORM=36759]="RGBA8_SNORM";b[b.RGB10_A2=32857]="RGB10_A2";b[b.RGB10_A2UI=36975]="RGB10_A2UI"})(a.SizedPixelFormat||(a.SizedPixelFormat={}));a.PixelType=void 0;(function(b){b[b.FLOAT=5126]="FLOAT";b[b.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE";b[b.UNSIGNED_INT_24_8=
34042]="UNSIGNED_INT_24_8";b[b.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4";b[b.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1";b[b.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5";b[b.BYTE=5120]="BYTE";b[b.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT";b[b.SHORT=5122]="SHORT";b[b.UNSIGNED_INT=5125]="UNSIGNED_INT";b[b.INT=5124]="INT";b[b.HALF_FLOAT=5131]="HALF_FLOAT";b[b.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV";b[b.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV";
b[b.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV";b[b.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV"})(a.PixelType||(a.PixelType={}));a.RenderbufferFormat=void 0;(function(b){b[b.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16";b[b.STENCIL_INDEX8=36168]="STENCIL_INDEX8";b[b.DEPTH_STENCIL=34041]="DEPTH_STENCIL";b[b.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24";b[b.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F";b[b.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8";b[b.DEPTH32F_STENCIL8=
36013]="DEPTH32F_STENCIL8"})(a.RenderbufferFormat||(a.RenderbufferFormat={}));a.Usage=void 0;(function(b){b[b.STATIC_DRAW=35044]="STATIC_DRAW";b[b.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW";b[b.STREAM_DRAW=35040]="STREAM_DRAW";b[b.STATIC_READ=35045]="STATIC_READ";b[b.DYNAMIC_READ=35049]="DYNAMIC_READ";b[b.STREAM_READ=35041]="STREAM_READ";b[b.STATIC_COPY=35046]="STATIC_COPY";b[b.DYNAMIC_COPY=35050]="DYNAMIC_COPY";b[b.STREAM_COPY=35042]="STREAM_COPY"})(a.Usage||(a.Usage={}));a.ShaderType=void 0;(function(b){b[b.FRAGMENT_SHADER=
35632]="FRAGMENT_SHADER";b[b.VERTEX_SHADER=35633]="VERTEX_SHADER"})(a.ShaderType||(a.ShaderType={}));a.FramebufferTarget=void 0;(function(b){b[b.FRAMEBUFFER=36160]="FRAMEBUFFER";b[b.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER";b[b.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER"})(a.FramebufferTarget||(a.FramebufferTarget={}));a.TargetType=void 0;(function(b){b[b.TEXTURE=0]="TEXTURE";b[b.RENDER_BUFFER=1]="RENDER_BUFFER";b[b.CUBEMAP=2]="CUBEMAP"})(a.TargetType||(a.TargetType={}));a.DepthStencilTargetType=
void 0;(function(b){b[b.NONE=0]="NONE";b[b.DEPTH_RENDER_BUFFER=1]="DEPTH_RENDER_BUFFER";b[b.STENCIL_RENDER_BUFFER=2]="STENCIL_RENDER_BUFFER";b[b.DEPTH_STENCIL_RENDER_BUFFER=3]="DEPTH_STENCIL_RENDER_BUFFER";b[b.DEPTH_STENCIL_TEXTURE=4]="DEPTH_STENCIL_TEXTURE"})(a.DepthStencilTargetType||(a.DepthStencilTargetType={}));a.ResourceType=void 0;(function(b){b[b.Texture=0]="Texture";b[b.BufferObject=1]="BufferObject";b[b.VertexArrayObject=2]="VertexArrayObject";b[b.Shader=3]="Shader";b[b.Program=4]="Program";
b[b.FramebufferObject=5]="FramebufferObject";b[b.Renderbuffer=6]="Renderbuffer";b[b.Sync=7]="Sync";b[b.COUNT=8]="COUNT"})(a.ResourceType||(a.ResourceType={}));a.ColorAttachment=void 0;(function(b){b[b.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0";b[b.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1";b[b.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2";b[b.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3";b[b.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4";b[b.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5";b[b.COLOR_ATTACHMENT6=
36070]="COLOR_ATTACHMENT6";b[b.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7";b[b.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8";b[b.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9";b[b.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10";b[b.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11";b[b.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12";b[b.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13";b[b.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14";b[b.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15"})(a.ColorAttachment||
(a.ColorAttachment={}));a.CompressedTextureFormat=void 0;(function(b){b[b.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT";b[b.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT";b[b.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT";b[b.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT";b[b.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC";b[b.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC";b[b.COMPRESSED_RG11_EAC=37490]=
"COMPRESSED_RG11_EAC";b[b.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC";b[b.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2";b[b.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2";b[b.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2";b[b.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2";b[b.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC";b[b.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]=
"COMPRESSED_SRGB8_ALPHA8_ETC2_EAC"})(a.CompressedTextureFormat||(a.CompressedTextureFormat={}));a.UniformType=void 0;(function(b){b[b.FLOAT=5126]="FLOAT";b[b.FLOAT_VEC2=35664]="FLOAT_VEC2";b[b.FLOAT_VEC3=35665]="FLOAT_VEC3";b[b.FLOAT_VEC4=35666]="FLOAT_VEC4";b[b.INT=5124]="INT";b[b.INT_VEC2=35667]="INT_VEC2";b[b.INT_VEC3=35668]="INT_VEC3";b[b.INT_VEC4=35669]="INT_VEC4";b[b.BOOL=35670]="BOOL";b[b.BOOL_VEC2=35671]="BOOL_VEC2";b[b.BOOL_VEC3=35672]="BOOL_VEC3";b[b.BOOL_VEC4=35673]="BOOL_VEC4";b[b.FLOAT_MAT2=
35674]="FLOAT_MAT2";b[b.FLOAT_MAT3=35675]="FLOAT_MAT3";b[b.FLOAT_MAT4=35676]="FLOAT_MAT4";b[b.SAMPLER_2D=35678]="SAMPLER_2D";b[b.SAMPLER_CUBE=35680]="SAMPLER_CUBE";b[b.UNSIGNED_INT=5125]="UNSIGNED_INT";b[b.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2";b[b.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3";b[b.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4";b[b.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3";b[b.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4";b[b.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2";b[b.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4";
b[b.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2";b[b.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3";b[b.SAMPLER_3D=35679]="SAMPLER_3D";b[b.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW";b[b.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY";b[b.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW";b[b.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW";b[b.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D";b[b.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D";b[b.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE";b[b.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY";
b[b.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D";b[b.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D";b[b.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE";b[b.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY"})(a.UniformType||(a.UniformType={}));a.SyncParameter=void 0;(function(b){b[b.OBJECT_TYPE=37138]="OBJECT_TYPE";b[b.SYNC_CONDITION=37139]="SYNC_CONDITION";b[b.SYNC_STATUS=37140]="SYNC_STATUS";b[b.SYNC_FLAGS=37141]="SYNC_FLAGS"})(a.SyncParameter||
(a.SyncParameter={}));a.SyncStatus=void 0;(function(b){b[b.UNSIGNALED=37144]="UNSIGNALED";b[b.SIGNALED=37145]="SIGNALED"})(a.SyncStatus||(a.SyncStatus={}));a.ClientWaitSyncStatus=void 0;(function(b){b[b.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED";b[b.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED";b[b.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED";b[b.WAIT_FAILED=37149]="WAIT_FAILED"})(a.ClientWaitSyncStatus||(a.ClientWaitSyncStatus={}));a.SyncCondition=void 0;(function(b){b[b.SYNC_GPU_COMMANDS_COMPLETE=
37143]="SYNC_GPU_COMMANDS_COMPLETE"})(a.SyncCondition||(a.SyncCondition={}));a.SyncFlag=void 0;(function(b){b[b.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT"})(a.SyncFlag||(a.SyncFlag={}));a.BASE_TEXTURE_UNIT=33984;a.DepthStencilAttachment=33306;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/webgl/VertexElementDescriptor":function(){define(["exports"],function(a){a.VertexElementDescriptor=function(b,C,w,f,t,k=!1,p=0){this.name=b;this.count=
C;this.type=w;this.offset=f;this.stride=t;this.normalized=k;this.divisor=p};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/engine/vectorTiles/shaders/VTLCircleMaterial":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ./enums ./VTLMaterial ../../../../webgl/enums ../../../../webgl/VertexElementDescriptor".split(" "),function(a,b,C,w,f,t){w=function(k){function p(e){return k.call(this,e)||this}b._inheritsLoose(p,
k);var d=p.prototype;d.geometryInfo=function(){return p.GEOMETRY_LAYOUT};d.opacityInfo=function(){return null};d.attributes=function(){return p.ATTRIBUTES};d.attributesInfo=function(){return p.ATTRIBUTES_INFO};return p}(w.VTLMaterial);w.ATTRIBUTES="circle-radius circle-color circle-opacity circle-stroke-width circle-stroke-color circle-stroke-opacity circle-blur".split(" ");w.GEOMETRY_LAYOUT=[new t.VertexElementDescriptor("a_pos",2,f.DataType.SHORT,0,4)];w.ATTRIBUTES_INFO={"circle-radius":{name:"radius",
type:C.EncodingType.R8_UNSIGNED},"circle-color":{name:"color",type:C.EncodingType.R8G8B8A8_COLOR},"circle-opacity":{name:"opacity",type:C.EncodingType.R8_UNSIGNED,precisionFactor:100},"circle-stroke-width":{name:"stroke_width",type:C.EncodingType.R8_UNSIGNED,precisionFactor:4},"circle-stroke-color":{name:"stroke_color",type:C.EncodingType.R8G8B8A8_COLOR},"circle-stroke-opacity":{name:"stroke_opacity",type:C.EncodingType.R8_UNSIGNED,precisionFactor:100},"circle-blur":{name:"blur",type:C.EncodingType.R8_UNSIGNED,
precisionFactor:32}};a.VTLCircleMaterial=w;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/engine/vectorTiles/shaders/VTLFillMaterial":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ./enums ./VTLMaterial ../../../../webgl/enums ../../../../webgl/VertexElementDescriptor".split(" "),function(a,b,C,w,f,t){let k=function(p){function d(l){return p.call(this,l)||this}b._inheritsLoose(d,p);var e=d.prototype;e.geometryInfo=
function(){return d.GEOMETRY_LAYOUT};e.opacityInfo=function(){return null};e.attributes=function(){return d.ATTRIBUTES};e.attributesInfo=function(){return d.ATTRIBUTES_INFO};return d}(w.VTLMaterial);k.ATTRIBUTES=["fill-color","fill-opacity","fill-pattern"];k.GEOMETRY_LAYOUT=[new t.VertexElementDescriptor("a_pos",2,f.DataType.SHORT,0,4)];k.ATTRIBUTES_INFO={"fill-color":{name:"color",type:C.EncodingType.R8G8B8A8_COLOR},"fill-opacity":{name:"opacity",type:C.EncodingType.R8_UNSIGNED,precisionFactor:100},
"fill-pattern":{name:"tlbr",type:C.EncodingType.R16G16B16A16_PATTERN,isOptional:!0}};w=function(p){function d(l,g){l=p.call(this,l)||this;l._usefillColor=g;return l}b._inheritsLoose(d,p);var e=d.prototype;e.geometryInfo=function(){return d.GEOMETRY_LAYOUT};e.opacityInfo=function(){return null};e.attributes=function(){return this._usefillColor?d.ATTRIBUTES_FILL:d.ATTRIBUTES_OUTLINE};e.attributesInfo=function(){return this._usefillColor?d.ATTRIBUTES_INFO_FILL:d.ATTRIBUTES_INFO_OUTLINE};return d}(w.VTLMaterial);
w.ATTRIBUTES_OUTLINE=["fill-outline-color","fill-opacity"];w.ATTRIBUTES_FILL=["fill-color","fill-opacity"];w.GEOMETRY_LAYOUT=[new t.VertexElementDescriptor("a_pos",2,f.DataType.SHORT,0,8),new t.VertexElementDescriptor("a_offset",2,f.DataType.BYTE,4,8),new t.VertexElementDescriptor("a_xnormal",2,f.DataType.BYTE,6,8)];w.ATTRIBUTES_INFO_OUTLINE={"fill-outline-color":{name:"color",type:C.EncodingType.R8G8B8A8_COLOR},"fill-opacity":{name:"opacity",type:C.EncodingType.R8_UNSIGNED,precisionFactor:100}};
w.ATTRIBUTES_INFO_FILL={"fill-color":{name:"color",type:C.EncodingType.R8G8B8A8_COLOR},"fill-opacity":{name:"opacity",type:C.EncodingType.R8_UNSIGNED,precisionFactor:100}};a.VTLFillMaterial=k;a.VTLOutlineMaterial=w;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/engine/vectorTiles/shaders/VTLLineMaterial":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ./enums ./VTLMaterial ../../../../webgl/enums ../../../../webgl/VertexElementDescriptor".split(" "),
function(a,b,C,w,f,t){w=function(k){function p(e){return k.call(this,e)||this}b._inheritsLoose(p,k);var d=p.prototype;d.geometryInfo=function(){return p.GEOMETRY_LAYOUT};d.opacityInfo=function(){return null};d.attributes=function(){return p.ATTRIBUTES};d.attributesInfo=function(){return p.ATTRIBUTES_INFO};return p}(w.VTLMaterial);w.ATTRIBUTES="line-blur line-color line-gap-width line-offset line-opacity line-width line-pattern line-dasharray".split(" ");w.GEOMETRY_LAYOUT=[new t.VertexElementDescriptor("a_pos",
2,f.DataType.SHORT,0,16),new t.VertexElementDescriptor("a_extrude_offset",4,f.DataType.BYTE,4,16),new t.VertexElementDescriptor("a_dir_normal",4,f.DataType.BYTE,8,16),new t.VertexElementDescriptor("a_accumulatedDistance",2,f.DataType.UNSIGNED_SHORT,12,16)];w.ATTRIBUTES_INFO={"line-width":{name:"width",type:C.EncodingType.R8_UNSIGNED,precisionFactor:2},"line-gap-width":{name:"gap_width",type:C.EncodingType.R8_UNSIGNED,precisionFactor:2},"line-offset":{name:"offset",type:C.EncodingType.R8_SIGNED,precisionFactor:2},
"line-color":{name:"color",type:C.EncodingType.R8G8B8A8_COLOR},"line-opacity":{name:"opacity",type:C.EncodingType.R8_UNSIGNED,precisionFactor:100},"line-blur":{name:"blur",type:C.EncodingType.R8_UNSIGNED,precisionFactor:4},"line-pattern":{name:"tlbr",type:C.EncodingType.R16G16B16A16_PATTERN,isOptional:!0},"line-dasharray":{name:"tlbr",type:C.EncodingType.R16G16B16A16_DASHARRAY,isOptional:!0}};a.VTLLineMaterial=w;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/views/2d/engine/vectorTiles/shaders/VTLSymbolMaterial":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ./enums ./VTLMaterial ../../../../webgl/enums ../../../../webgl/VertexElementDescriptor".split(" "),function(a,b,C,w,f,t){const k=[new t.VertexElementDescriptor("a_pos",2,f.DataType.SHORT,0,16),new t.VertexElementDescriptor("a_vertexOffset",2,f.DataType.SHORT,4,16),new t.VertexElementDescriptor("a_texAngleRange",4,f.DataType.UNSIGNED_BYTE,8,16),new t.VertexElementDescriptor("a_levelInfo",
4,f.DataType.UNSIGNED_BYTE,12,16)],p=[new t.VertexElementDescriptor("a_opacityInfo",1,f.DataType.UNSIGNED_BYTE,0,1)];f=function(d){function e(g){return d.call(this,g)||this}b._inheritsLoose(e,d);var l=e.prototype;l.geometryInfo=function(){return k};l.opacityInfo=function(){return p};l.attributes=function(){return e.ATTRIBUTES};l.attributesInfo=function(){return e.ATTRIBUTES_INFO};return e}(w.VTLMaterial);f.ATTRIBUTES="icon-color icon-opacity icon-halo-blur icon-halo-color icon-halo-width icon-size".split(" ");
f.ATTRIBUTES_INFO={"icon-color":{name:"color",type:C.EncodingType.R8G8B8A8_COLOR},"icon-opacity":{name:"opacity",type:C.EncodingType.R8_UNSIGNED,precisionFactor:100},"icon-halo-color":{name:"halo_color",type:C.EncodingType.R8G8B8A8_COLOR},"icon-halo-width":{name:"halo_width",type:C.EncodingType.R8_UNSIGNED,precisionFactor:4},"icon-halo-blur":{name:"halo_blur",type:C.EncodingType.R8_UNSIGNED,precisionFactor:4},"icon-size":{name:"size",type:C.EncodingType.R8_UNSIGNED,precisionFactor:32,isLayout:!0}};
w=function(d){function e(g){return d.call(this,g)||this}b._inheritsLoose(e,d);var l=e.prototype;l.geometryInfo=function(){return k};l.opacityInfo=function(){return p};l.attributes=function(){return e.ATTRIBUTES};l.attributesInfo=function(){return e.ATTRIBUTES_INFO};return e}(w.VTLMaterial);w.ATTRIBUTES="text-color text-opacity text-halo-blur text-halo-color text-halo-width text-size".split(" ");w.ATTRIBUTES_INFO={"text-color":{name:"color",type:C.EncodingType.R8G8B8A8_COLOR},"text-opacity":{name:"opacity",
type:C.EncodingType.R8_UNSIGNED,precisionFactor:100},"text-halo-color":{name:"halo_color",type:C.EncodingType.R8G8B8A8_COLOR},"text-halo-width":{name:"halo_width",type:C.EncodingType.R8_UNSIGNED,precisionFactor:4},"text-halo-blur":{name:"halo_blur",type:C.EncodingType.R8_UNSIGNED,precisionFactor:4},"text-size":{name:"size",type:C.EncodingType.R8_UNSIGNED,isLayout:!0}};a.VTLIconMaterial=f;a.VTLTextMaterial=w;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/views/2d/engine/vectorTiles/style/Filter":function(){define(["../expression/expression","../expression/types"],function(a,b){return function(){function C(w){this._expression=w}C.prototype.filter=function(w,f){if(!this._expression)return!0;try{return this._expression.evaluate(w,f)}catch(t){return console.log(t.message),!0}};C.createFilter=function(w){if(!w)return null;this.isLegacyFilter(w)&&(w=this.convertLegacyFilter(w));try{const f=a.createExpression(w,null,b.BooleanType);return new C(f)}catch(f){return console.log(f.message),
null}};C.isLegacyFilter=function(w){if(!Array.isArray(w)||0===w.length)return!0;switch(w[0]){case "\x3d\x3d":case "!\x3d":case "\x3e":case "\x3c":case "\x3e\x3d":case "\x3c\x3d":return 3===w.length&&"string"===typeof w[1]&&!Array.isArray(w[2]);case "in":return 3<=w.length&&"string"===typeof w[1]&&!Array.isArray(w[2]);case "!in":return!0;case "any":case "all":for(let f=1;f<w.length;f++)if(this.isLegacyFilter(w[f]))return!0;return!1;case "none":return!0;case "has":return 2===w.length&&("$id"===w[1]||
"$type"===w[1]);case "!has":return!0;default:return!1}};C.convertLegacyFilter=function(w){if(!Array.isArray(w)||0===w.length)return!0;const f=w[0];if(1===w.length)return"any"!==f;switch(f){case "\x3d\x3d":return C.convertComparison("\x3d\x3d",w[1],w[2]);case "!\x3d":return C.negate(C.convertComparison("\x3d\x3d",w[1],w[2]));case "\x3e":case "\x3c":case "\x3e\x3d":case "\x3c\x3d":return C.convertComparison(f,w[1],w[2]);case "in":return C.convertIn(w[1],w.slice(2));case "!in":return C.negate(C.convertIn(w[1],
w.slice(2)));case "any":case "all":case "none":return C.convertCombining(f,w.slice(1));case "has":return C.convertHas(w[1]);case "!has":return C.negate(C.convertHas(w[1]));default:throw Error("Unexpected legacy filter.");}};C.convertComparison=function(w,f,t){switch(f){case "$type":return[w,["geometry-type"],t];case "$id":return[w,["id"],t];default:return[w,["get",f],t]}};C.convertIn=function(w,f){switch(w){case "$type":return["in",["geometry-type"],["literal",f]];case "$id":return["in",["id"],["literal",
f]];default:return["in",["get",w],["literal",f]]}};C.convertHas=function(w){switch(w){case "$type":return!0;case "$id":return["has-id"];default:return["has",w]}};C.convertCombining=function(w,f){return[w].concat(f.map(this.convertLegacyFilter))};C.negate=function(w){return["!",w]};return C}()})},"esri/views/2d/engine/vectorTiles/expression/expression":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../Color ../../../../../core/colorUtils ../../../unitBezier ../GeometryUtils ./types ../../webgl/Geometry".split(" "),
function(a,b,C,w,f,t,k,p){function d(L,G,N){var U=typeof L;if("string"===U||"boolean"===U||"number"===U||null===L){if(N)switch(N.kind){case "string":"string"!==U&&(L=wa.toString(L));break;case "number":"number"!==U&&(L=wa.toNumber(L));break;case "color":L=wa.toColor(L)}L=["literal",L]}if(!Array.isArray(L)||0===L.length)throw Error("Expression must be a non empty array");U=L[0];if("string"!==typeof U)throw Error("First element of expression must be a string");const Y=W[U];if(void 0===Y)throw Error(`Invalid expression operator "${U}"`);
if(!Y)throw Error(`Unimplemented expression operator "${U}"`);return Y.parse(L,G,N)}let e=function(){function L(N){this._parent=N;this._vars={}}var G=L.prototype;G.add=function(N,U){this._vars[N]=U};G.get=function(N){return this._vars[N]?this._vars[N]:this._parent?this._parent.get(N):null};return L}(),l=function(){function L(){this.type=k.ValueType}L.parse=function(G){if(1<G.length)throw Error('"id" does not expect arguments');return new L};L.prototype.evaluate=function(G,N){return G?.id};return L}(),
g=function(){function L(){this.type=k.StringType}L.parse=function(G){if(1<G.length)throw Error('"geometry-type" does not expect arguments');return new L};L.prototype.evaluate=function(G,N){if(!G)return null;switch(G.type){case p.GeometryType.Point:return"Point";case p.GeometryType.LineString:return"LineString";case p.GeometryType.Polygon:return"Polygon";default:return null}};return L}(),c=function(){function L(){this.type=k.ObjectType}L.parse=function(G){if(1<G.length)throw Error('"properties" does not expect arguments');
return new L};L.prototype.evaluate=function(G,N){return G?.values};return L}(),m=function(){function L(){this.type=k.NumberType}L.parse=function(G){if(1<G.length)throw Error('"zoom" does not expect arguments');return new L};L.prototype.evaluate=function(G,N){return N};return L}(),u=function(){function L(G,N,U){this._lhs=G;this._rhs=N;this._compare=U;this.type=k.BooleanType}L.parse=function(G,N,U){if(3!==G.length&&4!==G.length)throw Error(`"${G[0]}" expects 2 or 3 arguments`);if(4===G.length)throw Error(`"${G[0]}" collator not supported`);
return new L(d(G[1],N),d(G[2],N),U)};L.prototype.evaluate=function(G,N){return this._compare(this._lhs.evaluate(G,N),this._rhs.evaluate(G,N))};return L}(),r=function(L){function G(){return L.apply(this,arguments)||this}b._inheritsLoose(G,L);G.parse=function(N,U){return u.parse(N,U,(Y,ha)=>Y===ha)};return G}(u),n=function(L){function G(){return L.apply(this,arguments)||this}b._inheritsLoose(G,L);G.parse=function(N,U){return u.parse(N,U,(Y,ha)=>Y!==ha)};return G}(u),h=function(L){function G(){return L.apply(this,
arguments)||this}b._inheritsLoose(G,L);G.parse=function(N,U){return u.parse(N,U,(Y,ha)=>Y<ha)};return G}(u),q=function(L){function G(){return L.apply(this,arguments)||this}b._inheritsLoose(G,L);G.parse=function(N,U){return u.parse(N,U,(Y,ha)=>Y<=ha)};return G}(u),D=function(L){function G(){return L.apply(this,arguments)||this}b._inheritsLoose(G,L);G.parse=function(N,U){return u.parse(N,U,(Y,ha)=>Y>ha)};return G}(u),v=function(L){function G(){return L.apply(this,arguments)||this}b._inheritsLoose(G,
L);G.parse=function(N,U){return u.parse(N,U,(Y,ha)=>Y>=ha)};return G}(u),z=function(){function L(G){this._arg=G;this.type=k.BooleanType}L.parse=function(G,N){if(2!==G.length)throw Error('"!" expects 1 argument');return new L(d(G[1],N))};L.prototype.evaluate=function(G,N){return!this._arg.evaluate(G,N)};return L}(),B=function(){function L(G){this._args=G;this.type=k.BooleanType}L.parse=function(G,N){const U=[];for(let Y=1;Y<G.length;Y++)U.push(d(G[Y],N));return new L(U)};L.prototype.evaluate=function(G,
N){for(const U of this._args)if(!U.evaluate(G,N))return!1;return!0};return L}(),E=function(){function L(G){this._args=G;this.type=k.BooleanType}L.parse=function(G,N){const U=[];for(let Y=1;Y<G.length;Y++)U.push(d(G[Y],N));return new L(U)};L.prototype.evaluate=function(G,N){for(const U of this._args)if(U.evaluate(G,N))return!0;return!1};return L}(),x=function(){function L(G){this._args=G;this.type=k.BooleanType}L.parse=function(G,N){const U=[];for(let Y=1;Y<G.length;Y++)U.push(d(G[Y],N));return new L(U)};
L.prototype.evaluate=function(G,N){for(const U of this._args)if(U.evaluate(G,N))return!1;return!0};return L}(),y=function(){function L(G,N,U){this.type=G;this._args=N;this._fallback=U}L.parse=function(G,N,U){if(4>G.length)throw Error('"case" expects at least 3 arguments');if(1===G.length%2)throw Error('"case" expects an odd number of arguments');let Y;const ha=[];for(let pa=1;pa<G.length-1;pa+=2){const za=d(G[pa],N),xa=d(G[pa+1],N,U);Y||(Y=xa.type);ha.push({condition:za,output:xa})}G=d(G[G.length-
1],N,U);Y||(Y=G.type);return new L(Y,ha,G)};L.prototype.evaluate=function(G,N){for(const U of this._args)if(U.condition.evaluate(G,N))return U.output.evaluate(G,N);return this._fallback.evaluate(G,N)};return L}(),A=function(){function L(G,N){this.type=G;this._args=N}L.parse=function(G,N){if(2>G.length)throw Error('"coalesce" expects at least 1 argument');let U;const Y=[];for(let ha=1;ha<G.length;ha++){const pa=d(G[ha],N);U||(U=pa.type);Y.push(pa)}return new L(U,Y)};L.prototype.evaluate=function(G,
N){for(const U of this._args){const Y=U.evaluate(G,N);if(null!==Y)return Y}return null};return L}(),F=function(){function L(G,N,U,Y,ha){this.type=G;this._input=N;this._labels=U;this._outputs=Y;this._fallback=ha}L.parse=function(G,N){if(3>G.length)throw Error('"match" expects at least 3 arguments');if(0===G.length%2)throw Error('"case" expects an even number of arguments');let U;const Y=d(G[1],N),ha=[],pa={};let za;for(let Ba=2;Ba<G.length-1;Ba+=2){var xa=G[Ba];Array.isArray(xa)||(xa=[xa]);for(const Da of xa){xa=
typeof Da;if("string"!==xa&&"number"!==xa)throw Error('"match" requires string or number literal as labels');if(!za)za=xa;else if(xa!==za)throw Error('"match" requires labels to have the same type');pa[Da]=ha.length}xa=d(G[Ba+1],N);U||(U=xa.type);ha.push(xa)}return new L(U,Y,pa,ha,d(G[G.length-1],N))};L.prototype.evaluate=function(G,N){const U=this._input.evaluate(G,N);return(this._outputs[this._labels[U]]||this._fallback).evaluate(G,N)};return L}(),K=function(){function L(N,U,Y,ha,pa){this._operator=
N;this.type=U;this.interpolation=Y;this.input=ha;this._stops=pa}L.parse=function(N,U,Y){const ha=N[0];if(5>N.length)throw Error(`"${ha}" expects at least 4 arguments`);const pa=N[1];if(!Array.isArray(pa)||0===pa.length)throw Error(`"${pa}" is not a valid interpolation`);switch(pa[0]){case "linear":if(1!==pa.length)throw Error("Linear interpolation cannot have parameters");break;case "exponential":if(2!==pa.length||"number"!==typeof pa[1])throw Error("Exponential interpolation requires one numeric argument");
break;case "cubic-bezier":if(5!==pa.length)throw Error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1");for(var za=1;5>za;za++){var xa=pa[za];if("number"!==typeof xa||0>xa||1<xa)throw Error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1");}break;default:throw Error(`"${N[0]}" unknown interpolation type "${pa[0]}"`);}if(1!==N.length%2)throw Error(`"${ha}" expects an even number of arguments`);za=d(N[2],U,k.NumberType);
let Ba;"interpolate-hcl"===ha||"interpolate-lab"===ha?Ba=k.ColorType:Y&&"value"!==Y.kind&&(Ba=Y);Y=[];for(xa=3;xa<N.length;xa+=2){const Da=N[xa];if("number"!==typeof Da)throw Error(`"${ha}" requires stop inputs as literal numbers`);if(Y.length&&Y[Y.length-1][0]>=Da)throw Error(`"${ha}" requires strictly ascending stop inputs`);const Ga=d(N[xa+1],U,Ba);Ba||(Ba=Ga.type);Y.push([Da,Ga])}if(Ba&&Ba!==k.ColorType&&Ba!==k.NumberType&&("array"!==Ba.kind||Ba.itemType!==k.NumberType))throw Error(`"${ha}" cannot interpolate type ${k.typeToString(Ba)}`);
return new L(ha,Ba,pa,za,Y)};var G=L.prototype;G.evaluate=function(N,U){var Y=this._stops;if(1===Y.length)return Y[0][1].evaluate(N,U);var ha=this.input.evaluate(N,U);if(ha<=Y[0][0])return Y[0][1].evaluate(N,U);if(ha>=Y[Y.length-1][0])return Y[Y.length-1][1].evaluate(N,U);let pa=0;for(;++pa<Y.length&&!(ha<Y[pa][0]););const za=L.interpolationRatio(this.interpolation,ha,Y[pa-1][0],Y[pa][0]);ha=Y[pa-1][1].evaluate(N,U);const xa=Y[pa][1].evaluate(N,U);if("interpolate"===this._operator){if("array"===this.type.kind&&
Array.isArray(ha)&&Array.isArray(xa))return ha.map((Ba,Da)=>t.interpolate(Ba,xa[Da],za));if("color"===this.type.kind&&ha instanceof C&&xa instanceof C)return ha=new C(ha),N=new C(xa),new C([t.interpolate(ha.r,N.r,za),t.interpolate(ha.g,N.g,za),t.interpolate(ha.b,N.b,za),t.interpolate(ha.a,N.a,za)]);if("number"===this.type.kind&&"number"===typeof ha&&"number"===typeof xa)return t.interpolate(ha,xa,za);throw Error(`"${this._operator}" cannot interpolate type ${k.typeToString(this.type)}`);}if("interpolate-hcl"===
this._operator)return N=w.toLCH(ha),U=w.toLCH(xa),Y=U.h-N.h,N=w.toRGB({h:N.h+za*(180<Y||-180>Y?Y-360*Math.round(Y/360):Y),c:t.interpolate(N.c,U.c,za),l:t.interpolate(N.l,U.l,za)}),new C({a:t.interpolate(ha.a,xa.a,za),...N});if("interpolate-lab"===this._operator)return N=w.toLAB(ha),U=w.toLAB(xa),N=w.toRGB({l:t.interpolate(N.l,U.l,za),a:t.interpolate(N.a,U.a,za),b:t.interpolate(N.b,U.b,za)}),new C({a:t.interpolate(ha.a,xa.a,za),...N});throw Error(`Unexpected operator "${this._operator}"`);};G.interpolationUniformValue=
function(N,U){const Y=this._stops;if(1===Y.length||N>=Y[Y.length-1][0])return 0;let ha=0;for(;++ha<Y.length&&!(N<Y[ha][0]););return L.interpolationRatio(this.interpolation,U,Y[ha-1][0],Y[ha][0])};G.getInterpolationRange=function(N){const U=this._stops;if(1===U.length)return N=U[0][0],[N,N];var Y=U[U.length-1][0];if(N>=Y)return[Y,Y];for(Y=0;++Y<U.length&&!(N<U[Y][0]););return[U[Y-1][0],U[Y][0]]};L.interpolationRatio=function(N,U,Y,ha){let pa=0;"linear"===N[0]?pa=L._exponentialInterpolationRatio(U,
1,Y,ha):"exponential"===N[0]?pa=L._exponentialInterpolationRatio(U,N[1],Y,ha):"cubic-bezier"===N[0]&&(pa=f.unitBezier(N[1],N[2],N[3],N[4])(L._exponentialInterpolationRatio(U,1,Y,ha),1E-5));0>pa?pa=0:1<pa&&(pa=1);return pa};L._exponentialInterpolationRatio=function(N,U,Y,ha){ha-=Y;if(0===ha)return 0;N-=Y;return 1===U?N/ha:(U**N-1)/(U**ha-1)};return L}(),M=function(){function L(G,N,U){this.type=G;this._input=N;this._stops=U}L.parse=function(G,N){if(5>G.length)throw Error('"step" expects at least 4 arguments');
if(1!==G.length%2)throw Error('"step" expects an even number of arguments');const U=d(G[1],N,k.NumberType);let Y;const ha=[];ha.push([-Infinity,d(G[2],N)]);for(let pa=3;pa<G.length;pa+=2){const za=G[pa];if("number"!==typeof za)throw Error('"step" requires stop inputs as literal numbers');if(ha.length&&ha[ha.length-1][0]>=za)throw Error('"step" requires strictly ascending stop inputs');const xa=d(G[pa+1],N);Y||(Y=xa.type);ha.push([za,xa])}return new L(Y,U,ha)};L.prototype.evaluate=function(G,N){const U=
this._stops;if(1===U.length)return U[0][1].evaluate(G,N);const Y=this._input.evaluate(G,N);let ha=0;for(;++ha<U.length&&!(Y<U[ha][0]););return this._stops[ha-1][1].evaluate(G,N)};return L}(),H=function(){function L(G,N){this.type=G;this._output=N}L.parse=function(G,N,U){if(4>G.length)throw Error('"let" expects at least 3 arguments');if(1===G.length%2)throw Error('"let" expects an odd number of arguments');const Y=new e(N);for(let ha=1;ha<G.length-1;ha+=2){const pa=G[ha];if("string"!==typeof pa)throw Error(`"let" requires a string to define variable names - found ${pa}`);
Y.add(pa,d(G[ha+1],N))}G=d(G[G.length-1],Y,U);return new L(G.type,G)};L.prototype.evaluate=function(G,N){return this._output.evaluate(G,N)};return L}(),I=function(){function L(G,N){this.type=G;this.output=N}L.parse=function(G,N,U){if(2!==G.length||"string"!==typeof G[1])throw Error('"var" requires just one literal string argument');N=N.get(G[1]);if(!N)throw Error(`${G[1]} must be defined before being used in a "var" expression`);return new L(U||k.ValueType,N)};L.prototype.evaluate=function(G,N){return this.output.evaluate(G,
N)};return L}(),J=function(){function L(G,N,U){this.type=G;this._index=N;this._array=U}L.parse=function(G,N){if(3!==G.length)throw Error('"at" expects 2 arguments');const U=d(G[1],N,k.NumberType);G=d(G[2],N);return new L(G.type.itemType,U,G)};L.prototype.evaluate=function(G,N){const U=this._index.evaluate(G,N);G=this._array.evaluate(G,N);if(0>U||U>=G.length)throw Error('"at" index out of bounds');if(U!==Math.floor(U))throw Error('"at" index must be an integer');return G[U]};return L}(),S=function(){function L(G,
N){this._key=G;this._obj=N;this.type=k.ValueType}L.parse=function(G,N){let U;switch(G.length){case 2:return U=d(G[1],N),new L(U);case 3:return U=d(G[1],N),G=d(G[2],N),new L(U,G);default:throw Error('"get" expects 1 or 2 arguments');}};L.prototype.evaluate=function(G,N){const U=this._key.evaluate(G,N);return this._obj?this._obj.evaluate(G,N)[U]:G?.values[U]};return L}(),V=function(){function L(G,N){this._key=G;this._obj=N;this.type=k.BooleanType}L.parse=function(G,N){let U;switch(G.length){case 2:return U=
d(G[1],N),new L(U);case 3:return U=d(G[1],N),G=d(G[2],N),new L(U,G);default:throw Error('"has" expects 1 or 2 arguments');}};L.prototype.evaluate=function(G,N){const U=this._key.evaluate(G,N);return this._obj?(G=this._obj.evaluate(G,N),U in G):!!G?.values[U]};return L}(),Z=function(){function L(G,N){this._key=G;this._vals=N;this.type=k.BooleanType}L.parse=function(G,N){if(3!==G.length)throw Error('"in" expects 2 arguments');return new L(d(G[1],N),d(G[2],N))};L.prototype.evaluate=function(G,N){const U=
this._key.evaluate(G,N);return this._vals.evaluate(G,N).includes(U)};return L}(),ba=function(){function L(G,N,U){this._item=G;this._array=N;this._from=U;this.type=k.NumberType}L.parse=function(G,N){if(3>G.length||4<G.length)throw Error('"index-of" expects 3 or 4 arguments');const U=d(G[1],N),Y=d(G[2],N);return 4===G.length?(G=d(G[3],N,k.NumberType),new L(U,Y,G)):new L(U,Y)};L.prototype.evaluate=function(G,N){const U=this._item.evaluate(G,N),Y=this._array.evaluate(G,N);if(this._from){G=this._from.evaluate(G,
N);if(G!==Math.floor(G))throw Error('"index-of" index must be an integer');return Y.indexOf(U,G)}return Y.indexOf(U)};return L}(),ia=function(){function L(G){this._arg=G;this.type=k.NumberType}L.parse=function(G,N){if(2!==G.length)throw Error('"length" expects 2 arguments');G=d(G[1],N);return new L(G)};L.prototype.evaluate=function(G,N){G=this._arg.evaluate(G,N);if("string"===typeof G||Array.isArray(G))return G.length;throw Error('"length" expects string or array');};return L}(),ea=function(){function L(G,
N,U,Y){this.type=G;this._array=N;this._from=U;this._to=Y}L.parse=function(G,N){if(3>G.length||4<G.length)throw Error('"slice" expects 2 or 3 arguments');const U=d(G[1],N),Y=d(G[2],N,k.NumberType);if(Y.type!==k.NumberType)throw Error('"slice" index must return a number');if(4===G.length){G=d(G[3],N,k.NumberType);if(G.type!==k.NumberType)throw Error('"slice" index must return a number');return new L(U.type,U,Y,G)}return new L(U.type,U,Y)};L.prototype.evaluate=function(G,N){const U=this._array.evaluate(G,
N);if(!Array.isArray(U)&&"string"!==typeof U)throw Error('"slice" input must be an array or a string');const Y=this._from.evaluate(G,N);if(0>Y||Y>=U.length)throw Error('"slice" index out of bounds');if(Y!==Math.floor(Y))throw Error('"slice" index must be an integer');if(this._to){G=this._to.evaluate(G,N);if(0>G||G>=U.length)throw Error('"slice" index out of bounds');if(G!==Math.floor(G))throw Error('"slice" index must be an integer');return U.slice(Y,G)}return U.slice(Y)};return L}(),ka=function(){function L(){this.type=
k.BooleanType}L.parse=function(G){if(1!==G.length)throw Error('"has-id" expects no arguments');return new L};L.prototype.evaluate=function(G,N){return G&&void 0!==G.id};return L}(),oa=function(){function L(G,N){this._args=G;this._calculate=N;this.type=k.NumberType}L.parse=function(G,N,U){G=G.slice(1).map(Y=>d(Y,N));return new L(G,U)};L.prototype.evaluate=function(G,N){let U;this._args&&(U=this._args.map(Y=>Y.evaluate(G,N)));return this._calculate(U)};return L}(),ua=function(L){function G(){return L.apply(this,
arguments)||this}b._inheritsLoose(G,L);G.parse=function(N,U){switch(N.length){case 2:return oa.parse(N,U,Y=>-Y[0]);case 3:return oa.parse(N,U,Y=>Y[0]-Y[1]);default:throw Error('"-" expects 1 or 2 arguments');}};return G}(oa),ra=function(L){function G(){return L.apply(this,arguments)||this}b._inheritsLoose(G,L);G.parse=function(N,U){return oa.parse(N,U,Y=>{let ha=1;for(const pa of Y)ha*=pa;return ha})};return G}(oa),qa=function(L){function G(){return L.apply(this,arguments)||this}b._inheritsLoose(G,
L);G.parse=function(N,U){if(3===N.length)return oa.parse(N,U,Y=>Y[0]/Y[1]);throw Error('"/" expects 2 arguments');};return G}(oa),P=function(L){function G(){return L.apply(this,arguments)||this}b._inheritsLoose(G,L);G.parse=function(N,U){if(3===N.length)return oa.parse(N,U,Y=>Y[0]%Y[1]);throw Error('"%" expects 2 arguments');};return G}(oa),R=function(L){function G(){return L.apply(this,arguments)||this}b._inheritsLoose(G,L);G.parse=function(N,U){if(3===N.length)return oa.parse(N,U,Y=>Y[0]**Y[1]);
throw Error('"^" expects 1 or 2 arguments');};return G}(oa),T=function(L){function G(){return L.apply(this,arguments)||this}b._inheritsLoose(G,L);G.parse=function(N,U){return oa.parse(N,U,Y=>{let ha=0;for(const pa of Y)ha+=pa;return ha})};return G}(oa),X=function(){function L(G,N){this._args=G;this._calculate=N;this.type=k.NumberType}L.parse=function(G,N){const U=G.slice(1).map(Y=>d(Y,N));return new L(U,L.ops[G[0]])};L.prototype.evaluate=function(G,N){let U;this._args&&(U=this._args.map(Y=>Y.evaluate(G,
N)));return this._calculate(U)};return L}();X.ops={abs:L=>Math.abs(L[0]),acos:L=>Math.acos(L[0]),asin:L=>Math.asin(L[0]),atan:L=>Math.atan(L[0]),ceil:L=>Math.ceil(L[0]),cos:L=>Math.cos(L[0]),e:()=>Math.E,floor:L=>Math.floor(L[0]),ln:L=>Math.log(L[0]),ln2:()=>Math.LN2,log10:L=>Math.log(L[0])/Math.LN10,log2:L=>Math.log(L[0])/Math.LN2,max:L=>Math.max(...L),min:L=>Math.min(...L),pi:()=>Math.PI,round:L=>Math.round(L[0]),sin:L=>Math.sin(L[0]),sqrt:L=>Math.sqrt(L[0]),tan:L=>Math.tan(L[0])};let ca=function(){function L(G){this._args=
G;this.type=k.StringType}L.parse=function(G,N){return new L(G.slice(1).map(U=>d(U,N)))};L.prototype.evaluate=function(G,N){return this._args.map(U=>U.evaluate(G,N)).join("")};return L}(),da=function(){function L(G,N){this._arg=G;this._calculate=N;this.type=k.StringType}L.parse=function(G,N){if(2!==G.length)throw Error(`${G[0]} expects 1 argument`);N=d(G[1],N);return new L(N,L.ops[G[0]])};L.prototype.evaluate=function(G,N){return this._calculate(this._arg.evaluate(G,N))};return L}();da.ops={downcase:L=>
L.toLowerCase(),upcase:L=>L.toUpperCase()};let ma=function(){function L(N){this._args=N;this.type=k.ColorType}L.parse=function(N,U){if(4!==N.length)throw Error('"rgb" expects 3 arguments');N=N.slice(1).map(Y=>d(Y,U));return new L(N)};var G=L.prototype;G.evaluate=function(N,U){const Y=this._validate(this._args[0].evaluate(N,U)),ha=this._validate(this._args[1].evaluate(N,U));N=this._validate(this._args[2].evaluate(N,U));return new C({r:Y,g:ha,b:N})};G._validate=function(N){if("number"!==typeof N||0>
N||255<N)throw Error(`${N}: invalid color component`);return Math.round(N)};return L}(),na=function(){function L(N){this._args=N;this.type=k.ColorType}L.parse=function(N,U){if(5!==N.length)throw Error('"rgba" expects 4 arguments');N=N.slice(1).map(Y=>d(Y,U));return new L(N)};var G=L.prototype;G.evaluate=function(N,U){const Y=this._validate(this._args[0].evaluate(N,U)),ha=this._validate(this._args[1].evaluate(N,U)),pa=this._validate(this._args[2].evaluate(N,U));N=this._validateAlpha(this._args[3].evaluate(N,
U));return new C({r:Y,g:ha,b:pa,a:N})};G._validate=function(N){if("number"!==typeof N||0>N||255<N)throw Error(`${N}: invalid color component`);return Math.round(N)};G._validateAlpha=function(N){if("number"!==typeof N||0>N||1<N)throw Error(`${N}: invalid alpha color component`);return N};return L}(),sa=function(){function L(G){this._color=G;this.type=k.arrayType(k.NumberType,4)}L.parse=function(G,N){if(2!==G.length)throw Error('"to-rgba" expects 1 argument');G=d(G[1],N);return new L(G)};L.prototype.evaluate=
function(G,N){return(new C(this._color.evaluate(G,N))).toRgba()};return L}(),ya=function(){function L(G,N){this.type=G;this._args=N}L.parse=function(G,N){var U=G[0];if(2>G.length)throw Error(`${U} expects at least one argument`);let Y=1,ha;if("array"===U){if(2<G.length){switch(G[1]){case "string":ha=k.StringType;break;case "number":ha=k.NumberType;break;case "boolean":ha=k.BooleanType;break;default:throw Error('"array" type argument must be string, number or boolean');}Y++}else ha=k.ValueType;if(3<
G.length){var pa=G[2];if(null!==pa&&("number"!==typeof pa||0>pa||pa!==Math.floor(pa)))throw Error('"array" length argument must be a positive integer literal');Y++}ha=k.arrayType(ha,pa)}else switch(U){case "string":ha=k.StringType;break;case "number":ha=k.NumberType;break;case "boolean":ha=k.BooleanType;break;case "object":ha=k.ObjectType}for(U=[];Y<G.length;Y++)pa=d(G[Y],N),U.push(pa);return new L(ha,U)};L.prototype.evaluate=function(G,N){let U;for(const Y of this._args){const ha=Y.evaluate(G,N);
U=k.getType(ha);if(k.matchType(U,this.type))return ha}throw Error(`Expected ${k.typeToString(this.type)} but got ${k.typeToString(U)}`);};return L}(),wa=function(){function L(G,N){this.type=G;this._args=N}L.parse=function(G,N){var U=G[0];const Y=L.types[U];if(Y===k.BooleanType||Y===k.StringType){if(2!==G.length)throw Error(`${U} expects one argument`);}else if(2>G.length)throw Error(`${U} expects at least one argument`);U=[];for(let ha=1;ha<G.length;ha++){const pa=d(G[ha],N);U.push(pa)}return new L(Y,
U)};L.prototype.evaluate=function(G,N){if(this.type===k.BooleanType)return!!this._args[0].evaluate(G,N);if(this.type===k.StringType)return k.valueToString(this._args[0].evaluate(G,N));if(this.type===k.NumberType){for(const Y of this._args){var U=Number(Y.evaluate(G,N));if(!isNaN(U))return U}return null}if(this.type===k.ColorType){for(U of this._args)try{const Y=L.toColor(U.evaluate(G,N));if(Y instanceof C)return Y}catch{}return null}};L.toBoolean=function(G){return!!G};L.toString=function(G){return k.valueToString(G)};
L.toNumber=function(G){const N=Number(G);if(isNaN(N))throw Error(`"${G}" is not a number`);return N};L.toColor=function(G){if(G instanceof C)return G;if("string"===typeof G){const N=C.fromString(G);if(N)return N;throw Error(`"${G}" is not a color`);}if(Array.isArray(G))return C.fromArray(G);throw Error(`"${G}" is not a color`);};return L}();wa.types={"to-boolean":k.BooleanType,"to-color":k.ColorType,"to-number":k.NumberType,"to-string":k.StringType};let va=function(){function L(G){this._val=G;this.type=
k.getType(G)}L.parse=function(G){if(2!==G.length)throw Error('"literal" expects 1 argument');return new L(G[1])};L.prototype.evaluate=function(G,N){return this._val};return L}(),O=function(){function L(G){this._arg=G;this.type=k.StringType}L.parse=function(G,N){if(2!==G.length)throw Error('"typeof" expects 1 argument');return new L(d(G[1],N))};L.prototype.evaluate=function(G,N){return k.typeToString(k.getType(this._arg.evaluate(G,N)))};return L}();const W={array:ya,boolean:ya,collator:null,format:null,
image:null,literal:va,number:ya,"number-format":null,object:ya,string:ya,"to-boolean":wa,"to-color":wa,"to-number":wa,"to-string":wa,typeof:O,accumulated:null,"feature-state":null,"geometry-type":g,id:l,"line-progress":null,properties:c,at:J,get:S,has:V,in:Z,"index-of":ba,length:ia,slice:ea,"!":z,"!\x3d":n,"\x3c":h,"\x3c\x3d":q,"\x3d\x3d":r,"\x3e":D,"\x3e\x3d":v,all:B,any:E,case:y,coalesce:A,match:F,within:null,interpolate:K,"interpolate-hcl":K,"interpolate-lab":K,step:M,let:H,var:I,concat:ca,downcase:da,
"is-supported-script":null,"resolved-locale":null,upcase:da,rgb:ma,rgba:na,"to-rgba":sa,"-":ua,"*":ra,"/":qa,"%":P,"^":R,"+":T,abs:X,acos:X,asin:X,atan:X,ceil:X,cos:X,e:X,floor:X,ln:X,ln2:X,log10:X,log2:X,max:X,min:X,pi:X,round:X,sin:X,sqrt:X,tan:X,zoom:m,"heatmap-density":null,"has-id":ka,none:x};a.ALL=B;a.ANY=E;a.Add=T;a.Assert=ya;a.At=J;a.Calculate=X;a.Case=y;a.Coalesce=A;a.Coerce=wa;a.Concat=ca;a.Div=qa;a.EQ=r;a.GE=v;a.GT=D;a.GeomType=g;a.Get=S;a.Has=V;a.HasID=ka;a.ID=l;a.In=Z;a.IndexOf=ba;a.Interpolate=
K;a.LE=q;a.LT=h;a.Length=ia;a.Let=H;a.Literal=va;a.Match=F;a.Mod=P;a.Mul=ra;a.NE=n;a.NONE=x;a.NOT=z;a.Pow=R;a.Properties=c;a.Rgb=ma;a.Rgba=na;a.Slice=ea;a.Step=M;a.String=da;a.Sub=ua;a.ToRgba=sa;a.TypeOf=O;a.Var=I;a.Zoom=m;a.createExpression=d;a.ops=W;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/Color":function(){define(["./chunks/_rollupPluginBabelHelpers","./colorUtils","./core/mathUtils","./core/maybe","./core/accessorSupport/ensureType"],function(a,
b,C,w,f){function t(d){return C.clamp(f.ensureInteger(d),0,255)}function k(d,e,l){d=Number(d);return isNaN(d)?l:d<e?e:d>l?l:d}let p=function(){function d(l){this.b=this.g=this.r=255;this.a=1;l&&this.setColor(l)}d.blendColors=function(l,g,c,m=new d){m.r=Math.round(l.r+(g.r-l.r)*c);m.g=Math.round(l.g+(g.g-l.g)*c);m.b=Math.round(l.b+(g.b-l.b)*c);m.a=l.a+(g.a-l.a)*c;return m._sanitize()};d.fromRgb=function(l,g){var c=l.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(c){l=c[2].split(/\s*,\s*/);
c=c[1];if("rgb"===c&&3===l.length||"rgba"===c&&4===l.length)return c=l[0],"%"===c.charAt(c.length-1)?(c=l.map(m=>2.56*parseFloat(m)),4===l.length&&(c[3]=parseFloat(l[3])),d.fromArray(c,g)):d.fromArray(l.map(m=>parseFloat(m)),g);if("hsl"===c&&3===l.length||"hsla"===c&&4===l.length)return d.fromArray(b.hsla2rgba(parseFloat(l[0]),parseFloat(l[1])/100,parseFloat(l[2])/100,parseFloat(l[3])),g)}return null};d.fromHex=function(l,g=new d){if(4!==l.length&&7!==l.length||"#"!==l[0])return null;const c=4===
l.length?4:8,m=(1<<c)-1;let u=Number("0x"+l.substr(1));if(isNaN(u))return null;["b","g","r"].forEach(r=>{const n=u&m;u>>=c;g[r]=4===c?17*n:n});g.a=1;return g};d.fromArray=function(l,g=new d){g._set(Number(l[0]),Number(l[1]),Number(l[2]),Number(l[3]));isNaN(g.a)&&(g.a=1);return g._sanitize()};d.fromString=function(l,g){const c=b.isNamedColor(l)?b.getNamedColor(l):null;return c&&d.fromArray(c,g)||d.fromRgb(l,g)||d.fromHex(l,g)};d.fromJSON=function(l){return l&&new d([l[0],l[1],l[2],l[3]/255])};d.toUnitRGB=
function(l){return w.isSome(l)?[l.r/255,l.g/255,l.b/255]:null};d.toUnitRGBA=function(l){return w.isSome(l)?[l.r/255,l.g/255,l.b/255,null!=l.a?l.a:1]:null};var e=d.prototype;e.setColor=function(l){"string"===typeof l?d.fromString(l,this):Array.isArray(l)?d.fromArray(l,this):(this._set(l.r??0,l.g??0,l.b??0,l.a??1),l instanceof d||this._sanitize());return this};e.toRgb=function(){return[this.r,this.g,this.b]};e.toRgba=function(){return[this.r,this.g,this.b,this.a]};e.toHex=function(){const l=this.r.toString(16),
g=this.g.toString(16),c=this.b.toString(16);return`#${2>l.length?"0"+l:l}${2>g.length?"0"+g:g}${2>c.length?"0"+c:c}`};e.toCss=function(l=!1){const g=this.r+", "+this.g+", "+this.b;return l?`rgba(${g}, ${this.a})`:`rgb(${g})`};e.toString=function(){return this.toCss(!0)};e.toJSON=function(){return this.toArray()};e.toArray=function(l=d.AlphaMode.ALWAYS){const g=t(this.r),c=t(this.g),m=t(this.b);return l===d.AlphaMode.ALWAYS||1!==this.a?[g,c,m,t(255*this.a)]:[g,c,m]};e.clone=function(){return new d(this.toRgba())};
e.hash=function(){return this.r<<24|this.g<<16|this.b<<8|255*this.a};e.equals=function(l){return w.isSome(l)&&l.r===this.r&&l.g===this.g&&l.b===this.b&&l.a===this.a};e._sanitize=function(){this.r=Math.round(k(this.r,0,255));this.g=Math.round(k(this.g,0,255));this.b=Math.round(k(this.b,0,255));this.a=k(this.a,0,1);return this};e._set=function(l,g,c,m){this.r=l;this.g=g;this.b=c;this.a=m};a._createClass(d,[{key:"isBright",get:function(){return 127<=.299*this.r+.587*this.g+.114*this.b}}]);return d}();
p.prototype.declaredClass="esri.Color";(function(d){d=d.AlphaMode||(d.AlphaMode={});d[d.ALWAYS=0]="ALWAYS";d[d.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"})(p||(p={}));return p})},"esri/colorUtils":function(){define(["exports"],function(a){function b(f){return w[f]??w[f.toLowerCase()]}function C(f,t,k){0>k&&++k;1<k&&--k;const p=6*k;return 1>p?f+(t-f)*p:1>2*k?t:2>3*k?f+(t-f)*(2/3-k)*6:f}const w={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,
0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,
255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,
1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,
240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,
1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,
25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,
51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,
222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};a.getNamedColor=b;a.getNamedColorCopy=function(f){return[...b(f)]};a.hex2rgba=function(f){var t=5<f.length;const k=t?8:4,p=(1<<k)-1,d=t?1:17;t=t?9===f.length:5===f.length;f=Number("0x"+f.substr(1));if(isNaN(f))return null;const e=[0,0,0,1];t&&(t=f&p,f>>=k,e[3]=d*t/255);t=f&p;f>>=k;e[2]=d*t;t=f&p;f>>=k;e[1]=d*t;t=f&p;f>>=k;e[0]=d*t;return e};a.hsla2rgba=function(f,t,k,p=1){f=(f%360+360)%360/360;t=.5>=k?k*(t+1):k+t-k*t;k=2*k-t;return[Math.round(255*
C(k,t,f+1/3)),Math.round(255*C(k,t,f)),Math.round(255*C(k,t,f-1/3)),p]};a.isNamedColor=function(f){return w[f]||w[f.toLowerCase()]};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/mathUtils":function(){define(["exports","./maybe","../chunks/vec3","../chunks/vec4"],function(a,b,C,w){function f(h,q,D){return Math.min(Math.max(h,q),D)}function t(h,q,D){return h+(q-h)*D}function k(h){return Math.asin(f(h,-1,1))}function p(h,q,D=1E-6){return h===q?
!0:Number.isFinite(h)&&Number.isFinite(q)?(h>q?h-q:q-h)<=D:!1}function d(h){m.setFloat64(0,h);return m.getBigInt64(0)}function e(h){m.setBigInt64(0,h);return m.getFloat64(0)}function l(h){h=Math.abs(h);var q=d(h);q=q<=u?e(u):e(q-u);return Math.abs(h-q)}function g(h){c[0]=h;return c[0]}const c=new Float32Array(1),m=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT)),u=BigInt("1000000"),r=l(1),n=g(3.4028234663852886E38);a.NUMBER_MAX_FLOAT32=n;a.acosClamped=function(h){return Math.acos(f(h,
-1,1))};a.applyOpacity=function(h,q,D){return w.set(h,q[0],q[1],q[2],q[3]*D)};a.asinClamped=k;a.cartesianToSpherical=function(h,q){const D=C.length(h),v=k(h[2]/D);C.set(q,D,v,Math.atan2(h[1]/D,h[0]/D));return q};a.clamp=f;a.clampFloat32=function(h){return g(Math.max(-n,Math.min(h,n)))};a.deg2rad=function(h){return h*Math.PI/180};a.floatEqualAbsolute=p;a.floatEqualRelative=function(h,q,D=1E-6){if(h===q)return!0;if(!Number.isFinite(h)||!Number.isFinite(q))return!1;const v=Math.abs(h-q),z=Math.abs(h),
B=Math.abs(q);if(0===h||0===q||1E-12>z&&1E-12>B){if(v>.01*D)return!1}else if(v/(z+B)>D)return!1;return!0};a.floatEqualUlp=function(h,q,D=r){if(h===q)return!0;if(!Number.isFinite(h)||!Number.isFinite(q))return!1;if(b.isSome(D)&&l(Math.min(Math.abs(h),Math.abs(q)))<D)return Math.abs(h-q)<=D;h=d(h);q=d(q);return 0>h!==0>q||(h<q?q-h:h-q)>u?!1:!0};a.hasScaling=function(h){const q=h[3]*h[3]+h[4]*h[4]+h[5]*h[5],D=h[6]*h[6]+h[7]*h[7]+h[8]*h[8];return!(p(h[0]*h[0]+h[1]*h[1]+h[2]*h[2],1)&&p(q,1)&&p(D,1))};
a.isPowerOfTwo=function(h){return 0===(h&h-1)};a.lerp=t;a.nextHighestPowerOfTen=function(h){return 10**Math.ceil(Math.LOG10E*Math.log(h))};a.nextHighestPowerOfTwo=function(h){--h;for(let q=1;32>q;q<<=1)h|=h>>q;return h+1};a.nextPowerOfTwo=function(h){h--;h|=h>>1;h|=h>>2;h|=h>>4;h|=h>>8;h|=h>>16;h++;return h};a.rad2deg=function(h){return 180*h/Math.PI};a.reciprocalClamped=function(h,q=1E-6){return(0>h?-1:1)/Math.max(Math.abs(h),q)};a.roundToNearest=function(h,q){return 0===q?0:Math.round(h/q)*q};a.scale=
function(h,q,D,v,z){return t(v,z,(h-q)/(D-q))};a.smoothstep=function(h,q,D){h=f((D-h)/(q-h),0,1);return h*h*(3-2*h)};a.sphericalToCartesian=function(h,q){const D=h[0],v=h[1];h=h[2];const z=Math.cos(v);C.set(q,D*z*Math.cos(h),D*z*Math.sin(h),D*Math.sin(v))};a.step=function(h,q){return q<h?0:1};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/chunks/vec3":function(){define(["exports","./vec3f64","./common"],function(a,b,C){function w(P){const R=P[0],
T=P[1];P=P[2];return Math.sqrt(R*R+T*T+P*P)}function f(P,R){P[0]=R[0];P[1]=R[1];P[2]=R[2];return P}function t(P,R,T,X){P[0]=R;P[1]=T;P[2]=X;return P}function k(P,R,T){P[0]=R[0]+T[0];P[1]=R[1]+T[1];P[2]=R[2]+T[2];return P}function p(P,R,T){P[0]=R[0]-T[0];P[1]=R[1]-T[1];P[2]=R[2]-T[2];return P}function d(P,R,T){P[0]=R[0]*T[0];P[1]=R[1]*T[1];P[2]=R[2]*T[2];return P}function e(P,R,T){P[0]=R[0]/T[0];P[1]=R[1]/T[1];P[2]=R[2]/T[2];return P}function l(P,R){P[0]=Math.ceil(R[0]);P[1]=Math.ceil(R[1]);P[2]=Math.ceil(R[2]);
return P}function g(P,R){P[0]=Math.floor(R[0]);P[1]=Math.floor(R[1]);P[2]=Math.floor(R[2]);return P}function c(P,R){P[0]=Math.abs(R[0]);P[1]=Math.abs(R[1]);P[2]=Math.abs(R[2]);return P}function m(P,R){P[0]=Math.sign(R[0]);P[1]=Math.sign(R[1]);P[2]=Math.sign(R[2]);return P}function u(P,R,T){P[0]=Math.min(R[0],T[0]);P[1]=Math.min(R[1],T[1]);P[2]=Math.min(R[2],T[2]);return P}function r(P,R,T){P[0]=Math.max(R[0],T[0]);P[1]=Math.max(R[1],T[1]);P[2]=Math.max(R[2],T[2]);return P}function n(P,R){P[0]=Math.round(R[0]);
P[1]=Math.round(R[1]);P[2]=Math.round(R[2]);return P}function h(P,R,T){P[0]=R[0]*T;P[1]=R[1]*T;P[2]=R[2]*T;return P}function q(P,R,T,X){P[0]=R[0]+T[0]*X;P[1]=R[1]+T[1]*X;P[2]=R[2]+T[2]*X;return P}function D(P,R){const T=R[0]-P[0],X=R[1]-P[1];P=R[2]-P[2];return Math.sqrt(T*T+X*X+P*P)}function v(P,R){const T=R[0]-P[0],X=R[1]-P[1];P=R[2]-P[2];return T*T+X*X+P*P}function z(P){const R=P[0],T=P[1];P=P[2];return R*R+T*T+P*P}function B(P,R){P[0]=-R[0];P[1]=-R[1];P[2]=-R[2];return P}function E(P,R){P[0]=1/
R[0];P[1]=1/R[1];P[2]=1/R[2];return P}function x(P,R){var T=R[0];const X=R[1],ca=R[2];T=T*T+X*X+ca*ca;0<T&&(T=1/Math.sqrt(T),P[0]=R[0]*T,P[1]=R[1]*T,P[2]=R[2]*T);return P}function y(P,R){return P[0]*R[0]+P[1]*R[1]+P[2]*R[2]}function A(P,R,T){const X=R[0],ca=R[1];R=R[2];const da=T[0],ma=T[1];T=T[2];P[0]=ca*T-R*ma;P[1]=R*da-X*T;P[2]=X*ma-ca*da;return P}function F(P,R,T,X){const ca=R[0],da=R[1];R=R[2];P[0]=ca+X*(T[0]-ca);P[1]=da+X*(T[1]-da);P[2]=R+X*(T[2]-R);return P}function K(P,R,T,X,ca,da){const ma=
da*da,na=ma*(2*da-3)+1,sa=ma*(da-2)+da,ya=ma*(da-1);da=ma*(3-2*da);P[0]=R[0]*na+T[0]*sa+X[0]*ya+ca[0]*da;P[1]=R[1]*na+T[1]*sa+X[1]*ya+ca[1]*da;P[2]=R[2]*na+T[2]*sa+X[2]*ya+ca[2]*da;return P}function M(P,R,T,X,ca,da){var ma=1-da,na=ma*ma;const sa=da*da,ya=na*ma;na*=3*da;ma*=3*sa;da*=sa;P[0]=R[0]*ya+T[0]*na+X[0]*ma+ca[0]*da;P[1]=R[1]*ya+T[1]*na+X[1]*ma+ca[1]*da;P[2]=R[2]*ya+T[2]*na+X[2]*ma+ca[2]*da;return P}function H(P,R){R=R||1;var T=C.RANDOM;const X=2*T()*Math.PI;T=2*T()-1;const ca=Math.sqrt(1-T*
T)*R;P[0]=Math.cos(X)*ca;P[1]=Math.sin(X)*ca;P[2]=T*R;return P}function I(P,R,T){const X=R[0],ca=R[1];R=R[2];P[0]=T[0]*X+T[4]*ca+T[8]*R+T[12];P[1]=T[1]*X+T[5]*ca+T[9]*R+T[13];P[2]=T[2]*X+T[6]*ca+T[10]*R+T[14];return P}function J(P,R,T){const X=R[0],ca=R[1];R=R[2];P[0]=X*T[0]+ca*T[3]+R*T[6];P[1]=X*T[1]+ca*T[4]+R*T[7];P[2]=X*T[2]+ca*T[5]+R*T[8];return P}function S(P,R,T){const X=T[0],ca=T[1],da=T[2],ma=R[0],na=R[1];R=R[2];let sa=ca*R-da*na,ya=da*ma-X*R,wa=X*na-ca*ma;T=2*T[3];P[0]=ma+sa*T+2*(ca*wa-da*
ya);P[1]=na+ya*T+2*(da*sa-X*wa);P[2]=R+wa*T+2*(X*ya-ca*sa);return P}function V(P,R,T,X){const ca=[],da=[];ca[0]=R[0]-T[0];ca[1]=R[1]-T[1];ca[2]=R[2]-T[2];da[0]=ca[0];da[1]=ca[1]*Math.cos(X)-ca[2]*Math.sin(X);da[2]=ca[1]*Math.sin(X)+ca[2]*Math.cos(X);P[0]=da[0]+T[0];P[1]=da[1]+T[1];P[2]=da[2]+T[2];return P}function Z(P,R,T,X){const ca=[],da=[];ca[0]=R[0]-T[0];ca[1]=R[1]-T[1];ca[2]=R[2]-T[2];da[0]=ca[2]*Math.sin(X)+ca[0]*Math.cos(X);da[1]=ca[1];da[2]=ca[2]*Math.cos(X)-ca[0]*Math.sin(X);P[0]=da[0]+T[0];
P[1]=da[1]+T[1];P[2]=da[2]+T[2];return P}function ba(P,R,T,X){const ca=[],da=[];ca[0]=R[0]-T[0];ca[1]=R[1]-T[1];ca[2]=R[2]-T[2];da[0]=ca[0]*Math.cos(X)-ca[1]*Math.sin(X);da[1]=ca[0]*Math.sin(X)+ca[1]*Math.cos(X);da[2]=ca[2];P[0]=da[0]+T[0];P[1]=da[1]+T[1];P[2]=da[2]+T[2];return P}function ia(P,R){f(ra,P);f(qa,R);x(ra,ra);x(qa,qa);P=y(ra,qa);return 1<P?0:-1>P?Math.PI:Math.acos(P)}function ea(P){return"vec3("+P[0]+", "+P[1]+", "+P[2]+")"}function ka(P,R){return P[0]===R[0]&&P[1]===R[1]&&P[2]===R[2]}
function oa(P,R){if(P===R)return!0;const T=P[0],X=P[1];P=P[2];const ca=R[0],da=R[1];R=R[2];const ma=C.getEpsilon();return Math.abs(T-ca)<=ma*Math.max(1,Math.abs(T),Math.abs(ca))&&Math.abs(X-da)<=ma*Math.max(1,Math.abs(X),Math.abs(da))&&Math.abs(P-R)<=ma*Math.max(1,Math.abs(P),Math.abs(R))}function ua(P,R,T){const X=T[0]-R[0],ca=T[1]-R[1];R=T[2]-R[2];T=X*X+ca*ca+R*R;if(0<T)return T=1/Math.sqrt(T),P[0]=X*T,P[1]=ca*T,P[2]=R*T,P;P[0]=0;P[1]=0;P[2]=0;return P}const ra=b.create(),qa=b.create();b=Object.freeze(Object.defineProperty({__proto__:null,
length:w,copy:f,set:t,add:k,subtract:p,multiply:d,divide:e,ceil:l,floor:g,abs:c,sign:m,min:u,max:r,round:n,scale:h,scaleAndAdd:q,distance:D,squaredDistance:v,squaredLength:z,negate:B,inverse:E,normalize:x,dot:y,cross:A,lerp:F,hermite:K,bezier:M,random:H,transformMat4:I,transformMat3:J,transformQuat:S,rotateX:V,rotateY:Z,rotateZ:ba,angle:ia,str:ea,exactEquals:ka,equals:oa,direction:ua,sub:p,mul:d,div:e,dist:D,sqrDist:v,len:w,sqrLen:z},Symbol.toStringTag,{value:"Module"}));a.abs=c;a.add=k;a.angle=ia;
a.bezier=M;a.ceil=l;a.copy=f;a.cross=A;a.direction=ua;a.dist=D;a.distance=D;a.div=e;a.divide=e;a.dot=y;a.equals=oa;a.exactEquals=ka;a.floor=g;a.hermite=K;a.inverse=E;a.len=w;a.length=w;a.lerp=F;a.max=r;a.min=u;a.mul=d;a.multiply=d;a.negate=B;a.normalize=x;a.random=H;a.rotateX=V;a.rotateY=Z;a.rotateZ=ba;a.round=n;a.scale=h;a.scaleAndAdd=q;a.set=t;a.sign=m;a.sqrDist=v;a.sqrLen=z;a.squaredDistance=v;a.squaredLength=z;a.str=ea;a.sub=p;a.subtract=p;a.transformMat3=J;a.transformMat4=I;a.transformQuat=S;
a.vec3=b})},"esri/chunks/vec3f64":function(){define(["exports"],function(a){function b(){return[0,0,0]}function C(h){return[h[0],h[1],h[2]]}function w(h,q,D){return[h,q,D]}function f(h){const q=b(),D=Math.min(3,h.length);for(let v=0;v<D;++v)q[v]=h[v];return q}function t(h,q){return new Float64Array(h,q,3)}function k(){return b()}function p(){return[1,1,1]}function d(){return[1,0,0]}function e(){return[0,1,0]}function l(){return[0,0,1]}const g=b(),c=p(),m=d(),u=e(),r=l(),n=Object.freeze(Object.defineProperty({__proto__:null,
create:b,clone:C,fromValues:w,fromArray:f,createView:t,zeros:k,ones:p,unitX:d,unitY:e,unitZ:l,ZEROS:g,ONES:c,UNIT_X:m,UNIT_Y:u,UNIT_Z:r},Symbol.toStringTag,{value:"Module"}));a.ONES=c;a.UNIT_X=m;a.UNIT_Y=u;a.UNIT_Z=r;a.ZEROS=g;a.clone=C;a.create=b;a.createView=t;a.fromArray=f;a.fromValues=w;a.ones=p;a.unitX=d;a.unitY=e;a.unitZ=l;a.vec3f64=n;a.zeros=k})},"esri/chunks/common":function(){define(["exports"],function(a){function b(){return k}function C(g){k=g}function w(g){return g*d}function f(g){return g*
e}function t(g,c){return Math.abs(g-c)<=k*Math.max(1,Math.abs(g),Math.abs(c))}let k=1E-6;const p=Math.random,d=Math.PI/180,e=180/Math.PI,l=Object.freeze(Object.defineProperty({__proto__:null,getEpsilon:b,setEpsilon:C,RANDOM:p,toRadian:w,toDegree:f,equals:t},Symbol.toStringTag,{value:"Module"}));a.RANDOM=p;a.common=l;a.equals=t;a.getEpsilon=b;a.setEpsilon=C;a.toDegree=f;a.toRadian=w})},"esri/chunks/vec4":function(){define(["exports","./common"],function(a,b){function C(I,J){I[0]=J[0];I[1]=J[1];I[2]=
J[2];I[3]=J[3];return I}function w(I,J,S,V,Z){I[0]=J;I[1]=S;I[2]=V;I[3]=Z;return I}function f(I,J,S){I[0]=J[0]+S[0];I[1]=J[1]+S[1];I[2]=J[2]+S[2];I[3]=J[3]+S[3];return I}function t(I,J,S){I[0]=J[0]-S[0];I[1]=J[1]-S[1];I[2]=J[2]-S[2];I[3]=J[3]-S[3];return I}function k(I,J,S){I[0]=J[0]*S[0];I[1]=J[1]*S[1];I[2]=J[2]*S[2];I[3]=J[3]*S[3];return I}function p(I,J,S){I[0]=J[0]/S[0];I[1]=J[1]/S[1];I[2]=J[2]/S[2];I[3]=J[3]/S[3];return I}function d(I,J){I[0]=Math.ceil(J[0]);I[1]=Math.ceil(J[1]);I[2]=Math.ceil(J[2]);
I[3]=Math.ceil(J[3]);return I}function e(I,J){I[0]=Math.floor(J[0]);I[1]=Math.floor(J[1]);I[2]=Math.floor(J[2]);I[3]=Math.floor(J[3]);return I}function l(I,J,S){I[0]=Math.min(J[0],S[0]);I[1]=Math.min(J[1],S[1]);I[2]=Math.min(J[2],S[2]);I[3]=Math.min(J[3],S[3]);return I}function g(I,J,S){I[0]=Math.max(J[0],S[0]);I[1]=Math.max(J[1],S[1]);I[2]=Math.max(J[2],S[2]);I[3]=Math.max(J[3],S[3]);return I}function c(I,J){I[0]=Math.round(J[0]);I[1]=Math.round(J[1]);I[2]=Math.round(J[2]);I[3]=Math.round(J[3]);
return I}function m(I,J,S){I[0]=J[0]*S;I[1]=J[1]*S;I[2]=J[2]*S;I[3]=J[3]*S;return I}function u(I,J,S,V){I[0]=J[0]+S[0]*V;I[1]=J[1]+S[1]*V;I[2]=J[2]+S[2]*V;I[3]=J[3]+S[3]*V;return I}function r(I,J){const S=J[0]-I[0],V=J[1]-I[1],Z=J[2]-I[2];I=J[3]-I[3];return Math.sqrt(S*S+V*V+Z*Z+I*I)}function n(I,J){const S=J[0]-I[0],V=J[1]-I[1],Z=J[2]-I[2];I=J[3]-I[3];return S*S+V*V+Z*Z+I*I}function h(I){const J=I[0],S=I[1],V=I[2];I=I[3];return Math.sqrt(J*J+S*S+V*V+I*I)}function q(I){const J=I[0],S=I[1],V=I[2];
I=I[3];return J*J+S*S+V*V+I*I}function D(I,J){I[0]=-J[0];I[1]=-J[1];I[2]=-J[2];I[3]=-J[3];return I}function v(I,J){I[0]=1/J[0];I[1]=1/J[1];I[2]=1/J[2];I[3]=1/J[3];return I}function z(I,J){const S=J[0],V=J[1],Z=J[2];J=J[3];let ba=S*S+V*V+Z*Z+J*J;0<ba&&(ba=1/Math.sqrt(ba),I[0]=S*ba,I[1]=V*ba,I[2]=Z*ba,I[3]=J*ba);return I}function B(I,J){return I[0]*J[0]+I[1]*J[1]+I[2]*J[2]+I[3]*J[3]}function E(I,J,S,V){const Z=J[0],ba=J[1],ia=J[2];J=J[3];I[0]=Z+V*(S[0]-Z);I[1]=ba+V*(S[1]-ba);I[2]=ia+V*(S[2]-ia);I[3]=
J+V*(S[3]-J);return I}function x(I,J){var S=b.RANDOM;J=J||1;let V,Z,ba,ia,ea,ka;do V=2*S()-1,Z=2*S()-1,ea=V*V+Z*Z;while(1<=ea);do ba=2*S()-1,ia=2*S()-1,ka=ba*ba+ia*ia;while(1<=ka);S=Math.sqrt((1-ea)/ka);I[0]=J*V;I[1]=J*Z;I[2]=J*ba*S;I[3]=J*ia*S;return I}function y(I,J,S){const V=J[0],Z=J[1],ba=J[2];J=J[3];I[0]=S[0]*V+S[4]*Z+S[8]*ba+S[12]*J;I[1]=S[1]*V+S[5]*Z+S[9]*ba+S[13]*J;I[2]=S[2]*V+S[6]*Z+S[10]*ba+S[14]*J;I[3]=S[3]*V+S[7]*Z+S[11]*ba+S[15]*J;return I}function A(I,J,S){var V=J[0];const Z=J[1],ba=
J[2],ia=S[0],ea=S[1],ka=S[2];S=S[3];const oa=S*V+ea*ba-ka*Z,ua=S*Z+ka*V-ia*ba,ra=S*ba+ia*Z-ea*V;V=-ia*V-ea*Z-ka*ba;I[0]=oa*S+V*-ia+ua*-ka-ra*-ea;I[1]=ua*S+V*-ea+ra*-ia-oa*-ka;I[2]=ra*S+V*-ka+oa*-ea-ua*-ia;I[3]=J[3];return I}function F(I){return"vec4("+I[0]+", "+I[1]+", "+I[2]+", "+I[3]+")"}function K(I,J){return I[0]===J[0]&&I[1]===J[1]&&I[2]===J[2]&&I[3]===J[3]}function M(I,J){const S=I[0],V=I[1],Z=I[2];I=I[3];const ba=J[0],ia=J[1],ea=J[2];J=J[3];const ka=b.getEpsilon();return Math.abs(S-ba)<=ka*
Math.max(1,Math.abs(S),Math.abs(ba))&&Math.abs(V-ia)<=ka*Math.max(1,Math.abs(V),Math.abs(ia))&&Math.abs(Z-ea)<=ka*Math.max(1,Math.abs(Z),Math.abs(ea))&&Math.abs(I-J)<=ka*Math.max(1,Math.abs(I),Math.abs(J))}const H=Object.freeze(Object.defineProperty({__proto__:null,copy:C,set:w,add:f,subtract:t,multiply:k,divide:p,ceil:d,floor:e,min:l,max:g,round:c,scale:m,scaleAndAdd:u,distance:r,squaredDistance:n,length:h,squaredLength:q,negate:D,inverse:v,normalize:z,dot:B,lerp:E,random:x,transformMat4:y,transformQuat:A,
str:F,exactEquals:K,equals:M,sub:t,mul:k,div:p,dist:r,sqrDist:n,len:h,sqrLen:q},Symbol.toStringTag,{value:"Module"}));a.add=f;a.ceil=d;a.copy=C;a.dist=r;a.distance=r;a.div=p;a.divide=p;a.dot=B;a.equals=M;a.exactEquals=K;a.floor=e;a.inverse=v;a.len=h;a.length=h;a.lerp=E;a.max=g;a.min=l;a.mul=k;a.multiply=k;a.negate=D;a.normalize=z;a.random=x;a.round=c;a.scale=m;a.scaleAndAdd=u;a.set=w;a.sqrDist=n;a.sqrLen=q;a.squaredDistance=n;a.squaredLength=q;a.str=F;a.sub=t;a.subtract=t;a.transformMat4=y;a.transformQuat=
A;a.vec4=H})},"esri/core/accessorSupport/ensureType":function(){define(["exports","../has","../Logger","../MapUtils"],function(a,b,C,w){function f(H){return null==H?H:new Date(H)}function t(H){return null==H?H:!!H}function k(H){return null==H?H:H.toString()}function p(H){if(null==H)return H;H=parseFloat(H);return isNaN(H)?0:H}function d(H){return null==H?H:Math.round(parseFloat(H))}function e(H){return H&&H.constructor&&void 0!==H.constructor.__accessorMetadata__}function l(H,I){return null!=I&&H&&
!(I instanceof H)}function g(H){return H&&H.Type?"function"===typeof H.Type?H.Type:H.Type.base:null}function c(H,I){var J;(J=!I||!I.constructor)||(J=I.constructor,J=!(J&&"isCollection"in J));if(J)return m(H,I)?I:new H(I);J=g(H.prototype.itemType);const S=g(I.constructor.prototype.itemType);if(!J)return I;if(!S)return new H(I);if(J===S)return I;if(J.prototype.isPrototypeOf(S.prototype))return new H(I);m(H,I);return I}function m(H,I){return e(I)?(F.error("Accessor#set","Assigning an instance of '"+
(I.declaredClass||"unknown")+"' which is not a subclass of '"+r(H)+"'"),!0):!1}function u(H,I){return null==I?I:H&&"isCollection"in H?c(H,I):l(H,I)?m(H,I)?I:new H(I):I}function r(H){return H&&H.prototype&&H.prototype.declaredClass||"unknown"}function n(H){switch(H){case Number:return p;case M:return d;case Boolean:return t;case String:return k;case Date:return f;default:return w.getOrCreateMapValue(K,H,()=>u.bind(null,H))}}function h(H,I){const J=n(H);return 1===arguments.length?J:J(I)}function q(H,
I,J){return 1===arguments.length?q.bind(null,H):I?Array.isArray(I)?I.map(S=>H(S,J)):[H(I,J)]:I}function D(H,I,J){return 0!==I&&Array.isArray(J)?J.map(S=>D(H,I-1,S)):H(J)}function v(H,I,J){if(2===arguments.length)return v.bind(null,H,I);if(!J)return J;J=D(H,I,J);let S=I;for(var V=J;0<S&&Array.isArray(V);)S--,V=V[0];if(void 0!==V)for(V=0;V<S;V++)J=[J];return J}function z(H,I){if(2===arguments.length)return z(H).call(null,I);const J=new Set,S=H.filter(ia=>"function"!==typeof ia),V=H.filter(ia=>"function"===
typeof ia);for(const ia of H)"string"!==typeof ia&&"number"!==typeof ia||J.add(ia);let Z=null,ba=null;return(ia,ea)=>{if(null==ia)return ia;const ka=typeof ia,oa="string"===ka||"number"===ka;if(oa&&(J.has(ia)||V.some(ua=>"string"===ka&&ua===String||"number"===ka&&ua===Number))||"object"===ka&&V.some(ua=>!l(ia,ua)))return ia;oa&&S.length?(Z||(Z=S.map(ua=>"string"===typeof ua?`'${ua}'`:`${ua}`).join(", ")),F.error("Accessor#set",`'${ia}' is not a valid value for this property, only the following values are valid: ${Z}`)):
"object"===typeof ia&&V.length?(ba||(ba=V.map(ua=>r(ua)).join(", ")),F.error("Accessor#set",`'${ia}' is not a valid value for this property, value must be one of ${ba}`)):F.error("Accessor#set",`'${ia}' is not a valid value for this property`);ea&&(ea.valid=!1);return null}}function B(H,I){if(2===arguments.length)return B(H).call(null,I);const J={},S=[],V=[];for(const ba in H.typeMap){const ia=H.typeMap[ba];J[ba]=h(ia);S.push(r(ia));V.push(ba)}const Z="string"===typeof H.key?ba=>ba[H.key]:H.key;return ba=>
{if(H.base&&!l(H.base,ba)||null==ba)return ba;var ia=Z(ba)||H.defaultKeyValue;const ea=J[ia];if(!ea)return F.error("Accessor#set",`Invalid property value, value needs to be one of ${`'${S.join("', '")}'`}, or a plain object that can autocast (having .type = ${`'${V.join("', '")}'`})`),null;if(!l(H.typeMap[ia],ba))return ba;if("string"===typeof H.key&&!e(ba)){ia={};for(const ka in ba)ka!==H.key&&(ia[ka]=ba[ka]);return ea(ia)}return ea(ba)}}function E(H){switch(H.type){case "native":return h(H.value);
case "array":return q(E(H.value));case "one-of":return x(H);default:return null}}function x(H){let I=null;return(J,S)=>{if(A(J,H))return J;null==I&&(I=y(H));F.error("Accessor#set",`Invalid property value, value needs to be of type ${I}`);S&&(S.valid=!1);return null}}function y(H){switch(H.type){case "native":switch(H.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case M:return"integer";case Date:return"date";default:return r(H.value)}case "array":return`array of ${y(H.value)}`;
case "one-of":return H=H.values.map(I=>y(I)),`one of ${H.slice(0,H.length-1)} or ${H[H.length-1]}`}return"unknown"}function A(H,I){if(null==H)return!0;switch(I.type){case "native":switch(I.value){case Number:case M:return"number"===typeof H;case Boolean:return"boolean"===typeof H;case String:return"string"===typeof H}return H instanceof I.value;case "array":return Array.isArray(H)?!H.some(J=>!A(J,I.value)):!1;case "one-of":return I.values.some(J=>A(H,J))}}const F=C.getLogger("esri.core.accessorSupport.ensureTypes"),
K=new WeakMap;let M=function(){};a.Integer=M;a.ensureArray=function(H,I){return 1===arguments.length?q(h.bind(null,H)):q(h.bind(null,H),I)};a.ensureArrayTyped=q;a.ensureBoolean=t;a.ensureClass=u;a.ensureDate=f;a.ensureInteger=d;a.ensureLongFormType=E;a.ensureNArray=function(H,I,J){return 2===arguments.length?v(h.bind(null,H),I):v(h.bind(null,H),I,J)};a.ensureNArrayTyped=v;a.ensureNumber=p;a.ensureOneOf=z;a.ensureOneOfType=B;a.ensureString=k;a.ensureType=h;a.isClassedType=e;a.isLongFormType=function(H){if(!(H&&
"type"in H))return!1;switch(H.type){case "native":case "array":case "one-of":return!0}return!1};a.isOneOf=function(H){return Array.isArray(H)?!H.some(I=>{I=typeof I;return!("string"===I||"number"===I||"function"===I&&1<H.length)}):!1};a.requiresType=l;a.types={native(H){return{type:"native",value:H}},array(H){return{type:"array",value:H}},oneOf(H){return{type:"one-of",values:H}}};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/MapUtils":function(){define(["exports"],
function(a){a.findInMap=function(b,C){for(const [w,f]of b)if(C(f,w))return f;return null};a.first=function(b){b=b.values().next();return!0!==b.done?b.value:null};a.getOrCreateMapValue=function(b,C,w){const f=b.get(C);if(void 0!==f)return f;w=w();b.set(C,w);return w};a.someMap=function(b,C){for(const [w,f]of b)if(C(f,w))return!0;return!1};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/colorUtils":function(){define(["exports"],function(a){function b(e,
l){const g=[];let c,m;if(e[0].length!==l.length)throw"dimensions do not match";const u=e.length,r=e[0].length;let n=0;for(c=0;c<u;c++){for(m=n=0;m<r;m++)n+=e[c][m]*l[m];g.push(n)}return g}function C(e){e=[e.r/255,e.g/255,e.b/255].map(l=>.04045>=l?l/12.92:((l+.055)/1.055)**2.4);e=b(p,e);return{x:100*e[0],y:100*e[1],z:100*e[2]}}function w(e){e=b(d,[e.x/100,e.y/100,e.z/100]).map(l=>Math.min(1,Math.max(.0031308>=l?12.92*l:1.055*l**(1/2.4)-.055,0)));return{r:Math.round(255*e[0]),g:Math.round(255*e[1]),
b:Math.round(255*e[2])}}function f(e){e=[e.x/95.047,e.y/100,e.z/108.883].map(l=>l>(6/29)**3?l**(1/3):1/3*(29/6)**2*l+4/29);return{l:116*e[1]-16,a:500*(e[0]-e[1]),b:200*(e[1]-e[2])}}function t(e){const l=e.l;e=[(l+16)/116+e.a/500,(l+16)/116,(l+16)/116-e.b/200].map(g=>g>6/29?g**3:3*(6/29)**2*(g-4/29));return{x:95.047*e[0],y:100*e[1],z:108.883*e[2]}}function k(e){if("r"in e&&"g"in e&&"b"in e)return e;if("l"in e&&"c"in e&&"h"in e){var l=e.c,g=e.h;return w(t({l:e.l,a:l*Math.cos(g),b:l*Math.sin(g)}))}if("l"in
e&&"a"in e&&"b"in e)return w(t(e));if("x"in e&&"y"in e&&"z"in e)return w(e);if("h"in e&&"s"in e&&"v"in e){g=(e.h+360)%360/60;l=e.v/100*255;e=e.s/100*l;const c=e*(1-Math.abs(g%2-1));switch(Math.floor(g)){case 0:g={r:e,g:c,b:0};break;case 1:g={r:c,g:e,b:0};break;case 2:g={r:0,g:e,b:c};break;case 3:g={r:0,g:c,b:e};break;case 4:g={r:c,g:0,b:e};break;case 5:case 6:g={r:e,g:0,b:c};break;default:g={r:0,g:0,b:0}}g.r=Math.round(g.r+l-e);g.g=Math.round(g.g+l-e);g.b=Math.round(g.b+l-e);return g}return e}const p=
[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],d=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];a.darken=function(e,l){e=f(C(e));e.l*=1-l;return w(t(e))};a.toHSV=function(e){if("h"in e&&"s"in e&&"v"in e)return e;var l=k(e);e=l.r;const g=l.g,c=l.b;l=Math.max(e,g,c);const m=l-Math.min(e,g,c);e=0===m?0:l===e?(g-c)/m%6:l===g?(c-e)/m+2:(e-g)/m+4;0>e&&(e+=6);return{h:60*e,s:100*(0===m?0:m/l),v:100/255*l}};a.toLAB=function(e){return"l"in e&&"a"in e&&"b"in e?e:f(C(k(e)))};
a.toLCH=function(e){if(!("l"in e&&"c"in e&&"h"in e)){var l=f(C(k(e)));e=l.l;var g=l.a;const c=l.b;l=Math.sqrt(g*g+c*c);g=Math.atan2(c,g);g=0<g?g:g+2*Math.PI;e={l:e,c:l,h:g}}return e};a.toRGB=k;a.toXYZ=function(e){return"x"in e&&"y"in e&&"z"in e?e:C(k(e))};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/unitBezier":function(){define(["exports"],function(a){function b(f,t,k,p){function d(r,n){var h;let q,D;q=r;for(h=0;8>h;h++){D=((g*q+l)*q+
e)*q-r;if(Math.abs(D)<n)return q;var v=(3*g*q+2*l)*q+e;if(1E-6>Math.abs(v))break;q-=D/v}v=0;h=1;q=r;if(q<v)return v;if(q>h)return h;for(;v<h;){D=((g*q+l)*q+e)*q;if(Math.abs(D-r)<n)break;r>D?v=q:h=q;q=.5*(h-v)+v}return q}const e=3*f,l=3*(k-f)-e,g=1-e-l,c=3*t,m=3*(p-t)-c,u=1-c-m;return function(r,n=1E-6){r=d(r,n);return((u*r+m)*r+c)*r}}const C=/^cubic-bezier\((.*)\)/,w={};w.ease=b(.25,.1,.25,1);w.linear=b(0,0,1,1);w.easeIn=w["ease-in"]=b(.42,0,1,1);w.easeOut=w["ease-out"]=b(0,0,.58,1);w.easeInOut=w["ease-in-out"]=
b(.42,0,.58,1);a.easingFunctions=w;a.parse=function(f){let t=w[f]||null;!t&&(f=C.exec(f))&&(f=f[1].split(",").map(k=>parseFloat(k.trim())),4!==f.length||f.some(k=>isNaN(k))||(t=b.apply(b,f)));return t};a.unitBezier=b;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/engine/vectorTiles/expression/types":function(){define(["exports","../../../../../Color"],function(a,b){function C(u,r){return{kind:"array",itemType:u,n:r}}function w(u){if("array"===
u.kind){const r=w(u.itemType);return"number"===typeof u.n?`array<${r}, ${u.n}>`:"value"===u.itemType.kind?"array":`array<${r}>`}return u.kind}function f(u){if(null===u)return k;if("string"===typeof u)return d;if("boolean"===typeof u)return e;if("number"===typeof u)return p;if(u instanceof b)return l;if(Array.isArray(u)){let r;for(const n of u){const h=f(n);if(!r)r=h;else if(r!==h){r=c;break}}return C(r||c,u.length)}return"object"===typeof u?g:c}function t(u,r){if("array"===r.kind)return"array"===
u.kind&&(0===u.n&&"value"===u.itemType.kind||t(u.itemType,r.itemType))&&("number"!==typeof r.n||r.n===u.n);if("value"===r.kind)for(const n of m)if(t(u,n))return!0;return r.kind===u.kind}const k={kind:"null"},p={kind:"number"},d={kind:"string"},e={kind:"boolean"},l={kind:"color"},g={kind:"object"},c={kind:"value"},m=[k,p,d,e,l,g,C(c)];a.BooleanType=e;a.ColorType=l;a.NullType=k;a.NumberType=p;a.ObjectType=g;a.StringType=d;a.ValueType=c;a.arrayType=C;a.getType=f;a.matchType=t;a.typeToString=w;a.valueToString=
function(u){if(null===u)return"";const r=typeof u;return"string"===r?u:"number"===r||"boolean"===r?String(u):u instanceof b?u.toString():JSON.stringify(u)};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/engine/vectorTiles/style/StyleProperty":function(){define(["../../../../../Color","../GeometryUtils","../expression/expression","../expression/types"],function(a,b,C,w){return function(){function f(k,p){this.isDataDriven=!1;this.interpolator=
null;switch(k.type){case "number":var d=!0;break;case "color":d=!0;break;case "array":d="number"===k.value;break;default:d=!1}null==p&&(p=k.default);if(Array.isArray(p)&&0<p.length&&C.ops[p[0]]){d={number:w.NumberType,color:w.ColorType,string:w.StringType,boolean:w.BooleanType,enum:w.StringType};try{var e="array"===k.type?w.arrayType(d[k.value]||w.ValueType,k.length):d[k.type];const l=C.createExpression(p,null,e);this.getValue=this._buildExpression(l,k);this.isDataDriven=!0;l instanceof C.Interpolate&&
l.input instanceof C.Zoom&&(this.interpolator=l)}catch(l){console.log(l.message),this.getValue=this._buildSimple(k.default)}}else{d&&"interval"===p.type&&(d=!1);if(e=p&&p.stops&&0<p.stops.length)for(const l of p.stops)l[1]=this._validate(l[1],k);if(this.isDataDriven=p?!!p.property:!1)if(void 0!==p.default&&(p.default=this._validate(p.default,k)),e)switch(p.type){case "identity":this.getValue=this._buildIdentity(p,k);break;case "categorical":this.getValue=this._buildCategorical(p,k);break;default:this.getValue=
d?this._buildInterpolate(p,k):this._buildInterval(p,k)}else this.getValue=this._buildIdentity(p,k);else e?this.getValue=d?this._buildZoomInterpolate(p):this._buildZoomInterval(p):(p=this._validate(p,k),this.getValue=this._buildSimple(p))}}var t=f.prototype;t._validate=function(k,p){if("number"===p.type){if(k<p.minimum)return p.minimum;if(k>p.maximum)return p.maximum}else"color"===p.type?k=f._parseColor(k):"enum"===p.type?"string"===typeof k&&(k=p.values.indexOf(k)):"array"===p.type&&"enum"===p.value?
k=k.map(d=>"string"===typeof d?p.values.indexOf(d):d):"string"===p.type&&(k=w.valueToString(k));return k};t._buildSimple=function(k){return()=>k};t._buildExpression=function(k,p){return(d,e)=>{try{const l=k.evaluate(e,d);return void 0===l?p.default:this._validate(l,p)}catch(l){return console.log(l.message),p.default}}};t._buildIdentity=function(k,p){return(d,e)=>{let l;e&&(l=e.values[k.property]);void 0!==l&&(l=this._validate(l,p));return null!=l?l:void 0!==k.default?k.default:p.default}};t._buildCategorical=
function(k,p){return(d,e)=>{let l;e&&(l=e.values[k.property]);l=this._categorical(l,k.stops);return void 0!==l?l:void 0!==k.default?k.default:p.default}};t._buildInterval=function(k,p){return(d,e)=>{let l;e&&(l=e.values[k.property]);return"number"===typeof l?this._interval(l,k.stops):void 0!==k.default?k.default:p.default}};t._buildInterpolate=function(k,p){return(d,e)=>{let l;e&&(l=e.values[k.property]);return"number"===typeof l?this._interpolate(l,k.stops,k.base||1):void 0!==k.default?k.default:
p.default}};t._buildZoomInterpolate=function(k){return p=>this._interpolate(p,k.stops,k.base||1)};t._buildZoomInterval=function(k){return p=>this._interval(p,k.stops)};t._categorical=function(k,p){const d=p.length;for(let e=0;e<d;e++)if(p[e][0]===k)return p[e][1]};t._interval=function(k,p){const d=p.length;let e=0;for(let l=0;l<d;l++)if(p[l][0]<=k)e=l;else break;return p[e][1]};t._interpolate=function(k,p,d){const e=p.length;for(let c=0;c<e;c++){const m=p[c];if(m[0]<=k)var l=m;else{var g=m;break}}if(l&&
g){p=g[0]-l[0];k-=l[0];d=1===d?k/p:(d**k-1)/(d**p-1);if(Array.isArray(l[1])){l=l[1];g=g[1];k=[];for(p=0;p<l.length;p++)k.push(b.interpolate(l[p],g[p],d));return k}return b.interpolate(l[1],g[1],d)}if(l)return l[1];if(g)return g[1]};f._isEmpty=function(k){for(const p in k)if(k.hasOwnProperty(p))return!1;return!0};f._parseColor=function(k){if(Array.isArray(k))return k;"string"===typeof k&&(k=new a(k));if(k instanceof a&&!this._isEmpty(k))return a.toUnitRGBA(k)};return f}()})},"esri/views/2d/engine/webgl/TileClipper":function(){define(["exports",
"../../../../chunks/_rollupPluginBabelHelpers","./definitions","./Geometry","./GeometryUtils"],function(a,b,C,w,f){let t=function(l,g,c){this.ratio=l;this.x=g;this.y=c},k=function(){function l(c,m,u,r=8,n=8){this._lines=[];this._starts=[];this.validateTessellation=!0;this._pixelRatio=r;this._pixelMargin=n;this._tileSize=C.TILE_SIZE*r;this._dz=c;this._yPos=m;this._xPos=u}var g=l.prototype;g.setPixelMargin=function(c){c!==this._pixelMargin&&(this._pixelMargin=c,this.setExtent(this._extent))};g.setExtent=
function(c){this._extent=c;this._finalRatio=this._tileSize/c*(1<<this._dz);let m=this._pixelRatio*this._pixelMargin;m/=this._finalRatio;c>>=this._dz;m>c&&(m=c);this._margin=m;this._xmin=c*this._xPos-m;this._ymin=c*this._yPos-m;this._xmax=this._xmin+c+2*m;this._ymax=this._ymin+c+2*m};g.reset=function(c){this._type=c;this._lines=[];this._starts=[];this._line=null;this._start=0};g.moveTo=function(c,m){this._pushLine();this._prevIsIn=this._isIn(c,m);this._moveTo(c,m,this._prevIsIn);this._prevPt=new w.Point(c,
m);this._firstPt=new w.Point(c,m);this._dist=0};g.lineTo=function(c,m){const u=this._isIn(c,m),r=new w.Point(c,m),n=w.Point.distance(this._prevPt,r);if(u)if(this._prevIsIn)this._lineTo(c,m,!0);else{var h=this._prevPt;var q=r;c=this._intersect(q,h);this._start=this._dist+n*(1-this._r);this._lineTo(c.x,c.y,!0);this._lineTo(q.x,q.y,!0)}else if(this._prevIsIn)q=this._prevPt,h=r,c=this._intersect(q,h),this._lineTo(c.x,c.y,!0),this._lineTo(h.x,h.y,!1);else{const v=this._prevPt;if(!(v.x<=this._xmin&&r.x<=
this._xmin||v.x>=this._xmax&&r.x>=this._xmax||v.y<=this._ymin&&r.y<=this._ymin||v.y>=this._ymax&&r.y>=this._ymax)){c=[];if(v.x<this._xmin&&r.x>this._xmin||v.x>this._xmin&&r.x<this._xmin){m=(this._xmin-v.x)/(r.x-v.x);var D=v.y+m*(r.y-v.y);D<=this._ymin?q=!1:D>=this._ymax?q=!0:c.push(new t(m,this._xmin,D))}if(v.x<this._xmax&&r.x>this._xmax||v.x>this._xmax&&r.x<this._xmax)m=(this._xmax-v.x)/(r.x-v.x),D=v.y+m*(r.y-v.y),D<=this._ymin?q=!1:D>=this._ymax?q=!0:c.push(new t(m,this._xmax,D));if(v.y<this._ymin&&
r.y>this._ymin||v.y>this._ymin&&r.y<this._ymin)m=(this._ymin-v.y)/(r.y-v.y),D=v.x+m*(r.x-v.x),D<=this._xmin?h=!1:D>=this._xmax?h=!0:c.push(new t(m,D,this._ymin));if(v.y<this._ymax&&r.y>this._ymax||v.y>this._ymax&&r.y<this._ymax)m=(this._ymax-v.y)/(r.y-v.y),D=v.x+m*(r.x-v.x),D<=this._xmin?h=!1:D>=this._xmax?h=!0:c.push(new t(m,D,this._ymax));if(0===c.length)h?q?this._lineTo(this._xmax,this._ymax,!0):this._lineTo(this._xmax,this._ymin,!0):q?this._lineTo(this._xmin,this._ymax,!0):this._lineTo(this._xmin,
this._ymin,!0);else if(1<c.length&&c[0].ratio>c[1].ratio)this._start=this._dist+n*c[1].ratio,this._lineTo(c[1].x,c[1].y,!0),this._lineTo(c[0].x,c[0].y,!0);else for(this._start=this._dist+n*c[0].ratio,h=0;h<c.length;h++)this._lineTo(c[h].x,c[h].y,!0)}this._lineTo(r.x,r.y,!1)}this._dist+=n;this._prevIsIn=u;this._prevPt=r};g.close=function(){if(2<this._line.length){var c=this._firstPt,m=this._prevPt;c.x===m.x&&c.y===m.y||this.lineTo(c.x,c.y);c=this._line;for(m=c.length;4<=m;)if(c[0].x===c[1].x&&c[0].x===
c[m-2].x||c[0].y===c[1].y&&c[0].y===c[m-2].y)c.pop(),c[0].x=c[m-2].x,c[0].y=c[m-2].y,--m;else break}};g.result=function(c=!0){this._pushLine();if(0===this._lines.length)return null;this._type===w.GeometryType.Polygon&&c&&e.simplify(this._tileSize,this._margin*this._finalRatio,this._lines);return this._lines};g.resultWithStarts=function(){if(this._type!==w.GeometryType.LineString)throw Error("Only valid for lines");this._pushLine();const c=this._lines,m=c.length;if(0===m)return null;const u=[];for(let r=
0;r<m;r++)u.push({line:c[r],start:this._starts[r]||0});return u};g._isIn=function(c,m){return c>=this._xmin&&c<=this._xmax&&m>=this._ymin&&m<=this._ymax};g._intersect=function(c,m){let u,r,n;if(m.x>=this._xmin&&m.x<=this._xmax)r=m.y<=this._ymin?this._ymin:this._ymax,n=(r-c.y)/(m.y-c.y),u=c.x+n*(m.x-c.x);else if(m.y>=this._ymin&&m.y<=this._ymax)u=m.x<=this._xmin?this._xmin:this._xmax,n=(u-c.x)/(m.x-c.x),r=c.y+n*(m.y-c.y);else{r=m.y<=this._ymin?this._ymin:this._ymax;u=m.x<=this._xmin?this._xmin:this._xmax;
const h=(u-c.x)/(m.x-c.x),q=(r-c.y)/(m.y-c.y);h<q?(n=h,r=c.y+h*(m.y-c.y)):(n=q,u=c.x+q*(m.x-c.x))}this._r=n;return new w.Point(u,r)};g._pushLine=function(){this._line&&(this._type===w.GeometryType.Point?0<this._line.length&&(this._lines.push(this._line),this._starts.push(this._start)):this._type===w.GeometryType.LineString?1<this._line.length&&(this._lines.push(this._line),this._starts.push(this._start)):this._type===w.GeometryType.Polygon&&3<this._line.length&&(this._lines.push(this._line),this._starts.push(this._start)));
this._line=[];this._start=0};g._moveTo=function(c,m,u){this._type!==w.GeometryType.Polygon?u&&(c=Math.round((c-(this._xmin+this._margin))*this._finalRatio),m=Math.round((m-(this._ymin+this._margin))*this._finalRatio),this._line.push(new w.Point(c,m))):(u||(c<this._xmin&&(c=this._xmin),c>this._xmax&&(c=this._xmax),m<this._ymin&&(m=this._ymin),m>this._ymax&&(m=this._ymax)),c=Math.round((c-(this._xmin+this._margin))*this._finalRatio),m=Math.round((m-(this._ymin+this._margin))*this._finalRatio),this._line.push(new w.Point(c,
m)),this._isV=this._isH=!1)};g._lineTo=function(c,m,u){if(this._type!==w.GeometryType.Polygon)if(u){c=Math.round((c-(this._xmin+this._margin))*this._finalRatio);m=Math.round((m-(this._ymin+this._margin))*this._finalRatio);if(0<this._line.length&&(u=this._line[this._line.length-1],u.equals(c,m)))return;this._line.push(new w.Point(c,m))}else this._line&&0<this._line.length&&this._pushLine();else if(u||(c<this._xmin&&(c=this._xmin),c>this._xmax&&(c=this._xmax),m<this._ymin&&(m=this._ymin),m>this._ymax&&
(m=this._ymax)),c=Math.round((c-(this._xmin+this._margin))*this._finalRatio),m=Math.round((m-(this._ymin+this._margin))*this._finalRatio),this._line&&0<this._line.length){u=this._line[this._line.length-1];const r=u.x===c,n=u.y===m;r&&n||(this._isH&&r?(u.x=c,u.y=m,u=this._line[this._line.length-2],u.x===c&&u.y===m?(this._line.pop(),1>=this._line.length?this._isV=this._isH=!1:(u=this._line[this._line.length-2],this._isH=u.x===c,this._isV=u.y===m)):(this._isH=u.x===c,this._isV=u.y===m)):this._isV&&n?
(u.x=c,u.y=m,u=this._line[this._line.length-2],u.x===c&&u.y===m?(this._line.pop(),1>=this._line.length?this._isV=this._isH=!1:(u=this._line[this._line.length-2],this._isH=u.x===c,this._isV=u.y===m)):(this._isH=u.x===c,this._isV=u.y===m)):(this._line.push(new w.Point(c,m)),this._isH=r,this._isV=n))}else this._line.push(new w.Point(c,m))};return l}(),p=function(){function l(){}var g=l.prototype;g.setExtent=function(c){this._ratio=4096===c?1:4096/c};g.reset=function(c){this._lines=[];this._line=null};
g.moveTo=function(c,m){this._line&&this._lines.push(this._line);this._line=[];const u=this._ratio;this._line.push(new w.Point(c*u,m*u))};g.lineTo=function(c,m){const u=this._ratio;this._line.push(new w.Point(c*u,m*u))};g.close=function(){const c=this._line;c&&!c[0].isEqual(c[c.length-1])&&c.push(c[0])};g.result=function(){this._line&&this._lines.push(this._line);return 0===this._lines.length?null:this._lines};b._createClass(l,[{key:"validateTessellation",get:function(){return 1>this._ratio}}]);return l}();
var d;(function(l){l[l.sideLeft=0]="sideLeft";l[l.sideRight=1]="sideRight";l[l.sideTop=2]="sideTop";l[l.sideBottom=3]="sideBottom"})(d||(d={}));let e=function(){function l(){}l.simplify=function(g,c,m){if(m){var u=-c,r=g+c,n=-c,h=g+c;g=[];c=[];var q=m.length;for(let D=0;D<q;++D){const v=m[D];if(!v||2>v.length)continue;let z=v[0],B;const E=v.length;for(let x=1;x<E;++x)B=v[x],z.x===B.x&&(z.x<=u&&(z.y>B.y?(g.push(D),g.push(x),g.push(d.sideLeft),g.push(-1)):(c.push(D),c.push(x),c.push(d.sideLeft),c.push(-1))),
z.x>=r&&(z.y<B.y?(g.push(D),g.push(x),g.push(d.sideRight),g.push(-1)):(c.push(D),c.push(x),c.push(d.sideRight),c.push(-1)))),z.y===B.y&&(z.y<=n&&(z.x<B.x?(g.push(D),g.push(x),g.push(d.sideTop),g.push(-1)):(c.push(D),c.push(x),c.push(d.sideTop),c.push(-1))),z.y>=h&&(z.x>B.x?(g.push(D),g.push(x),g.push(d.sideBottom),g.push(-1)):(c.push(D),c.push(x),c.push(d.sideBottom),c.push(-1)))),z=B}0!==g.length&&0!==c.length&&(l.fillParent(m,c,g),l.fillParent(m,g,c),u=[],l.calcDeltas(u,c,g),l.calcDeltas(u,g,c),
l.addDeltas(u,m))}};l.fillParent=function(g,c,m){const u=m.length,r=c.length;for(let v=0;v<r;v+=4){var n=c[v],h=c[v+1];const z=c[v+2],B=g[n][h-1];n=g[n][h];h=8092;let E=-1;for(let x=0;x<u;x+=4){if(m[x+2]!==z)continue;var q=m[x];const y=m[x+1];var D=g[q][y-1];q=g[q][y];switch(z){case d.sideLeft:case d.sideRight:f.between(B.y,D.y,q.y)&&f.between(n.y,D.y,q.y)&&(D=Math.abs(q.y-D.y),D<h&&(h=D,E=x));break;case d.sideTop:case d.sideBottom:f.between(B.x,D.x,q.x)&&f.between(n.x,D.x,q.x)&&(D=Math.abs(q.x-D.x),
D<h&&(h=D,E=x))}}c[v+3]=E}};l.calcDeltas=function(g,c,m){const u=c.length;for(let r=0;r<u;r+=4){const n=l.calcDelta(r,c,m,[]);g.push(c[r]);g.push(c[r+1]);g.push(c[r+2]);g.push(n)}};l.calcDelta=function(g,c,m,u){g=c[g+3];if(-1===g)return 0;const r=u.length;if(1<r&&u[r-2]===g)return 0;u.push(g);return l.calcDelta(g,m,c,u)+1};l.addDeltas=function(g,c){const m=g.length;let u=0;for(var r=0;r<m;r+=4){var n=g[r+3];n>u&&(u=n)}for(r=0;r<m;r+=4){n=c[g[r]];const h=g[r+1],q=u-g[r+3];switch(g[r+2]){case d.sideLeft:n[h-
1].x-=q;n[h].x-=q;1===h&&(n[n.length-1].x-=q);h===n.length-1&&(n[0].x-=q);break;case d.sideRight:n[h-1].x+=q;n[h].x+=q;1===h&&(n[n.length-1].x+=q);h===n.length-1&&(n[0].x+=q);break;case d.sideTop:n[h-1].y-=q;n[h].y-=q;1===h&&(n[n.length-1].y-=q);h===n.length-1&&(n[0].y-=q);break;case d.sideBottom:n[h-1].y+=q,n[h].y+=q,1===h&&(n[n.length-1].y+=q),h===n.length-1&&(n[0].y+=q)}}};return l}();a.SimpleBuilder=p;a.TileClipper=k;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/views/2d/engine/webgl/GeometryUtils":function(){define(["exports"],function(a){function b(p,d){p%=d;return 0<=p?p:p+d}const C=Number.POSITIVE_INFINITY,w=Math.PI,f=128/w,t=256/360,k=1/Math.LN2;a.C_256_TO_RAD=w/128;a.C_2PI=2*w;a.C_DEG_TO_256=t;a.C_DEG_TO_RAD=w/180;a.C_INFINITY=C;a.C_PI=w;a.C_PI_BY_2=w/2;a.C_RAD_TO_256=f;a.C_SQRT2=1.414213562;a.C_SQRT2_INV=1/1.414213562;a.between=function(p,d,e){return p>=d&&p<=e||p>=e&&p<=d};a.degToByte=function(p){return b(p*t,256)};a.interpolate=function(p,
d,e){return p*(1-e)+d*e};a.log2=function(p){return Math.log(p)*k};a.positiveMod=b;a.radToByte=function(p){return b(p*f,256)};a.sqr=function(p){return p*p};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/tiling/enums":function(){define(["exports"],function(a){a.TileStatus=void 0;var b=a.TileStatus||(a.TileStatus={});b[b.INITIALIZED=0]="INITIALIZED";b[b.NO_DATA=1]="NO_DATA";b[b.READY=2]="READY";b[b.MODIFIED=3]="MODIFIED";b[b.INVALID=4]="INVALID";
Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/engine/vectorTiles/style/StyleRepository":function(){define(["./StyleDefinition","./StyleLayer"],function(a,b){return function(){function C(f){this._style=f;this.backgroundBucketIds=[];this._uidToLayer=new Map;this._layerByName={};this._runningId=0;f.layers||(f.layers=[]);this.version=parseFloat(f.version);if(this.layers=f.layers.map((t,k,p)=>this._create(t,k,p)).filter(t=>!!t))for(let t=0;t<
this.layers.length;t++)f=this.layers[t],this._layerByName[f.id]=f,this._uidToLayer.set(f.uid,f),f.type===a.StyleLayerType.BACKGROUND&&this.backgroundBucketIds.push(f.id);this._identifyRefLayers()}var w=C.prototype;w.isPainterDataDriven=function(f){return(f=this._layerByName[f])?f.isPainterDataDriven():!1};w.getStyleLayerId=function(f){return f>=this.layers.length?null:this.layers[f].id};w.getStyleLayerByUID=function(f){return this._uidToLayer.get(f)??null};w.getStyleLayerIndex=function(f){return(f=
this._layerByName[f])?this.layers.indexOf(f):-1};w.setStyleLayer=function(f,t){if(f&&f.id){var k=this._style;null!=t&&t>=this.layers.length&&(t=this.layers.length-1);var p=!0,d;if(d=this._layerByName[f.id]){const e=this.layers.indexOf(d);t||(t=e);t===e?(p=!1,d=C._recreateLayer(f,d),this.layers[t]=d,k.layers[t]=f):(this.layers.splice(e,1),k.layers.splice(e,1),d=this._create(f,t,this.layers),this.layers.splice(t,0,d),k.layers.splice(t,0,f))}else d=this._create(f,t,this.layers),!t||t>=this.layers.length?
(this.layers.push(d),k.layers.push(f)):(this.layers.splice(t,0,d),k.layers.splice(t,0,f));this._layerByName[f.id]=d;this._uidToLayer.set(d.uid,d);p&&this._recomputeZValues();this._identifyRefLayers()}};w.getStyleLayer=function(f){return(f=this._layerByName[f])?{type:f.typeName,id:f.id,source:f.source,"source-layer":f.sourceLayer,minzoom:f.minzoom,maxzoom:f.maxzoom,filter:f.filter,layout:f.layout,paint:f.paint}:null};w.deleteStyleLayer=function(f){const t=this._layerByName[f];t&&(delete this._layerByName[f],
this._uidToLayer.delete(t.uid),f=this.layers.indexOf(t),this.layers.splice(f,1),this._style.layers.splice(f,1),this._recomputeZValues(),this._identifyRefLayers())};w.getLayerById=function(f){return this._layerByName[f]};w.getLayoutProperties=function(f){return(f=this._layerByName[f])?f.layout:null};w.getPaintProperties=function(f){return(f=this._layerByName[f])?f.paint:null};w.setPaintProperties=function(f,t){if(f=this._layerByName[f]){var k=C._recreateLayer({type:f.typeName,id:f.id,source:f.source,
"source-layer":f.sourceLayer,minzoom:f.minzoom,maxzoom:f.maxzoom,filter:f.filter,layout:f.layout,paint:t},f),p=this.layers.indexOf(f);this.layers[p]=k;this._style.layers[p].paint=t;this._layerByName[f.id]=k;this._uidToLayer.set(f.uid,k)}};w.setLayoutProperties=function(f,t){if(f=this._layerByName[f]){var k=C._recreateLayer({type:f.typeName,id:f.id,source:f.source,"source-layer":f.sourceLayer,minzoom:f.minzoom,maxzoom:f.maxzoom,filter:f.filter,layout:t,paint:f.paint},f),p=this.layers.indexOf(f);this.layers[p]=
k;this._style.layers[p].layout=t;this._layerByName[f.id]=k;this._uidToLayer.set(f.uid,k)}};w.setStyleLayerVisibility=function(f,t){if(f=this._layerByName[f]){var k=f.layout||{};k.visibility=t;t=C._recreateLayer({type:f.typeName,id:f.id,source:f.source,"source-layer":f.sourceLayer,minzoom:f.minzoom,maxzoom:f.maxzoom,filter:f.filter,layout:k,paint:f.paint},f);var p=this.layers.indexOf(f);this.layers[p]=t;this._style.layers[p].layout=k;this._layerByName[f.id]=t;this._uidToLayer.set(f.uid,t)}};w.getStyleLayerVisibility=
function(f){return(f=this._layerByName[f])?f.layout?.visibility??"visible":"none"};w._recomputeZValues=function(){const f=this.layers,t=1/(f.length+1);for(let k=0;k<f.length;k++)f[k].z=1-(1+k)*t};w._identifyRefLayers=function(){const f=[],t=[];let k=0;for(const e of this.layers){const l=e.layout;if(e.type===a.StyleLayerType.FILL){var p=e,d=e.source+"|"+e.sourceLayer;d+="|"+(l?.visibility??"");d+="|"+e.minzoom;d+="|"+e.maxzoom;d+="|"+JSON.stringify(e.filter);if(p.hasDataDrivenFill||p.hasDataDrivenOutline)d+=
"|"+k;f.push({key:d,layer:e})}else if(e.type===a.StyleLayerType.LINE){p=e;d=e.paint;d=null!=d&&(null!=d["line-pattern"]||null!=d["line-dasharray"]);let g=e.source+"|"+e.sourceLayer;g+="|"+(l?.visibility??"");g+="|"+e.minzoom;g+="|"+e.maxzoom;g+="|"+JSON.stringify(e.filter);g+="|"+(void 0!==l?l["line-cap"]:"");g+="|"+(void 0!==l?l["line-join"]:"");if(p.hasDataDrivenLine||d)g+="|"+k;t.push({key:g,layer:e})}++k}this._assignRefLayers(f);this._assignRefLayers(t)};w._assignRefLayers=function(f){f.sort((l,
g)=>l.key<g.key?-1:l.key>g.key?1:0);let t,k;const p=f.length;for(let l=0;l<p;l++){const g=f[l];if(g.key===t)g.layer.refLayerId=k;else if(t=g.key,k=g.layer.id,g.layer.type===a.StyleLayerType.FILL){if(!g.layer.getPaintProperty("fill-outline-color"))for(var d=l+1;d<p;d++){var e=f[d];if(e.key===t){if(e.layer.getPaintProperty("fill-outline-color")){f[l]=e;f[d]=g;k=e.layer.id;break}}else break}}else if(g.layer.type===a.StyleLayerType.LINE)for(d=g.layer,e=l+1;e<p;e++){const c=f[e];if(c.key!==t)break;const m=
c.layer;if(d.canUseThinTessellation&&!m.canUseThinTessellation||!d.canUseThinTessellation&&(m.getPaintProperty("line-pattern")||m.getPaintProperty("line-dasharray")))d=m,f[l]=c,f[e]=g,k=c.layer.id}}};w._create=function(f,t,k){t=1-1/(k.length+1)*(1+t);k=this._runningId++;switch(f.type){case "background":return new b.BackgroundStyleLayer(a.StyleLayerType.BACKGROUND,f,t,k);case "fill":return new b.FillStyleLayer(a.StyleLayerType.FILL,f,t,k);case "line":return new b.LineStyleLayer(a.StyleLayerType.LINE,
f,t,k);case "symbol":return new b.SymbolStyleLayer(a.StyleLayerType.SYMBOL,f,t,k);case "raster":console.warn(`Unsupported vector tile raster layer ${f.id}`);case "circle":return new b.CircleStyleLayer(a.StyleLayerType.CIRCLE,f,t,k)}};C._recreateLayer=function(f,t){switch(f.type){case "background":return new b.BackgroundStyleLayer(a.StyleLayerType.BACKGROUND,f,t.z,t.uid);case "fill":return new b.FillStyleLayer(a.StyleLayerType.FILL,f,t.z,t.uid);case "line":return new b.LineStyleLayer(a.StyleLayerType.LINE,
f,t.z,t.uid);case "symbol":return new b.SymbolStyleLayer(a.StyleLayerType.SYMBOL,f,t.z,t.uid);case "raster":console.warn(`Unsupported vector tile raster layer ${f.id}`);case "circle":return new b.CircleStyleLayer(a.StyleLayerType.CIRCLE,f,t.z,t.uid)}};return C}()})},"esri/geometry":function(){define("exports ./core/accessorSupport/ensureType ./geometry/Extent ./geometry/Geometry ./geometry/Multipoint ./geometry/Point ./geometry/Polygon ./geometry/Polyline ./geometry/SpatialReference ./geometry/support/typeUtils ./geometry/support/jsonUtils".split(" "),
function(a,b,C,w,f,t,k,p,d,e,l){const g={base:w,key:"type",typeMap:{extent:C,multipoint:f,point:t,polyline:p,polygon:k}};b=b.ensureOneOfType(g);a.Extent=C;a.BaseGeometry=w;a.Multipoint=f;a.Point=t;a.Polygon=k;a.Polyline=p;a.SpatialReference=d;a.featureGeometryTypeKebabDictionary=e.featureGeometryTypeKebabDictionary;a.isFeatureGeometryType=e.isFeatureGeometryType;a.typeKebabDictionary=e.typeKebabDictionary;a.fromJSON=l.fromJSON;a.ensureType=b;a.geometryTypes=g;a.isGeometry=function(c){return c instanceof
w};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/Extent":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/maybe ../core/string ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ./Geometry ./Point ./SpatialReference ./support/contains ./support/intersectsBase ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
function(a,b,C,w,f,t,k,p,d,e,l,g,c,m,u){function r(h,q,D){return null==q?D:null==D?q:h(q,D)}var n;t=n=function(h){function q(...v){v=h.call(this,...v)||this;v.type="extent";v.xmin=0;v.ymin=0;v.mmin=void 0;v.zmin=void 0;v.xmax=0;v.ymax=0;v.mmax=void 0;v.zmax=void 0;return v}a._inheritsLoose(q,h);var D=q.prototype;D.normalizeCtorArgs=function(v,z,B,E,x){return!v||"esri.geometry.SpatialReference"!==v.declaredClass&&null==v.wkid?"object"===typeof v?(v.spatialReference=null==v.spatialReference?l.WGS84:
v.spatialReference,v):{xmin:v,ymin:z,xmax:B,ymax:E,spatialReference:null==x?l.WGS84:x}:{spatialReference:v,xmin:0,ymin:0,xmax:0,ymax:0}};q.fromBounds=function(v,z){return new n({xmin:v[0],ymin:v[1],xmax:v[2],ymax:v[3],spatialReference:z})};q.fromPoint=function(v){return new n({xmin:v.x,ymin:v.y,zmin:v.z,xmax:v.x,ymax:v.y,zmax:v.z,spatialReference:v.spatialReference})};D.centerAt=function(v){const z=this.center;return null!=v.z&&this.hasZ?this.offset(v.x-z.x,v.y-z.y,v.z-z.z):this.offset(v.x-z.x,v.y-
z.y)};D.clone=function(){const v=new n;v.xmin=this.xmin;v.ymin=this.ymin;v.xmax=this.xmax;v.ymax=this.ymax;v.spatialReference=this.spatialReference;null!=this.zmin&&(v.zmin=this.zmin,v.zmax=this.zmax);null!=this.mmin&&(v.mmin=this.mmin,v.mmax=this.mmax);return v};D.contains=function(v){if(!v)return!1;const z=this.spatialReference,B=v.spatialReference;z&&B&&!z.equals(B)&&u.canProject(z,B)&&(v=z.isWebMercator?u.geographicToWebMercator(v):u.webMercatorToGeographic(v,!0));return"point"===v.type?g.extentContainsPoint(this,
v):"extent"===v.type?g.extentContainsExtent(this,v):!1};D.equals=function(v){if(this===v)return!0;if(C.isNone(v))return!1;const z=this.spatialReference,B=v.spatialReference;z&&B&&!z.equals(B)&&u.canProject(z,B)&&(v=z.isWebMercator?u.geographicToWebMercator(v):u.webMercatorToGeographic(v,!0));return this.xmin===v.xmin&&this.ymin===v.ymin&&this.zmin===v.zmin&&this.mmin===v.mmin&&this.xmax===v.xmax&&this.ymax===v.ymax&&this.zmax===v.zmax&&this.mmax===v.mmax};D.expand=function(v){v=.5*(1-v);var z=this.width*
v;const B=this.height*v;this.xmin+=z;this.ymin+=B;this.xmax-=z;this.ymax-=B;this.hasZ&&(z=(this.zmax-this.zmin)*v,this.zmin+=z,this.zmax-=z);this.hasM&&(v*=this.mmax-this.mmin,this.mmin+=v,this.mmax-=v);return this};D.intersects=function(v){if(C.isNone(v))return!1;"mesh"===v.type&&(v=v.extent);const z=this.spatialReference,B=v.spatialReference;z&&B&&!m.equals(z,B)&&u.canProject(z,B)&&(v=z.isWebMercator?u.geographicToWebMercator(v):u.webMercatorToGeographic(v,!0));return c.getFeatureExtentIntersector(v.type)(this,
v)};D.normalize=function(){const v=this._normalize(!1,!0);return Array.isArray(v)?v:[v]};D.offset=function(v,z,B){this.xmin+=v;this.ymin+=z;this.xmax+=v;this.ymax+=z;null!=B&&(this.zmin+=B,this.zmax+=B);return this};D.shiftCentralMeridian=function(){return this._normalize(!0)};D.union=function(v){if(this===v)return this;this.xmin=Math.min(this.xmin,v.xmin);this.ymin=Math.min(this.ymin,v.ymin);this.xmax=Math.max(this.xmax,v.xmax);this.ymax=Math.max(this.ymax,v.ymax);if(this.hasZ||v.hasZ)this.zmin=
r(Math.min,this.zmin,v.zmin),this.zmax=r(Math.max,this.zmax,v.zmax);if(this.hasM||v.hasM)this.mmin=r(Math.min,this.mmin,v.mmin),this.mmax=r(Math.max,this.mmax,v.mmax);return this};D.intersection=function(v){if(this===v)return this;if(C.isNone(v)||!this.intersects(v))return null;this.xmin=Math.max(this.xmin,v.xmin);this.ymin=Math.max(this.ymin,v.ymin);this.xmax=Math.min(this.xmax,v.xmax);this.ymax=Math.min(this.ymax,v.ymax);if(this.hasZ||v.hasZ)this.zmin=r(Math.max,this.zmin,v.zmin),this.zmax=r(Math.min,
this.zmax,v.zmax);if(this.hasM||v.hasM)this.mmin=r(Math.max,this.mmin,v.mmin),this.mmax=r(Math.min,this.mmax,v.mmax);return this};D.toJSON=function(v){return this.write({},v)};D._shiftCM=function(v=m.getInfo(this.spatialReference)){if(!v||!this.spatialReference)return this;const z=this.spatialReference,B=this._getCM(v);if(B){const E=z.isWebMercator?u.webMercatorToGeographic(B):B;this.xmin-=B.x;this.xmax-=B.x;z.isWebMercator||(E.x=this._normalizeX(E.x,v).x);this.spatialReference=new l(w.replace((z.isWGS84?
v.altTemplate:null)??v.wkTemplate,{Central_Meridian:E.x}))}return this};D._getCM=function(v){let z=null;const [B,E]=v.valid;v=this.xmin;const x=this.xmax;v>=B&&v<=E&&x>=B&&x<=E||(z=this.center);return z};D._normalize=function(v,z,B){const E=this.spatialReference;if(!E)return this;B=B??m.getInfo(E);if(null==B)return this;const x=this._getParts(B).map(F=>F.extent);if(2>x.length)return x[0]||this;if(2<x.length)return v?this._shiftCM(B):this.set({xmin:B.valid[0],xmax:B.valid[1]});if(v)return this._shiftCM(B);
if(z)return x;let y=!0,A=!0;x.forEach(F=>{F.hasZ||(y=!1);F.hasM||(A=!1)});return{rings:x.map(F=>{const K=[[F.xmin,F.ymin],[F.xmin,F.ymax],[F.xmax,F.ymax],[F.xmax,F.ymin],[F.xmin,F.ymin]];if(y){var M=(F.zmax-F.zmin)/2;for(let H=0;H<K.length;H++)K[H].push(M)}if(A)for(F=(F.mmax-F.mmin)/2,M=0;M<K.length;M++)K[M].push(F);return K}),hasZ:y,hasM:A,spatialReference:E}};D._getParts=function(v){let z=this.cache._parts;if(!z){z=[];const {ymin:M,ymax:H,spatialReference:I}=this;var B=this.width,E=this.xmin,x=
this.xmax;v=v||m.getInfo(I);const [J,S]=v.valid;var y=this._normalizeX(this.xmin,v);var A=y.x,F=y.frameId;y=this._normalizeX(this.xmax,v);v=y.x;y=y.frameId;var K=A===v&&0<B;if(B>2*S){B=new n(E<x?A:v,M,S,H,I);E=new n(J,M,E<x?v:A,H,I);x=new n(0,M,S,H,I);A=new n(J,M,0,H,I);v=[];K=[];B.contains(x)&&v.push(F);B.contains(A)&&K.push(F);E.contains(x)&&v.push(y);E.contains(A)&&K.push(y);for(let V=F+1;V<y;V++)v.push(V),K.push(V);z.push({extent:B,frameIds:[F]},{extent:E,frameIds:[y]},{extent:x,frameIds:v},{extent:A,
frameIds:K})}else A>v||K?z.push({extent:new n(A,M,S,H,I),frameIds:[F]},{extent:new n(J,M,v,H,I),frameIds:[y]}):z.push({extent:new n(A,M,v,H,I),frameIds:[F]});this.cache._parts=z}y=this.hasZ;B=this.hasM;if(y||B)for(F={},y&&(F.zmin=this.zmin,F.zmax=this.zmax),B&&(F.mmin=this.mmin,F.mmax=this.mmax),y=0;y<z.length;y++)z[y].extent.set(F);return z};D._normalizeX=function(v,z){const [B,E]=z.valid;z=2*E;var x=0;v>E?(x=Math.ceil(Math.abs(v-E)/z),v-=x*z):v<B&&(x=Math.ceil(Math.abs(v-B)/z),v+=x*z,x=-x);return{x:v,
frameId:x}};a._createClass(q,[{key:"cache",get:function(){this.commitProperty("xmin");this.commitProperty("ymin");this.commitProperty("zmin");this.commitProperty("mmin");this.commitProperty("xmax");this.commitProperty("ymax");this.commitProperty("zmax");this.commitProperty("mmax");this.commitProperty("spatialReference");return{}}},{key:"center",get:function(){const v=new e({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});this.hasZ&&(v.z=.5*(this.zmin+
this.zmax));this.hasM&&(v.m=.5*(this.mmin+this.mmax));return v}},{key:"extent",get:function(){return this.clone()}},{key:"hasM",get:function(){return null!=this.mmin&&null!=this.mmax}},{key:"hasZ",get:function(){return null!=this.zmin&&null!=this.zmax}},{key:"height",get:function(){return Math.abs(this.ymax-this.ymin)}},{key:"width",get:function(){return Math.abs(this.xmax-this.xmin)}}]);return q}(d);b.__decorate([f.property({readOnly:!0})],t.prototype,"cache",null);b.__decorate([f.property({readOnly:!0})],
t.prototype,"center",null);b.__decorate([f.property({readOnly:!0})],t.prototype,"extent",null);b.__decorate([f.property({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],t.prototype,"hasM",null);b.__decorate([f.property({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],t.prototype,"hasZ",null);b.__decorate([f.property({readOnly:!0})],t.prototype,"height",null);b.__decorate([f.property({readOnly:!0})],t.prototype,"width",null);b.__decorate([f.property({type:Number,json:{type:[Number,
String],write:{enabled:!0,allowNull:!0}}})],t.prototype,"xmin",void 0);b.__decorate([f.property({type:Number,json:{write:!0}})],t.prototype,"ymin",void 0);b.__decorate([f.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],t.prototype,"mmin",void 0);b.__decorate([f.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],t.prototype,"zmin",void 0);b.__decorate([f.property({type:Number,
json:{write:!0}})],t.prototype,"xmax",void 0);b.__decorate([f.property({type:Number,json:{write:!0}})],t.prototype,"ymax",void 0);b.__decorate([f.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],t.prototype,"mmax",void 0);b.__decorate([f.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],t.prototype,"zmax",void 0);t=n=b.__decorate([p.subclass("esri.geometry.Extent")],
t);t.prototype.toJSON.isDefaultToJSON=!0;return t})},"esri/chunks/tslib.es6":function(){define(["exports"],function(a){a.__decorate=function(b,C,w,f){var t=arguments.length,k=3>t?C:null===f?f=Object.getOwnPropertyDescriptor(C,w):f,p;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)k=Reflect.decorate(b,C,w,f);else for(var d=b.length-1;0<=d;d--)if(p=b[d])k=(3>t?p(k):3<t?p(C,w,k):p(C,w))||k;return 3<t&&k&&Object.defineProperty(C,w,k),k}})},"esri/core/accessorSupport/decorators/property":function(){define("exports ../../Logger ../ensureType ../get ../metadata ../set".split(" "),
function(a,b,C,w,f,t){function k(d){let e=0;var l=d;if(C.isLongFormType(d))return C.ensureLongFormType(d);for(;Array.isArray(l)&&1===l.length&&"string"!==typeof l[0]&&"number"!==typeof l[0];)l=l[0],e++;return C.isOneOf(l)?0===e?C.ensureOneOf(l):C.ensureNArrayTyped(C.ensureOneOf(l),e):1===e?C.ensureArray(l):1<e?C.ensureNArray(l,e):d.from?d.from:C.ensureType(d)}function p(d,e){return l=>{l=+d(l);null!=e.step&&(l=Math.round(l/e.step)*e.step);null!=e.min&&(l=Math.max(e.min,l));null!=e.max&&(l=Math.min(e.max,
l));return l}}a.ensureRange=p;a.property=function(d={}){return(e,l)=>{if(e===Function.prototype)throw Error(`Inappropriate use of @property() on a static field: ${e.name}.${l}. Accessor does not support static properties.`);var g=Object.getOwnPropertyDescriptor(e,l);const c=f.getOwnPropertyMetadata(e,l);g&&(g.get||g.set?(c.get=g.get||c.get,c.set=g.set||c.set):"value"in g&&("value"in d&&b.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${l}" on "${e.constructor.name}" already defined in the metadata`,
d),c.value=d.value=g.value));null!=d.readOnly&&(c.readOnly=d.readOnly);if(e=d.aliasOf){const m="string"===typeof e?e:e.source;e="string"===typeof e?null:!0===e.overridable;let u;c.dependsOn=[m];c.get=function(){let r=w.get(this,m);if("function"===typeof r){u||(u=m.split(".").slice(0,-1).join("."));const n=w.get(this,u);n&&(r=r.bind(n))}return r};c.readOnly||(c.set=e?function(r){this._override(l,r)}:function(r){t.set(this,m,r)})}e=d.type;g=d.types;c.cast||(e?c.cast=k(e):g&&(Array.isArray(g)?c.cast=
C.ensureArrayTyped(C.ensureOneOfType(g[0])):c.cast=C.ensureOneOfType(g)));f.mergeProperty(c,d);d.range&&(c.cast=p(c.cast,d.range))}};a.propertyJSONMeta=function(d,e,l){d=f.getOwnPropertyMetadata(d,l);d.json||(d.json={});d=d.json;void 0!==e&&(d.origins||(d.origins={}),d.origins[e]||(d.origins[e]={}),d=d.origins[e]);return d};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/get":function(){define(["exports","./utils"],function(a,
b){function C(t,k){t="?"===t[t.length-1]?t.slice(0,-1):t;if(null!=k.getItemAt||Array.isArray(k)){var p=parseInt(t,10);if(!isNaN(p))return Array.isArray(k)?k[p]:k.getItemAt(p)}p=b.getProperties(k);return b.isPropertyDeclared(p,t)?p.get(t):k[t]}function w(t,k,p){if(null==t)return t;if((t=C(k[p],t))||!(p<k.length-1))return p===k.length-1?t:w(t,k,p+1)}function f(t,k,p=0){return"string"!==typeof k||k.includes(".")?w(t,b.pathToArray(k),p):C(k,t)}a.exists=function(t,k){return void 0!==f(k,t)};a.get=function(t,
k){return f(t,k)};a.valueOf=f;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/utils":function(){define(["exports","../handleUtils","../lang","../maybe"],function(a,b,C,w){function f(e){return e?e.__accessor__?e.__accessor__:e.propertyInvalidated?e:null:null}function t(e,l,g){return l?Object.keys(l).reduce((c,m)=>{let u=null;var r="merge";g&&(u=g.path?`${g.path}.${m}`:m,r=g.policy(u));if("replace"===r)return c[m]=l[m],c;if(void 0===
c[m])return c[m]=C.clone(l[m]),c;let n=c[m];r=l[m];if(n===r)return c;if(Array.isArray(r)||Array.isArray(c))n=n?Array.isArray(n)?c[m]=n.concat():c[m]=[n]:c[m]=[],r&&(Array.isArray(r)||(r=[r]),r.forEach(h=>{n.includes(h)||n.push(h)}));else if(r&&"object"===typeof r)if(g){const h=g.path;g.path=w.assumeNonNull(u);c[m]=t(n,r,g);g.path=h}else c[m]=t(n,r,null);else if(!c.hasOwnProperty(m)||l.hasOwnProperty(m))c[m]=r;return c},e||{}):e}function k(e){return Array.isArray(e)?e:e.split(".")}function p(e){return e.includes(",")?
e.split(",").map(l=>l.trim()):[e.trim()]}function d(e){if(Array.isArray(e)){const l=[];for(const g of e)l.push(...p(g));return l}return p(e)}a.getDependsInfo=function(e,l){const g=f(e);return g?g.getDependsInfo(e,l,""):""};a.getProperties=f;a.isPropertyDeclared=function(e,l){return null!=e&&e.metadatas&&null!=e.metadatas[l]};a.merge=function(e,l,g){return g?t(e,l,{policy:g,path:""}):t(e,l,null)};a.once=function(e){let l=!1;return()=>{l||(l=!0,e())}};a.parse=function(e,l,g,c){l=d(l);return 1!==l.length?
(l=l.map(m=>c(e,m,g)),b.handlesGroup(l)):c(e,l[0],g)};a.parseConditionalPath=function(e){if(!e.includes("?"))return null;e=k(e);const l=Array(e.length);for(let g=0;g<e.length;g++){const c=e[g];l[g]="?"===c[c.length-1];l[g]&&(e[g]=c.slice(0,-1))}return{fullPath:e.join("."),conditional:l}};a.pathToArray=k;a.pathToStringOrArray=function(e){return!e||"string"===typeof e&&!e.includes(".")?e:k(e)};a.splitPath=d;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/core/handleUtils":function(){define(["exports","./maybe"],function(a,b){function C(w){return{remove:()=>{w&&(w(),w=void 0)}}}a.asyncHandle=function(w,f){let t=!1,k=null;w.then(p=>{t?p.remove():k=p});return C(()=>{t=!0;b.isSome(k)?k.remove():b.isSome(f)&&(f.abort(),f=null)})};a.destroyHandle=function(w){return C(b.isSome(w)?()=>w.destroy():void 0)};a.handlesGroup=function(w){return C(()=>w.forEach(f=>b.isSome(f)&&f.remove()))};a.makeHandle=C;a.refHandle=function(w){return C(()=>{const f=w();
b.isSome(f)&&f.remove()})};a.timeoutHandle=function(w,f){const t=setTimeout(w,f);return C(()=>clearTimeout(t))};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/metadata":function(){define(["exports","../lang","../maybe","./utils"],function(a,b,C,w){function f(g){let c=g.constructor.__accessorMetadata__;var m=Object.prototype.hasOwnProperty.call(g.constructor,"__accessorMetadata__");if(!c)c=new d({}),Object.defineProperty(g.constructor,
"__accessorMetadata__",{value:c,enumerable:!1,configurable:!0,writable:!0});else if(!m){m=Object.create(c.properties);const u=c.autoDestroy;for(const r in m)m[r]=b.clone(m[r]);c=new d(m);c.autoDestroy=u;Object.defineProperty(g.constructor,"__accessorMetadata__",{value:c,enumerable:!1,configurable:!0,writable:!0})}return C.assumeNonNull(g.constructor.__accessorMetadata__)}function t(g){return f(g).properties}function k(g){return e.test(g)?"replace":"merge"}function p(g){return l.test(g)?k(g.slice(11)):
"merge"}let d=function(g){this.autoDestroy=!1;this.properties=g};const e=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/,l=/^properties\./;a.ClassMetadata=d;a.getOwnClassMetadata=f;a.getOwnPropertiesMetadata=t;a.getOwnPropertyMetadata=function(g,c){g=t(g);let m=g[c];m||(m=g[c]={});return m};a.merge=function(g,c){return w.merge(g,c,p)};a.mergeProperty=function(g,c){return w.merge(g,c,k)};a.setPropertyMetadata=function(g,c,m){t(g)[c]=m};Object.defineProperties(a,{__esModule:{value:!0},
[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/set":function(){define(["exports","../Error","../has","../Logger","./get"],function(a,b,C,w,f){function t(k,p,d){if(k&&p)if("object"===typeof p)for(var e of Object.getOwnPropertyNames(p))t(k,e,p[e]);else if(p.includes("."))p=p.split("."),e=p.splice(p.length-1,1)[0],t(f.get(k,p),e,d);else{e=k.__accessor__;if(null!=e&&C("esri-unknown-property-errors")&&null==e.metadatas[p])throw new b("set:unknown-property","setting unknown property '"+
p+"' on instance of "+e.host.declaredClass);k[p]=d}}a.set=t;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/decorators/subclass":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../has ../interfaces ../metadata ../tracking ../extensions/serializableProperty".split(" "),function(a,b,C,w,f,t,k){function p(g,c){return null==c.get?function(){const m=this.__accessor__.properties.get(g);if(void 0!==m){t.trackAccess(m);
var u=this.__accessor__.store;return u.has(g)?u.get(g):m.metadata.value}}:function(){const m=this.__accessor__.properties.get(g);if(void 0!==m)return m.getComputed()}}function d(g){const c=f.getOwnClassMetadata(g.prototype).properties,m={};for(const u of Object.getOwnPropertyNames(c)){const r=c[u];k.processPrototypePropertyMetadata(r);m[u]={enumerable:!0,configurable:!0,get:p(u,r),set(n){const h=this.__accessor__;if(void 0===h)Object.defineProperty(this,u,{enumerable:!0,configurable:!0,writable:!0,
value:n});else if(!Object.isFrozen(this)){if(h.initialized&&r.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${u}' of ${this.declaredClass}`);if(h.lifecycle===w.Lifecycle.CONSTRUCTED&&r.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${u}' of ${this.declaredClass}`);h.set(u,n)}}}}Object.defineProperties(g.prototype,m)}const e=new Set,l=new Set;a.finalizeClass=d;a.subclass=function(g){return c=>{c.prototype.declaredClass=g;d(c);
const m=[],u=[];for(var r=c.prototype;r;)r.hasOwnProperty("initialize")&&!e.has(r.initialize)&&(e.add(r.initialize),m.push(r.initialize)),r.hasOwnProperty("destroy")&&!l.has(r.destroy)&&(l.add(r.destroy),u.push(r.destroy)),r=Object.getPrototypeOf(r);e.clear();l.clear();r=function(n){function h(...q){var D=n.call(this,...q)||this;if(D.constructor===h&&"function"===typeof D.postscript){m.length&&Object.defineProperty(b._assertThisInitialized(D),"initialize",{enumerable:!1,configurable:!0,value(){for(let v=
m.length-1;0<=v;v--)m[v].call(this)}});if(u.length){let v=!1;Object.defineProperty(b._assertThisInitialized(D),"destroy",{enumerable:!1,configurable:!0,value(){if(!v){v=!0;for(let z=0;z<u.length;z++)u[z].call(this)}}})}D.postscript(...q)}return D}b._inheritsLoose(h,n);return h}(c);r.__accessorMetadata__=f.getOwnClassMetadata(c.prototype);r.prototype.declaredClass=g;return r}};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/interfaces":function(){define(["exports"],
function(a){a.Lifecycle=void 0;var b=a.Lifecycle||(a.Lifecycle={});b[b.INITIALIZING=0]="INITIALIZING";b[b.CONSTRUCTING=1]="CONSTRUCTING";b[b.CONSTRUCTED=2]="CONSTRUCTED";Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/tracking":function(){define(["exports","../has","../Logger","./utils","./tracking/Flags"],function(a,b,C,w,f){function t(q){u.onObservableAccessed(q)}function k(q,D,v){if(r)return p(q,D,v);u=q;m.push(q);q=D.call(v);
d();return q}function p(q,D,v){const z=r;r=!0;u=q;m.push(q);q=null;try{q=D.call(v)}catch(B){n&&C.getLogger("esri.core.accessorSupport.tracking").error(B)}d();r=z;return q}function d(){var q=m.length;if(1<q){const D=m.pop();u=m[q-2];D.onTrackingEnd()}else 1===q?(q=m.pop(),u=c,q.onTrackingEnd()):u=c}function e(q,D){if(!(D.flags&f.Flags.DepTrackingInitialized)){var v=n;n=!1;D.flags&f.Flags.AutoTracked?p(D,D.metadata.get,q):l(q,D);n=v}}function l(q,D){D.flags&f.Flags.ExplicitlyTracking||(D.flags|=f.Flags.ExplicitlyTracking,
p(D,()=>{var v=D.metadata.dependsOn||h;for(const z of v)if("string"!==typeof z||z.includes(".")){v=w.pathToArray(z);for(let B=0,E=q;B<v.length&&null!=E&&"object"===typeof E;++B)E=g(E,v[B],B!==v.length-1)}else g(q,z,!1)}),D.flags&=~f.Flags.ExplicitlyTracking)}function g(q,D,v){D="?"===D[D.length-1]?D.slice(0,-1):D;if(null!=q.getItemAt||Array.isArray(q)){var z=parseInt(D,10);if(!isNaN(z))return Array.isArray(q)?q[z]:q.getItemAt(z)}if(z=w.getProperties(q)?.properties.get(D))t(z),e(q,z);return v?q[D]:
void 0}const c={onObservableAccessed:()=>{},onTrackingEnd:()=>{}},m=[];let u=c,r=!1,n=!1;const h=[];a.initializeDependencyTracking=e;a.runTracked=k;a.runTrackedNoThrow=p;a.runUntracked=function(q,D){return k(c,q,D)};a.trackAccess=t;a.trackExplicitDependencies=l;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/tracking/Flags":function(){define(["exports"],function(a){a.Flags=void 0;var b=a.Flags||(a.Flags={});b[b.Dirty=1]="Dirty";
b[b.Overriden=2]="Overriden";b[b.Computing=4]="Computing";b[b.NonNullable=8]="NonNullable";b[b.HasDefaultValue=16]="HasDefaultValue";b[b.DepTrackingInitialized=32]="DepTrackingInitialized";b[b.AutoTracked=64]="AutoTracked";b[b.ExplicitlyTracking=128]="ExplicitlyTracking";Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/extensions/serializableProperty":function(){define("exports ../ensureType ./serializableProperty/originAliases ./serializableProperty/reader ./serializableProperty/shorthands ./serializableProperty/writer".split(" "),
function(a,b,C,w,f,t){function k(e,l,g){let c=e&&e.json;e&&e.json&&e.json.origins&&g&&(e=g.origin&&e.json.origins[g.origin])&&("any"===l||l in e)&&(c=e);return c}function p(e){if(e.type){var l=0;for(e=e.type;Array.isArray(e)&&!b.isOneOf(e);)e=e[0],l++;return{type:e,ndimArray:l}}}function d(e){if(e.types){var l=0;for(e=e.types;Array.isArray(e);)e=e[0],l++;return{types:e,ndimArray:l}}}a.originSpecificPropertyDefinition=k;a.originSpecificReadPropertyDefinition=function(e,l){return k(e,"read",l)};a.originSpecificWritePropertyDefinition=
function(e,l){return k(e,"write",l)};a.processPrototypePropertyMetadata=function(e){if(f.process(e)){C.process(e);var l=e.json.types?d(e.json):e.type?p(e):d(e);if(e.json.origins)for(const c in e.json.origins){const m=e.json.origins[c];if(m.types){var g=m;g=g.type?p(g):d(g)}else g=l;w.create(g,m,!1);m.types&&!m.write&&e.json.write&&e.json.write.enabled&&(m.write={...e.json.write});t.create(g,m)}w.create(l,e.json,!0);t.create(l,e.json)}};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/core/accessorSupport/extensions/serializableProperty/originAliases":function(){define(["exports"],function(a){a.process=function(b){if(b.json&&b.json.origins){const C=b.json.origins;b={"web-document":["web-scene","web-map"]};for(const w in b)if(C[w]){const f=C[w];b[w].forEach(t=>{C[t]=f});delete C[w]}}};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/extensions/serializableProperty/reader":function(){define("exports ../../../Logger ../../../object ../../../Warning ../../metadata ./type".split(" "),
function(a,b,C,w,f,t){function k(h){var q=h.ndimArray??0;if(1<q)return l(h);if(1===q)return g(h);if("type"in h&&c(h.type)){q=h.type.prototype?.itemType?.Type;const D=g("function"===typeof q?{type:q}:{types:q});return(v,z,B)=>(v=D(v,z,B))?new h.type(v):v}return p(h)}function p(h){return"type"in h?d(h.type):r(h.types)}function d(h){return h.prototype.read?(q,D,v)=>{if(null==q)return q;D=typeof q;if("object"!==D)n.error(`Expected JSON value of type 'object' to deserialize type '${h.prototype.declaredClass}', but got '${D}'`);
else return D=new h,D.read(q,v),D}:h.fromJSON}function e(h,q,D,v){return 0!==v&&Array.isArray(q)?q.map(z=>e(h,z,D,v-1)):h(q,void 0,D)}function l(h){const q=p(h),D=e.bind(null,q),v=h.ndimArray??0;return(z,B,E)=>{if(null==z)return z;z=D(z,E,v);B=v;for(E=z;0<B&&Array.isArray(E);)B--,E=E[0];if(void 0!==E)for(E=0;E<B;E++)z=[z];return z}}function g(h){const q=p(h);return(D,v,z)=>{if(null==D)return D;if(Array.isArray(D)){v=[];for(const B of D)D=q(B,void 0,z),void 0!==D&&v.push(D);return v}z=q(D,void 0,z);
return void 0!==z?[z]:void 0}}function c(h){return t.isCollection(h)?(h=h.prototype.itemType)&&h.Type?"function"===typeof h.Type?m(h.Type):u(h.Type):!1:!1}function m(h){return Array.isArray(h)?!1:!!h&&h.prototype&&("read"in h.prototype||"fromJSON"in h||c(h))}function u(h){for(const q in h.typeMap)if(!m(h.typeMap[q]))return!1;return!0}function r(h){let q=null;const D=h.errorContext??"type";return(v,z,B)=>{if(null==v)return v;z=typeof v;if("object"!==z)n.error(`Expected JSON value of type 'object' to deserialize, but got '${z}'`);
else{if(!q){z={};for(var E in h.typeMap){const A=h.typeMap[E];var x=f.getOwnClassMetadata(A.prototype);if("function"===typeof h.key)continue;x=x.properties[h.key];if(!x)continue;x.json?.type&&Array.isArray(x.json.type)&&1===x.json.type.length&&"string"===typeof x.json.type[0]&&(z[x.json.type[0]]=A);x=x.json?.write;if(!x||!x.writer){z[E]=A;continue}var y=x.target;y="string"===typeof y?y:h.key;const F={};x.writer(E,F,y);F[y]&&(z[F[y]]=A)}q=z}E=h.key;if("string"===typeof E){if(z=(E=v[E])?q[E]:h.defaultKeyValue?
h.typeMap[h.defaultKeyValue]:void 0)return E=new z,E.read(v,B),E;E=`Type '${E||"unknown"}' is not supported`;B&&B.messages&&v&&B.messages.push(new w(`${D}:unsupported`,E,{definition:v,context:B}));n.error(E)}}}}const n=b.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");a.create=function(h,q,D){h&&(D||q.read)&&!q.read?.reader&&!1!==q.read?.enabled&&(D="types"in h?u(h.types):m(h.type),D&&C.setDeepValue("read.reader",k(h),q))};a.createTypeReader=k;Object.defineProperties(a,
{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/Warning":function(){define(["../chunks/_rollupPluginBabelHelpers","./Message"],function(a,b){b=function(C){function w(f,t,k){var p=C.call(this,f,t,k)||this;return a._assertThisInitialized(p)instanceof w?p:new w(f,t,k)}a._inheritsLoose(w,C);return w}(b);b.prototype.type="warning";return b})},"esri/core/accessorSupport/extensions/serializableProperty/type":function(){define(["exports"],function(a){a.isCollection=function(b){return!!b&&
b.prototype&&b.prototype.declaredClass&&0===b.prototype.declaredClass.indexOf("esri.core.Collection")};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/extensions/serializableProperty/shorthands":function(){define(["exports"],function(a){function b(f){f.name&&(f.read?"object"===typeof f.read?void 0===f.read.source&&(f.read.source=f.name):f.read={source:f.name}:f.read={source:f.name},f.write?"object"===typeof f.write?void 0===f.write.target&&
(f.write.target=f.name):f.write={target:f.name}:f.write={target:f.name})}function C(f){"boolean"===typeof f.read?f.read={enabled:f.read}:"function"===typeof f.read?f.read={enabled:!0,reader:f.read}:f.read&&"object"===typeof f.read&&void 0===f.read.enabled&&(f.read.enabled=!0)}function w(f){"boolean"===typeof f.write?f.write={enabled:f.write}:"function"===typeof f.write?f.write={enabled:!0,writer:f.write}:f.write&&"object"===typeof f.write&&void 0===f.write.enabled&&(f.write.enabled=!0)}a.process=
function(f){f.json||(f.json={});C(f.json);w(f.json);b(f.json);if(f.json.origins)for(const t in f.json.origins)C(f.json.origins[t]),w(f.json.origins[t]),b(f.json.origins[t]);return!0};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/extensions/serializableProperty/writer":function(){define(["exports","../../../Error","../../../Logger","../../../object","./type"],function(a,b,C,w,f){function t(u){return(r,n,h,q)=>{if(!r||k(r,u,q))return d(r,
n,h,q)}}function k(u,r,n){for(var h in r.typeMap)if(u instanceof r.typeMap[h])return!0;n?.messages&&(h=r.errorContext??"type",r=`Values of type '${("function"!==typeof r.key?u[r.key]:u.declaredClass)??"Unknown"}' cannot be written`,n&&n.messages&&u&&n.messages.push(new b(`${h}:unsupported`,r,{definition:u,context:n})),C.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(r));return!1}function p(u){return(r,n,h,q)=>{if(!r||!Array.isArray(r))return d(r,n,h,q);r=r.filter(D=>
k(D,u,q));return d(r,n,h,q)}}function d(u,r,n,h){w.setDeepValue(n,e(u,h),r)}function e(u,r){return u&&"function"===typeof u.write?u.write({},r):u&&"function"===typeof u.toJSON?u.toJSON():"number"===typeof u?l(u):u}function l(u){return-Infinity===u?-Number.MAX_VALUE:Infinity===u?Number.MAX_VALUE:isNaN(u)?null:u}function g(u,r,n,h){null===u?u=null:u&&"function"===typeof u.map?(u=u.map(q=>e(q,h)),"function"===typeof u.toArray&&(u=u.toArray())):u=[e(u,h)];w.setDeepValue(n,u,r)}function c(u,r,n){return 0!==
n&&Array.isArray(u)?u.map(h=>c(h,r,n-1)):e(u,r)}function m(u){return(r,n,h,q)=>{if(null===r)r=null;else{r=c(r,q,u);q=u;for(var D=r;0<q&&Array.isArray(D);)q--,D=D[0];if(void 0!==D)for(D=0;D<q;D++)r=[r]}w.setDeepValue(h,r,n)}}a.create=function(u,r){if(r.write&&!r.write.writer&&(!1!==r.write.enabled||r.write.overridePolicy)){var n=u?.ndimArray??0;u&&(1===n||"type"in u&&f.isCollection(u.type))?r.write.writer=g:1<n?r.write.writer=m(n):r.types?Array.isArray(r.types)?r.write.writer=p(r.types[0]):r.write.writer=
t(r.types):r.write.writer=d}};a.numberToJSON=l;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/Geometry":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ./SpatialReference".split(" "),function(a,b,C,w,f,t,k,p,d){C=
function(e){function l(...c){c=e.call(this,...c)||this;c.type=null;c.hasM=!1;c.hasZ=!1;c.spatialReference=d.WGS84;return c}a._inheritsLoose(l,e);var g=l.prototype;g.readSpatialReference=function(c,m){if(c instanceof d)return c;if(null!=c){const u=new d;u.read(c,m);return u}return c};g.clone=function(){console.warn(".clone() is not implemented for "+this.declaredClass);return null};g.clearCache=function(){this.notifyChange("cache")};g.getCacheValue=function(c){return this.cache[c]};g.setCacheValue=
function(c,m){this.cache[c]=m};a._createClass(l,[{key:"cache",get:function(){this.commitProperty("spatialReference");return{}}},{key:"extent",get:function(){return null}}]);return l}(C.JSONSupport);b.__decorate([w.property()],C.prototype,"type",void 0);b.__decorate([w.property({readOnly:!0})],C.prototype,"cache",null);b.__decorate([w.property({readOnly:!0})],C.prototype,"extent",null);b.__decorate([w.property({type:Boolean,json:{write:{overridePolicy(e){return{enabled:e}}}}})],C.prototype,"hasM",
void 0);b.__decorate([w.property({type:Boolean,json:{write:{overridePolicy(e){return{enabled:e}}}}})],C.prototype,"hasZ",void 0);b.__decorate([w.property({type:d,json:{write:!0}})],C.prototype,"spatialReference",void 0);b.__decorate([k.reader("spatialReference")],C.prototype,"readSpatialReference",null);return C=b.__decorate([p.subclass("esri.geometry.Geometry")],C)})},"esri/core/JSONSupport":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./maybe ./accessorSupport/DefaultsStore ./accessorSupport/defaultsStoreUtils ./accessorSupport/read ./accessorSupport/utils ./accessorSupport/write ./accessorSupport/decorators/subclass".split(" "),
function(a,b,C,w,f,t,k,p,d,e,l){const g=c=>{c=function(m){function u(...n){n=m.call(this,...n)||this;const h=f.assumeNonNull(d.getProperties(b._assertThisInitialized(n))),q=h.store,D=new t.DefaultsStore;h.store=D;k.setupConstructedDefaults(h,q,D);return n}b._inheritsLoose(u,m);var r=u.prototype;r.read=function(n,h){p.read(this,n,h)};r.write=function(n={},h){return e.write(this,n,h)};r.toJSON=function(n){return this.write({},n)};u.fromJSON=function(n,h){if(n){if(n.declaredClass)throw Error("JSON object is already hydrated");
var q=new this;q.read(n,h);n=q}else n=null;return n};return u}(c);c=C.__decorate([l.subclass("esri.core.JSONSupport")],c);c.prototype.toJSON.isDefaultToJSON=!0;return c};a.JSONSupport=function(c){function m(){return c.apply(this,arguments)||this}b._inheritsLoose(m,c);return m}(g(w));a.JSONSupport=C.__decorate([l.subclass("esri.core.JSONSupport")],a.JSONSupport);a.JSONSupportMixin=g;a.isJSONSupport=function(c){return c&&"read"in c&&"write"in c&&"toJSON"in c};Object.defineProperties(a,{__esModule:{value:!0},
[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/Accessor":function(){define("../chunks/_rollupPluginBabelHelpers ./Handles ./maybe ./accessorSupport/get ./accessorSupport/metadata ./accessorSupport/Properties ./accessorSupport/set ./accessorSupport/watch ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),function(a,b,C,w,f,t,k,p,d,e){function l(n){if(null==n)return{value:n};if(Array.isArray(n))return{type:[n[0]],value:null};switch(typeof n){case "object":return n.constructor?.__accessorMetadata__||
n instanceof Date?{type:n.constructor,value:n}:n;case "boolean":return{type:Boolean,value:n};case "string":return{type:String,value:n};case "number":return{type:Number,value:n};case "function":return{type:n,value:null}}}const g=Symbol("Accessor-Handles"),c=Symbol("Accessor-Initialized");let m=function(){function n(...q){this[u]=null;this[r]=!1;if(this.constructor===n)throw Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");Object.defineProperty(this,
"__accessor__",{enumerable:!1,value:new t(this)});0<q.length&&this.normalizeCtorArgs&&(this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,q))}n.createSubclass=function(q={}){if(Array.isArray(q))throw Error("Multi-inheritance unsupported since 4.16");const {properties:D,declaredClass:v,constructor:z}=q;delete q.declaredClass;delete q.properties;delete q.constructor;const B=this;let E=function(x){function y(...A){var F=x.call(this,...A)||this;F.inherited=null;z&&z.apply(a._assertThisInitialized(F),
A);return F}a._inheritsLoose(y,x);return y}(B);f.getOwnClassMetadata(E.prototype);for(const x in q){const y=q[x];E.prototype[x]="function"===typeof y?function(...A){const F=this.inherited;this.inherited=function(...M){if(B.prototype[x])return B.prototype[x].apply(this,M)};let K=void 0;try{K=y.apply(this,A)}catch(M){throw this.inherited=F,M;}this.inherited=F;return K}:q[x]}for(const x in D)q=l(D[x]),d.property(q)(E.prototype,x);return e.subclass(v)(E)};var h=n.prototype;h.postscript=function(q){const D=
this.__accessor__;q=D.ctorArgs||q;D.initialize();q&&(this.set(q),D.ctorArgs=null);D.constructed();this.initialize();this[c]=!0};h.initialize=function(){};h.destroy=function(){this.destroyed||(this[g]=C.destroyMaybe(this[g]),p.removeTarget(this),this.__accessor__.destroy())};h.commitProperty=function(q){this.get(q)};h.get=function(q){return w.get(this,q)};h.hasOwnProperty=function(q){return this.__accessor__?this.__accessor__.has(q):Object.prototype.hasOwnProperty.call(this,q)};h.keys=function(){return this.__accessor__?
this.__accessor__.keys():[]};h.set=function(q,D){k.set(this,q,D);return this};h.watch=function(q,D,v){return p.watch(this,q,D,v)};h.own=function(q){this.addHandles(q)};h.addHandles=function(q,D){let v=this[g];C.isNone(v)&&(v=this[g]=new b);v.add(q,D)};h.removeHandles=function(q){const D=this[g];C.isNone(D)||D.remove(q)};h.hasHandles=function(q){const D=this[g];return C.isSome(D)?D.has(q):!1};h._override=function(q,D){void 0===D?this.__accessor__.clearOverride(q):this.__accessor__.override(q,D)};h._clearOverride=
function(q){return this.__accessor__.clearOverride(q)};h._overrideIfSome=function(q,D){null==D?this.__accessor__.clearOverride(q):this.__accessor__.override(q,D)};h._isOverridden=function(q){return this.__accessor__.isOverridden(q)};h.notifyChange=function(q){this.__accessor__.notifyChange(q)};h._get=function(q){return this.__accessor__.internalGet(q)};h._set=function(q,D){this.__accessor__.internalSet(q,D);return this};a._createClass(n,[{key:"constructed",get:function(){return this.__accessor__&&
this.__accessor__.initialized||!1}},{key:"initialized",get:function(){return this[c]}},{key:"destroyed",get:function(){return this.__accessor__&&this.__accessor__.destroyed||!1}}]);return n}();var u=g;var r=c;return m})},"esri/core/Handles":function(){define(["../chunks/_rollupPluginBabelHelpers","./iteratorUtils","./maybe"],function(a,b,C){return function(){function w(){this._groups=new Map}var f=w.prototype;f.destroy=function(){this.removeAll()};f.add=function(t,k){if(b.isIterable(t)){k=this._getOrCreateGroup(k);
for(const p of t)this._isHandle(p)&&k.push(p)}else this._isHandle(t)&&this._getOrCreateGroup(k).push(t);return this};f.forEach=function(t,k){if("function"===typeof t)this._groups.forEach(p=>p.forEach(t));else{const p=this._getGroup(t);p&&k&&p.forEach(k)}};f.has=function(t){return this._groups.has(this._ensureGroupKey(t))};f.remove=function(t){if("string"!==typeof t&&b.isIterable(t)){for(const k of t)this.remove(k);return this}if(!this.has(t))return this;this._removeAllFromGroup(this._getGroup(t));
this._groups.delete(this._ensureGroupKey(t));return this};f.removeAll=function(){this._groups.forEach(t=>this._removeAllFromGroup(t));this._groups.clear();return this};f._isHandle=function(t){return t&&!!t.remove};f._getOrCreateGroup=function(t){if(this.has(t))return this._getGroup(t);const k=[];this._groups.set(this._ensureGroupKey(t),k);return k};f._getGroup=function(t){return C.assumeNonNull(this._groups.get(this._ensureGroupKey(t)))};f._ensureGroupKey=function(t){return t||"_default_"};f._removeAllFromGroup=
function(t){t.forEach(k=>k.remove())};a._createClass(w,[{key:"size",get:function(){let t=0;this._groups.forEach(k=>{t+=k.length});return t}}]);return w}()})},"esri/core/iteratorUtils":function(){define(["exports"],function(a){a.cache=function(b){const C=[];return function*(){yield*C;for(const w of b)C.push(w),yield w}};a.find=function(b,C){for(const w of b)if(null!=w&&C(w))return w};a.isIterable=function(b){return null!=b&&"function"===typeof b[Symbol.iterator]};Object.defineProperties(a,{__esModule:{value:!0},
[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/Properties":function(){define("../../chunks/_rollupPluginBabelHelpers ../has ../lang ../Logger ../ObjectPool ./interfaces ./Property ./PropertyOrigin ./Store ./tracking ./utils ./tracking/Flags".split(" "),function(a,b,C,w,f,t,k,p,d,e,l,g){w.getLogger("esri.core.accessorSupport.Properties");b=function(){function m(r){this.host=r;this.properties=new Map;this.ctorArgs=null;this.destroyed=!1;this.lifecycle=t.Lifecycle.INITIALIZING;
this.store=new d.Store;this._origin=p.OriginId.USER;r=this.host.constructor.__accessorMetadata__;const n=r.properties;for(const h in n){const q=new k.Property(this,h,n[h]);this.properties.set(h,q)}this.metadatas=n;this._autoDestroy=r.autoDestroy}var u=m.prototype;u.initialize=function(){this.lifecycle=t.Lifecycle.CONSTRUCTING};u.constructed=function(){this.lifecycle=t.Lifecycle.CONSTRUCTED};u.destroy=function(){this.destroyed=!0;if(this._autoDestroy)for(const [n,h]of this.properties){var r=this.internalGet(n);
r&&r&&"function"===typeof r.destroy&&(r.destroy(),~h.flags&g.Flags.NonNullable&&this._internalSet(h,null));h.destroy()}else for([,r]of this.properties)r.destroy()};u.get=function(r){const n=this.properties.get(r);if(n.metadata.get)return n.getComputed();e.trackAccess(n);const h=this.store;return h.has(r)?h.get(r):n.metadata.value};u.originOf=function(r){const n=this.store.originOf(r);return void 0===n&&(r=this.properties.get(r),void 0!==r&&r.flags&g.Flags.HasDefaultValue)?"defaults":p.idToName(n)};
u.has=function(r){return this.properties.has(r)?this.store.has(r):!1};u.keys=function(){return[...this.properties.keys()]};u.internalGet=function(r){const n=this.properties.get(r);if(void 0!==n)return this.store.has(r)?this.store.get(r):n.metadata.value};u.internalSet=function(r,n){r=this.properties.get(r);void 0!==r&&this._internalSet(r,n)};u.getDependsInfo=function(r,n,h){const q=this.properties.get(n);if(void 0===q)return"";const D=new Set;var v=e.runTracked({onObservableAccessed:B=>D.add(B),onTrackingEnd:()=>
{}},()=>q.metadata.get?.call(r)),z=r.declaredClass.split(".").pop();n=`${h}${z}.${n}: ${v}\n`;if(0===D.size)return n;h+="  ";for(const B of D){if(!(B instanceof k.Property))continue;v=B.properties.host;z=B.propertyName;const E=l.getProperties(v);n=E?n+E.getDependsInfo(v,z,h):n+`${h}${z}: undefined\n`}return n};u.setAtOrigin=function(r,n,h){r=this.properties.get(r);if(void 0!==r)return this._setAtOrigin(r,n,h)};u.isOverridden=function(r){r=this.properties.get(r);return void 0!==r&&!!(r.flags&g.Flags.Overriden)};
u.clearOverride=function(r){r=this.properties.get(r);void 0!==r&&r.flags&g.Flags.Overriden&&(r.flags&=~g.Flags.Overriden,r.notifyChange())};u.override=function(r,n){r=this.properties.get(r);if(!(void 0===r||null==n&&r.flags&g.Flags.NonNullable)){var h=r.metadata.cast;if(h){n=this._cast(h,n);const {valid:q,value:D}=n;c.release(n);if(!q)return;n=D}r.flags|=g.Flags.Overriden;this._internalSet(r,n)}};u.set=function(r,n){r=this.properties.get(r);if(!(void 0===r||null==n&&r.flags&g.Flags.NonNullable)){var h=
r.metadata.cast;if(h){n=this._cast(h,n);const {valid:q,value:D}=n;c.release(n);if(!q)return;n=D}(h=r.metadata.set)?h.call(this.host,n):this._internalSet(r,n)}};u.setDefaultOrigin=function(r){this._origin=p.nameToId(r)};u.getDefaultOrigin=function(){return p.idToName(this._origin)};u.notifyChange=function(r){r=this.properties.get(r);void 0!==r&&r.notifyChange()};u.invalidate=function(r){r=this.properties.get(r);void 0!==r&&r.invalidate()};u.commit=function(r){r=this.properties.get(r);void 0!==r&&r.commit()};
u._internalSet=function(r,n){this._setAtOrigin(r,n,this.lifecycle!==t.Lifecycle.INITIALIZING?this._origin:p.OriginId.DEFAULTS)};u._setAtOrigin=function(r,n,h){const q=this.store,D=r.propertyName;q.has(D,h)&&C.equals(n,q.get(D))&&~r.flags&g.Flags.Overriden&&h===q.originOf(D)||(r.invalidate(),q.set(D,n,h),r.commit(),e.initializeDependencyTracking(this.host,r))};u._cast=function(r,n){const h=c.acquire();h.valid=!0;h.value=n;r&&(h.value=r.call(this.host,n,h));return h};a._createClass(m,[{key:"initialized",
get:function(){return this.lifecycle!==t.Lifecycle.INITIALIZING}}]);return m}();w=function(){function m(){this.value=null;this.valid=!0}var u=m.prototype;u.acquire=function(){this.valid=!0};u.release=function(){this.value=null};return m}();const c=new f(w);return b})},"esri/core/accessorSupport/Property":function(){define(["exports","./PropertyOrigin","./tracking","./tracking/Flags","./tracking/ObservationHandle"],function(a,b,C,w,f){let t=function(){function k(d,e,l){this.properties=d;this.propertyName=
e;this.metadata=l;this._handles=this._accessed=this._observers=null;this.flags=w.Flags.Dirty|(l.nonNullable?w.Flags.NonNullable:0)|(l.hasOwnProperty("value")?w.Flags.HasDefaultValue:0)|(void 0===l.get?w.Flags.DepTrackingInitialized:0)|(void 0===l.dependsOn?w.Flags.AutoTracked:0)}var p=k.prototype;p.destroy=function(){if(this.flags&w.Flags.Dirty&&this._observers){const d=this._observers.slice();for(const e of d)e.onCommitted()}this._observers=this._accessed=null;this._clearObservationHandles()};p.getComputed=
function(){C.trackAccess(this);var d=this.properties.store;const e=this.propertyName;var l=this.flags;const g=d.get(e);if(l&w.Flags.Computing||~l&w.Flags.Dirty&&d.has(e))return g;this.flags|=w.Flags.Computing;const c=this.properties.host;l&w.Flags.AutoTracked?l=C.runTracked(this,this.metadata.get,c):(C.trackExplicitDependencies(c,this),l=this.metadata.get.call(c));d.set(e,l,b.OriginId.COMPUTED);d=d.get(e);d===g?this.flags&=~w.Flags.Dirty:C.runUntracked(this.commit,this);this.flags&=~w.Flags.Computing;
return d};p.onObservableAccessed=function(d){d!==this&&(null===this._accessed&&(this._accessed=[]),this._accessed.includes(d)||this._accessed.push(d))};p.onTrackingEnd=function(){this._clearObservationHandles();this.flags|=w.Flags.DepTrackingInitialized;const d=this._accessed;if(null!==d){var e=this._handles;null===e&&(e=this._handles=[]);for(let l=0;l<d.length;++l)e.push(d[l].observe(this));d.length=0}};p.observe=function(d){null===this._observers&&(this._observers=[]);this._observers.includes(d)||
this._observers.push(d);return new f.ObservationHandle(this._observers,d)};p.notifyChange=function(){this.onInvalidated();this.onCommitted()};p.invalidate=function(){this.onInvalidated()};p.onInvalidated=function(){~this.flags&w.Flags.Overriden&&(this.flags|=w.Flags.Dirty);const d=this._observers;if(null!==d)for(let e=0;e<d.length;++e)d[e].onInvalidated()};p.commit=function(){this.flags&=~w.Flags.Dirty;this.onCommitted()};p.onCommitted=function(){if(null!==this._observers){var d=this._observers.slice();
for(let e=0;e<d.length;++e)d[e].onCommitted()}};p._clearObservationHandles=function(){const d=this._handles;if(null!==d){for(let e=0;e<d.length;++e)d[e].remove();d.length=0}};return k}();a.Property=t;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/PropertyOrigin":function(){define(["exports","../maybe"],function(a,b){function C(f){switch(f){case "defaults":return a.OriginId.DEFAULTS;case "service":return a.OriginId.SERVICE;case "portal-item":return a.OriginId.PORTAL_ITEM;
case "web-scene":return a.OriginId.WEB_SCENE;case "web-map":return a.OriginId.WEB_MAP;case "user":return a.OriginId.USER;default:return null}}function w(f){switch(f){case a.OriginId.DEFAULTS:return"defaults";case a.OriginId.SERVICE:return"service";case a.OriginId.PORTAL_ITEM:return"portal-item";case a.OriginId.WEB_SCENE:return"web-scene";case a.OriginId.WEB_MAP:return"web-map";case a.OriginId.USER:return"user"}return b.assumeNonNull(void 0)}a.OriginId=void 0;(function(f){f[f.DEFAULTS=0]="DEFAULTS";
f[f.COMPUTED=1]="COMPUTED";f[f.SERVICE=2]="SERVICE";f[f.PORTAL_ITEM=3]="PORTAL_ITEM";f[f.WEB_SCENE=4]="WEB_SCENE";f[f.WEB_MAP=5]="WEB_MAP";f[f.USER=6]="USER"})(a.OriginId||(a.OriginId={}));a.OriginIdNum=a.OriginId.USER+1;a.idToName=w;a.idToReadableName=function(f){return w(f)};a.idToWritableName=function(f){return w(f)};a.nameToId=C;a.readableNameToId=function(f){return C(f)};a.writableNameToId=function(f){return C(f)};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/core/accessorSupport/tracking/ObservationHandle":function(){define(["exports","../../arrayUtils"],function(a,b){let C=function(){function w(f,t){this._observers=f;this._observer=t}w.prototype.remove=function(){b.remove(this._observers,this._observer)};return w}();a.ObservationHandle=C;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/Store":function(){define(["exports","../lang","./PropertyOrigin"],function(a,b,C){let w=function(){function f(){this._values=
new Map;this.multipleOriginsSupported=!1}var t=f.prototype;t.clone=function(k){const p=new f;this._values.forEach((d,e)=>{k&&k.has(e)||p.set(e,b.clone(d))});return p};t.get=function(k){return this._values.get(k)};t.originOf=function(){return C.OriginId.USER};t.keys=function(){return[...this._values.keys()]};t.set=function(k,p){this._values.set(k,p)};t.delete=function(k){this._values.delete(k)};t.has=function(k){return this._values.has(k)};t.forEach=function(k){this._values.forEach(k)};return f}();
a.Store=w;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/watch":function(){define("exports ../ArrayPool ../lang ../ReentrantObjectPool ../scheduling ../SetUtils ../uid ./get ./trackingUtils ./utils".split(" "),function(a,b,C,w,f,t,k,p,d,e){function l(x){z.delete(x);z.add(x);B||(B=f.schedule(c))}function g(x){if(!x.removed){var y=x.oldValue,A=x.getValue();x.equals(y,A)||(x.oldValue=A,x.notify(A,y))}}function c(){let x=10;for(;B&&
x--;){B=null;const y=m(),A=v.acquire();for(const F of y){const K=F.uid;g(F);K===F.uid&&F.removed&&A.push(F)}for(const F of z)F.removed&&(A.push(F),z.delete(F));for(const F of A)D.pool.release(F);v.release(A);v.release(y);E.forEach(F=>F())}}function m(){const x=v.acquire();x.length=z.size;let y=0;for(const A of z)x[y]=A,++y;z.clear();return x}function u(x,y,A){let F=e.parse(x,y,A,(K,M,H)=>{let I,J,S=d.reactionDeferred(()=>p.valueOf(K,M),(V,Z)=>{K.__accessor__.destroyed||I&&I.uid!==J?F.remove():(I||
(I=D.acquireUntracked(V,H,Z,K,M),J=I.uid),l(I))});return{remove:e.once(()=>{S.remove();I&&(I.uid!==J||I.removed||(I.removed=!0,l(I)),I=null);F=S=null})}});return F}function r(x,y,A){const F=e.parse(x,y,A,(K,M,H)=>{let I=!1;return d.reaction(()=>p.valueOf(K,M),(J,S)=>{K.__accessor__.destroyed?F.remove():I||(I=!0,C.equals(S,J)||H.call(K,J,S,M,K),I=!1)})});return F}function n(x,y,A){let F,K,M=d.reactionDeferred(x,(H,I)=>{F&&F.uid!==K?M.remove():(F||(F=D.acquireTracked(H,y,I,A),K=F.uid),l(F))});return{remove:e.once(()=>
{M.remove();F&&(F.uid!==K||F.removed||(F.removed=!0,l(F)),F=null);M=null})}}function h(x,y,A){let F=!1;return d.reaction(x,(K,M)=>{F||(F=!0,A(M,K)||y(K,M),F=!1)})}var q;(function(x){x[x.Untracked=0]="Untracked";x[x.Tracked=1]="Tracked"})(q||(q={}));let D=function(){function x(){this.uid=k.generateUID();this.removed=!1;this.equals=this.path=this.target=this.getValue=this.callback=this.oldValue=this.type=null}x.acquireUntracked=function(A,F,K,M,H){return this.pool.acquire(q.Untracked,A,F,K,M,H,C.equals)};
x.acquireTracked=function(A,F,K,M){return this.pool.acquire(q.Tracked,A,F,K,null,null,M)};var y=x.prototype;y.notify=function(A,F){this.type===q.Untracked?this.callback.call(this.target,A,F,this.path,this.target):this.callback.call(null,A,F)};y.acquire=function(A,F,K,M,H,I,J){this.uid=k.generateUID();this.removed=!1;this.type=A;this.oldValue=F;this.callback=K;this.getValue=M;this.target=H;this.path=I;this.equals=J};y.release=function(){this.target=this.path=this.oldValue=this.callback=this.getValue=
null;this.uid=k.generateUID();this.removed=!0};return x}();D.pool=new w.ReentrantObjectPool(D);const v=new b,z=new Set;let B;const E=new Set;a.afterDispatch=function(x){E.add(x);return{remove(){E.delete(x)}}};a.dispatch=c;a.isValueInUse=function(x){return t.someSet(z,y=>y.oldValue===x)};a.removeTarget=function(x){for(const y of z.values())y.target===x&&(y.removed=!0)};a.watch=function(x,y,A,F=!1){return!x.__accessor__||x.__accessor__.destroyed?{remove(){}}:F?r(x,y,A):u(x,y,A)};a.watchTracked=function(x,
y,A=!1,F=C.equalsShallow){return A?h(x,y,F):n(x,y,F)};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/ReentrantObjectPool":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","./maybe","./ObjectPool"],function(a,b,C,w){w=function(f){function t(){var p=f.apply(this,arguments)||this;p._set=new Set;return p}b._inheritsLoose(t,f);var k=t.prototype;k.destroy=function(){f.prototype.destroy.call(this);this._set=C.nullifyNonNullableForDispose(this._set)};
k.acquire=function(...p){p=f.prototype.acquire.call(this,...p);this._set.delete(p);return p};k.release=function(p){p&&!this._set.has(p)&&(f.prototype.release.call(this,p),this._set.add(p))};k._dispose=function(p){this._set.delete(p);f.prototype._dispose.call(this,p)};return t}(w);a.ReentrantObjectPool=w;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/scheduling":function(){define("exports ./maybe ./nextTick ./PerformanceSampler ./PooledArray ./promiseUtils ./time".split(" "),
function(a,b,C,w,f,t,k){function p(A){A=new m(A);q.push(A);z.willDispatch||(z.willDispatch=!0,C.nextTick(g));return A}function d(A){A=new c(A);D.push(A);null==B&&(u=performance.now(),B=requestAnimationFrame(e));return new v(A)}function e(){const A=performance.now();B=null;B=0<D.length?requestAnimationFrame(e):null;z.executeFrameTasks(A)}function l(){D.forAll(A=>{A.removed&&E.push(A)});D.removeUnorderedMany(E.data,E.length);E.clear()}function g(){for(;q.length;){const A=b.assumeNonNull(q.shift());
A.isActive&&A.callback()}z.willDispatch=!1}let c=function(A){this.phases=A;this.paused=!1;this.ticks=-1;this.removed=!1},m=function(){function A(F){this.callback=F;this.isActive=!0}A.prototype.remove=function(){this.isActive=!1};return A}(),u=0,r=0;const n={time:k.Milliseconds(0),deltaTime:k.Milliseconds(0),elapsedFrameTime:k.Milliseconds(0),frameDuration:k.Milliseconds(0)},h="prepare preRender render postRender update finish".split(" "),q=[],D=new f;let v=function(){function A(K){this._task=K}var F=
A.prototype;F.remove=function(){this._task.removed=!0};F.pause=function(){this._task.paused=!0};F.resume=function(){this._task.paused=!1};return A}();const z={frameTasks:D,willDispatch:!1,clearFrameTasks:function(A=!1){D.forAll(F=>{F.removed=!0});A&&l()},dispatch:g,executeFrameTasks:function(A){const F=k.Milliseconds(A-u);u=A;const K=0<r?r:1E3/60,M=Math.max(0,F-K);for(let H=0;H<h.length;H++){const I=performance.now(),J=h[H];D.forAll(S=>{S.paused||S.removed||(0===H&&S.ticks++,S.phases[J]&&(n.time=
A,n.deltaTime=0===S.ticks?k.Milliseconds(0):F,n.elapsedFrameTime=k.Milliseconds(performance.now()-A),n.frameDuration=k.Milliseconds(K-M),S.phases[J]?.call(S,n)))});x[H].record(performance.now()-I)}l();y.record(performance.now()-A)}};let B=null;const E=new f,x=h.map(A=>new w(A)),y=new w("total");a.FrameTaskHandle=v;a.addFrameTask=d;a.debug=z;a.performanceInfo=x;a.performanceTotal=y;a.schedule=p;a.setFrameDuration=function(A){r=Math.max(0,A)};a.waitAnimationFrame=function(){const A=t.createResolver(),
F=d({postRender:()=>{F.remove();p(A)}});return A.promise};a.waitTicks=function(A=1,F){const K=t.createResolver(),M=()=>{t.isAborted(F)?K.reject(t.createAbortError()):0===A?K():(--A,C.nextTick(()=>M()))};M();return K.promise};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/nextTick":function(){define(["exports"],function(a){const b=[];a.nextTick=function(C){b.push(C);1===b.length&&queueMicrotask(()=>{const w=b.slice();b.length=0;for(const f of w)f()})};
Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/PerformanceSampler":function(){define(["../chunks/_rollupPluginBabelHelpers","./maybe"],function(a,b){return function(){function C(w,f=30){this.name=w;this._counter=0;this._samples=Array(f)}C.prototype.record=function(w){b.isSome(w)&&(this._samples[++this._counter%this._samples.length]=w)};a._createClass(C,[{key:"median",get:function(){return this._samples.slice().sort((w,f)=>w-f)[Math.floor(this._samples.length/
2)]}},{key:"average",get:function(){return this._samples.reduce((w,f)=>w+f,0)/this._samples.length}},{key:"last",get:function(){return this._samples[this._counter%this._samples.length]}}]);return C}()})},"esri/core/PooledArray":function(){define(["../chunks/_rollupPluginBabelHelpers","./arrayUtils","./HeapSort"],function(a,b,C){function w(f){f.data.length>1.5*f.length&&(f.data.length=Math.floor(1.1*f.length))}return function(){function f(k){this.data=[];this._length=0;this._allocator=void 0;this._deallocator=
()=>null;this._shrink=()=>{};this._hint=new b.PositionHint;k&&(k.initialSize&&(this.data=Array(k.initialSize)),k.allocator&&(this._allocator=k.allocator),void 0!==k.deallocator&&(this._deallocator=k.deallocator),k.shrink&&(this._shrink=()=>w(this)))}var t=f.prototype;t.toArray=function(){return this.data.slice(0,this.length)};t.filter=function(k){const p=[];for(let d=0;d<this._length;d++){const e=this.data[d];k(e)&&p.push(e)}return p};t.getItemAt=function(k){if(!(0>k||k>=this._length))return this.data[k]};
t.includes=function(k,p){k=this.data.indexOf(k,p);return-1!==k&&k<this.length};t.clear=function(){this.length=0};t.prune=function(){this.clear();this.data=[]};t.push=function(k){this.data[this._length++]=k};t.pushArray=function(k,p=k.length){for(let d=0;d<p;d++)this.data[this._length++]=k[d]};t.fill=function(k,p){for(let d=0;d<p;d++)this.data[this._length++]=k};t.pushNew=function(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const k=this.data[this._length];++this._length;
return k};t.unshift=function(k){this.data.unshift(k);this._length++;w(this)};t.pop=function(){if(0!==this.length){var k=this.data[this.length-1];--this.length;this._shrink();return k}};t.remove=function(k){const p=b.indexOf(this.data,k,this.length,this._hint);if(-1!==p)return this.data.splice(p,1),--this.length,k};t.removeUnordered=function(k){return this.removeUnorderedIndex(b.indexOf(this.data,k,this.length,this._hint))};t.removeUnorderedIndex=function(k){if(!(k>=this.length||0>k))return this.swapElements(k,
this.length-1),this.pop()};t.removeUnorderedMany=function(k,p=k.length,d){this.length=b.removeUnorderedMany(this.data,k,this.length,p,this._hint,d);this._shrink()};t.front=function(){if(0!==this.length)return this.data[0]};t.back=function(){if(0!==this.length)return this.data[this.length-1]};t.swapElements=function(k,p){if(!(k>=this.length||p>=this.length||k===p)){var d=this.data[k];this.data[k]=this.data[p];this.data[p]=d}};t.sort=function(k){C.sort(this.data,0,this.length,k)};t.iterableSort=function(k){return C.iterableSort(this.data,
0,this.length,k)};t.some=function(k,p){for(let d=0;d<this.length;++d)if(k.call(p,this.data[d],d,this.data))return!0;return!1};t.filterInPlace=function(k,p){let d=0;for(let e=0;e<this._length;++e){const l=this.data[e];k.call(p,l,e,this.data)&&(this.data[e]=this.data[d],this.data[d]=l,d++)}if(this._deallocator)for(k=d;k<this._length;k++)this.data[k]=this._deallocator(this.data[k]);this._length=d;this._shrink();return this};t.forAll=function(k,p){const d=this.length,e=this.data;for(let l=0;l<d;++l)k.call(p,
e[l],l,e)};t.forEach=function(k,p){for(let d=0;d<this.length;++d)k.call(p,this.data[d],d,this.data)};t.map=function(k,p){const d=Array(this.length);for(let e=0;e<this.length;++e)d[e]=k.call(p,this.data[e],e,this.data);return d};t.reduce=function(k,p){for(let d=0;d<this.length;++d)p=k(p,this.data[d],d,this.data);return p};t.has=function(k){const p=this.length,d=this.data;for(let e=0;e<p;++e)if(d[e]===k)return!0;return!1};a._createClass(f,[{key:"length",get:function(){return this._length},set:function(k){if(k>
this._length)if(this._allocator)for(;this._length<k;)this.data[this._length++]=this._allocator(this.data[this._length]);else this._length=k;else{if(this._deallocator)for(let p=k;p<this._length;++p)this.data[p]=this._deallocator(this.data[p]);this._length=k;this._shrink()}}}]);return f}()})},"esri/core/HeapSort":function(){define(function(){var a;(function(b){const C=(f,t,k,p)=>{let d=t;const e=k>>>1,l=f[d-1];for(;t<=e;){t=d<<1;t<k&&0>p(f[t-1],f[t])&&++t;const g=f[t-1];if(0>=p(g,l))break;f[d-1]=g;
d=t}f[d-1]=l},w=(f,t)=>f<t?-1:f>t?1:0;b.sort=function(f,t,k,p){void 0===t&&(t=0);void 0===k&&(k=f.length);void 0===p&&(p=w);for(var d=k>>>1;d>t;d--)C(f,d,k,p);d=t+1;for(--k;k>t;k--){const e=f[t];f[t]=f[k];f[k]=e;C(f,d,k,p)}};b.iterableSort=function*(f,t,k,p){void 0===t&&(t=0);void 0===k&&(k=f.length);void 0===p&&(p=w);for(var d=k>>>1;d>t;d--)C(f,d,k,p),yield;d=t+1;for(--k;k>t;k--){const e=f[t];f[t]=f[k];f[k]=e;C(f,d,k,p);yield}}})(a||(a={}));return a})},"esri/core/time":function(){define(["exports"],
function(a){a.Milliseconds=function(b){return b};a.Seconds=function(b){return b};a.millisecondsFromSeconds=function(b){return 1E3*b};a.secondsFromMilliseconds=function(b){return.001*b};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/SetUtils":function(){define(["exports","./maybe"],function(a,b){a.someSet=function(C,w){for(const f of C.entries())if(w(f[0]))return!0;return!1};a.union=function(C,w){const f=new Set;b.isSome(C)&&C.forEach(t=>f.add(t));
b.isSome(w)&&w.forEach(t=>f.add(t));return f};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/uid":function(){define(["exports"],function(a){let b=0;a.NullUID=0;a.generateUID=function(){return++b};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/trackingUtils":function(){define(["exports","./tracking","./tracking/SimpleTrackingTarget"],function(a,b,C){let w=!1;const f=[];a.autorun=
function(t){function k(){if(p&&!d)if(w)f.includes(k)||f.unshift(k);else for(p.clear(),d=w=!0,b.runTracked(p,t),w=d=!1;f.length;)f.pop()()}let p=new C.SimpleTrackingTarget(k),d=!1;d=!0;b.runTracked(p,t);d=!1;return{remove:function(){p&&(p.destroy(),p=null)}}};a.reaction=function(t,k){function p(){if(d&&!l)if(w)f.includes(p)||f.unshift(p);else{var g=e;d.clear();l=w=!0;e=b.runTracked(d,t);w=l=!1;for(k(e,g);f.length;)f.pop()()}}let d=new C.SimpleTrackingTarget(p),e=null,l=!1;l=!0;e=b.runTracked(d,t);
l=!1;return{remove:function(){d&&(d.destroy(),e=d=null)}}};a.reactionDeferred=function(t,k){function p(){if(!d)return null;d.clear();return e=b.runTracked(d,t)}let d=new C.SimpleTrackingTarget(function(){k(e,p)}),e=null;p();return{remove:function(){d&&(d.destroy(),d=null);e=null}}};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/tracking/SimpleTrackingTarget":function(){define(["exports"],function(a){let b=function(){function C(f){this._notify=
f;this._accessed=[];this._handles=[];this._invalidCount=0}var w=C.prototype;w.destroy=function(){this._accessed.length=0;this.clear()};w.onInvalidated=function(){this._invalidCount++};w.onCommitted=function(){const f=this._invalidCount;1===f?(this._invalidCount=0,this._notify()):this._invalidCount=0<f?f-1:0};w.onObservableAccessed=function(f){this._accessed.includes(f)||this._accessed.push(f)};w.onTrackingEnd=function(){const f=this._handles,t=this._accessed;for(let k=0;k<t.length;++k)f.push(t[k].observe(this));
t.length=0};w.clear=function(){const f=this._handles;for(let t=0;t<f.length;++t)f[t].remove();f.length=0};return C}();a.SimpleTrackingTarget=b;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/DefaultsStore":function(){define(["exports","../lang","./PropertyOrigin"],function(a,b,C){let w=function(){function t(){this._values=new Map;this.multipleOriginsSupported=!1}var k=t.prototype;k.clone=function(p){const d=new t;this._values.forEach((e,
l)=>{p&&p.has(l)||d.set(l,b.clone(e.value),e.origin)});return d};k.get=function(p,d){d=this._normalizeOrigin(d);p=this._values.get(p);return null==d||p?.origin===d?p?.value:void 0};k.originOf=function(p){return this._values.get(p)?.origin??C.OriginId.USER};k.keys=function(p){p=this._normalizeOrigin(p);const d=[...this._values.keys()];return null==p?d:d.filter(e=>this._values.get(e)?.origin===p)};k.set=function(p,d,e){e=this._normalizeOrigin(e);if(e===C.OriginId.DEFAULTS){const l=this._values.get(p);
if(l&&null!=l.origin&&l.origin>e)return}this._values.set(p,new f(d,e))};k.delete=function(p,d){d=this._normalizeOrigin(d);null!=d&&this._values.get(p)?.origin!==d||this._values.delete(p)};k.has=function(p,d){d=this._normalizeOrigin(d);return null!=d?this._values.get(p)?.origin===d:this._values.has(p)};k.forEach=function(p){this._values.forEach(({value:d},e)=>p(d,e))};k._normalizeOrigin=function(p){if(null!=p)return p===C.OriginId.DEFAULTS?p:C.OriginId.USER};return t}(),f=function(t,k){this.value=
t;this.origin=k};a.DefaultsStore=w;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/defaultsStoreUtils":function(){define(["exports","./PropertyOrigin"],function(a,b){a.setupConstructedDefaults=function(C,w,f){w.keys().forEach(t=>{f.set(t,w.get(t),b.OriginId.DEFAULTS)});Object.keys(C.metadatas).forEach(t=>{C.internalGet(t)&&f.set(t,C.internalGet(t),b.OriginId.DEFAULTS)})};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/core/accessorSupport/read":function(){define(["exports","./get","./utils","./extensions/serializableProperty"],function(a,b,C,w){const f={origin:"service"};a.read=function(t,k,p=f){if(k&&"object"===typeof k){var d=C.getProperties(t),e=d.metadatas,l={};for(const v of Object.getOwnPropertyNames(k)){var g=l,c=e,m=v,u=k,r=p,n=w.originSpecificReadPropertyDefinition(c[m],r);n&&(!n.read||!1!==n.read.enabled&&!n.read.source)&&(g[m]=!0);for(const z of Object.getOwnPropertyNames(c)){n=w.originSpecificReadPropertyDefinition(c[z],
r);a:{var h=m;var q=u;if(n&&n.read&&!1!==n.read.enabled&&n.read.source){n=n.read.source;if("string"===typeof n){if(n===h||n.includes(".")&&0===n.indexOf(h)&&b.exists(n,q)){h=!0;break a}}else for(const B of n)if(B===h||B.includes(".")&&0===B.indexOf(h)&&b.exists(B,q)){h=!0;break a}h=!1}else h=!1}h&&(g[z]=!0)}}d.setDefaultOrigin(p.origin);for(var D of Object.getOwnPropertyNames(l))c=(c=(g=w.originSpecificReadPropertyDefinition(e[D],p).read)&&g.source)&&"string"===typeof c?b.valueOf(k,c):k[D],g&&g.reader&&
(c=g.reader.call(t,c,k,p)),void 0!==c&&d.set(D,c);if(!p||!p.ignoreDefaults){d.setDefaultOrigin("defaults");for(const v of Object.getOwnPropertyNames(e))l[v]||(D=t,k=v,e=d,g=p,c=(c=w.originSpecificPropertyDefinition(e.metadatas[k],"any",g))&&c.default,void 0!==c&&(D="function"===typeof c?c.call(D,k,g):c,void 0!==D&&e.set(k,D)))}d.setDefaultOrigin("user")}};a.readLoadable=function(t,k,p,d=f){k={...d,messages:[]};p(k);k.messages?.forEach(e=>{"warning"!==e.type||t.loaded?d&&d.messages&&d.messages.push(e):
t.loadWarnings.push(e)})};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/write":function(){define("exports ../arrayUtils ../Error ../Logger ./PropertyOrigin ./utils ./extensions/serializableProperty".split(" "),function(a,b,C,w,f,t,k){function p(e,l,g,c,m){const u={};l.write?.writer?.call(e,c,u,g,m);return u}function d(e,l,g,c,m,u){if(!c||!c.write)return!1;const r=e.get(g);if(!m&&c.write.overridePolicy){var n=c.write.overridePolicy.call(e,
r,g,u);void 0!==n&&(m=n)}m||(m=c.write);if(!m||!1===m.enabled)return!1;if((null===r&&!m.allowNull&&!m.writerEnsuresNonNull||void 0===r)&&m.isRequired)return(l=new C("web-document-write:property-required",`Missing value for required property '${g}' on '${e.declaredClass}'`,{propertyName:g,target:e}),u)&&u.messages?u.messages.push(l):l&&!u&&w.getLogger("esri.core.accessorSupport.write").error(l.name,l.message),!1;if(void 0===r||null===r&&!m.allowNull&&!m.writerEnsuresNonNull)return!1;if(n=!l.store.multipleOriginsSupported||
l.store.originOf(g)===f.OriginId.DEFAULTS)n=c.default,void 0===n?n=!1:null!=c.defaultEquals?n=c.defaultEquals(r):"function"===typeof n?Array.isArray(r)?(e=n.call(e,g,u),n=b.equals(e,r)):n=!1:n=n===r;return n||!m.ignoreOrigin&&u&&u.origin&&l.store.multipleOriginsSupported&&l.store.originOf(g)<f.nameToId(u.origin)?!1:!0}a.willPropertyWrite=function(e,l,g,c){const m=t.getProperties(e),u=k.originSpecificWritePropertyDefinition(m.metadatas[l],c);return u?d(e,m,l,u,g,c):!1};a.write=function(e,l,g){if(e&&
"function"===typeof e.toJSON&&(!e.toJSON.isDefaultToJSON||!e.write))return t.merge(l,e.toJSON(g));const c=t.getProperties(e),m=c.metadatas;for(const u in m){const r=k.originSpecificWritePropertyDefinition(m[u],g);if(!d(e,c,u,r,void 0,g))continue;const n=e.get(u),h=p(e,r,r.write&&"string"===typeof r.write.target?r.write.target:u,n,g);0<Object.keys(h).length&&(l=t.merge(l,h),g?.resources?.pendingOperations?.length&&Promise.all(g.resources.pendingOperations).then(()=>t.merge(l,h)),g&&g.writtenProperties&&
g.writtenProperties.push({target:e,propName:u,oldOrigin:f.idToReadableName(c.store.originOf(u)),newOrigin:g.origin}))}return l};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/decorators/reader":function(){define(["exports","./property"],function(a,b){a.reader=function(C,w,f){let t,k;void 0===w||Array.isArray(w)?(k=C,f=w,t=[void 0]):(k=w,t=Array.isArray(C)?C:[C]);return(p,d)=>{const e=p.constructor.prototype;t.forEach(l=>{l=b.propertyJSONMeta(p,
l,k);l.read&&"object"===typeof l.read||(l.read={});l.read.reader=e[d];f&&(l.read.source=(l.read.source||[]).concat(f))})}};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/SpatialReference":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/lang ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./support/spatialReferenceUtils".split(" "),
function(a,b,C,w,f,t,k,p,d){var e;C=e=function(l){function g(m){m=l.call(this,m)||this;m.latestWkid=null;m.wkid=null;m.wkt=null;m.vcsWkid=null;m.latestVcsWkid=null;m.imageCoordinateSystem=null;return m}a._inheritsLoose(g,l);g.fromJSON=function(m){if(!m)return null;if(m.wkid){if(102100===m.wkid)return e.WebMercator;if(4326===m.wkid)return e.WGS84}const u=new e;u.read(m);return u};var c=g.prototype;c.normalizeCtorArgs=function(m){return m&&"object"===typeof m?m:{["string"===typeof m?"wkt":"wkid"]:m}};
c.writeWkt=function(m,u){this.wkid||(u.wkt=m)};c.clone=function(){if(this===e.WGS84)return e.WGS84;if(this===e.WebMercator)return e.WebMercator;const m=new e;null!=this.wkid?(m.wkid=this.wkid,null!=this.latestWkid&&(m.latestWkid=this.latestWkid),null!=this.vcsWkid&&(m.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(m.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(m.wkt=this.wkt);this.imageCoordinateSystem&&(m.imageCoordinateSystem=w.clone(this.imageCoordinateSystem));return m};c.equals=function(m){if(null==
m)return!1;if(this.imageCoordinateSystem||m.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==m.imageCoordinateSystem)return!1;const {id:u,referenceServiceName:r}=m.imageCoordinateSystem,{geodataXform:n}=m.imageCoordinateSystem,h=this.imageCoordinateSystem;return null==u||n?JSON.stringify(h)===JSON.stringify(m.imageCoordinateSystem):r?h.id===u&&h.referenceServiceName===r:h.id===u}return d.equals(this,m)};c.toJSON=function(m){return this.write(void 0,m)};a._createClass(g,[{key:"isWGS84",
get:function(){return d.isWGS84(this)}},{key:"isWebMercator",get:function(){return d.isWebMercator(this)}},{key:"isGeographic",get:function(){return d.isGeographic(this)}},{key:"isWrappable",get:function(){return d.isWrappable(this)}}]);return g}(C.JSONSupport);C.GCS_NAD_1927=null;C.WGS84=null;C.WebMercator=null;C.PlateCarree=null;b.__decorate([t.property({readOnly:!0})],C.prototype,"isWGS84",null);b.__decorate([t.property({readOnly:!0})],C.prototype,"isWebMercator",null);b.__decorate([t.property({readOnly:!0})],
C.prototype,"isGeographic",null);b.__decorate([t.property({readOnly:!0})],C.prototype,"isWrappable",null);b.__decorate([t.property({type:f.Integer,json:{write:!0}})],C.prototype,"latestWkid",void 0);b.__decorate([t.property({type:f.Integer,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null===this.wkt?!0:!1}}}}}}})],C.prototype,"wkid",void 0);b.__decorate([t.property({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null===this.wkid?
!0:!1}}}}}}})],C.prototype,"wkt",void 0);b.__decorate([p.writer("wkt"),p.writer("web-scene","wkt")],C.prototype,"writeWkt",null);b.__decorate([t.property({type:f.Integer,json:{write:!0}})],C.prototype,"vcsWkid",void 0);b.__decorate([t.property({type:f.Integer,json:{write:!0}})],C.prototype,"latestVcsWkid",void 0);b.__decorate([t.property()],C.prototype,"imageCoordinateSystem",void 0);C=e=b.__decorate([k.subclass("esri.geometry.SpatialReference")],C);C.prototype.toJSON.isDefaultToJSON=!0;C.GCS_NAD_1927=
new C({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'});C.WGS84=new C(d.WGS84);C.WebMercator=new C(d.WebMercator);C.PlateCarree=new C(d.PlateCarree);Object.freeze&&(Object.freeze(C.GCS_NAD_1927),Object.freeze(C.WGS84),Object.freeze(C.WebMercator));return C})},"esri/core/accessorSupport/decorators/writer":function(){define(["exports","./property"],function(a,b){a.writer=
function(C,w,f){let t,k;void 0===w?(k=C,t=[void 0]):"string"!==typeof w?(k=C,t=[void 0],f=w):(k=w,t=Array.isArray(C)?C:[C]);return(p,d)=>{const e=p.constructor.prototype;for(const l of t){const g=b.propertyJSONMeta(p,l,k);g.write&&"object"===typeof g.write||(g.write={});f&&(g.write.target=f);g.write.writer=e[d]}}};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/support/spatialReferenceUtils":function(){define(["exports","../../core/maybe",
"../../core/string","./SupportedGCSWkids","./WKIDUnitConversion"],function(a,b,C,w,f){function t(n){return l(n)&&null!=n.wkid&&!0===g[n.wkid]}function k(n){return n===w.SupportedGCSWkids.GCSMARS2000||n===w.SupportedGCSWkids.GCSMARS2000_SPHERE}function p(n){return l(n)&&null!=n.wkid&&k(n.wkid)}function d(n){return n===w.SupportedGCSWkids.GCSMOON2000}function e(n){return l(n)&&null!=n.wkid&&d(n.wkid)}function l(n){return b.isSome(n)&&(null!=n.wkid&&2E3<=n.wkid||null!=n.wkt)}const g={102113:!0,102100:!0,
3857:!0,3785:!0},c={4326:!0,3785:!0,3857:!0,102113:!0,102100:!0,104905:!0,104971:!0},m=[-2.0037508342788905E7,2.0037508342788905E7],u=[-2.0037508342787E7,2.0037508342787E7],r={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',
valid:m,origin:u,dx:1E-5},102100:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:m,origin:u,
dx:1E-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:m,origin:u,dx:1E-5},3857:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',
valid:m,origin:u,dx:1E-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',
valid:[-180,180],origin:[-180,90],dx:1E-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1E-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],
dx:1E-5}};C={wkid:4326,wkt:C.replace(r[4326].wkTemplate,{Central_Meridian:"0.0"})};a.PlateCarree={wkid:32662};a.WGS84=C;a.WebMercator={wkid:102100,latestWkid:3857};a.equals=function(n,h){return n===h?!0:b.isNone(n)||b.isNone(h)?!1:null!=n.wkid||null!=h.wkid?n.wkid===h.wkid||t(n)&&t(h)||null!=h.latestWkid&&n.wkid===h.latestWkid||null!=n.latestWkid&&h.wkid===n.latestWkid:n.wkt&&h.wkt?n.wkt.toUpperCase()===h.wkt.toUpperCase():!1};a.getInfo=function(n){return l(n)&&n.wkid?r[n.wkid]||null:null};a.isCGCS2000=
function(n){return l(n)&&n.wkid===w.SupportedGCSWkids.CGCS2000};a.isEarth=function(n){return!(p(n)||e(n))};a.isGeographic=function(n){return l(n)?n.wkid?null==f[n.wkid]:n.wkt?!!/^\s*GEOGCS/i.test(n.wkt):!1:!1};a.isMars=p;a.isMoon=e;a.isPlateCarree=function(n){return l(n)&&32662===n.wkid};a.isValid=l;a.isWGS84=function(n){return l(n)&&4326===n.wkid};a.isWKIDFromMars=k;a.isWKIDFromMoon=d;a.isWebMercator=t;a.isWrappable=function(n){return l(n)&&null!=n.wkid&&!0===c[n.wkid]};Object.defineProperties(a,
{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/support/SupportedGCSWkids":function(){define(["exports"],function(a){a.SupportedGCSWkids=void 0;var b=a.SupportedGCSWkids||(a.SupportedGCSWkids={});b[b.CGCS2000=4490]="CGCS2000";b[b.GCSMARS2000=104971]="GCSMARS2000";b[b.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE";b[b.GCSMOON2000=104903]="GCSMOON2000";Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/support/WKIDUnitConversion":function(){define(function(){let a;
const b={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5E4,15E4],units:"Meter Foot Foot_US Foot_Clarke Yard_Clarke Link_Clarke Yard_Sears Foot_Sears Chain_Sears Chain_Benoit_1895_B Yard_Indian Yard_Indian_1937 Foot_Gold_Coast Chain Chain_Sears_1922_Truncated 50_Kilometers 150_Kilometers".split(" "),2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,
2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,
3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,
3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,
3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,
5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,
6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,
6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,
6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,
6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,
7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,
7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,
8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,
8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,
8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,
22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25E3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,
30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,
102706:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,
103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,
103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,
103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};
for(a=2E3;2045>=a;a++)b[a]=0;for(a=2056;2065>=a;a++)b[a]=0;for(a=2067;2135>=a;a++)b[a]=0;for(a=2137;2154>=a;a++)b[a]=0;for(a=2161;2170>=a;a++)b[a]=0;for(a=2172;2193>=a;a++)b[a]=0;for(a=2195;2198>=a;a++)b[a]=0;for(a=2200;2203>=a;a++)b[a]=0;for(a=2205;2217>=a;a++)b[a]=0;for(a=2222;2224>=a;a++)b[a]=1;for(a=2225;2250>=a;a++)b[a]=2;for(a=2251;2253>=a;a++)b[a]=1;for(a=2257;2264>=a;a++)b[a]=2;for(a=2274;2279>=a;a++)b[a]=2;for(a=2280;2282>=a;a++)b[a]=1;for(a=2283;2289>=a;a++)b[a]=2;for(a=2290;2292>=a;a++)b[a]=
0;for(a=2308;2313>=a;a++)b[a]=0;for(a=2315;2491>=a;a++)b[a]=0;for(a=2494;2866>=a;a++)b[a]=0;for(a=2867;2869>=a;a++)b[a]=1;for(a=2870;2888>=a;a++)b[a]=2;for(a=2891;2895>=a;a++)b[a]=2;for(a=2896;2898>=a;a++)b[a]=1;for(a=2902;2908>=a;a++)b[a]=2;for(a=2915;2920>=a;a++)b[a]=2;for(a=2921;2923>=a;a++)b[a]=1;for(a=2924;2930>=a;a++)b[a]=2;for(a=2931;2962>=a;a++)b[a]=0;for(a=2964;2968>=a;a++)b[a]=2;for(a=2969;2973>=a;a++)b[a]=0;for(a=2975;2991>=a;a++)b[a]=0;for(a=2995;3051>=a;a++)b[a]=0;for(a=3054;3079>=a;a++)b[a]=
0;for(a=3081;3088>=a;a++)b[a]=0;for(a=3092;3101>=a;a++)b[a]=0;for(a=3106;3138>=a;a++)b[a]=0;for(a=3146;3151>=a;a++)b[a]=0;for(a=3153;3166>=a;a++)b[a]=0;for(a=3168;3172>=a;a++)b[a]=0;for(a=3174;3203>=a;a++)b[a]=0;for(a=3294;3358>=a;a++)b[a]=0;for(a=3367;3403>=a;a++)b[a]=0;for(a=3408;3416>=a;a++)b[a]=0;for(a=3417;3438>=a;a++)b[a]=2;for(a=3441;3446>=a;a++)b[a]=2;for(a=3447;3450>=a;a++)b[a]=0;for(a=3451;3459>=a;a++)b[a]=2;for(a=3460;3478>=a;a++)b[a]=0;for(a=3554;3559>=a;a++)b[a]=0;for(a=3560;3570>=a;a++)b[a]=
2;for(a=3571;3581>=a;a++)b[a]=0;for(a=3594;3597>=a;a++)b[a]=0;for(a=3601;3604>=a;a++)b[a]=0;for(a=3637;3639>=a;a++)b[a]=0;for(a=3665;3667>=a;a++)b[a]=0;for(a=3693;3695>=a;a++)b[a]=0;for(a=3701;3727>=a;a++)b[a]=0;for(a=3728;3739>=a;a++)b[a]=2;for(a=3740;3751>=a;a++)b[a]=0;for(a=3753;3760>=a;a++)b[a]=2;for(a=3761;3773>=a;a++)b[a]=0;for(a=3775;3777>=a;a++)b[a]=0;for(a=3779;3781>=a;a++)b[a]=0;for(a=3783;3785>=a;a++)b[a]=0;for(a=3788;3791>=a;a++)b[a]=0;for(a=3797;3802>=a;a++)b[a]=0;for(a=3814;3816>=a;a++)b[a]=
0;for(a=3825;3829>=a;a++)b[a]=0;for(a=3832;3841>=a;a++)b[a]=0;for(a=3844;3852>=a;a++)b[a]=0;for(a=3873;3885>=a;a++)b[a]=0;for(a=3890;3893>=a;a++)b[a]=0;for(a=3907;3912>=a;a++)b[a]=0;for(a=3942;3950>=a;a++)b[a]=0;for(a=3968;3970>=a;a++)b[a]=0;for(a=3973;3976>=a;a++)b[a]=0;for(a=3986;3989>=a;a++)b[a]=0;for(a=3994;3997>=a;a++)b[a]=0;for(a=4048;4051>=a;a++)b[a]=0;for(a=4056;4063>=a;a++)b[a]=0;for(a=4093;4096>=a;a++)b[a]=0;for(a=4390;4398>=a;a++)b[a]=0;for(a=4399;4413>=a;a++)b[a]=2;for(a=4418;4433>=a;a++)b[a]=
2;for(a=4455;4457>=a;a++)b[a]=2;for(a=4484;4489>=a;a++)b[a]=0;for(a=4491;4554>=a;a++)b[a]=0;for(a=4568;4589>=a;a++)b[a]=0;for(a=4652;4656>=a;a++)b[a]=0;for(a=4766;4800>=a;a++)b[a]=0;for(a=5014;5016>=a;a++)b[a]=0;for(a=5069;5072>=a;a++)b[a]=0;for(a=5105;5130>=a;a++)b[a]=0;for(a=5173;5188>=a;a++)b[a]=0;for(a=5253;5259>=a;a++)b[a]=0;for(a=5269;5275>=a;a++)b[a]=0;for(a=5292;5311>=a;a++)b[a]=0;for(a=5329;5331>=a;a++)b[a]=0;for(a=5343;5349>=a;a++)b[a]=0;for(a=5355;5357>=a;a++)b[a]=0;for(a=5387;5389>=a;a++)b[a]=
0;for(a=5459;5463>=a;a++)b[a]=0;for(a=5479;5482>=a;a++)b[a]=0;for(a=5518;5520>=a;a++)b[a]=0;for(a=5530;5539>=a;a++)b[a]=0;for(a=5550;5552>=a;a++)b[a]=0;for(a=5562;5583>=a;a++)b[a]=0;for(a=5623;5625>=a;a++)b[a]=2;for(a=5631;5639>=a;a++)b[a]=0;for(a=5649;5653>=a;a++)b[a]=0;for(a=5663;5680>=a;a++)b[a]=0;for(a=5682;5685>=a;a++)b[a]=0;for(a=5875;5877>=a;a++)b[a]=0;for(a=5896;5899>=a;a++)b[a]=0;for(a=5921;5940>=a;a++)b[a]=0;for(a=6050;6125>=a;a++)b[a]=0;for(a=6244;6275>=a;a++)b[a]=0;for(a=6328;6348>=a;a++)b[a]=
0;for(a=6350;6356>=a;a++)b[a]=0;for(a=6366;6372>=a;a++)b[a]=0;for(a=6381;6387>=a;a++)b[a]=0;for(a=6393;6404>=a;a++)b[a]=0;for(a=6480;6483>=a;a++)b[a]=0;for(a=6511;6514>=a;a++)b[a]=0;for(a=6579;6581>=a;a++)b[a]=0;for(a=6619;6624>=a;a++)b[a]=0;for(a=6625;6627>=a;a++)b[a]=2;for(a=6628;6632>=a;a++)b[a]=0;for(a=6634;6637>=a;a++)b[a]=0;for(a=6669;6692>=a;a++)b[a]=0;for(a=6707;6709>=a;a++)b[a]=0;for(a=6720;6723>=a;a++)b[a]=0;for(a=6732;6738>=a;a++)b[a]=0;for(a=6931;6933>=a;a++)b[a]=0;for(a=6956;6959>=a;a++)b[a]=
0;for(a=7005;7007>=a;a++)b[a]=0;for(a=7057;7070>=a;a++)b[a]=2;for(a=7074;7082>=a;a++)b[a]=0;for(a=7109;7118>=a;a++)b[a]=0;for(a=7119;7127>=a;a++)b[a]=1;for(a=7374;7376>=a;a++)b[a]=0;for(a=7528;7586>=a;a++)b[a]=0;for(a=7587;7645>=a;a++)b[a]=2;for(a=7692;7696>=a;a++)b[a]=0;for(a=7755;7787>=a;a++)b[a]=0;for(a=7791;7795>=a;a++)b[a]=0;for(a=7799;7801>=a;a++)b[a]=0;for(a=7803;7805>=a;a++)b[a]=0;for(a=7825;7831>=a;a++)b[a]=0;for(a=7845;7859>=a;a++)b[a]=0;for(a=8013;8032>=a;a++)b[a]=0;for(a=8065;8068>=a;a++)b[a]=
1;for(a=8518;8529>=a;a++)b[a]=2;for(a=8533;8536>=a;a++)b[a]=2;for(a=8538;8540>=a;a++)b[a]=2;for(a=8677;8679>=a;a++)b[a]=0;for(a=8836;8840>=a;a++)b[a]=0;for(a=8857;8859>=a;a++)b[a]=0;for(a=8908;8910>=a;a++)b[a]=0;for(a=9154;9159>=a;a++)b[a]=0;for(a=9205;9218>=a;a++)b[a]=0;for(a=9271;9273>=a;a++)b[a]=0;for(a=9295;9297>=a;a++)b[a]=0;for(a=9356;9360>=a;a++)b[a]=0;for(a=9404;9407>=a;a++)b[a]=0;for(a=9476;9482>=a;a++)b[a]=0;for(a=9487;9494>=a;a++)b[a]=0;for(a=9697;9699>=a;a++)b[a]=0;for(a=20002;20032>=
a;a++)b[a]=0;for(a=20062;20092>=a;a++)b[a]=0;for(a=20135;20138>=a;a++)b[a]=0;for(a=20248;20258>=a;a++)b[a]=0;for(a=20348;20358>=a;a++)b[a]=0;for(a=20436;20440>=a;a++)b[a]=0;for(a=20822;20824>=a;a++)b[a]=0;for(a=20904;20932>=a;a++)b[a]=0;for(a=20934;20936>=a;a++)b[a]=0;for(a=21004;21032>=a;a++)b[a]=0;for(a=21035;21037>=a;a++)b[a]=0;for(a=21095;21097>=a;a++)b[a]=0;for(a=21148;21150>=a;a++)b[a]=0;for(a=21207;21264>=a;a++)b[a]=0;for(a=21307;21364>=a;a++)b[a]=0;for(a=21413;21423>=a;a++)b[a]=0;for(a=21453;21463>=
a;a++)b[a]=0;for(a=21473;21483>=a;a++)b[a]=0;for(a=21780;21782>=a;a++)b[a]=0;for(a=21891;21894>=a;a++)b[a]=0;for(a=21896;21899>=a;a++)b[a]=0;for(a=22171;22177>=a;a++)b[a]=0;for(a=22181;22187>=a;a++)b[a]=0;for(a=22191;22197>=a;a++)b[a]=0;for(a=22234;22236>=a;a++)b[a]=0;for(a=22521;22525>=a;a++)b[a]=0;for(a=22991;22994>=a;a++)b[a]=0;for(a=23028;23038>=a;a++)b[a]=0;for(a=23830;23853>=a;a++)b[a]=0;for(a=23866;23872>=a;a++)b[a]=0;for(a=23877;23884>=a;a++)b[a]=0;for(a=23886;23894>=a;a++)b[a]=0;for(a=23946;23948>=
a;a++)b[a]=0;for(a=24311;24313>=a;a++)b[a]=0;for(a=24342;24347>=a;a++)b[a]=0;for(a=24370;24374>=a;a++)b[a]=10;for(a=24375;24381>=a;a++)b[a]=0;for(a=24718;24721>=a;a++)b[a]=0;for(a=24817;24821>=a;a++)b[a]=0;for(a=24877;24882>=a;a++)b[a]=0;for(a=24891;24893>=a;a++)b[a]=0;for(a=25391;25395>=a;a++)b[a]=0;for(a=25828;25838>=a;a++)b[a]=0;for(a=26191;26195>=a;a++)b[a]=0;for(a=26391;26393>=a;a++)b[a]=0;for(a=26701;26722>=a;a++)b[a]=0;for(a=26729;26799>=a;a++)b[a]=2;for(a=26801;26803>=a;a++)b[a]=2;for(a=26811;26813>=
a;a++)b[a]=2;for(a=26847;26870>=a;a++)b[a]=2;for(a=26891;26899>=a;a++)b[a]=0;for(a=26901;26923>=a;a++)b[a]=0;for(a=26929;26946>=a;a++)b[a]=0;for(a=26948;26998>=a;a++)b[a]=0;for(a=27037;27040>=a;a++)b[a]=0;for(a=27205;27232>=a;a++)b[a]=0;for(a=27258;27260>=a;a++)b[a]=0;for(a=27391;27398>=a;a++)b[a]=0;for(a=27561;27564>=a;a++)b[a]=0;for(a=27571;27574>=a;a++)b[a]=0;for(a=27581;27584>=a;a++)b[a]=0;for(a=27591;27594>=a;a++)b[a]=0;for(a=28191;28193>=a;a++)b[a]=0;for(a=28348;28358>=a;a++)b[a]=0;for(a=28402;28432>=
a;a++)b[a]=0;for(a=28462;28492>=a;a++)b[a]=0;for(a=29118;29122>=a;a++)b[a]=0;for(a=29168;29172>=a;a++)b[a]=0;for(a=29177;29185>=a;a++)b[a]=0;for(a=29187;29195>=a;a++)b[a]=0;for(a=29900;29903>=a;a++)b[a]=0;for(a=30161;30179>=a;a++)b[a]=0;for(a=30491;30494>=a;a++)b[a]=0;for(a=30729;30732>=a;a++)b[a]=0;for(a=31251;31259>=a;a++)b[a]=0;for(a=31265;31268>=a;a++)b[a]=0;for(a=31275;31279>=a;a++)b[a]=0;for(a=31281;31297>=a;a++)b[a]=0;for(a=31461;31469>=a;a++)b[a]=0;for(a=31491;31495>=a;a++)b[a]=0;for(a=31917;31922>=
a;a++)b[a]=0;for(a=31965;32E3>=a;a++)b[a]=0;for(a=32001;32003>=a;a++)b[a]=2;for(a=32005;32031>=a;a++)b[a]=2;for(a=32033;32060>=a;a++)b[a]=2;for(a=32064;32067>=a;a++)b[a]=2;for(a=32074;32077>=a;a++)b[a]=2;for(a=32081;32086>=a;a++)b[a]=0;for(a=32107;32130>=a;a++)b[a]=0;for(a=32133;32158>=a;a++)b[a]=0;for(a=32164;32167>=a;a++)b[a]=2;for(a=32180;32199>=a;a++)b[a]=0;for(a=32201;32260>=a;a++)b[a]=0;for(a=32301;32360>=a;a++)b[a]=0;for(a=32601;32662>=a;a++)b[a]=0;for(a=32664;32667>=a;a++)b[a]=2;for(a=32701;32761>=
a;a++)b[a]=0;for(a=53001;53004>=a;a++)b[a]=0;for(a=53008;53019>=a;a++)b[a]=0;for(a=53021;53032>=a;a++)b[a]=0;for(a=53034;53037>=a;a++)b[a]=0;for(a=53042;53046>=a;a++)b[a]=0;for(a=53074;53080>=a;a++)b[a]=0;for(a=54001;54004>=a;a++)b[a]=0;for(a=54008;54019>=a;a++)b[a]=0;for(a=54021;54032>=a;a++)b[a]=0;for(a=54034;54037>=a;a++)b[a]=0;for(a=54042;54046>=a;a++)b[a]=0;for(a=54048;54053>=a;a++)b[a]=0;for(a=54074;54080>=a;a++)b[a]=0;for(a=54098;54101>=a;a++)b[a]=0;for(a=102001;102040>=a;a++)b[a]=0;for(a=
102042;102063>=a;a++)b[a]=0;for(a=102065;102067>=a;a++)b[a]=0;for(a=102070;102117>=a;a++)b[a]=0;for(a=102122;102216>=a;a++)b[a]=0;for(a=102221;102377>=a;a++)b[a]=0;for(a=102382;102388>=a;a++)b[a]=0;for(a=102389;102398>=a;a++)b[a]=2;for(a=102399;102444>=a;a++)b[a]=0;for(a=102445;102447>=a;a++)b[a]=2;for(a=102448;102458>=a;a++)b[a]=0;for(a=102459;102468>=a;a++)b[a]=2;for(a=102469;102499>=a;a++)b[a]=0;for(a=102500;102519>=a;a++)b[a]=1;for(a=102520;102524>=a;a++)b[a]=0;for(a=102525;102529>=a;a++)b[a]=
2;for(a=102530;102588>=a;a++)b[a]=0;for(a=102590;102598>=a;a++)b[a]=0;for(a=102601;102603>=a;a++)b[a]=0;for(a=102605;102628>=a;a++)b[a]=0;for(a=102629;102646>=a;a++)b[a]=2;for(a=102648;102700>=a;a++)b[a]=2;for(a=102701;102703>=a;a++)b[a]=0;for(a=102707;102730>=a;a++)b[a]=2;for(a=102733;102758>=a;a++)b[a]=2;for(a=102767;102900>=a;a++)b[a]=0;for(a=102901;102933>=a;a++)b[a]=2;for(a=102934;102950>=a;a++)b[a]=13;for(a=102951;102955>=a;a++)b[a]=0;for(a=102961;102963>=a;a++)b[a]=0;for(a=102965;102969>=a;a++)b[a]=
0;for(a=102971;102973>=a;a++)b[a]=0;for(a=102975;102989>=a;a++)b[a]=0;for(a=102990;102992>=a;a++)b[a]=1;for(a=102997;103002>=a;a++)b[a]=0;for(a=103003;103008>=a;a++)b[a]=2;for(a=103009;103011>=a;a++)b[a]=0;for(a=103012;103014>=a;a++)b[a]=2;for(a=103019;103021>=a;a++)b[a]=0;for(a=103022;103024>=a;a++)b[a]=2;for(a=103029;103031>=a;a++)b[a]=0;for(a=103032;103034>=a;a++)b[a]=2;for(a=103065;103068>=a;a++)b[a]=0;for(a=103074;103076>=a;a++)b[a]=0;for(a=103077;103079>=a;a++)b[a]=1;for(a=103080;103082>=a;a++)b[a]=
0;for(a=103083;103085>=a;a++)b[a]=2;for(a=103090;103093>=a;a++)b[a]=0;for(a=103097;103099>=a;a++)b[a]=0;for(a=103100;103102>=a;a++)b[a]=2;for(a=103107;103109>=a;a++)b[a]=0;for(a=103110;103112>=a;a++)b[a]=2;for(a=103113;103116>=a;a++)b[a]=0;for(a=103117;103120>=a;a++)b[a]=2;for(a=103153;103157>=a;a++)b[a]=0;for(a=103158;103162>=a;a++)b[a]=2;for(a=103163;103165>=a;a++)b[a]=0;for(a=103166;103168>=a;a++)b[a]=1;for(a=103169;103171>=a;a++)b[a]=2;for(a=103186;103188>=a;a++)b[a]=0;for(a=103189;103191>=a;a++)b[a]=
2;for(a=103192;103195>=a;a++)b[a]=0;for(a=103196;103199>=a;a++)b[a]=2;for(a=103200;103224>=a;a++)b[a]=0;for(a=103225;103227>=a;a++)b[a]=1;for(a=103232;103237>=a;a++)b[a]=0;for(a=103238;103243>=a;a++)b[a]=2;for(a=103244;103246>=a;a++)b[a]=0;for(a=103247;103249>=a;a++)b[a]=2;for(a=103254;103256>=a;a++)b[a]=0;for(a=103257;103259>=a;a++)b[a]=2;for(a=103264;103266>=a;a++)b[a]=0;for(a=103267;103269>=a;a++)b[a]=2;for(a=103300;103375>=a;a++)b[a]=0;for(a=103381;103383>=a;a++)b[a]=0;for(a=103384;103386>=a;a++)b[a]=
1;for(a=103387;103389>=a;a++)b[a]=0;for(a=103390;103392>=a;a++)b[a]=2;for(a=103397;103399>=a;a++)b[a]=0;for(a=103400;103471>=a;a++)b[a]=2;for(a=103476;103478>=a;a++)b[a]=0;for(a=103479;103481>=a;a++)b[a]=2;for(a=103486;103488>=a;a++)b[a]=0;for(a=103489;103491>=a;a++)b[a]=2;for(a=103492;103495>=a;a++)b[a]=0;for(a=103496;103499>=a;a++)b[a]=2;for(a=103528;103543>=a;a++)b[a]=0;for(a=103544;103548>=a;a++)b[a]=2;for(a=103549;103551>=a;a++)b[a]=0;for(a=103552;103554>=a;a++)b[a]=1;for(a=103555;103557>=a;a++)b[a]=
2;for(a=103558;103560>=a;a++)b[a]=0;for(a=103571;103573>=a;a++)b[a]=0;for(a=103574;103576>=a;a++)b[a]=2;for(a=103577;103580>=a;a++)b[a]=0;for(a=103581;103583>=a;a++)b[a]=2;for(a=103595;103694>=a;a++)b[a]=0;for(a=103696;103699>=a;a++)b[a]=0;for(a=103700;103793>=a;a++)b[a]=2;for(a=103794;103887>=a;a++)b[a]=0;for(a=103900;103971>=a;a++)b[a]=2;return b})},"esri/geometry/Point":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Logger ../core/maybe ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/ensureType ./Geometry ./SpatialReference ./support/pointUtils ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
function(a,b,C,w,f,t,k,p,d,e,l,g,c,m,u,r){function n(D){return D&&("esri.geometry.SpatialReference"===D.declaredClass||null!=D.wkid)}var h;const q=[0,0];t=h=function(D){function v(...B){B=D.call(this,...B)||this;B.x=0;B.y=0;B.z=void 0;B.m=void 0;B.type="point";return B}a._inheritsLoose(v,D);v.copy=function(B,E){E._set("x",B._get("x"));E._set("y",B._get("y"));E._set("z",B._get("z"));E._set("m",B._get("m"));B=B._get("spatialReference");E._set("spatialReference",Object.isFrozen(B)?B:B.clone())};var z=
v.prototype;z.normalizeCtorArgs=function(B,E,x,y,A){let F;if(Array.isArray(B))F=B,A=E,B=F[0],E=F[1],x=F[2],y=F[3];else if(B&&"object"===typeof B){if(F=B,B=null!=F.x?F.x:F.longitude,E=null!=F.y?F.y:F.latitude,x=F.z,y=F.m,(A=F.spatialReference)&&"esri.geometry.SpatialReference"!==A.declaredClass&&(A=new c(A)),null!=F.longitude||null!=F.latitude)null==F.longitude?C.getLogger(this.declaredClass).warn(".longitude\x3d","Latitude was defined without longitude"):null==F.latitude?C.getLogger(this.declaredClass).warn(".latitude\x3d",
"Longitude was defined without latitude"):!F.declaredClass&&A&&A.isWebMercator&&(E=r.lngLatToXY(F.longitude,F.latitude,q),B=E[0],E=E[1])}else n(x)?(A=x,x=null):n(y)&&(A=y,y=null);B={x:B,y:E};null==B.x&&null!=B.y?C.getLogger(this.declaredClass).warn(".y\x3d","Y coordinate was defined without an X coordinate"):null==B.y&&null!=B.x&&C.getLogger(this.declaredClass).warn(".x\x3d","X coordinate was defined without a Y coordinate");null!=A&&(B.spatialReference=A);null!=x&&(B.z=x);null!=y&&(B.m=y);return B};
z.writeX=function(B,E,x){E[x]=isNaN(B)?"NaN":B};z.readX=function(B){return"string"===typeof B?NaN:B};z.clone=function(){const B=new h;B.x=this.x;B.y=this.y;B.z=this.z;B.m=this.m;B.spatialReference=this.spatialReference;return B};z.copy=function(B){h.copy(B,this);return this};z.equals=function(B){if(w.isNone(B))return!1;const {x:E,y:x,z:y,m:A,spatialReference:F}=this,{z:K,m:M}=B;let {x:H,y:I,spatialReference:J}=B;if(!F.equals(J))if(F.isWebMercator&&J.isWGS84)[H,I]=r.lngLatToXY(H,I),J=F;else if(F.isWGS84&&
J.isWebMercator)[H,I]=r.xyToLngLat(H,I),J=F;else return!1;return E===H&&x===I&&y===K&&A===M&&F.wkid===J.wkid};z.offset=function(B,E,x){this.x+=B;this.y+=E;null!=x&&(this.z=(this.z??0)+x);return this};z.normalize=function(){if(!this.spatialReference)return this;var B=u.getInfo(this.spatialReference);if(!B)return this;let E=this.x;const [x,y]=B.valid;B=2*y;let A;E>y?(A=Math.ceil(Math.abs(E-y)/B),E-=A*B):E<x&&(A=Math.ceil(Math.abs(E-x)/B),E+=A*B);this._set("x",E);return this};z.distance=function(B){return m.distance(this,
B)};z.toArray=function(){const B=this.hasZ,E=this.hasM;return B&&E?[this.x,this.y,this.z,this.m]:B?[this.x,this.y,this.z]:E?[this.x,this.y,this.m]:[this.x,this.y]};z.toJSON=function(B){return this.write({},B)};a._createClass(v,[{key:"cache",get:function(){this.commitProperty("x");this.commitProperty("y");this.commitProperty("z");this.commitProperty("m");this.commitProperty("spatialReference");return{}}},{key:"hasM",get:function(){return void 0!==this.m},set:function(B){const E=void 0!==this._get("m");
B!==E&&(this._set("m",B?0:void 0),this._set("hasM",B))}},{key:"hasZ",get:function(){return void 0!==this.z},set:function(B){const E=void 0!==this._get("z");B!==E&&(this._set("z",B?0:void 0),this._set("hasZ",B))}},{key:"latitude",get:function(){const {spatialReference:B,x:E,y:x}=this;if(B){if(B.isWebMercator)return r.xyToLngLat(E,x,q)[1];if(B.isGeographic)return x}return null},set:function(B){const {spatialReference:E,x}=this;null!=B&&E&&(E.isWebMercator?this._set("y",r.lngLatToXY(x,B,q)[1]):E.isGeographic&&
this._set("y",B),this._set("latitude",B))}},{key:"longitude",get:function(){const {x:B,y:E,spatialReference:x}=this;if(x){if(x.isWebMercator)return r.xyToLngLat(B,E,q)[0];if(x.isGeographic)return B}return null},set:function(B){const {y:E,spatialReference:x}=this;null!=B&&x&&(x.isWebMercator?this._set("x",r.lngLatToXY(B,E,q)[0]):x.isGeographic&&this._set("x",B),this._set("longitude",B))}}]);return v}(g);b.__decorate([f.property({readOnly:!0})],t.prototype,"cache",null);b.__decorate([f.property({type:Boolean,
json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],t.prototype,"hasM",null);b.__decorate([f.property({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],t.prototype,"hasZ",null);b.__decorate([f.property({type:Number})],t.prototype,"latitude",null);b.__decorate([f.property({type:Number})],t.prototype,"longitude",null);b.__decorate([f.property({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),k.cast(D=>isNaN(D)?D:l.ensureNumber(D))],t.prototype,"x",
void 0);b.__decorate([e.writer("x")],t.prototype,"writeX",null);b.__decorate([p.reader("x")],t.prototype,"readX",null);b.__decorate([f.property({type:Number,json:{write:!0}})],t.prototype,"y",void 0);b.__decorate([f.property({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],t.prototype,"z",void 0);b.__decorate([f.property({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],t.prototype,"m",void 0);t=h=b.__decorate([d.subclass("esri.geometry.Point")],
t);t.prototype.toJSON.isDefaultToJSON=!0;return t})},"esri/core/accessorSupport/decorators/cast":function(){define(["exports","../ensureType","../metadata"],function(a,b,C){function w(p){const d="__accessorMetadata__"in p?b.ensureType(p):p;return function(...e){e.push(d);if("number"===typeof e[2])throw Error("Using @cast has parameter decorator is not supported since 4.16");return f.apply(this,e)}}function f(p,d,e,l){C.getOwnPropertyMetadata(p,d).cast=l}function t(p){return(d,e)=>{C.getOwnPropertyMetadata(d,
p).cast=d[e]}}const k=Object.prototype.toString;a.cast=function(...p){if(3!==p.length||"string"!==typeof p[1]){if(1===p.length&&"[object Function]"===k.call(p[0]))return w(p[0]);if(1===p.length&&"string"===typeof p[0])return t(p[0])}};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/support/pointUtils":function(){define(["exports"],function(a){a.distance=function(b,C){const w=b.x-C.x,f=b.y-C.y;b=b.hasZ&&C.hasZ?b.z-C.z:0;return Math.sqrt(w*
w+f*f+b*b)};a.squareDistance=function(b,C){const w=b.x-C.x,f=b.y-C.y;b=b.hasZ&&C.hasZ?b.z-C.z:0;return w*w+f*f+b*b};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/support/webMercatorUtils":function(){define("exports ../../core/lang ../../core/maybe ../SpatialReference ./Ellipsoid ./spatialReferenceUtils".split(" "),function(a,b,C,w,f,t){function k(g,c,m,u,r){r.spatialReference=m;if("x"in g&&"x"in r)[r.x,r.y]=c(g.x,g.y,l,u);else if("xmin"in
g&&"xmin"in r)[r.xmin,r.ymin]=c(g.xmin,g.ymin,l,u),[r.xmax,r.ymax]=c(g.xmax,g.ymax,l,u);else if("paths"in g&&"paths"in r||"rings"in g&&"rings"in r){g="paths"in g?g.paths:g.rings;m=[];for(let h=0;h<g.length;h++){const q=g[h];var n=[];m.push(n);for(let D=0;D<q.length;D++)n.push(c(q[D][0],q[D][1],[0,0],u)),2<q[D].length&&n[D].push(q[D][2]),3<q[D].length&&n[D].push(q[D][3])}"paths"in r?r.paths=m:r.rings=m}else if("points"in g&&"points"in r){g=g.points;m=[];for(n=0;n<g.length;n++)m[n]=c(g[n][0],g[n][1],
[0,0],u),2<g[n].length&&m[n].push(g[n][2]),3<g[n].length&&m[n].push(g[n][3]);r.points=m}return r}function p(g,c){const m=g&&(null!=g.wkid||null!=g.wkt?g:g.spatialReference),u=c&&(null!=c.wkid||null!=c.wkt?c:c.spatialReference);return g&&"type"in g&&"mesh"===g.type||c&&"type"in c&&"mesh"===c.type||!m||!u?!1:t.equals(u,m)?!0:t.isWebMercator(u)&&t.isWGS84(m)||t.isWebMercator(m)&&t.isWGS84(u)}function d(g,c,m=[0,0]){89.99999<c?c=89.99999:-89.99999>c&&(c=-89.99999);c*=.017453292519943;m[0]=.017453292519943*
g*f.earth.radius;m[1]=f.earth.halfSemiMajorAxis*Math.log((1+Math.sin(c))/(1-Math.sin(c)));return m}function e(g,c,m=[0,0],u=!1){g=g/f.earth.radius*57.29577951308232;m[0]=u?g:g-360*Math.floor((g+180)/360);m[1]=57.29577951308232*(Math.PI/2-2*Math.atan(Math.exp(-c/f.earth.radius)));return m}const l=[0,0];a.canProject=p;a.geographicToWebMercator=function(g,c=!1,m=b.clone(g)){return k(g,d,w.WebMercator,c,m)};a.lngLatToXY=d;a.project=function(g,c){if(C.isNone(g))return null;const m=g.spatialReference;c=
c&&(null!=c.wkid||null!=c.wkt?c:c.spatialReference);return p(m,c)?t.equals(m,c)?b.clone(g):t.isWebMercator(c)?k(g,d,w.WebMercator,!1,b.clone(g)):t.isWGS84(c)?k(g,e,w.WGS84,!1,b.clone(g)):null:null};a.webMercatorToGeographic=function(g,c=!1,m=b.clone(g)){return k(g,e,w.WGS84,c,m)};a.x2lon=function(g){return g/f.earth.radius};a.xyToLngLat=e;a.y2lat=function(g){return Math.PI/2-2*Math.atan(Math.exp(-g/f.earth.radius))};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/geometry/support/Ellipsoid":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers"],function(a,b){let C=function(){function k(p,d,e,l){this.semiMajorAxis=p;this.flattening=d;this.outerAtmosphereRimWidth=e;this.semiMinorAxis=this.semiMajorAxis*(1-this.flattening);this.halfSemiMajorAxis=this.semiMajorAxis/2;this.halfCircumference=Math.PI*this.semiMajorAxis;this.metersPerDegree=this.halfCircumference/180;this.inverseFlattening=1/(1-this.flattening)-1;this.eccentricitySquared=l?l:
2*this.flattening-this.flattening*this.flattening;this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}b._createClass(k,[{key:"radius",get:function(){return this.semiMajorAxis}}]);return k}();const w=new C(6378137,1/298.257223563,3E5,.006694379990137799),f=new C(3396190,.005886007555525457,23E4),t=new C(1737400,0,0);a.Ellipsoid=C;a.earth=w;a.mars=f;a.moon=t;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/support/contains":function(){define(["exports",
"../../core/maybe"],function(a,b){function C(d,e){return w(d,e[0],e[1])}function w(d,e,l,g){return e>=d.xmin&&e<=d.xmax&&l>=d.ymin&&l<=d.ymax?null!=g&&d.hasZ?g>=d.zmin&&g<=d.zmax:!0:!1}function f(d,e){return t(d.rings,e)}function t(d,e){if(!d)return!1;if(!Array.isArray(d[0][0]))return k(!1,d,e);let l=!1;for(let g=0,c=d.length;g<c;g++)l=k(l,d[g],e);return l}function k(d,e,l){const [g,c]=l;l=0;for(let m=0,u=e.length;m<u;m++){l++;l===u&&(l=0);const [r,n]=e[m],[h,q]=e[l];(n<c&&q>=c||q<c&&n>=c)&&r+(c-
n)/(q-n)*(h-r)<g&&(d=!d)}return d}const p=[0,0];a.extentContainsCoords2D=C;a.extentContainsCoords3D=function(d,e){return w(d,e[0],e[1],e[2])};a.extentContainsExtent=function(d,e){const {xmin:l,ymin:g,zmin:c,xmax:m,ymax:u,zmax:r}=e;return d.hasZ&&e.hasZ?w(d,l,g,c)&&w(d,l,u,c)&&w(d,m,u,c)&&w(d,m,g,c)&&w(d,l,g,r)&&w(d,l,u,r)&&w(d,m,u,r)&&w(d,m,g,r):w(d,l,g)&&w(d,l,u)&&w(d,m,u)&&w(d,m,g)};a.extentContainsMultipoint=function(d,e){if(!e.points||e.points.length)return!1;for(const l of e.points)if(!C(d,l))return!1;
return!0};a.extentContainsPoint=function(d,e){return b.isSome(e)?w(d,e.x,e.y,e.z):!1};a.extentContainsXYZ=w;a.polygonContainsCoords=f;a.polygonContainsPoint=function(d,e){p[1]=e.y;p[0]=e.x;return f(d,p)};a.ringsContainsCoords=t;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/support/intersectsBase":function(){define(["exports","./contains"],function(a,b){function C(h,q){return b.extentContainsPoint(h,q)}function w(h,q){var D=h.hasZ&&q.hasZ;
if(h.xmin<=q.xmin){var v=q.xmin;if(h.xmax<v)return!1}else if(v=h.xmin,q.xmax<v)return!1;if(h.ymin<=q.ymin){if(v=q.ymin,h.ymax<v)return!1}else if(v=h.ymin,q.ymax<v)return!1;if(D&&q.hasZ)if(h.zmin<=q.zmin){if(D=q.zmin,h.zmax<D)return!1}else if(D=h.zmin,q.zmax<D)return!1;return!0}function f(h,q){const {points:D,hasZ:v}=q;q=v?b.extentContainsCoords3D:b.extentContainsCoords2D;for(const z of D)if(q(h,z))return!0;return!1}function t(h,q){return k(h,q.rings)}function k(h,q){l[0]=h.xmin;l[1]=h.ymax;g[0]=h.xmax;
g[1]=h.ymax;c[0]=h.xmin;c[1]=h.ymin;m[0]=h.xmax;m[1]=h.ymin;for(var D of u)if(b.ringsContainsCoords(q,D))return!0;for(const v of q)if(v.length){q=v[0];if(b.extentContainsCoords2D(h,q))return!0;for(D=1;D<v.length;D++){const z=v[D];if(b.extentContainsCoords2D(h,z)||d(q,z,r))return!0;q=z}}return!1}function p(h,q){l[0]=h.xmin;l[1]=h.ymax;g[0]=h.xmax;g[1]=h.ymax;c[0]=h.xmin;c[1]=h.ymin;m[0]=h.xmax;m[1]=h.ymin;q=q.paths;for(const D of q){if(!q.length)continue;let v=D[0];if(b.extentContainsCoords2D(h,v))return!0;
for(let z=1;z<D.length;z++){const B=D[z];if(b.extentContainsCoords2D(h,B)||d(v,B,r))return!0;v=B}}return!1}function d(h,q,D){for(let v=0;v<D.length;v++)if(e(h,q,D[v][0],D[v][1]))return!0;return!1}function e(h,q,D,v,z){const [B,E]=h,[x,y]=q,[A,F]=D,[K,M]=v;var H=K-A;h=B-A;q=x-B;const I=M-F;D=E-F;v=y-E;const J=I*q-H*v;if(0===J)return!1;H=(H*D-I*h)/J;h=(q*D-v*h)/J;return 0<=H&&1>=H&&0<=h&&1>=h?(z&&(z[0]=B+H*(x-B),z[1]=E+H*(y-E)),!0):!1}const l=[0,0],g=[0,0],c=[0,0],m=[0,0],u=[l,g,c,m],r=[[c,l],[l,g],
[g,m],[m,c]],n=[0,0];a.extentIntersectsExtent=w;a.extentIntersectsMultipoint=f;a.extentIntersectsPoint=C;a.extentIntersectsPolygon=t;a.extentIntersectsPolyline=p;a.extentIntersectsRings=k;a.getFeatureExtentIntersector=function(h){switch(h){case "esriGeometryEnvelope":case "extent":return w;case "esriGeometryMultipoint":case "multipoint":return f;case "esriGeometryPoint":case "point":return C;case "esriGeometryPolygon":case "polygon":return t;case "esriGeometryPolyline":case "polyline":return p}};
a.isSelfIntersecting=function(h){for(let y=0;y<h.length;y++){const A=h[y];for(var q=0;q<A.length-1;q++){var D=A[q],v=A[q+1];for(var z=y+1;z<h.length;z++)for(var B=0;B<h[z].length-1;B++){var E=h[z][B],x=h[z][B+1];if(e(D,v,E,x,n)&&!(n[0]===D[0]&&n[1]===D[1]||n[0]===E[0]&&n[1]===E[1]||n[0]===v[0]&&n[1]===v[1]||n[0]===x[0]&&n[1]===x[1]))return!0}}q=A.length;if(!(4>=q))for(D=0;D<q-3;D++)for(v=q-1,0===D&&(v=q-2),z=A[D],B=A[D+1],E=D+2;E<v;E++){x=A[E];const F=A[E+1];if(e(z,B,x,F,n)&&!(n[0]===z[0]&&n[1]===
z[1]||n[0]===x[0]&&n[1]===x[1]||n[0]===B[0]&&n[1]===B[1]||n[0]===F[0]&&n[1]===F[1]))return!0}}return!1};a.segmentIntersects=e;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/Multipoint":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Extent ./Geometry ./Point ./support/zmUtils".split(" "),
function(a,b,C,w,f,t,k,p,d,e,l){function g(m){return(u,r)=>null==u?r:null==r?u:m(u,r)}var c;f=c=function(m){function u(...n){n=m.call(this,...n)||this;n.points=[];n.type="multipoint";return n}a._inheritsLoose(u,m);var r=u.prototype;r.normalizeCtorArgs=function(n,h){if(!n&&!h)return{};const q={};Array.isArray(n)?(q.points=n,q.spatialReference=h):!n||"esri.geometry.SpatialReference"!==n.declaredClass&&null==n.wkid?(n.points&&(q.points=n.points),n.spatialReference&&(q.spatialReference=n.spatialReference),
n.hasZ&&(q.hasZ=n.hasZ),n.hasM&&(q.hasM=n.hasM)):q.spatialReference=n;if(n=q.points&&q.points[0])void 0===q.hasZ&&void 0===q.hasM?(q.hasZ=2<n.length,q.hasM=!1):void 0===q.hasZ?q.hasZ=3<n.length:void 0===q.hasM&&(q.hasM=3<n.length);return q};r.writePoints=function(n,h){h.points=C.clone(this.points)};r.addPoint=function(n){l.updateSupportFromPoint(this,n);Array.isArray(n)?this.points.push(n):this.points.push(n.toArray());this.notifyChange("points");return this};r.clone=function(){const n={points:C.clone(this.points),
spatialReference:this.spatialReference};this.hasZ&&(n.hasZ=!0);this.hasM&&(n.hasM=!0);return new c(n)};r.getPoint=function(n){if(!this._validateInputs(n))return null;n=this.points[n];const h={x:n[0],y:n[1],spatialReference:this.spatialReference};let q=2;this.hasZ&&(h.z=n[2],q=3);this.hasM&&(h.m=n[q]);return new e(h)};r.removePoint=function(n){if(!this._validateInputs(n))return null;n=new e(this.points.splice(n,1)[0],this.spatialReference);this.notifyChange("points");return n};r.setPoint=function(n,
h){if(!this._validateInputs(n))return this;l.updateSupportFromPoint(this,h);Array.isArray(h)||(h=h.toArray());this.points[n]=h;this.notifyChange("points");return this};r.toJSON=function(n){return this.write({},n)};r._validateInputs=function(n){return null!=n&&0<=n&&n<this.points.length};a._createClass(u,[{key:"cache",get:function(){this.commitProperty("points");this.commitProperty("hasZ");this.commitProperty("hasM");this.commitProperty("spatialReference");return{}}},{key:"extent",get:function(){const n=
this.points;if(!n.length)return null;const h=new p,q=this.hasZ,D=this.hasM,v=q?3:2;var z=n[0];const B=g(Math.min),E=g(Math.max);let [x,y]=z,[A,F]=z,K,M,H,I;for(let J=0,S=n.length;J<S;J++){z=n[J];const [V,Z]=z;x=B(x,V);y=B(y,Z);A=E(A,V);F=E(F,Z);if(q&&2<z.length){const ba=z[2];K=B(K,ba);H=E(H,ba)}D&&z.length>v&&(z=z[v],M=B(M,z),I=E(I,z))}h.xmin=x;h.ymin=y;h.xmax=A;h.ymax=F;h.spatialReference=this.spatialReference;q?(h.zmin=K,h.zmax=H):(h.zmin=void 0,h.zmax=void 0);D?(h.mmin=M,h.mmax=I):(h.mmin=void 0,
h.mmax=void 0);return h}}]);return u}(d);b.__decorate([w.property({readOnly:!0})],f.prototype,"cache",null);b.__decorate([w.property()],f.prototype,"extent",null);b.__decorate([w.property({type:[[Number]],json:{write:{isRequired:!0}}})],f.prototype,"points",void 0);b.__decorate([k.writer("points")],f.prototype,"writePoints",null);f=c=b.__decorate([t.subclass("esri.geometry.Multipoint")],f);f.prototype.toJSON.isDefaultToJSON=!0;return f})},"esri/geometry/support/zmUtils":function(){define(["exports"],
function(a){a.updateSupportFromPoint=function(b,C,w=!1){let {hasM:f,hasZ:t}=b;Array.isArray(C)?4!==C.length||f||t?3===C.length&&w&&!f?(t=!0,f=!1):3===C.length&&f&&t&&(t=f=!1):t=f=!0:(t=!t&&C.hasZ&&(!f||C.hasM),f=!f&&C.hasM&&(!t||C.hasZ));b.hasZ=t;b.hasM=f};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/Polygon":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/arrayUtils ../core/lang ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Extent ./Geometry ./Point ./SpatialReference ./support/centroid ./support/contains ./support/coordsUtils ./support/extentUtils ./support/intersectsBase ./support/webMercatorUtils ./support/zmUtils".split(" "),
function(a,b,C,w,f,t,k,p,d,e,l,g,c,m,u,r,n,h,q,D){var v;k=v=function(z){function B(...x){x=z.call(this,...x)||this;x.rings=[];x.type="polygon";return x}a._inheritsLoose(B,z);B.fromExtent=function(x){var y=x.clone().normalize();x=x.spatialReference;let A=!1,F=!1;for(const K of y)K.hasZ&&(A=!0),K.hasM&&(F=!0);y={rings:y.map(K=>{const M=[[K.xmin,K.ymin],[K.xmin,K.ymax],[K.xmax,K.ymax],[K.xmax,K.ymin],[K.xmin,K.ymin]];if(A&&K.hasZ){var H=K.zmin+.5*(K.zmax-K.zmin);for(let I=0;I<M.length;I++)M[I].push(H)}if(F&&
K.hasM)for(K=K.mmin+.5*(K.mmax-K.mmin),H=0;H<M.length;H++)M[H].push(K);return M}),spatialReference:x};A&&(y.hasZ=!0);F&&(y.hasM=!0);return new v(y)};var E=B.prototype;E.normalizeCtorArgs=function(x,y){let A=null,F,K,M=null;x&&!Array.isArray(x)?(A=x.rings?x.rings:null,y||(x.spatialReference?y=x.spatialReference:x.rings||(y=x)),F=x.hasZ,K=x.hasM):A=x;A=A||[];y=y||c.WGS84;A.length&&A[0]&&null!=A[0][0]&&"number"===typeof A[0][0]&&(A=[A]);if(M=A[0]&&A[0][0])void 0===F&&void 0===K?(F=2<M.length,K=3<M.length):
void 0===F?F=K?3<M.length:2<M.length:void 0===K&&(K=F?3<M.length:2<M.length);return{rings:A,spatialReference:y,hasZ:F,hasM:K}};E.writeRings=function(x,y){y.rings=w.clone(this.rings)};E.addRing=function(x){if(x){var y=this.rings,A=y.length;if(Array.isArray(x[0]))y[A]=x.concat();else{const F=[];for(let K=0,M=x.length;K<M;K++)F[K]=x[K].toArray();y[A]=F}this.notifyChange("rings");return this}};E.clone=function(){const x=new v;x.spatialReference=this.spatialReference;x.rings=w.clone(this.rings);x.hasZ=
this.hasZ;x.hasM=this.hasM;return x};E.equals=function(x){if(this===x)return!0;if(f.isNone(x))return!1;var y=this.spatialReference,A=x.spatialReference;if(f.isSome(y)!==f.isSome(A)||f.isSome(y)&&f.isSome(A)&&!y.equals(A)||this.rings.length!==x.rings.length)return!1;y=([F,K,M,H],[I,J,S,V])=>F===I&&K===J&&(null==M&&null==S||M===S)&&(null==H&&null==V||H===V);for(A=0;A<this.rings.length;A++)if(!C.equals(this.rings[A],x.rings[A],y))return!1;return!0};E.contains=function(x){if(!x)return!1;const y=q.project(x,
this.spatialReference);return u.polygonContainsPoint(this,f.isSome(y)?y:x)};E.isClockwise=function(x){x=Array.isArray(x[0])?x:x.map(y=>this.hasZ?this.hasM?[y.x,y.y,y.z,y.m]:[y.x,y.y,y.z]:[y.x,y.y]);return r.isClockwise(x,this.hasM,this.hasZ)};E.getPoint=function(x,y){if(!this._validateInputs(x,y))return null;x=this.rings[x][y];y=this.hasZ;const A=this.hasM;return y&&!A?new g(x[0],x[1],x[2],void 0,this.spatialReference):A&&!y?new g(x[0],x[1],void 0,x[2],this.spatialReference):y&&A?new g(x[0],x[1],
x[2],x[3],this.spatialReference):new g(x[0],x[1],this.spatialReference)};E.insertPoint=function(x,y,A){if(!this._validateInputs(x,y,!0))return this;D.updateSupportFromPoint(this,A);Array.isArray(A)||(A=A.toArray());this.rings[x].splice(y,0,A);this.notifyChange("rings");return this};E.removePoint=function(x,y){if(!this._validateInputs(x,y))return null;x=new g(this.rings[x].splice(y,1)[0],this.spatialReference);this.notifyChange("rings");return x};E.removeRing=function(x){if(!this._validateInputs(x,
null))return null;x=this.rings.splice(x,1)[0];const y=this.spatialReference;x=x.map(A=>new g(A,y));this.notifyChange("rings");return x};E.setPoint=function(x,y,A){if(!this._validateInputs(x,y))return this;D.updateSupportFromPoint(this,A);Array.isArray(A)||(A=A.toArray());this.rings[x][y]=A;this.notifyChange("rings");return this};E._validateInputs=function(x,y,A=!1){return null==x||0>x||x>=this.rings.length||null!=y&&(x=this.rings[x],A&&(0>y||y>x.length)||!A&&(0>y||y>=x.length))?!1:!0};E.toJSON=function(x){return this.write({},
x)};a._createClass(B,[{key:"cache",get:function(){this.commitProperty("rings");this.commitProperty("hasZ");this.commitProperty("hasM");this.commitProperty("spatialReference");return{}}},{key:"centroid",get:function(){const x=m.polygonCentroid(this);if(!x||isNaN(x[0])||isNaN(x[1])||this.hasZ&&isNaN(x[2]))return null;const y=new g;y.x=x[0];y.y=x[1];y.spatialReference=this.spatialReference;this.hasZ&&(y.z=x[2]);return y}},{key:"extent",get:function(){const {spatialReference:x}=this;var y=n.getPolygonExtent(this);
if(!y)return null;y=new e(y);y.spatialReference=x;return y}},{key:"isSelfIntersecting",get:function(){return h.isSelfIntersecting(this.rings)}}]);return B}(l);b.__decorate([t.property({readOnly:!0})],k.prototype,"cache",null);b.__decorate([t.property({readOnly:!0})],k.prototype,"centroid",null);b.__decorate([t.property({readOnly:!0})],k.prototype,"extent",null);b.__decorate([t.property({readOnly:!0})],k.prototype,"isSelfIntersecting",null);b.__decorate([t.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],
k.prototype,"rings",void 0);b.__decorate([d.writer("rings")],k.prototype,"writeRings",null);k=v=b.__decorate([p.subclass("esri.geometry.Polygon")],k);k.prototype.toJSON.isDefaultToJSON=!0;return k})},"esri/geometry/support/centroid":function(){define(["exports","./coordsUtils"],function(a,b){function C(k,p){if(!k||!k.length)return null;const d=[],e=[],l=p?[Infinity,-Infinity,Infinity,-Infinity,Infinity,-Infinity]:[Infinity,-Infinity,Infinity,-Infinity];for(let g=0,c=k.length;g<c;g++){const m=w(k[g],
p,l);m&&e.push(m)}e.sort((g,c)=>{let m=g[2]-c[2];0===m&&p&&(m=g[4]-c[4]);return m});e.length&&(d[0]=e[0][0],d[1]=e[0][1],p&&(d[2]=e[0][3]),d[0]<l[0]||d[0]>l[1]||d[1]<l[2]||d[1]>l[3]||p&&(d[2]<l[4]||d[2]>l[5]))&&(d.length=0);if(!d.length)if(k=k[0]&&k[0].length?f(k[0],p):null)d[0]=k[0],d[1]=k[1],p&&2<k.length&&(d[2]=k[2]);else return null;return d}function w(k,p,d){let e=0,l=0,g=0,c=0,m=0;const u=k.length?k[0][0]:0,r=k.length?k[0][1]:0,n=k.length&&p?k[0][2]:0;for(let v=0;v<k.length;v++){var h=k[v],
q=k[(v+1)%k.length];const [z,B,E]=h;var D=z-u;const x=B-r,[y,A,F]=q,K=y-u,M=A-r,H=D*M-K*x;c+=H;e+=(D+K)*H;l+=(x+M)*H;p&&2<h.length&&2<q.length&&(h=E-n,q=F-n,D=D*q-K*h,g+=(h+q)*D,m+=D);z<d[0]&&(d[0]=z);z>d[1]&&(d[1]=z);B<d[2]&&(d[2]=B);B>d[3]&&(d[3]=B);p&&(E<d[4]&&(d[4]=E),E>d[5]&&(d[5]=E))}0<c&&(c*=-1);0<m&&(m*=-1);if(!c)return null;c*=.5;m*=.5;k=[e/(6*c)+u,l/(6*c)+r,c];p&&(d[4]===d[5]||0===m?(k[3]=(d[4]+d[5])/2,k[4]=0):(k[3]=g/(6*m)+n,k[4]=m));return k}function f(k,p){const d=p?[0,0,0]:[0,0],e=p?
[0,0,0]:[0,0];let l=0,g=0,c=0,m=0;for(let r=0,n=k.length;r<n-1;r++){var u=k[r];const h=k[r+1];if(u&&h){d[0]=u[0];d[1]=u[1];e[0]=h[0];e[1]=h[1];p&&2<u.length&&2<h.length&&(d[2]=u[2],e[2]=h[2]);const q=b.getLength(d,e);q&&(l+=q,u=b.getMidpoint(u,h),g+=q*u[0],c+=q*u[1],p&&2<u.length&&(m+=q*u[2]))}}return 0<l?p?[g/l,c/l,m/l]:[g/l,c/l]:k.length?k[0]:null}const t=1/3;a.extentCentroid=function(k){return k?k.hasZ?[k.xmax-k.xmin/2,k.ymax-k.ymin/2,k.zmax-k.zmin/2]:[k.xmax-k.xmin/2,k.ymax-k.ymin/2]:null};a.lineCentroid=
f;a.polygonCentroid=function(k){return k?C(k.rings,k.hasZ??!1):null};a.ringCentroid=w;a.ringsCentroid=C;a.weightedAreaCentroid=function(k){if(!k||!k.rings)return null;({rings:k}=k);let p=0;for(var d=0;d<k.length;d++)p+=b.getRingArea(k[d]);if(1E-6>p)return C(k,!1);d=[0,0];const e=k[0][0];for(let u=0;u<k.length;u++)a:{let r=void 0;var l=d,g=e,c=k[u];if(!l||!c||3>c.length)break a;var m=c[0];const n=[0,0],h=[c[1][0]-m[0],c[1][1]-m[1]];for(let q=2;q<c.length;q++)n[0]=c[q][0]-m[0],n[1]=c[q][1]-m[1],r=.5*
t*(n[0]*h[1]-n[1]*h[0]),l[0]+=r*(h[0]+n[0]),l[1]+=r*(h[1]+n[1]),h[0]=n[0],h[1]=n[1];c=b.getRingArea(c);m=[m[0],m[1]];m[0]-=g[0];m[1]-=g[1];m[0]*=c;m[1]*=c;l[0]+=m[0];l[1]+=m[1]}d[0]*=1/p;d[1]*=1/p;d[0]+=e[0];d[1]+=e[1];return d};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/support/coordsUtils":function(){define(["exports","../../core/arrayUtils","./spatialReferenceUtils"],function(a,b,C){function w(g,c){const m=c[0]-g[0],u=c[1]-g[1];return 2<
g.length&&2<c.length?(g=g[2]-c[2],Math.sqrt(m*m+u*u+g*g)):Math.sqrt(m*m+u*u)}function f(g,c,m){const u=g[0]+m*(c[0]-g[0]),r=g[1]+m*(c[1]-g[1]);return 2<g.length&&2<c.length?[u,r,g[2]+m*(c[2]-g[2])]:[u,r]}function t(g,c,m,u){let r=m[0];m=m[1];let n=u[0]-r,h=u[1]-m;if(0!==n||0!==h){const q=((g-r)*n+(c-m)*h)/(n*n+h*h);1<q?(r=u[0],m=u[1]):0<q&&(r+=n*q,m+=h*q)}n=g-r;h=c-m;return n*n+h*h}function k(g,c,m){const u=g.length;let r=0,n=0,h=0;for(let q=0;q<u;q++){const D=g[q],v=g[(q+1)%u];let z=2;r+=D[0]*v[1]-
v[0]*D[1];2<D.length&&2<v.length&&m&&(n+=D[0]*v[2]-v[0]*D[2],z=3);D.length>z&&v.length>z&&c&&(h+=D[0]*v[z]-v[0]*D[z])}return 0>=r&&0>=n&&0>=h}function p(g){const c=g.length;return 2<c&&b.equals(g[0],g[c-1])}function d(g){if("rings"in g)for(const c of g.rings)p(c)||c.push(c[0].slice())}function e(g,c){var m=C.getInfo(c);if(m){c=m.valid[0];m=m.valid[1];var u=m-c;for(const r of g){g=Infinity;let n=-Infinity;for(const h of r){const q=l(h[0],c,m);g=Math.min(g,q);n=Math.max(n,q);h[0]=q}g=n-g;u-g<g&&r.forEach(h=>
{0>h[0]&&(h[0]+=u)})}}}function l(g,c,m){const u=m-c;return g<c?m-(c-g)%u:g>m?c+(g-c)%u:g}a.closeRings=d;a.closeRingsAndFixWinding=function(g){if("rings"in g&&(d(g),0<g.rings.length&&!k(g.rings[0],g.hasM??!1,g.hasZ??!1)))for(const c of g.rings)c.reverse()};a.distanceFromPointToPolygon=function(g,c,m){m=m.rings;let u=!1,r=Infinity,n,h;for(let q=0;q<m.length;q++){const D=m[q];for(let v=0,z=D.length-1;v<D.length;z=v++)n=D[v],h=D[z],n[1]>c!==h[1]>c&&g<(h[0]-n[0])*(c-n[1])/(h[1]-n[1])+n[0]&&(u=!u),r=Math.min(r,
t(g,c,n,h))}return 0===r?0:(u?1:-1)*Math.sqrt(r)};a.distanceToSegmentSquared=t;a.geometryToCoordinates=function(g){if(!g)return null;if(Array.isArray(g))return g;const c=g.hasZ,m=g.hasM;if("point"===g.type)return m&&c?[g.x,g.y,g.z,g.m]:c?[g.x,g.y,g.z]:m?[g.x,g.y,g.m]:[g.x,g.y];if("polygon"===g.type)return g.rings.slice(0);if("polyline"===g.type)return g.paths.slice(0);if("multipoint"===g.type)return g.points.slice(0);if("extent"===g.type){g=g.clone().normalize();if(!g)return null;let u=!1,r=!1;g.forEach(n=>
{n.hasZ&&(u=!0);n.hasM&&(r=!0)});return g.map(n=>{const h=[[n.xmin,n.ymin],[n.xmin,n.ymax],[n.xmax,n.ymax],[n.xmax,n.ymin],[n.xmin,n.ymin]];if(u&&n.hasZ){var q=.5*(n.zmax-n.zmin);for(let D=0;D<h.length;D++)h[D].push(q)}if(r&&n.hasM)for(n=.5*(n.mmax-n.mmin),q=0;q<h.length;q++)h[q].push(n);return h})}return null};a.getLength=w;a.getMidpoint=function(g,c){return f(g,c,.5)};a.getPathLength=function(g){const c=g.length;let m=0;for(let u=0;u<c-1;++u)m+=w(g[u],g[u+1]);return m};a.getPointOnPath=function(g,
c){if(0>=c)return g[0];const m=g.length;let u=0;for(let r=0;r<m-1;++r){const n=w(g[r],g[r+1]);if(c-u<n)return f(g[r],g[r+1],(c-u)/n);u+=n}return g[m-1]};a.getRingArea=function(g){if(!g||3>g.length)return 0;let c=0;const m=g.length-1;for(let u=0;u<m;u++)c+=(g[u][0]-g[u+1][0])*(g[u][1]+g[u+1][1]);c+=(g[m][0]-g[0][0])*(g[m][1]+g[0][1]);return-.5*c};a.isClockwise=k;a.isClosed=p;a.projectPointOnLine=function(g,c,m,u){const [r,n]=c,[h,q]=m[u],[D,v]=m[u+1];c=D-h;m=v-q;u=Math.min(1,Math.max(0,((r-h)*c+(n-
q)*m)/(c*c+m*m)));g[0]=h+c*u;g[1]=q+m*u;return g};a.unnormalizeGeometryOnDatelineCrossing=function(g){if("polygon"!==g.type&&"polyline"!==g.type)return g;e("polygon"===g.type?g.rings:g.paths,g.spatialReference);return g};a.unnormalizeVerticesOnDatelineCrossing=e;a.unnormalizedCoordinate=l;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/support/extentUtils":function(){define(["exports","./boundsUtils"],function(a,b){function C(d,e=!1,l=!1){return e?
l?{xmin:d[0],ymin:d[1],zmin:d[2],mmin:d[3],xmax:d[4],ymax:d[5],zmax:d[6],mmax:d[7]}:{xmin:d[0],ymin:d[1],zmin:d[2],xmax:d[3],ymax:d[4],zmax:d[5]}:l?{xmin:d[0],ymin:d[1],mmin:d[2],xmax:d[3],ymax:d[4],mmax:d[5]}:{xmin:d[0],ymin:d[1],xmax:d[2],ymax:d[3]}}function w(d){const {hasZ:e,hasM:l,points:g}=d;return C(b.getPointsBounds(p,g,e??!1,l??!1),e,l)}function f(d){const {x:e,y:l,z:g,m:c}=d;d=null!=c;return null!=g?d?{xmin:e,ymin:l,zmin:g,mmin:c,xmax:e,ymax:l,zmax:g,mmax:c}:{xmin:e,ymin:l,zmin:g,xmax:e,
ymax:l,zmax:g}:d?{xmin:e,ymin:l,mmin:c,xmax:e,ymax:l,mmax:c}:{xmin:e,ymin:l,xmax:e,ymax:l}}function t(d){const {hasZ:e,hasM:l,rings:g}=d;return(d=b.getRingsOrPathsBounds(p,g,e??!1,l??!1))?C(d,e,l):null}function k(d){const {hasZ:e,hasM:l,paths:g}=d;return(d=b.getRingsOrPathsBounds(p,g,e??!1,l??!1))?C(d,e,l):null}const p=[];a.getGeometryExtent=function(d){return d?void 0!==d.xmin&&void 0!==d.ymin&&void 0!==d.xmax&&void 0!==d.ymax?d:void 0!==d.x&&void 0!==d.y?f(d):void 0!==d.rings?t(d):void 0!==d.paths?
k(d):void 0!==d.points?w(d):null:null};a.getMultipointExtent=w;a.getPointExtent=f;a.getPolygonExtent=t;a.getPolylineExtent=k;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/support/boundsUtils":function(){define(["exports"],function(a){function b(d){return void 0!==d.xmin&&void 0!==d.ymin&&void 0!==d.xmax&&void 0!==d.ymax}function C(d){return function(e,l){return null==e?l:null==l?e:d(e,l)}}function w(d,e,l,g){const c=l?3:2;if(!e.length||
!e[0].length)return null;let [m,u]=e[0][0],[r,n]=e[0][0],h=void 0,q=void 0,D=void 0;var v=void 0;for(let z=0;z<e.length;z++){const B=e[z];for(let E=0;E<B.length;E++){const x=B[E],[y,A]=x;m=k(m,y);u=k(u,A);r=p(r,y);n=p(n,A);if(l&&2<x.length){const F=x[2];h=k(h,F);q=p(q,F)}g&&x.length>c&&(v=x[c],D=k(h,v),v=p(q,v))}}if(l){if(g)return d[0]=m,d[1]=u,d[2]=h,d[3]=D,d[4]=r,d[5]=n,d[6]=q,d[7]=v,d.length=8,d;d[0]=m;d[1]=u;d[2]=h;d[3]=r;d[4]=n;d[5]=q;d.length=6;return d}if(g)return d[0]=m,d[1]=u,d[2]=D,d[3]=
r,d[4]=n,d[5]=v,d.length=6,d;d[0]=m;d[1]=u;d[2]=r;d[3]=n;d.length=4;return d}function f(d,e,l,g,c,m){l=e.xmin;g=e.xmax;const u=e.ymin,r=e.ymax;let n=e.zmin,h=e.zmax,q=e.mmin;e=e.mmax;if(c){n=n||0;h=h||0;if(m)return d[0]=l,d[1]=u,d[2]=n,d[3]=q||0,d[4]=g,d[5]=r,d[6]=h,d[7]=e||0,d;d[0]=l;d[1]=u;d[2]=n;d[3]=g;d[4]=r;d[5]=h;return d}if(m)return d[0]=l,d[1]=u,d[2]=q||0,d[3]=g,d[4]=r,d[5]=e||0,d;d[0]=l;d[1]=u;d[2]=g;d[3]=r;return d}function t(d,e,l,g,c,m){const u=l?3:2;g=g&&m;l=l&&c;if(!e.length||!e[0].length)return null;
let [r,n]=e[0],[h,q]=e[0],D=void 0,v=void 0,z=void 0;var B=void 0;for(let E=0;E<e.length;E++){const x=e[E],[y,A]=x;r=k(r,y);n=k(n,A);h=p(h,y);q=p(q,A);if(l&&2<x.length){const F=x[2];D=k(D,F);v=p(v,F)}g&&x.length>u&&(B=x[u],z=k(D,B),B=p(v,B))}if(c){D=D||0;v=v||0;if(m)return d[0]=r,d[1]=n,d[2]=D,d[3]=z||0,d[4]=h,d[5]=q,d[6]=v,d[7]=B||0,d;d[0]=r;d[1]=n;d[2]=D;d[3]=h;d[4]=q;d[5]=v;return d}if(m)return d[0]=r,d[1]=n,d[2]=z||0,d[3]=h,d[4]=q,d[5]=B||0,d;d[0]=r;d[1]=n;d[2]=h;d[3]=q;return d}const k=C(Math.min),
p=C(Math.max);a.getBoundsXY=function(d,e){if(void 0!==e.paths)return w(d,e.paths,!1,!1);if(void 0!==e.rings)return w(d,e.rings,!1,!1);if(void 0!==e.points)return t(d,e.points,!1,!1,!1,!1);if(b(e))return f(d,e);void 0!==e.x&&void 0!==e.y&&(d[0]=e.x,d[1]=e.y,d[2]=e.x,d[3]=e.y);return d};a.getBoundsXYZ=function(d,e){if(void 0!==e.paths)return w(d,e.paths,!0,!1);if(void 0!==e.rings)return w(d,e.rings,!0,!1);if(void 0!==e.points)return t(d,e.points,!0,!1,!0,!1);if(b(e))return f(d,e,!0,!1,!0,!1);void 0!==
e.x&&void 0!==e.y&&(d[0]=e.x,d[1]=e.y,d[2]=e.z,d[3]=e.x,d[4]=e.y,d[5]=e.z);return d};a.getExtentBounds=f;a.getPointsBounds=t;a.getPointsBoundsCenterX=function(d){if(!d.length||!d[0].length)return null;let [e]=d[0],[l]=d[0];for(let g=0;g<d.length;g++){const [c]=d[g];e=k(e,c);l=p(l,c)}return e+.5*(l-e)};a.getPointsBoundsWidth=function(d){if(!d.length||!d[0].length)return null;let [e]=d[0],[l]=d[0];for(let g=0;g<d.length;g++){const [c]=d[g];e=k(e,c);l=p(l,c)}return l-e};a.getRingsOrPathsBounds=w;Object.defineProperties(a,
{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/Polyline":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Extent ./Geometry ./Point ./SpatialReference ./support/extentUtils ./support/zmUtils".split(" "),function(a,b,C,w,f,t,k,p,d,e,l,g,c){var m;f=m=function(u){function r(...h){h=
u.call(this,...h)||this;h.paths=[];h.type="polyline";return h}a._inheritsLoose(r,u);var n=r.prototype;n.normalizeCtorArgs=function(h,q){let D=null,v,z,B=null;h&&!Array.isArray(h)?(D=h.paths?h.paths:null,q||(h.spatialReference?q=h.spatialReference:h.paths||(q=h)),v=h.hasZ,z=h.hasM):D=h;D=D||[];q=q||l.WGS84;D.length&&D[0]&&null!=D[0][0]&&"number"===typeof D[0][0]&&(D=[D]);if(B=D[0]&&D[0][0])void 0===v&&void 0===z?(v=2<B.length,z=!1):void 0===v?v=!z&&3<B.length:void 0===z&&(z=!v&&3<B.length);return{paths:D,
spatialReference:q,hasZ:v,hasM:z}};n.writePaths=function(h,q){q.paths=C.clone(this.paths)};n.addPath=function(h){if(h){var q=this.paths,D=q.length;if(Array.isArray(h[0]))q[D]=h.concat();else{const v=[];for(let z=0,B=h.length;z<B;z++)v[z]=h[z].toArray();q[D]=v}this.notifyChange("paths");return this}};n.clone=function(){const h=new m;h.spatialReference=this.spatialReference;h.paths=C.clone(this.paths);h.hasZ=this.hasZ;h.hasM=this.hasM;return h};n.getPoint=function(h,q){if(!this._validateInputs(h,q))return null;
h=this.paths[h][q];q=this.hasZ;const D=this.hasM;return q&&!D?new e(h[0],h[1],h[2],void 0,this.spatialReference):D&&!q?new e(h[0],h[1],void 0,h[2],this.spatialReference):q&&D?new e(h[0],h[1],h[2],h[3],this.spatialReference):new e(h[0],h[1],this.spatialReference)};n.insertPoint=function(h,q,D){if(!this._validateInputs(h,q,!0))return this;c.updateSupportFromPoint(this,D);Array.isArray(D)||(D=D.toArray());this.paths[h].splice(q,0,D);this.notifyChange("paths");return this};n.removePath=function(h){if(!this._validateInputs(h,
null))return null;h=this.paths.splice(h,1)[0];const q=this.spatialReference;h=h.map(D=>new e(D,q));this.notifyChange("paths");return h};n.removePoint=function(h,q){if(!this._validateInputs(h,q))return null;h=new e(this.paths[h].splice(q,1)[0],this.spatialReference);this.notifyChange("paths");return h};n.setPoint=function(h,q,D){if(!this._validateInputs(h,q))return this;c.updateSupportFromPoint(this,D);Array.isArray(D)||(D=D.toArray());this.paths[h][q]=D;this.notifyChange("paths");return this};n._validateInputs=
function(h,q,D=!1){return null==h||0>h||h>=this.paths.length||null!=q&&(h=this.paths[h],D&&(0>q||q>h.length)||!D&&(0>q||q>=h.length))?!1:!0};n.toJSON=function(h){return this.write({},h)};a._createClass(r,[{key:"cache",get:function(){this.commitProperty("paths");this.commitProperty("hasZ");this.commitProperty("hasM");this.commitProperty("spatialReference");return{}}},{key:"extent",get:function(){const {spatialReference:h}=this;var q=g.getPolylineExtent(this);if(!q)return null;q=new p(q);q.spatialReference=
h;return q}}]);return r}(d);b.__decorate([w.property({readOnly:!0})],f.prototype,"cache",null);b.__decorate([w.property({readOnly:!0})],f.prototype,"extent",null);b.__decorate([w.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],f.prototype,"paths",void 0);b.__decorate([k.writer("paths")],f.prototype,"writePaths",null);f=m=b.__decorate([t.subclass("esri.geometry.Polyline")],f);f.prototype.toJSON.isDefaultToJSON=!0;return f})},"esri/geometry/support/typeUtils":function(){define(["exports",
"../../core/jsonMap"],function(a,b){const C=b.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"});b=b.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});a.featureGeometryTypeKebabDictionary=C;a.isFeatureGeometryType=function(w){return"point"===w||"multipoint"===w||"polyline"===w||"polygon"===
w};a.typeKebabDictionary=b;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/jsonMap":function(){define(["exports","./object"],function(a,b){let C=function(){function w(t,k={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=t;this._options=k;this.apiValues=[];this.jsonValues=[];this._apiToJSON=this._invertMap(t);this.apiValues=this._getKeysSorted(this._apiToJSON);this.jsonValues=this._getKeysSorted(this._jsonToAPI);this.read=p=>this.fromJSON(p);
this.write=(p,d,e)=>{p=this.toJSON(p);void 0!==p&&b.setDeepValue(e,p,d)};this.write.isJSONMapWriter=!0}var f=w.prototype;f.toJSON=function(t){return this._apiToJSON.hasOwnProperty(t)?(t=this._apiToJSON[t],this._options.useNumericKeys?+t:t):this._options.ignoreUnknown?void 0:t};f.fromJSON=function(t){return this._jsonToAPI.hasOwnProperty(t)?this._jsonToAPI[t]:this._options.ignoreUnknown?void 0:t};f._invertMap=function(t){const k={};for(const p in t)k[t[p]]=p;return k};f._getKeysSorted=function(t){const k=
[];for(const p in t)k.push(p);k.sort();return k};return w}();a.JSONMap=C;a.strict=function(){return function(w,f){return new C(w,{ignoreUnknown:!0,...f})}};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/support/jsonUtils":function(){define("exports ../../core/maybe ../Extent ../Geometry ../Multipoint ../Point ../Polygon ../Polyline".split(" "),function(a,b,C,w,f,t,k,p){function d(u){return void 0!==u.xmin&&void 0!==u.ymin&&void 0!==u.xmax&&
void 0!==u.ymax}function e(u){return void 0!==u.points}function l(u){return void 0!==u.x&&void 0!==u.y}function g(u){return void 0!==u.paths}function c(u){return void 0!==u.rings}const m={esriGeometryPoint:t,esriGeometryPolyline:p,esriGeometryPolygon:k,esriGeometryEnvelope:C,esriGeometryMultipoint:f};a.fromJSON=function(u){return b.isNone(u)?null:u instanceof w?u:l(u)?t.fromJSON(u):g(u)?p.fromJSON(u):c(u)?k.fromJSON(u):e(u)?f.fromJSON(u):d(u)?C.fromJSON(u):null};a.getGeometryType=function(u){return u&&
m[u]||null};a.getJsonType=function(u){return u?l(u)?"esriGeometryPoint":g(u)?"esriGeometryPolyline":c(u)?"esriGeometryPolygon":d(u)?"esriGeometryEnvelope":e(u)?"esriGeometryMultipoint":null:null};a.isExtent=d;a.isMesh=function(u){return void 0!==u.vertexAttributes};a.isMultipoint=e;a.isPoint=l;a.isPolygon=c;a.isPolyline=g;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"*noref":1}});require.boot&&require.apply(null,require.boot);