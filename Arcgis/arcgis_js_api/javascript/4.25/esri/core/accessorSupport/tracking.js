// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define(["exports","../has","../Logger","./utils","./tracking/Flags"],function(e,B,z,r,k){function t(a){f.onObservableAccessed(a)}function u(a,b,c){if(l)return m(a,b,c);f=a;g.push(a);a=b.call(c);v();return a}function m(a,b,c){const d=l;l=!0;f=a;g.push(a);a=null;try{a=b.call(c)}catch(h){n&&z.getLogger("esri.core.accessorSupport.tracking").error(h)}v();l=d;return a}function v(){var a=g.length;if(1<a){const b=g.pop();f=g[a-2];b.onTrackingEnd()}else 1===a?(a=g.pop(),f=p,a.onTrackingEnd()):f=p}function w(a,
b){if(!(b.flags&k.Flags.DepTrackingInitialized)){var c=n;n=!1;b.flags&k.Flags.AutoTracked?m(b,b.metadata.get,a):x(a,b);n=c}}function x(a,b){b.flags&k.Flags.ExplicitlyTracking||(b.flags|=k.Flags.ExplicitlyTracking,m(b,()=>{var c=b.metadata.dependsOn||A;for(const d of c)if("string"!==typeof d||d.includes(".")){c=r.pathToArray(d);for(let h=0,q=a;h<c.length&&null!=q&&"object"===typeof q;++h)q=y(q,c[h],h!==c.length-1)}else y(a,d,!1)}),b.flags&=~k.Flags.ExplicitlyTracking)}function y(a,b,c){b="?"===b[b.length-
1]?b.slice(0,-1):b;if(null!=a.getItemAt||Array.isArray(a)){var d=parseInt(b,10);if(!isNaN(d))return Array.isArray(a)?a[d]:a.getItemAt(d)}if(d=r.getProperties(a)?.properties.get(b))t(d),w(a,d);return c?a[b]:void 0}const p={onObservableAccessed:()=>{},onTrackingEnd:()=>{}},g=[];let f=p,l=!1,n=!1;const A=[];e.initializeDependencyTracking=w;e.runTracked=u;e.runTrackedNoThrow=m;e.runUntracked=function(a,b){return u(p,a,b)};e.trackAccess=t;e.trackExplicitDependencies=x;Object.defineProperties(e,{__esModule:{value:!0},
[Symbol.toStringTag]:{value:"Module"}})});