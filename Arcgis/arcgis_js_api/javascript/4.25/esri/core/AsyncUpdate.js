// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./Logger ./accessorSupport/tracking ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass ./accessorSupport/tracking/SimpleTrackingTarget".split(" "),function(h,l,m,t,u,v,n,p,w){function x(b,f){const g=()=>{if(!d||a)return f();d.clear();a=!0;const c=v.runTracked(d,f);a=!1;return c};let d=new w.SimpleTrackingTarget(()=>{d&&!a&&b(g)}),a=!1;b(g);return{remove:()=>{d&&(d.destroy(),d=null)}}}const r=
b=>{b=function(f){function g(){var a=f.apply(this,arguments)||this;a._numUpdating=0;a._asyncUpdateState=new Map;return a}l._inheritsLoose(g,f);var d=g.prototype;d.autoUpdateAsync=function(a,c){return x(k=>this._updateAsync(a,k),c)};d._updateAsync=function(){var a=l._asyncToGenerator(function*(c,k){if(!this._startAsyncUpdate(c)){try{const q=yield k();this._set(c,q)}catch(q){u.getLogger(this.declaredClass).warn(`Async update of "${String(c)}" failed. Async update functions should not throw exceptions.`)}this._endAsyncUpdate(c)&&
this._updateAsync(c,k)}});return function(c,k){return a.apply(this,arguments)}}();d._startAsyncUpdate=function(a){const c=this._asyncUpdateState.get(a)??e.None;if(c&e.Updating)return this._asyncUpdateState.set(a,c|e.Invalidated),!0;++this._numUpdating;this._asyncUpdateState.set(a,c|e.Updating);return!1};d._endAsyncUpdate=function(a){--this._numUpdating;const c=(this._asyncUpdateState.get(a)??e.None)&~e.Updating;if(c&e.Invalidated)return this._asyncUpdateState.set(a,c&~e.Invalidated),!0;this._asyncUpdateState.set(a,
c);return!1};l._createClass(g,[{key:"updating",get:function(){return 0<this._numUpdating}}]);return g}(b);m.__decorate([n.property({readOnly:!0})],b.prototype,"updating",null);m.__decorate([n.property()],b.prototype,"_numUpdating",void 0);return b=m.__decorate([p.subclass("esri.core.AsyncUpdate")],b)};var e;(function(b){b[b.None=0]="None";b[b.Updating=1]="Updating";b[b.Invalidated=2]="Invalidated"})(e||(e={}));h.AsyncUpdate=function(b){function f(){return b.apply(this,arguments)||this}l._inheritsLoose(f,
b);return f}(r(t));h.AsyncUpdate=m.__decorate([p.subclass("esri.core.AsyncUpdate")],h.AsyncUpdate);h.AsyncUpdateMixin=r;Object.defineProperties(h,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});