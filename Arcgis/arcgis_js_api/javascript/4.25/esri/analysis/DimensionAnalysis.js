// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Analysis ./DimensionSimpleStyle ./LengthDimension ../core/Collection ../core/collectionUtils ../core/maybe ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../geometry/Extent ../geometry/projection".split(" "),function(m,f,d,p,v,w,q,b,r,g,z,A,x,t,y){const n=w.ofType(v);d=function(u){function h(a){a=u.call(this,a)||this;
a.type="dimension";a.style=new p;a.extent=null;return a}m._inheritsLoose(h,u);var k=h.prototype;k.initialize=function(){this.addHandles(r.watch(()=>this._computeExtent(),a=>{(b.isNone(a)||b.isNone(a.pending))&&this._set("extent",b.isSome(a)?a.extent:null)},r.syncAndInitial))};k.waitComputeExtent=function(){var a=m._asyncToGenerator(function*(){const c=this._computeExtent();return b.isSome(c)?b.unwrap(c.pending):null});return function(){return a.apply(this,arguments)}}();k._computeExtent=function(){var a=
this.spatialReference;if(b.isNone(a))return{pending:null,extent:null};var c=[];for(const e of this.dimensions)b.isSome(e.startPoint)&&c.push(e.startPoint),b.isSome(e.endPoint)&&c.push(e.endPoint);a=y.projectOrLoadMany(c,a);if(b.isSome(a.pending))return{pending:a.pending,extent:null};c=null;b.isSome(a.geometries)&&(c=a.geometries.reduce((e,l)=>b.isNone(e)?b.isSome(l)?t.fromPoint(l):null:b.isSome(l)?e.union(t.fromPoint(l)):e,null));return{pending:null,extent:c}};k.clear=function(){this.dimensions.removeAll()};
m._createClass(h,[{key:"dimensions",get:function(){return this._get("dimensions")||new n},set:function(a){this._set("dimensions",q.referenceSetter(a,this.dimensions,n))}},{key:"spatialReference",get:function(){for(const a of this.dimensions){if(b.isSome(a.startPoint))return a.startPoint.spatialReference;if(b.isSome(a.endPoint))return a.endPoint.spatialReference}return null}},{key:"requiredPropertiesForEditing",get:function(){return this.dimensions.reduce((a,c)=>{a.push(c.startPoint,c.endPoint);return a},
[])}}]);return h}(d);f.__decorate([g.property({type:["dimension"]})],d.prototype,"type",void 0);f.__decorate([g.property({cast:q.castForReferenceSetter,type:n,nonNullable:!0})],d.prototype,"dimensions",null);f.__decorate([g.property({readOnly:!0})],d.prototype,"spatialReference",null);f.__decorate([g.property({types:{key:"type",base:null,typeMap:{simple:p}},nonNullable:!0})],d.prototype,"style",void 0);f.__decorate([g.property({value:null,readOnly:!0})],d.prototype,"extent",void 0);f.__decorate([g.property({readOnly:!0})],
d.prototype,"requiredPropertiesForEditing",null);return d=f.__decorate([x.subclass("esri.analysis.DimensionAnalysis")],d)});