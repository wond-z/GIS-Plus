// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../chunks/mat4 ../../chunks/mat4f64 ../../chunks/quat ../../chunks/quatf64 ../../chunks/vec3 ../../chunks/vec3f64 ../Point ../projection ../projectionEllipsoid ./axisAngleDegrees ./buffer/BufferView ../../chunks/vec32 ../../chunks/vec33".split(" "),
function(v,e,d,D,f,K,L,E,k,m,F,G,r,g,H,w,I,n,x,y,J){var t;d=t=function(z){function p(a){a=z.call(this,a)||this;a.origin=g.create();a.translation=g.create();a.rotation=n.create();a.scale=g.fromValues(1,1,1);a.geographic=!0;return a}v._inheritsLoose(p,z);var h=p.prototype;h.applyLocal=function(a,b){return r.transformMat4(b,a,this.localMatrix)};h.applyLocalInverse=function(a,b){return r.transformMat4(b,a,this.localMatrixInverse)};h.project=function(a,b){const c=new Float64Array(a.length),l=x.BufferViewVec3f64.fromTypedArray(c);
a=x.BufferViewVec3f64.fromTypedArray(a);if(this.geographic){const A=I.getSphericalPCPF(b),q=m.create();w.computeTranslationToOriginAndRotation(b,this.origin,q,A);k.multiply(q,q,this.localMatrix);y.transformMat4(l,a,q);w.projectBuffer(c,A,0,c,b,0,c.length/3);return c}const {localMatrix:B,origin:u}=this;k.equals(B,m.IDENTITY)?J.copy(l,a):y.transformMat4(l,a,B);for(b=0;b<c.length;b+=3)c[b+0]+=u[0],c[b+1]+=u[1],c[b+2]+=u[2];return c};h.getOriginPoint=function(a){const [b,c,l]=this.origin;return new H({x:b,
y:c,z:l,spatialReference:a})};h.equals=function(a){return D.isSome(a)&&this.geographic===a.geographic&&r.exactEquals(this.origin,a.origin)&&k.exactEquals(this.localMatrix,a.localMatrix)};h.clone=function(){const a={origin:g.clone(this.origin),translation:g.clone(this.translation),rotation:n.create(this.rotation),scale:g.clone(this.scale),geographic:this.geographic};return new t(a)};v._createClass(p,[{key:"localMatrix",get:function(){const a=m.create();F.setAxisAngle(C,n.axis(this.rotation),n.angleRad(this.rotation));
k.fromRotationTranslationScale(a,C,this.translation,this.scale);return a}},{key:"localMatrixInverse",get:function(){return k.invert(m.create(),this.localMatrix)}}]);return p}(d.JSONSupport);e.__decorate([f.property({type:[Number],nonNullable:!0,json:{write:!0}})],d.prototype,"origin",void 0);e.__decorate([f.property({type:[Number],nonNullable:!0,json:{write:!0}})],d.prototype,"translation",void 0);e.__decorate([f.property({type:[Number],nonNullable:!0,json:{write:!0}})],d.prototype,"rotation",void 0);
e.__decorate([f.property({type:[Number],nonNullable:!0,json:{write:!0}})],d.prototype,"scale",void 0);e.__decorate([f.property({type:Boolean,nonNullable:!0,json:{write:!0}})],d.prototype,"geographic",void 0);e.__decorate([f.property()],d.prototype,"localMatrix",null);e.__decorate([f.property()],d.prototype,"localMatrixInverse",null);d=t=e.__decorate([E.subclass("esri.geometry.support.MeshTransform")],d);const C=G.create();return d});