// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define("exports ../../../core/Logger ../../../core/maybe ../../../chunks/mat3 ../../../chunks/mat3f64 ../../../chunks/mat4f64 ../../../chunks/vec3 ../../../chunks/vec3f64 ../../projection ../../projectionEllipsoid ./geographicUtils ./projection".split(" "),function(p,x,d,y,z,A,q,r,B,C,D,f){function t(a,k){if(a)for(let b=0;b<a.length;b+=3)for(let c=0;3>c;c++)a[b+c]+=k[c]}const u=r.create(),v=A.create(),w=z.create();p.offset=function(a,k,b){if(a.vertexAttributes&&a.vertexAttributes.position)if(d.isSome(a.transform))null!=
b?.geographic&&b.geographic!==a.transform.geographic&&x.getLogger("esri.geometry.support.meshUtils.offset").warn(`Specifying the 'geographic' parameter (${b.geographic}) different from the Mesh transform setting (${a.transform.geographic}) is not supported`),a=a.transform,b=a.origin,a.origin=q.add(r.create(),b,k);else{if(D.isGeographicMesh(a.spatialReference,b)){b=a.spatialReference;const c=a.vertexAttributes.position,g=a.vertexAttributes.normal,h=a.vertexAttributes.tangent,e=new Float64Array(c.length),
l=d.isSome(g)?new Float32Array(g.length):null,m=d.isSome(h)?new Float32Array(h.length):null,n=a.extent.center;B.computeTranslationToOriginAndRotation(b,[n.x,n.y,n.z],v,C.getSphericalPCPF(b));y.fromMat4(w,v);q.transformMat3(u,k,w);f.projectToPCPF(c,b,e);d.isSome(g)&&d.isSome(l)&&f.projectNormalToPCPF(g,c,e,b,l);d.isSome(h)&&d.isSome(m)&&f.projectTangentToPCPF(h,c,e,b,m);t(e,u);f.projectFromPCPF(e,c,b);d.isSome(g)&&d.isSome(l)&&f.projectNormalFromPCPF(l,c,e,b,g);d.isSome(h)&&d.isSome(m)&&f.projectTangentFromPCPF(m,
c,e,b,h)}else t(a.vertexAttributes.position,k);a.vertexAttributesChanged()}};Object.defineProperties(p,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});