// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/handleUtils ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../widgets/Widget ../widgets/support/widget ../widgets/support/jsxFactory ../widgets/support/decorators/messageBundle".split(" "),function(W,D,na,oa,F,S,X,pa,x,qa,A,ra){function Y(q,c){var b=Object.keys(q);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(q);
c&&(a=a.filter(function(f){return Object.getOwnPropertyDescriptor(q,f).enumerable}));b.push.apply(b,a)}return b}function Z(q){for(var c=1;c<arguments.length;c++){var b=null!=arguments[c]?arguments[c]:{};c%2?Y(Object(b),!0).forEach(function(a){var f=b[a];a in q?Object.defineProperty(q,a,{value:f,enumerable:!0,configurable:!0,writable:!0}):q[a]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(b)):Y(Object(b)).forEach(function(a){Object.defineProperty(q,
a,Object.getOwnPropertyDescriptor(b,a))})}return q}S='input select textarea a[href] button [tabindex]:not(slot) audio[controls] video[controls] [contenteditable]:not([contenteditable\x3d"false"]) details\x3esummary:first-of-type details'.split(" ");var L=S.join(","),C=(X="undefined"===typeof Element)?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,M=!X&&Element.prototype.getRootNode?function(q){return q.getRootNode()}:function(q){return q.ownerDocument},
aa=function(q,c,b){var a=Array.prototype.slice.apply(q.querySelectorAll(L));c&&C.call(q,L)&&a.unshift(q);return a=a.filter(b)},ba=function f(c,b,a){for(var e=[],k=Array.from(c);k.length;){var h=k.shift();if("SLOT"===h.tagName){var l=h.assignedElements();l=f(l.length?l:h.children,!0,a);a.flatten?e.push.apply(e,l):e.push({scope:h,candidates:l})}else{C.call(h,L)&&a.filter(h)&&(b||!c.includes(h))&&e.push(h);l=h.shadowRoot||"function"===typeof a.getShadowRoot&&a.getShadowRoot(h);var u=!a.shadowRootFilter||
a.shadowRootFilter(h);l&&u?(l=f(!0===l?h.children:l.children,!0,a),a.flatten?e.push.apply(e,l):e.push({scope:h,candidates:l})):k.unshift.apply(k,h.children)}}return e},ca=function(c,b){return 0>c.tabIndex&&(b||/^(AUDIO|VIDEO|DETAILS)$/.test(c.tagName)||c.isContentEditable)&&isNaN(parseInt(c.getAttribute("tabindex"),10))?0:c.tabIndex},sa=function(c,b){return c.tabIndex===b.tabIndex?c.documentOrder-b.documentOrder:c.tabIndex-b.tabIndex},ta=function(c){return"DETAILS"===c.tagName&&Array.prototype.slice.apply(c.children).some(function(b){return"SUMMARY"===
b.tagName})},ua=function(c,b){for(var a=0;a<c.length;a++)if(c[a].checked&&c[a].form===b)return c[a]},va=function(c){if(!c.name)return!0;var b=c.form||M(c),a=function(e){return b.querySelectorAll('input[type\x3d"radio"][name\x3d"'+e+'"]')};if("undefined"!==typeof window&&"undefined"!==typeof window.CSS&&"function"===typeof window.CSS.escape)var f=a(window.CSS.escape(c.name));else try{f=a(c.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",
e.message),!1}a=ua(f,c.form);return!a||a===c},da=function(c){c=c.getBoundingClientRect();var b=c.height;return 0===c.width&&0===b},wa=function(c,b){var a=b.displayCheck;b=b.getShadowRoot;if("hidden"===getComputedStyle(c).visibility)return!0;var f=C.call(c,"details\x3esummary:first-of-type")?c.parentElement:c;if(C.call(f,"details:not([open]) *"))return!0;if(!a||"full"===a||"legacy-full"===a){if("function"===typeof b){for(f=c;c;){var e=c.parentElement,k=M(c);if(e&&!e.shadowRoot&&!0===b(e))return da(c);
c=c.assignedSlot?c.assignedSlot:e||k===c.ownerDocument?e:k.host}c=f}b=c;var h;f=M(b).host;for(e=!!(null!==(h=f)&&void 0!==h&&h.ownerDocument.contains(f)||b.ownerDocument.contains(b));!e&&f;){var l;f=M(f).host;e=!(null===(l=f)||void 0===l||!l.ownerDocument.contains(f))}if(e)return!c.getClientRects().length;if("legacy-full"!==a)return!0}else if("non-zero-area"===a)return da(c);return!1},N=function(c,b){var a;(a=b.disabled)||(a="INPUT"===b.tagName&&"hidden"===b.type);if(!(c=a||wa(b,c)||ta(b)))a:{if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(b.tagName))for(c=
b.parentElement;c;){if("FIELDSET"===c.tagName&&c.disabled){for(a=0;a<c.children.length;a++){var f=c.children.item(a);if("LEGEND"===f.tagName){c=C.call(c,"fieldset[disabled] *")?!0:!f.contains(b);break a}}c=!0;break a}c=c.parentElement}c=!1}return c?!1:!0},T=function(c,b){return"INPUT"===b.tagName&&"radio"===b.type&&!va(b)||0>ca(b)||!N(c,b)?!1:!0},xa=function(c){c=parseInt(c.getAttribute("tabindex"),10);return isNaN(c)||0<=c?!0:!1},ya=function a(b){var f=[],e=[];b.forEach(function(k,h){var l=!!k.scope,
u=l?k.scope:k,v=ca(u,l),t=l?a(k.candidates):u;0===v?l?f.push.apply(f,t):f.push(u):e.push({documentOrder:h,tabIndex:v,item:k,isScope:l,content:t})});return e.sort(sa).reduce(function(k,h){h.isScope?k.push.apply(k,h.content):k.push(h.content);return k},[]).concat(f)},za=function(b,a){a=a||{};b=a.getShadowRoot?ba([b],a.includeContainer,{filter:T.bind(null,a),flatten:!1,getShadowRoot:a.getShadowRoot,shadowRootFilter:xa}):aa(b,a.includeContainer,T.bind(null,a));return ya(b)},Aa=function(b,a){a=a||{};return a.getShadowRoot?
ba([b],a.includeContainer,{filter:N.bind(null,a),flatten:!0,getShadowRoot:a.getShadowRoot}):aa(b,a.includeContainer,N.bind(null,a))},O=function(b,a){a=a||{};if(!b)throw Error("No node provided");return!1===C.call(b,L)?!1:T(a,b)},Ba=S.concat("iframe").join(","),U=function(b,a){a=a||{};if(!b)throw Error("No node provided");return!1===C.call(b,Ba)?!1:N(a,b)},ea=function(){var b=[];return{activateTrap:function(a){if(0<b.length){var f=b[b.length-1];f!==a&&f.pause()}f=b.indexOf(a);-1!==f&&b.splice(f,1);
b.push(a)},deactivateTrap:function(a){a=b.indexOf(a);-1!==a&&b.splice(a,1);0<b.length&&b[b.length-1].unpause()}}}(),fa=function(b,a){var f=-1;b.every(function(e,k){return a(e)?(f=k,!1):!0});return f},G=function(b){for(var a=arguments.length,f=Array(1<a?a-1:0),e=1;e<a;e++)f[e-1]=arguments[e];return"function"===typeof b?b.apply(void 0,f):b},P=function(b){return b.target.shadowRoot&&"function"===typeof b.composedPath?b.composedPath()[0]:b.target},Da=function(b,a){var f=(null===a||void 0===a?void 0:a.document)||
document,e=Z({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},a),k=[],h=[],l=[],u=null,v=null,t=!1,y=!1,E=void 0,z=function(m,d,g){return m&&void 0!==m[d]?m[d]:e[g||d]},H=function(m){return h.findIndex(function(d){var g=d.tabbableNodes;return d.container.contains(m)||g.find(function(n){return n===m})})},I=function(m){var d=e[m];if("function"===typeof d){for(var g=arguments.length,n=Array(1<g?g-1:0),p=1;p<g;p++)n[p-1]=arguments[p];d=d.apply(void 0,n)}!0===d&&(d=void 0);if(!d){if(void 0===
d||!1===d)return d;throw Error("`".concat(m,"` was specified but was not a node, or did not return a node"));}g=d;if("string"===typeof d&&(g=f.querySelector(d),!g))throw Error("`".concat(m,"` as selector refers to no known node"));return g},Q=function(){var m=I("initialFocus");if(!1===m)return!1;void 0===m&&(m=0<=H(f.activeElement)?f.activeElement:(m=l[0])&&m.firstTabbableNode||I("fallbackFocus"));if(!m)throw Error("Your focus-trap needs to have at least one focusable element");return m},J=function(){h=
k.map(function(m){var d=za(m,e.tabbableOptions),g=Aa(m,e.tabbableOptions);return{container:m,tabbableNodes:d,focusableNodes:g,firstTabbableNode:0<d.length?d[0]:null,lastTabbableNode:0<d.length?d[d.length-1]:null,nextTabbableNode:function(n){var p=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,w=g.findIndex(function(r){return r===n});if(!(0>w))return p?g.slice(w+1).find(function(r){return O(r,e.tabbableOptions)}):g.slice(0,w).reverse().find(function(r){return O(r,e.tabbableOptions)})}}});
l=h.filter(function(m){return 0<m.tabbableNodes.length});if(0>=l.length&&!I("fallbackFocus"))throw Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");},K=function g(d){!1!==d&&d!==f.activeElement&&(d&&d.focus?(d.focus({preventScroll:!!e.preventScroll}),v=d,d.tagName&&"input"===d.tagName.toLowerCase()&&"function"===typeof d.select&&d.select()):g(Q()))},ha=function(d){var g=I("setReturnFocus",d);return g?g:!1===g?!1:d},R=function(d){var g=P(d);
0<=H(g)||(G(e.clickOutsideDeactivates,d)?B.deactivate({returnFocus:e.returnFocusOnDeactivate&&!U(g,e.tabbableOptions)}):G(e.allowOutsideClick,d)||d.preventDefault())},ia=function(d){var g=P(d),n=0<=H(g);n||g instanceof Document?n&&(v=g):(d.stopImmediatePropagation(),K(v||Q()))},Ca=function(d){var g=P(d);J();var n=null;if(0<l.length){var p=H(g),w=0<=p?h[p]:void 0;if(0>p)n=d.shiftKey?l[l.length-1].lastTabbableNode:l[0].firstTabbableNode;else if(d.shiftKey){var r=fa(l,function(V){return g===V.firstTabbableNode});
0>r&&(w.container===g||U(g,e.tabbableOptions)&&!O(g,e.tabbableOptions)&&!w.nextTabbableNode(g,!1))&&(r=p);0<=r&&(n=l[0===r?l.length-1:r-1].lastTabbableNode)}else r=fa(l,function(V){return g===V.lastTabbableNode}),0>r&&(w.container===g||U(g,e.tabbableOptions)&&!O(g,e.tabbableOptions)&&!w.nextTabbableNode(g))&&(r=p),0<=r&&(n=l[r===l.length-1?0:r+1].firstTabbableNode)}else n=I("fallbackFocus");n&&(d.preventDefault(),K(n))},ja=function(d){"Escape"!==d.key&&"Esc"!==d.key&&27!==d.keyCode||!1===G(e.escapeDeactivates,
d)?"Tab"!==d.key&&9!==d.keyCode||Ca(d):(d.preventDefault(),B.deactivate())},ka=function(d){var g=P(d);0<=H(g)||G(e.clickOutsideDeactivates,d)||G(e.allowOutsideClick,d)||(d.preventDefault(),d.stopImmediatePropagation())},la=function(){if(t)return ea.activateTrap(B),E=e.delayInitialFocus?setTimeout(function(){K(Q())},0):K(Q()),f.addEventListener("focusin",ia,!0),f.addEventListener("mousedown",R,{capture:!0,passive:!1}),f.addEventListener("touchstart",R,{capture:!0,passive:!1}),f.addEventListener("click",
ka,{capture:!0,passive:!1}),f.addEventListener("keydown",ja,{capture:!0,passive:!1}),B},ma=function(){if(t)return f.removeEventListener("focusin",ia,!0),f.removeEventListener("mousedown",R,!0),f.removeEventListener("touchstart",R,!0),f.removeEventListener("click",ka,!0),f.removeEventListener("keydown",ja,!0),B};var B={get active(){return t},get paused(){return y},activate:function(d){if(t)return this;var g=z(d,"onActivate"),n=z(d,"onPostActivate"),p=z(d,"checkCanFocusTrap");p||J();t=!0;y=!1;u=f.activeElement;
g&&g();d=function(){p&&J();la();n&&n()};if(p)return p(k.concat()).then(d,d),this;d();return this},deactivate:function(d){if(!t)return this;var g=Z({onDeactivate:e.onDeactivate,onPostDeactivate:e.onPostDeactivate,checkCanReturnFocus:e.checkCanReturnFocus},d);clearTimeout(E);E=void 0;ma();y=t=!1;ea.deactivateTrap(B);var n=z(g,"onDeactivate"),p=z(g,"onPostDeactivate");d=z(g,"checkCanReturnFocus");var w=z(g,"returnFocus","returnFocusOnDeactivate");n&&n();g=function(){setTimeout(function(){w&&K(ha(u));
p&&p()},0)};if(w&&d)return d(ha(u)).then(g,g),this;g();return this},pause:function(){if(y||!t)return this;y=!0;ma();return this},unpause:function(){if(!y||!t)return this;y=!1;J();la();return this},updateContainerElements:function(d){k=[].concat(d).filter(Boolean).map(function(g){return"string"===typeof g?f.querySelector(g):g});t&&J();return this}};B.updateContainerElements(b);return B};x=function(b){function a(e,k){var h=b.call(this,e,k)||this;h.container=document.createElement("div");h.content=null;
h.open=!1;h._focusTrap=null;h._close=()=>{h.open=!1};document.body.appendChild(h.container);h.addHandles(oa.watch(()=>h.open,()=>h._toggleFocusTrap()));return h}W._inheritsLoose(a,b);var f=a.prototype;f.destroy=function(){this._destroyFocusTrap()};f.render=function(){var e=this.id;const {open:k,content:h,title:l,messages:u}=this;var v=k&&!!h;const t={["esri-identity-modal--open"]:v,["esri-identity-modal--closed"]:!v},y=A.tsx("button",{class:"esri-identity-modal__close-button","aria-label":u.close,
title:u.close,bind:this,onclick:this._close,type:"button"},A.tsx("span",{"aria-hidden":"true",class:"esri-icon-close"})),E=`${e}_title`;e=`${e}_content`;const z=l?A.tsx("h1",{id:E,class:"esri-identity-modal__title"},l):null;v=v?A.tsx("div",{bind:this,class:"esri-identity-modal__dialog",role:"dialog","aria-labelledby":E,"aria-describedby":e,afterCreate:this._createFocusTrap},y,z,this._renderContent(e)):null;return A.tsx("div",{tabIndex:-1,class:this.classes("esri-identity-modal",t)},v)};f._destroyFocusTrap=
function(){this._focusTrap?.deactivate({onDeactivate:()=>{}});this._focusTrap=null};f._toggleFocusTrap=function(){const {_focusTrap:e,open:k}=this;e&&(k?e.activate():e.deactivate())};f._createFocusTrap=function(e){this._destroyFocusTrap();const k=requestAnimationFrame(()=>{this._focusTrap=Da(e,{initialFocus:"input",onDeactivate:this._close});this._toggleFocusTrap()});this.addHandles(na.makeHandle(()=>cancelAnimationFrame(k)))};f._renderContent=function(e){const k=this.content;return"string"===typeof k?
A.tsx("div",{class:"esri-identity-modal__content",id:e,innerHTML:k}):qa.isWidget(k)?A.tsx("div",{class:"esri-identity-modal__content",id:e},k.render()):k instanceof HTMLElement?A.tsx("div",{class:"esri-identity-modal__content",id:e,bind:k,afterCreate:this._attachToNode}):null};f._attachToNode=function(e){e.appendChild(this)};W._createClass(a,[{key:"title",get:function(){return this.messages?.auth.signIn}}]);return a}(x);D.__decorate([F.property({readOnly:!0})],x.prototype,"container",void 0);D.__decorate([F.property()],
x.prototype,"content",void 0);D.__decorate([F.property()],x.prototype,"open",void 0);D.__decorate([F.property(),ra.messageBundle("esri/t9n/common")],x.prototype,"messages",void 0);D.__decorate([F.property()],x.prototype,"title",null);return x=D.__decorate([pa.subclass("esri.identity.IdentityModal")],x)});