// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/AttributeColorInfo ./support/DotDensityLegendOptions ../symbols/SimpleFillSymbol ../symbols/SimpleLineSymbol".split(" "),function(l,c,p,d,e,b,t,u,v,w,x,y,z,A,q){var m;
b=m=function(r){function n(a){a=r.call(this,a)||this;a.attributes=null;a.backgroundColor=new p([0,0,0,0]);a.dotBlendingEnabled=!0;a.dotShape="square";a.dotSize=1;a.legendOptions=null;a.outline=new q;a.dotValue=null;a.referenceScale=null;a.seed=1;a.type="dot-density";return a}l._inheritsLoose(n,r);var f=n.prototype;f.calculateDotValue=function(a){if(null==this.referenceScale)return this.dotValue;a=a/this.referenceScale*this.dotValue;return 1>a?1:a};f.getSymbol=function(){return new A({outline:this.outline})};
f.getSymbolAsync=function(){var a=l._asyncToGenerator(function*(){return this.getSymbol()});return function(){return a.apply(this,arguments)}}();f.getSymbols=function(){return[this.getSymbol()]};f.getAttributeHash=function(){return this.attributes?.reduce((a,g)=>a+g.getAttributeHash(),"")??""};f.getMeshHash=function(){return JSON.stringify(this.outline)};f.clone=function(){return new m({attributes:d.clone(this.attributes),backgroundColor:d.clone(this.backgroundColor),dotBlendingEnabled:d.clone(this.dotBlendingEnabled),
dotShape:d.clone(this.dotShape),dotSize:d.clone(this.dotSize),dotValue:d.clone(this.dotValue),legendOptions:d.clone(this.legendOptions),outline:d.clone(this.outline),referenceScale:d.clone(this.referenceScale),visualVariables:d.clone(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})};f.getControllerHash=function(){const a=this.attributes?.map(h=>h.field||h.valueExpression||""),g=this.outline&&JSON.stringify(this.outline.toJSON())||"";return`${a}-${g}`};f.collectRequiredFields=
function(){var a=l._asyncToGenerator(function*(g,h){yield this.collectVVRequiredFields(g,h);for(const k of this.attributes??[])k.valueExpression&&(yield v.collectArcadeFieldNames(g,h,k.valueExpression)),k.field&&g.add(k.field)});return function(g,h){return a.apply(this,arguments)}}();return n}(x.VisualVariablesMixin(w));c.__decorate([e.property({type:[y],json:{write:!0}})],b.prototype,"attributes",void 0);c.__decorate([e.property({type:p,json:{write:!0}})],b.prototype,"backgroundColor",void 0);c.__decorate([e.property({type:Boolean,
json:{write:!0}})],b.prototype,"dotBlendingEnabled",void 0);c.__decorate([e.property({type:String,json:{write:!1}})],b.prototype,"dotShape",void 0);c.__decorate([e.property({type:Number,json:{write:!0}})],b.prototype,"dotSize",void 0);c.__decorate([e.property({type:z,json:{write:!0}})],b.prototype,"legendOptions",void 0);c.__decorate([e.property({type:q,json:{default:null,write:!0}})],b.prototype,"outline",void 0);c.__decorate([e.property({type:Number,json:{write:!0}})],b.prototype,"dotValue",void 0);
c.__decorate([e.property({type:Number,json:{write:!0}})],b.prototype,"referenceScale",void 0);c.__decorate([e.property({type:Number,json:{write:!0}})],b.prototype,"seed",void 0);c.__decorate([t.enumeration({dotDensity:"dot-density"})],b.prototype,"type",void 0);return b=m=c.__decorate([u.subclass("esri.renderers.DotDensityRenderer")],b)});