// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.25/esri/copyright.txt for details.
//>>built
define(["exports","./enums"],function(u,w){let z=function(){function t(){this._path=[]}var m=t.prototype;m.path=function(){return this._path};m.addPath=function(a,b){b||a.reverse();Array.prototype.push.apply(this._path,a);b||a.reverse()};t.mergePath=function(a,b){b&&Array.prototype.push.apply(a,b)};m.startPath=function(a){this._path.push(a)};m.lineTo=function(a){this._path.push(a)};m.close=function(){const a=this._path;1<a.length&&(a[0][0]!==a[a.length-1][0]||a[0][1]!==a[a.length-1][1])&&a.push([a[0][0],
a[0][1]])};return t}(),A=function(){function t(a,b){}var m=t.prototype;m.normalize=function(a){const b=Math.sqrt(a[0]*a[0]+a[1]*a[1]);0!==b&&(a[0]/=b,a[1]/=b)};m.calculateLength=function(a,b){const d=b[0]-a[0];a=b[1]-a[1];return Math.sqrt(d*d+a*a)};m.calculateSegLength=function(a,b){return this.calculateLength(a[b],a[b+1])};m.calculatePathLength=function(a){let b=0;const d=a?a.length:0;for(let f=0;f<d-1;++f)b+=this.calculateSegLength(a,f);return b};m.calculatePathArea=function(a){let b=0;const d=
a?a.length:0;for(let f=0;f<d-1;++f)b+=(a[f+1][0]-a[f][0])*(a[f+1][1]+a[f][1]);return b/2};m.getCoord2D=function(a,b,d){return[a[0]+(b[0]-a[0])*d,a[1]+(b[1]-a[1])*d]};m.getSegCoord2D=function(a,b,d){return this.getCoord2D(a[b],a[b+1],d)};m.getAngle=function(a,b,d){return Math.atan2(b[1]-a[1],b[0]-a[0])};m.getSegAngle=function(a,b,d){return this.getAngle(a[b],a[b+1],d)};m.getAngleCS=function(a,b,d){d=b[0]-a[0];a=b[1]-a[1];b=Math.sqrt(d*d+a*a);return 0<b?[d/b,a/b]:[1,0]};m.getSegAngleCS=function(a,b,
d){return this.getAngleCS(a[b],a[b+1],d)};m.cut=function(a,b,d,f){d=0>=d?a[b]:this.getSegCoord2D(a,b,d);a=1<=f?a[b+1]:this.getSegCoord2D(a,b,f);return[d,a]};m.addSegment=function(a,b,d){d&&a.push(b[0]);a.push(b[1])};m.getSubCurve=function(a,b,d){const f=[];return this.appendSubCurve(f,a,b,d)?f:null};m.appendSubCurve=function(a,b,d,f){const n=b?b.length-1:0;let k=0,l=!0,h=0;for(;h<n;){const c=this.calculateSegLength(b,h);if(0!==c){if(l){if(k+c>d){var e=(d-k)/c;let g=1,p=!1;k+c>=f&&(g=(f-k)/c,p=!0);
(e=this.cut(b,h,e,g))&&this.addSegment(a,e,l);if(p)break;l=!1}}else{if(k+c>f){(b=this.cut(b,h,0,(f-k)/c))&&this.addSegment(a,b,l);break}this.addSegment(a,[b[h],b[h+1]],l)}k+=c}++h}return!0};m.getCIMPointAlong=function(a,b){const d=a?a.length-1:0;let f=0,n=-1;for(;n<d;){++n;const k=this.calculateSegLength(a,n);if(0!==k){if(f+k>b)return this.getCoord2D(a[n],a[n+1],(b-f)/k);f+=k}}return null};m.isEmpty=function(a,b){if(!a||1>=a.length)return!0;const d=a?a.length-1:0;let f=-1;for(;f<d;)if(++f,a[f+1][0]!==
a[f][0]||a[f+1][1]!==a[f][1]||b&&a[f+1][2]!==a[f][2])return!1;return!0};m.offset=function(a,b,d,f,n){if(!a||2>a.length)return null;var k=0,l=a[k++];for(n=k;k<a.length;){var h=a[k];if(h[0]!==l[0]||h[1]!==l[1])k!==n&&(a[n]=a[k]),l=a[n++];k++}(k=a[0][0]===a[n-1][0]&&a[0][1]===a[n-1][1])&&--n;if(n<(k?3:2))return null;h=[];l=k?a[n-1]:null;let e=a[0];for(let v=0;v<n;v++){const r=v===n-1?k?a[0]:null:a[v+1];if(l)if(r){var c=[r[0]-e[0],r[1]-e[1]];this.normalize(c);var g=[e[0]-l[0],e[1]-l[1]];this.normalize(g);
var p=g[0]*c[1]-g[1]*c[0],q=g[0]*c[0]+g[1]*c[1];if(0===p&&1===q){e=r;continue}if(0<=p===0>=b)1>q&&(c=[c[0]-g[0],c[1]-g[1]],this.normalize(c),g=Math.sqrt((1+q)/2),g>1/f&&(g=-Math.abs(b)/g,h.push([e[0]-c[0]*g,e[1]-c[1]*g])));else switch(d){case w.GeometricEffectOffsetMethod.Mitered:if(l=Math.sqrt((1+q)/2),0<l&&1/l<f){c=[c[0]-g[0],c[1]-g[1]];this.normalize(c);g=Math.abs(b)/l;h.push([e[0]-c[0]*g,e[1]-c[1]*g]);break}case w.GeometricEffectOffsetMethod.Bevelled:h.push([e[0]+g[1]*b,e[1]-g[0]*b]);h.push([e[0]+
c[1]*b,e[1]-c[0]*b]);break;case w.GeometricEffectOffsetMethod.Rounded:if(1>q){h.push([e[0]+g[1]*b,e[1]-g[0]*b]);l=Math.floor(2.5*(1-q));if(0<l){p=q=1/l;for(let y=1;y<l;y++,p+=q){const x=[g[1]*(1-p)+c[1]*p,-g[0]*(1-p)-c[0]*p];this.normalize(x);h.push([e[0]+x[0]*b,e[1]+x[1]*b])}}h.push([e[0]+c[1]*b,e[1]-c[0]*b])}break;default:0>p?(h.push([e[0]+(g[1]+g[0])*b,e[1]+(g[1]-g[0])*b]),h.push([e[0]+(c[1]-c[0])*b,e[1]-(c[0]+c[1])*b])):(l=Math.sqrt((1+Math.abs(q))/2),c=[c[0]-g[0],c[1]-g[1]],this.normalize(c),
g=b/l,h.push([e[0]-c[0]*g,e[1]-c[1]*g]))}}else c=[e[0]-l[0],e[1]-l[1]],this.normalize(c),h.push([e[0]+c[1]*b,e[1]-c[0]*b]);else c=[r[0]-e[0],r[1]-e[1]],this.normalize(c),h.push([e[0]+c[1]*b,e[1]-c[0]*b]);l=e;e=r}if(h.length<(k?3:2))return null;k&&h.push([h[0][0],h[0][1]]);return h};return t}();u.CurveHelper=A;u.PIXEL_TOLERANCE=.03;u.PathHelper=z;Object.defineProperties(u,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});